public void testRelaxOwnershipChecks() throws IOException {
    ByteArrayOutputStream out = new ByteArrayOutputStream();
    IOContext context = new IOContext(out);
    ByteBuffer buffer = ByteBuffer.allocate(1024);

    // Simulate returning a different buffer with the same size
    ByteBuffer newBuffer = ByteBuffer.allocate(1024);
    context.setBuffer(newBuffer);

    // Perform operations that rely on buffer ownership
    byte[] data = "test".getBytes();
    newBuffer.put(data);

    // Verify that the data was written to the correct buffer
    out.flush();
    byte[] result = out.toByteArray();
    assertTrue(Arrays.equals(data, Arrays.copyOfRange(result, 0, data.length)));
}