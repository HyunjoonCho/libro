public void testUnderlyingInputStreamReturnedZeroBytes() throws IOException {
    InputStream inputStream = mock(InputStream.class);
    when(inputStream.read(any(byte[].class))).thenReturn(-1);

    try {
        new CharacterReader(inputStream);
        fail("Expected IOException");
    } catch (IOException e) {
        // Expected exception
    }
}