public void testArrayIndexOutOfBoundsException() throws IOException {
    byte[] input = new byte[10920];
    Arrays.fill(input, (byte) 0xFF);
    InputStream inputStream = new ByteArrayInputStream(input);

    Base64InputStream base64InputStream = new Base64InputStream(inputStream, true, 0, null);

    int count = 0;
    while (base64InputStream.read()!= -1) {
        count++;
    }

    assertEquals(10920, count);
}