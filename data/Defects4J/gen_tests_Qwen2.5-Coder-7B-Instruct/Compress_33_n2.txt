public void testCompressorStreamFactoryWithZlibHeader() throws Exception {
    InputStream inputStream = getClass().getResourceAsStream("/bla.tar.deflatez");
    try {
        CompressorStreamFactory factory = new CompressorStreamFactory();
        factory.createCompressorInputStream(inputStream);
        fail("Expected CompressorException to be thrown");
    } catch (CompressorException e) {
        assertTrue(e.getMessage().contains("No Compressor found for the stream signature."));
    }
}