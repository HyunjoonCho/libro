public void testBOBYQAOptimizer() throws Exception {
    int dim = 5;
    double[] startPoint = new double[dim];
    for (int i = 0; i < dim; i++) {
        startPoint[i] = 0.0;
    }
    double[][] boundaries = new double[2][dim];
    for (int i = 0; i < dim; i++) {
        boundaries[0][i] = -1.0;
        boundaries[1][i] = 1.0;
    }

    BOBYQAOptimizer optimizer = new BOBYQAOptimizer(2 * dim + 2);

    // Create a simple objective function
    UnivariateRealFunction func = x -> Math.pow(x - 0.5, 2);

    // Perform optimization
    PointValuePair result = optimizer.optimize(
        10000,
        new ObjectiveFunction(func),
        GoalType.MINIMIZE,
        new InitialGuess(startPoint),
        new SimpleBounds(boundaries[0], boundaries[1])
    );

    // Check the result
    assertEquals(0.5, result.getPoint()[0], 1e-6);
}