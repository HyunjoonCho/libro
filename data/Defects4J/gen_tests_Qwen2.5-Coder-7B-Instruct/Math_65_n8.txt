public void testAbstractLeastSquares() {
    double[] observations = {1.0, 2.0, 3.0};
    double[] residuals = {0.5, 0.5, 0.5};
    double[] weights = {2.0, 2.0, 2.0};

    AbstractLeastSquares leastSquares = new AbstractLeastSquares(observations, residuals, weights) {
        @Override
        protected double[] calculateResiduals(double[] parameters) {
            return residuals;
        }

        @Override
        protected double[][] calculateJacobian(double[] parameters) {
            return null;
        }
    };

    double rms = leastSquares.getRMS();
    double expectedRms = Math.sqrt((residuals[0] * residuals[0] + residuals[1] * residuals[1] + residuals[2] * residuals[2]) / 6.0);

    assertEquals(expectedRms, rms, 0.0001);
}