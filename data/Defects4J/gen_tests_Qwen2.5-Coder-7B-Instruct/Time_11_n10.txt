public void testNPEInDateTimeZoneBuilder() throws Exception {
    final DateTimeZoneBuilder builder = getTestDataTimeZoneBuilder();

    Thread t1 = new Thread(() -> {
        try {
            builder.toDateTimeZone("TestDTZ1", true);
        } catch (Exception e) {
            // Ignore exception
        }
    });

    Thread t2 = new Thread(() -> {
        try {
            builder.toDateTimeZone("TestDTZ2", true);
        } catch (NullPointerException e) {
            throw e; // Rethrow exception to verify it is thrown
        }
    });

    t1.start();
    t2.start();

    t1.join();
    t2.join();
}

private DateTimeZoneBuilder getTestDataTimeZoneBuilder() {
    return new DateTimeZoneBuilder()
       .addCutover(1601, 'w', 1, 1, 1, false, 7200000)
       .setStandardOffset(3600000)
       .addRecurringSavings("", 3600000, 1601, Integer.MAX_VALUE, 'w', 3, -1, 1, false