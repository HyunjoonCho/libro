public void testReproduceableCrashWithSwitchStatement() {
  // Arrange
  String jsCode = 
    "function a(b) {\n" +
    "  switch (b.v) {\n" +
    "  case 'SWITCH':\n" +
    "  if (b.i >= 0) {\n" +
    "    return b.o;\n" +
    "  } else {\n" +
    "    return undefined;\n" +
    "  }\n" + // Remove the break; statement to reproduce the crash
    "  }\n" +
    "}";
  
  // Act & Assert
  // This should throw a RuntimeException
  try {
    Compiler.compile(jsCode);
    fail("Expected RuntimeException to be thrown");
  } catch (RuntimeException e) {
    assertTrue(e.getMessage().contains("INTERNAL COMPILER ERROR"));
  }
}