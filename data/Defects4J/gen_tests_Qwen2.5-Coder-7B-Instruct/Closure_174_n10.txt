public void testCompilerCrashOnGoogScopeLocals() {
    // This test will intentionally cause a syntax error to simulate the issue
    String code = "goog.provide(\"main\");" +
                  "goog.scope(function (){" +
                  "  var a = foo, b, c = 1;" +
                  "});";
    
    try {
        new JavaScriptCompiler().compile(code);
        fail("Expected compilation to fail due to syntax error");
    } catch (JavaScriptException e) {
        assertTrue(e.getMessage().contains("Unexpected token"));
    }
}