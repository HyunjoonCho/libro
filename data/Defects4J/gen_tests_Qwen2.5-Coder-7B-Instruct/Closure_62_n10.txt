public void testColumnCaretInErrorOutput() throws Exception {
    String input = "alert(1;";
    String expectedOutput = "test.js:1: ERROR - Parse error. missing ) after argument list\n" +
                             "alert(1;\n" +
                             " ^\n";

    Process process = Runtime.getRuntime().exec(new String[]{"java", "-jar", "compiler.jar", "--js", "test.js"});
    process.getOutputStream().write(input.getBytes());
    process.getOutputStream().close();

    BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));
    StringBuilder output = new StringBuilder();
    String line;
    while ((line = reader.readLine())!= null) {
        output.append(line).append("\n");
    }

    assertEquals(expectedOutput, output.toString());
}