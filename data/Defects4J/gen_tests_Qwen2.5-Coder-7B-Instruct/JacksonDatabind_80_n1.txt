public void testExtraneousTypeIdMapping() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    SimpleModule module = new SimpleModule();
    module.addSerializer(MyClass.class, new JsonSerializer<MyClass>() {
        @Override
        public void serialize(MyClass value, JsonGenerator gen, SerializerProvider serializers) throws IOException {
            gen.writeStartObject();
            gen.writeStringField("field", "value");
            gen.writeEndObject();
        }
    });
    mapper.registerModule(module);

    MyClass obj = new MyClass();
    String json = mapper.writeValueAsString(obj);

    // Check if there is an extraneous type id mapping for the base type
    assertTrue(json.contains("\"@class\":\"com.example.MyClass\""));
}

class MyClass { }