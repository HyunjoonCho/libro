public void testArchiveStreamFactoryEncoding() throws IOException {
    String encoding = "UTF-8";
    InputStream input = new ByteArrayInputStream(new byte[0]);
    ArchiveInputStream archiveInput = ArchiveStreamFactory.createArchiveInputStream(ArchiveStreamFactory.ARJ, input, encoding);

    assertNotNull(archiveInput);
    assertTrue(archiveInput instanceof ArjArchiveInputStream);
    assertEquals(encoding, ((ArjArchiveInputStream) archiveInput).getEncoding());

    // Repeat for other archive types
}