public void testGammaDistributionCloning() throws Exception {
    GammaDistribution gamma = new GammaDistribution(5.0, 1.0);
    ByteArrayOutputStream baos = new ByteArrayOutputStream();
    ObjectOutputStream oos = new ObjectOutputStream(baos);
    oos.writeObject(gamma);
    oos.close();

    ByteArrayInputStream bais = new ByteArrayInputStream(baos.toByteArray());
    ObjectInputStream ois = new ObjectInputStream(bais);
    GammaDistribution gammaClone = (GammaDistribution) ois.readObject();
    ois.close();

    double sample1 = gamma.sample();
    double sample2 = gammaClone.sample();
    assertNotEquals(sample1, sample2);
}