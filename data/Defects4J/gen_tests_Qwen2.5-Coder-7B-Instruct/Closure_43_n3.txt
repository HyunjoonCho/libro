public void testJsDocLendsAnnotation() throws Exception {
    String source = 
        "/** @constructor */\n" +
        "function MyClass() {}\n" +
        "\n" +
        "/** @lends MyClass.prototype */\n" +
        "var methods = {\n" +
        "  myMethod: function() {}\n" +
        "};";
    CompilationLevel level = CompilationLevel.ADVANCED_OPTIMIZATIONS;
    Compiler compiler = new Compiler();
    compiler.initOptions();
    compiler.setWarningLevel(DiagnosticGroups.CHECK_TYPES, CheckLevel.ERROR);
    compiler.compile(SourceFile.fromCode("test.js", source),
                    Result.TYPED,
                    null);
    assertTrue(compiler.hasErrors());
}