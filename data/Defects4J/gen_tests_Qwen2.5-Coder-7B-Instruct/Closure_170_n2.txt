public void testOverlyAggressiveCommaRemoval() {
    String input = 
        "function Test(n) {\n" + 
        "  var i = 0;\n" + 
        "  return typeof n!== \"undefined\"? (i = n.length) : (n = \"foo\"), i\n" + 
        "}\n" + 
        "var dummy = \"6chars\";\n" + 
        "console && console.log(Test(dummy));";
    
    String expectedOutput = 
        "function Test(n) {\n" + 
        "  var i = 0;\n" + 
        "  return typeof n!== \"undefined\"? (i = n.length) : (n = \"foo\"), i\n" + 
        "}\n" + 
        "var dummy = \"6chars\";\n" + 
        "console && console.log(\"6\");";
    
    // Assuming you have a method `minifyJavaScript` that performs the minification
    String actualOutput = minifyJavaScript(input);
    
    assertEquals(expectedOutput, actualOutput);
}