public void testInvalidJscDeterministicTest() {
    // Arrange
    String code = "var t = null;\n\nwindow.test = function()\n{\n if (t!= null)\n {\n t = null;\n }\n\n t = 1;\n};";

    // Act & Assert
    try {
        JsCompiler compiler = new JsCompiler();
        compiler.compile(SourceFile.fromCode("test.js", code));
        fail("Expected JSC_DETERMINISTIC_TEST error to be thrown.");
    } catch (CompilationException e) {
        assertTrue(e.getMessage().contains("JSC_DETERMINISTIC_TEST"));
    }
}