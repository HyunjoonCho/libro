public void testAnonymousObjectInference() {
    String reverseJs = 
        "/**\n" +
        " * @param {{prop1: string, prop2: (number|undefined)}} parry\n" +
        " * @constructor\n" +
        " */\n" +
        "function callz(parry) {\n" +
        "  if (parry.prop2 && parry.prop2 < 5) alert('alright!');\n" +
        "  alert(parry.prop1);\n" +
        "}\n" +
        "\n" +
        "new callz({prop1: 'hi'});";

    // This should not throw an error
    compiler.compile(SourceFile.fromCode("reverse.js", reverseJs));
}