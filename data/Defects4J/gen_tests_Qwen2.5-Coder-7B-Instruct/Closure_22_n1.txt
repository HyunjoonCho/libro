public void testNonRightmostExpressions() {
    ExpressionChecker checker = new ExpressionChecker();
    Expression expr1 = new CommaExpression(Arrays.asList(
        new ConstantExpression(1),
        new ConstantExpression(2),
        new ConstantExpression(42)
    ));
    assertTrue(checker.isProblematic(expr1));

    Expression expr2 = new CommaExpression(Arrays.asList(
        new MethodCallExpression("bar"),
        new ConstantExpression(2),
        new ConstantExpression(42)
    ));
    assertFalse(checker.isProblematic(expr2));

    Expression expr3 = new CommaExpression(Arrays.asList(
        new CommaExpression(Arrays.asList(
            new ConstantExpression(1),
            new ConstantExpression(2),
            new ConstantExpression(3)
        )),
        new CommaExpression(Arrays.asList(
            new ConstantExpression(4),
            new ConstantExpression(5),
            new ConstantExpression(42)
        ))
    ));
    assertTrue(checker.isProblematic(expr3));
}