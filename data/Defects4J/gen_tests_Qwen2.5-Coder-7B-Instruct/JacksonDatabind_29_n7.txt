public void testHandleNullTypeIdForPolymorphicValues() throws Exception {
    MyObject obj = new MyObject();
    byte[] bytes = SerializationUtils.serialize(obj);

    // Simulate missing type ID
    bytes[0] = 0;

    try {
        SerializationUtils.deserialize(bytes);
        fail("Expected ObjectStreamException");
    } catch (ObjectStreamException e) {
        // Expected exception
    }
}

private static class MyObject implements Serializable {
    private static final long serialVersionUID = 1L;
}