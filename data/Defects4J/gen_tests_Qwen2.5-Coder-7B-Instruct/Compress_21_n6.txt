public void testSevenZipEmptyEntries() throws IOException {
    File tempDir = Files.createTempDirectory("test").toFile();
    try {
        // Scenario 1: 7 empty files
        createFiles(tempDir, 7, false);
        assertArchiveContents(createArchive(tempDir), new String[] {tempDir.getName()});
        
        // Scenario 2: 7 files, some empty, some with content
        createFiles(tempDir, 4, true);
        createFiles(tempDir, 3, false);
        assertArchiveContents(createArchive(tempDir), new String[] {"file1.txt", "file2.txt", "file3.txt", "file4.txt", tempDir.getName()});
        
        // Scenario 3: 8 empty files
        createFiles(tempDir, 8, false);
        try {
            createArchive(tempDir);
            fail("Expected exception not thrown");
        } catch (Exception e) {
            assertTrue(e.getMessage().contains("stops working"));
        }
        
        // Scenario 4.1: 8 files, some empty, some with content, last file (alphabetically) with content
        createFiles(tempDir, 3, true);
        createFiles(tempDir, 3, false