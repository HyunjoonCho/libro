public void testCannotReturnDeepStubsFromGenericMethod() throws Exception {
    Interface iface = mock(Interface.class, RETURNS_DEEP_STUBS);
    Supplier<String> supplier = mock(Supplier.class);
    when(iface.method(String.class)).thenReturn(supplier);
    when(iface.method(String.class).get()).thenReturn("value");

    String result = iface.method(String.class).get();
    assertEquals("value", result);
}