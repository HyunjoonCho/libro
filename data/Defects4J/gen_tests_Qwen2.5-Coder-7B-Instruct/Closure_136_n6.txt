public void testSuperNotReplaced() throws Exception {
    String js = "var MyClass = function() {};\n" +
                "MyClass.prototype = {\n" +
                "  myMethod: function() {}\n" +
                "};\n" +
                "\n" +
                "var SubClass = function() {};\n" +
                "SubClass.prototype = Object.create(MyClass.prototype);\n" +
                "SubClass.prototype.myMethod = function() {\n" +
                "  $super();\n" +
                "}\n";
    Compiler compiler = new Compiler();
    compiler.compile(new SourceFile("test.js", js));
    String output = compiler.getCode();
    assertFalse(output.contains("$super$$4"));
}