public void testBase64InputStreamReadZeroBytesAtEnd() throws Exception {
    byte[] input = { (byte) 0x89, (byte) 0x50, (byte) 0x4E, (byte) 0x47, (byte) 0x0D, (byte) 0x0A, (byte) 0x1A, (byte) 0x0A };
    InputStream in = new ByteArrayInputStream(input);
    Base64InputStream base64In = new Base64InputStream(in, true);

    int bytesRead = base64In.read();
    while (bytesRead!= -1) {
        bytesRead = base64In.read();
    }

    assertEquals(-1, bytesRead);
}