public void testBadTypeInference() {
    Object obj = null;
    if (obj!= null) {
        String str = (String) obj; // Should throw ClassCastException
    }
}