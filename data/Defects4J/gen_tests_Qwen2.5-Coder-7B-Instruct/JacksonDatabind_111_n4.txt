public void testDeserializeNullWithNestedTypeRefs() throws IOException {
    ObjectMapper mapper = new ObjectMapper();
    String json = "{\"refRef\": null}";
    MyClass obj = mapper.readValue(json, MyClass.class);
    assertNull(obj.refRef.get());
}

private static class MyClass {
    private AtomicReference<AtomicReference<Integer>> refRef;

    public AtomicReference<AtomicReference<Integer>> getRefRef() {
        return refRef;
    }

    public void setRefRef(AtomicReference<AtomicReference<Integer>> refRef) {
        this.refRef = refRef;
    }
}