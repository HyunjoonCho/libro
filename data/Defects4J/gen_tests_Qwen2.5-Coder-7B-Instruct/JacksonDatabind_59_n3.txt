public void testBugReport() throws JsonParseException, JsonMappingException, IOException {
    String input = "{\"mapProperty\":[\"java.util.HashMap\",[{\"Compound|Key\":\"Value\"}]]}";
    ObjectMapper mapper = new ObjectMapper()
       .enableDefaultTyping(DefaultTyping.NON_FINAL);

    TestClass instance = mapper.readValue(input, TestClass.class);
    assertEquals(1, instance.getMapProperty().size());
    assertTrue(instance.getMapProperty().containsKey(new CompoundKey("Compound", "Key")));
    assertEquals("Value", instance.getMapProperty().get(new CompoundKey("Compound", "Key")));

    String output = mapper.writeValueAsString(instance);
    assertEquals(input, output);
}