public void testConstructorTypes() throws Exception {
    String[] lines = {
      "/** @type {function(new:?)} */",
      "var foo = function() {};",
      "",
      "/** @type {function(new:\\*)} */",
      "var bar = function() {};"
    };
    String fileContent = String.join("\n", lines);
    try {
      new CodeGenerator(fileContent).generate();
      fail("Expected exception not thrown");
    } catch (Exception e) {
      assertTrue(e.getMessage().contains("Bad type annotation"));
    }
  }