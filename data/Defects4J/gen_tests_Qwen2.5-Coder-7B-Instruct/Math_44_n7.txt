public void testIncompleteReinitialization() {
    EventProcessor processor = new EventProcessor();
    processor.handleEvent(event1);
    assertFalse(processor.isReinitialized());

    processor.handleEvent(event2);
    assertTrue(processor.isReinitialized());
    assertNotNull(processor.getState());
}