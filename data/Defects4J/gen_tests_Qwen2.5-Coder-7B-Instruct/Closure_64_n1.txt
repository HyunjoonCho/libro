public void testLanguageInECMAScript5Strict() throws Exception {
    String[] jsFiles = {"get_num.js", "alert.js"};
    String[] expectedOutputs = {"'use strict';alert(5);", "'use strict';alert(5);"};

    for (int i = 0; i < jsFiles.length; i++) {
        File inputFile = new File(jsFiles[i]);
        File outputFile = File.createTempFile("output", ".js");

        List<String> args = Arrays.asList(
            "-jar", "compiler.jar",
            "--language_in=ECMASCRIPT5_STRICT",
            "--compilation_level=ADVANCED_OPTIMIZATIONS",
            "--warning_level=VERBOSE",
            "--js", inputFile.getAbsolutePath(),
            "--js_output_file", outputFile.getAbsolutePath()
        );

        Process process = Runtime.getRuntime().exec(args.toArray(new String[0]));
        int exitCode = process.waitFor();

        assertEquals(0, exitCode);

        String actualOutput = FileUtils.readFileToString(outputFile, StandardCharsets.UTF_8);
        assertEquals(expectedOutputs[i], actualOutput);
    }
}