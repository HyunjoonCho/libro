public void testNextTextValueForAttributes() throws Exception {
    String xml = "<root><element attribute=\"value\">text</element></root>";
    XMLInputFactory factory = XMLInputFactory.newInstance();
    XMLStreamReader reader = factory.createXMLStreamReader(new StringReader(xml));
    while (reader.hasNext()) {
        int event = reader.next();
        if (event == XMLStreamConstants.START_ELEMENT) {
            String text = reader.getAttributeValue(null, "attribute");
            assertEquals("value", text);
        }
    }
}