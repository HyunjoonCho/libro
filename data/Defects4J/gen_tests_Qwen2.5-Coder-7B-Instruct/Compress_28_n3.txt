public void testTarArchiveInputStreamSilentFinish() throws IOException {
    InputStream inputStream = mock(InputStream.class);
    BZip2CompressorInputStream bzip2InputStream = mock(BZip2CompressorInputStream.class);
    when(inputStream.read()).thenReturn(-1); // Simulate unexpected EOF

    TarArchiveInputStream tarArchiveInputStream = new TarArchiveInputStream(bzip2InputStream);

    try {
        tarArchiveInputStream.getNextEntry();
        fail("Expected IOException to be thrown");
    } catch (IOException e) {
        // Expected exception
    }
}