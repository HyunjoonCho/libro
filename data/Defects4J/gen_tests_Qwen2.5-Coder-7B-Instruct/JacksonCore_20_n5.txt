public void testWriteEmbeddedObjectByteArray() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    ByteArrayOutputStream out = new ByteArrayOutputStream();
    JsonGenerator gen = mapper.getFactory().createGenerator(out);
    
    byte[] bytes = {1, 2, 3, 4};
    gen.writeEmbeddedObject(bytes);
    gen.close();

    // Check if the byte array is correctly encoded
    byte[] actualBytes = out.toByteArray();
    assertTrue(Arrays.equals(bytes, actualBytes));
}

public void testWriteEmbeddedObjectNull() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    ByteArrayOutputStream out = new ByteArrayOutputStream();
    JsonGenerator gen = mapper.getFactory().createGenerator(out);

    gen.writeEmbeddedObject(null);
    gen.close();

    // Check if null is correctly encoded as a null token
    byte[] actualBytes = out.toByteArray();
    String actualString = new String(actualBytes);
    assertEquals("null", actualString.trim());
}