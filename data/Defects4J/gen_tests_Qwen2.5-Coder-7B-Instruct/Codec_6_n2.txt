public void testBase64InputStreamReadZeroBytesAtEnd() throws Exception {
    byte[] input = { (byte) 0x89, (byte) 0x50, (byte) 0x4E, (byte) 0x47, (byte) 0x0D, (byte) 0x0A, (byte) 0x1A, (byte) 0x0A };
    InputStream base64InputStream = new Base64InputStream(new ByteArrayInputStream(input), false);
    
    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();
    int bytesRead;
    while ((bytesRead = base64InputStream.read())!= -1) {
        byteArrayOutputStream.write(bytesRead);
    }
    
    byte[] decodedOutput = byteArrayOutputStream.toByteArray();
    assertEquals(input.length, decodedOutput.length);
    assertArrayEquals(input, decodedOutput);
}