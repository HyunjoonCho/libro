public void testArgumentCaptorVarargs() {
    Method method = ReflectionTestUtils.getField(MyClass.class, "myMethod", true).getType();
    assertTrue(method.isVarArgs());
    ArgumentCaptor<Object[]> captor = ArgumentCaptor.forClass(Object[].class);
    verify(mockObject).myMethod(captor.capture());
    Object[] args = captor.getValue();
    assertNotNull(args);
    assertEquals(1, args.length);
}