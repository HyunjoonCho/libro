public void testTryFoldArrayAccessDoesNotCheckForSideEffects() {
    String jsCode = "console.log([console.log('hello, '), 'world!'][1]);";
    Compiler compiler = new Compiler();
    SourceFile input = SourceFile.fromCode("test.js", jsCode);
    CompilerOptions options = new CompilerOptions();
    compiler.init(input, null, options);
    compiler.setWarningLevel(DiagnosticGroups.CHECK_FOR_SIDE_EFFECTS, CheckLevel.WARNING);
    compiler.check(); // This should produce a warning about potential side effects being removed
    assertFalse(compiler.hasErrors());
}