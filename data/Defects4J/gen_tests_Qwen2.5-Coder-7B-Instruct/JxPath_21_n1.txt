public void testNullHandling() {
    Map<String, Integer> m = new HashMap<>();
    m.put("a", 1);
    m.put("b", null);
    m.put("c", 1);
    JXPathContext context = JXPathContext.newContext(m);

    assertFalse((Boolean) context.getValue("a!= b"));
    assertTrue((Boolean) context.getValue("a!= c"));
    assertFalse((Boolean) context.getValue("a = b"));
    assertTrue((Boolean) context.getValue("a = c"));
    assertTrue((Boolean) context.getValue("not(a = b)"));
    assertFalse((Boolean) context.getValue("not(a = c)"));
}