public void testSuperNotReplaced() {
    // Arrange
    JavaScriptCompiler compiler = mock(JavaScriptCompiler.class);
    CodingConvention convention = mock(CodingConvention.class);
    when(convention.isExported("$super")).thenReturn(false);
    when(compiler.getCodingConvention()).thenReturn(convention);

    MakeDeclaredNamesUnique transformer = new MakeDeclaredNamesUnique();
    transformer.setCompiler(compiler);

    Node superNode = IR.name("$super");

    // Act
    transformer.makeNameUnique(superNode);

    // Assert
    assertEquals(NodeUtil.getName(superNode), "$super");
}