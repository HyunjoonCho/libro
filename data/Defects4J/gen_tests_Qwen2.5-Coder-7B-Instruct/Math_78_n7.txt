public void testODEIntegrationEventDetection() {
    // Setup your test environment here
    // Create a switching function that meets the criteria described in the bug report
    // Configure the ODE integrator with the appropriate settings

    // Perform the integration over the specified time intervals
    // Verify that both events are correctly detected and handled
    // Assert that the solver did not ignore the last event due to its proximity to the step boundary
}