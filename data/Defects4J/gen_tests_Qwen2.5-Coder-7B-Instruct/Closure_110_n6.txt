public void testPrivateFunctionInScope() {
    String sourceCode = 
        "goog.scope(function() {\n" +
        "/** @private */\n" +
        "function test() {}\n" +
        "});";
    try {
        JsCompiler compiler = new JsCompiler();
        compiler.compile(SourceFile.fromCode("test.js", sourceCode));
        fail("Expected compilation to fail due to private function in scope.");
    } catch (Exception e) {
        assertTrue(e.getMessage().contains("The local variable test is in a goog.scope and is not an alias."));
    }
}