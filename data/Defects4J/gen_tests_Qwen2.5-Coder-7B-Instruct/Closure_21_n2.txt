public void testClassifyNonRightmostExpressions() {
    // Test case 1
    Expression expr1 = new CommaExpression(new IntegerLiteral(1), new IntegerLiteral(2), new IntegerLiteral(42));
    List<Expression> problematicExprs1 = classifyProblematicExpressions(expr1);
    assertEquals(1, problematicExprs1.size());
    assertTrue(problematicExprs1.contains(expr1.getSubexpressions().get(0)));

    // Test case 2
    Expression expr2 = new CommaExpression(new FunctionCall("bar"), new IntegerLiteral(2), new IntegerLiteral(42));
    List<Expression> problematicExprs2 = classifyProblematicExpressions(expr2);
    assertEquals(1, problematicExprs2.size());
    assertFalse(problematicExprs2.contains(expr2.getSubexpressions().get(1)));

    // Test case 3
    Expression expr3 = new CommaExpression(
        new CommaExpression(new IntegerLiteral(1), new IntegerLiteral(2), new IntegerLiteral(3)),
        new CommaExpression(new IntegerLiteral(4), new IntegerLiteral(5), new IntegerLiteral(42))
    );
    List<Expression> problematicExprs3 = classifyProblematicExpressions(expr3