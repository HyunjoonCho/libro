public void testW3CDomHelperWithMissingNamespaces() throws Exception {
    String html = "<html><head></head><body><fb:like></fb:like></body></html>";
    Document jsoupDoc = Jsoup.parse(html);
    DOMImplementation domImpl = new com.sun.org.apache.xerces.internal.dom.DOMImplementationImpl();
    Document w3cDoc = domImpl.createDocument(null, "html", null);
    Element body = w3cDoc.getDocumentElement().appendChild(w3cDoc.createElement("body"));
    Element fbLike = body.appendChild(w3cDoc.createElement("fb:like"));

    try {
        W3CDom.w3cToJsoup(w3cDoc);
        fail("Expected NAMESPACE_ERR to be thrown");
    } catch (DOMException e) {
        assertEquals(DOMException.NAMESPACE_ERR, e.code);
    }
}