public void testForceValueCoercionForProperties() throws IOException {
    ObjectMapper mapper = new ObjectMapper();
    Map<String, Object> properties = new Properties();
    ((Properties)properties).setProperty("key", "value");
    String json = mapper.writeValueAsString(properties);
    Map<String, String> result = mapper.readValue(json, new TypeReference<Map<String, String>>() {});
    assertEquals("value", result.get("key"));
}