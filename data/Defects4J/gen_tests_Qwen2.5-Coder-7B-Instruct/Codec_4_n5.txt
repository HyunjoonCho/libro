import org.apache.commons.codec.binary.Base64;

import java.io.UnsupportedEncodingException;

public class TestBase64 {

    @Test
    public void testEncode() throws UnsupportedEncodingException {
        String input = "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa";
        byte[] bytes = input.getBytes("UTF-8");

        Base64 base64 = new Base64();
        byte[] encodedBytes = base64.encode(bytes);

        // Check if the encoded string contains a newline character
        String encodedString = new String(encodedBytes, "UTF-8");
        assertFalse("Encoded string should not contain a newline", encodedString.contains("\n"));

        // Check if the encoded string is correctly chunked into 76 characters per line
        int lineLength = 76;
        while (encodedString.length() > lineLength) {
            assertTrue("Encoded string should be chunked into 76 characters per line",
                    encodedString.substring(0, lineLength).contains("="));
            encodedString = encodedString.substring(lineLength);
        }
    }
}