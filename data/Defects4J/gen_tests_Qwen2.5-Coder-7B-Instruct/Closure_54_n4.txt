public void testPrototypeMethodsInConstructor() {
    // Arrange
    Object prototype = new Object();
    prototype.setAttributesPayload = function() {};

    // Act & Assert
    try {
        var instance = new SomeClassWithConstructorUsingPrototype(prototype);
        fail("Expected exception due to using prototype methods in constructor");
    } catch (e) {
        assertTrue(e instanceof Error);
    }
}

function SomeClassWithConstructorUsingPrototype(prototype) {
    this._setAttributesPayload = prototype.setAttributesPayload;
    this._setAttributesPayload({attributes: {}});
}