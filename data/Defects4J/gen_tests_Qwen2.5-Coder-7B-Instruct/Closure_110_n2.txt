public void testPrivateTopLevelFunctionInGoogScope() throws Exception {
    String sourceCode =
        "goog.scope(function() {\n" +
        "  /** @private */\n" +
        "  function test() {}\n" +
        "});";
    CompilationResult result = compile(sourceCode);
    assertTrue(result.hasErrors());
    assertTrue(result.getErrors().get(0).contains(
        "The local variable test is in a goog.scope and is not an alias."));
}