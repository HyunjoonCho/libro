public void testLanguageInECMAScript5Strict() throws IOException {
    String input1 = "var getNum = function() { return 5; };";
    String input2 = "alert(getNum());";

    CompilerOptions options = new CompilerOptions();
    options.setLanguageIn(LanguageMode.ECMASCRIPT5_STRICT);
    options.setCompilationLevel(CompilationLevel.ADVANCED_OPTIMIZATIONS);
    options.setWarningLevel(DiagnosticGroups.WARNING, CheckLevel.ERROR);

    List<String> inputs = Arrays.asList(input1, input2);
    List<SourceFile> externs = Collections.emptyList();
    List<SourceFile> jsRootInputs = SourceFile.fromCodeStrings("input1", input1, "input2", input2);

    Result result = new JsCompiler(options).compile(externs, jsRootInputs, null);

    assertTrue(result.success);
    assertEquals("'use strict';alert(5);", result.output);
}