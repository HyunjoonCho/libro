public void testBZip2TruncatedRead() throws Exception {
    InputStream input = new FileInputStream(new File("path/to/truncated.bz2.file"));
    BZip2CompressorInputStream bzIn = new BZip2CompressorInputStream(input);

    byte[] buffer = new byte[1024];
    int bytesRead = 0;
    while ((bytesRead = bzIn.read(buffer))!= -1) {
        // Process the read bytes
    }

    assertEquals(770, bytesRead); // This should fail if Jython behaves like CPython
}