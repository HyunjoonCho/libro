public void testJsonStreamContexts() throws IOException {
    ObjectMapper mapper = new ObjectMapper();
    ObjectNode node = mapper.createObjectNode();
    node.put("name", "John");
    node.put("age", 30);

    // Convert using default conversion
    String jsonStr = mapper.writeValueAsString(node);
    assertEquals("{\"name\":\"John\",\"age\":30}", jsonStr);

    // Use AntPathFilter
    AntPathFilter filter = new AntPathFilter("/name");
    JsonGenerator gen = mock(JsonGenerator.class);
    JsonStreamContext parentContext = mock(JsonStreamContext.class);
    when(parentContext.getType()).thenReturn(StreamType.START_OBJECT);
    when(parentContext.getCurrentName()).thenReturn(null);
    JsonStreamContext writeContext = new FilteredStreamContext(parentContext, filter, null);
    mapper.convertValue(node, gen, writeContext);

    verify(gen).writeStringField(eq("name"), eq("John"));
    verifyNoMoreInteractions(gen);
}