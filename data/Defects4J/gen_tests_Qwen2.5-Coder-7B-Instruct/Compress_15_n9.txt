public void testZipArchiveInputStreamEquals() throws IOException {
    byte[] data = "test".getBytes();
    try (ByteArrayOutputStream baos = new ByteArrayOutputStream()) {
        try (ZipOutputStream zos = new ZipOutputStream(baos)) {
            ZipEntry entry = new ZipEntry("test.txt");
            zos.putNextEntry(entry);
            zos.write(data);
        }
        try (ZipInputStream zis = new ZipInputStream(new ByteArrayInputStream(baos.toByteArray()))) {
            ZipArchiveEntry archiveEntry = ((ZipArchiveInputStream) zis).getNextZipEntry();
            ZipFile zipFile = new ZipFile(new File("target/test-classes/test.zip"));
            ZipArchiveEntry fileEntry = zipFile.getEntry("test.txt");
            assertNotEquals(archiveEntry, fileEntry);
        }
    }
}