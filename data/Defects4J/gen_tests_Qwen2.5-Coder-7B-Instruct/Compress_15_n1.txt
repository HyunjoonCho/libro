public void testZipArchiveEntryEquals() throws IOException {
    byte[] data = "test".getBytes();
    try (ByteArrayOutputStream baos = new ByteArrayOutputStream()) {
        try (ZipOutputStream zos = new ZipOutputStream(baos)) {
            ZipEntry entry = new ZipEntry("test.txt");
            entry.setComment(null);
            zos.putNextEntry(entry);
            zos.write(data);
        }
        try (ZipInputStream zis = new ZipInputStream(new ByteArrayInputStream(baos.toByteArray()))) {
            ZipArchiveEntry archiveEntry = new ZipArchiveEntry(zis.getNextEntry());
            try (ZipFile zf = new ZipFile(archiveEntry.getName())) {
                ZipArchiveEntry fileEntry = (ZipArchiveEntry) zf.entries().nextElement();
                assertNotSame(archiveEntry, fileEntry);
                assertEquals(archiveEntry.getName(), fileEntry.getName());
                assertNull(fileEntry.getComment());
            }
        }
    }
}