public void testEbeMultiplyWithNaNOrInfinity() {
    RealVector vectorWithNaN = new ArrayRealVector(new double[] { Double.NaN, 2.0 });
    RealVector vectorWithInfinity = new ArrayRealVector(new double[] { Double.POSITIVE_INFINITY, 2.0 });

    OpenMapRealVector openMapVector = new OpenMapRealVector(new double[] { 1.0, 3.0 });

    OpenMapRealVector resultWithNaN = openMapVector.ebeMultiply(vectorWithNaN);
    OpenMapRealVector resultWithInfinity = openMapVector.ebeMultiply(vectorWithInfinity);

    assertTrue(Double.isNaN(resultWithNaN.getEntry(0)));
    assertEquals(6.0, resultWithInfinity.getEntry(1));
}