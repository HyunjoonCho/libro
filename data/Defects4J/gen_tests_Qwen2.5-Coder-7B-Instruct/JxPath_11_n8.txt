public void testIncompleteHandlingOfUndefinedNamespaces() throws Exception {
    String xml = "<ElementA xmlns:A=\"http://example.com/A\" " +
                 "xmlns:B=\"http://example.com/B\">" +
                 "<A:myAttr>Mytype</A:myAttr>" +
                 "<B:ElementB>MY VALUE</B:ElementB>" +
                 "</ElementA>";
    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
    DocumentBuilder builder = factory.newDocumentBuilder();
    Document doc = builder.parse(new InputSource(new StringReader(xml)));
    
    DOMModel model = new DOMModel(doc.getDocumentElement(), null);
    NamespaceResolver resolver = model.getNamespaceContext();
    
    resolver.registerNamespace("A", "http://example.com/A");
    resolver.registerNamespace("B", "http://example.com/B");
    
    Element elementA = (Element) doc.getElementsByTagName("A:myAttr").item(0);
    Attr attr = elementA.getAttributeNodeNS("http://example.com/A", "myAttr");
    assertNotNull(attr);
}