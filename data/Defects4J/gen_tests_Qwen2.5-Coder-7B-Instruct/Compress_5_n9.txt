public void testZipArchiveInputStreamEndOfTruncatedArchive() throws Exception {
    byte[] data = new byte[10];
    Arrays.fill(data, (byte) 0); // Simulate a truncated zip archive
    InputStream inputStream = new ByteArrayInputStream(data);
    ZipArchiveInputStream zipInputStream = new ZipArchiveInputStream(inputStream);

    try {
        while (zipInputStream.read()!= -1) ;
    } catch (IOException e) {
        assertEquals("Truncated ZIP file", e.getMessage());
    }
}