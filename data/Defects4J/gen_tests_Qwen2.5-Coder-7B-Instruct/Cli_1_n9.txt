public void testCommandLineGetOptionValue() throws Exception {
    Options options = new Options();
    Option debugOption = OptionBuilder.withArgName("debug")
           .withDescription("turn on debugging")
           .withLongOpt("debug")
           .create('d');
    options.addOption(debugOption);

    String[] args = {"-d"};
    CommandLineParser parser = new DefaultParser();
    CommandLine commandLine = parser.parse(options, args);

    assertEquals("true", commandLine.getOptionValue("debug"));
    assertEquals("true", commandLine.getOptionValue('d'));
}