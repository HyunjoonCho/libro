public void testParsingPaxHeadersWithEmptyLine() throws IOException {
    byte[] data = "foo=bar\n\n".getBytes();
    try (TarArchiveInputStream stream = new TarArchiveInputStream(new ByteArrayInputStream(data))) {
        stream.getNextEntry();
        fail("Expected NegativeArraySizeException");
    } catch (NegativeArraySizeException e) {
        // Expected exception
    }
}