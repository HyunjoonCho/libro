public void testCoreRoundingFunctions() {
    assertEquals(new Double(Double.NaN), XPathExpression.evaluate("floor('NaN')"));
    assertEquals(new Double(Double.NEGATIVE_INFINITY), XPathExpression.evaluate("floor(-2 div 0)"));
    assertEquals(new Double(Double.POSITIVE_INFINITY), XPathExpression.evaluate("floor(2 div 0)"));

    assertEquals(new Double(Double.NaN), XPathExpression.evaluate("ceiling('NaN')"));
    assertEquals(new Double(Double.NEGATIVE_INFINITY), XPathExpression.evaluate("ceiling(-2 div 0)"));
    assertEquals(new Double(Double.POSITIVE_INFINITY), XPathExpression.evaluate("ceiling(2 div 0)"));

    assertEquals(new Double(Double.NaN), XPathExpression.evaluate("round('NaN')"));
    assertEquals(new Double(Double.NEGATIVE_INFINITY), XPathExpression.evaluate("round(-2 div 0)"));
    assertEquals(new Double(Double.POSITIVE_INFINITY), XPathExpression.evaluate("round(2 div 0)"));
}