public void testStringEscapingOption() throws Exception {
    String input = "\"\\u00e4\\u00f6\\u00fc\\u00df\\u00c4\\u00d6\\u00dc\\u00a9\\u20ac\"";
    CompilerOptions options = new CompilerOptions();
    options.setLanguageIn(LanguageMode.ECMASCRIPT5);
    options.setLanguageOut(LanguageMode.ECMASCRIPT5);
    Compiler compiler = new Compiler();
    compiler.init(options, null, null);
    SourceFile externs = SourceFile.fromCode("externs", "");
    SourceFile inputSource = SourceFile.fromCode("input", input);
    compiler.compile(externs, inputSource, null);
    Node root = compiler.getRoot();
    String result = CodeGenerator.format(compiler.toSource(root));
    assertEquals(input, result);
}