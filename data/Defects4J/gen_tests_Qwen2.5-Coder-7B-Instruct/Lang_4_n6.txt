import static org.junit.Assert.assertEquals;

import java.nio.CharBuffer;
import org.apache.commons.lang3.text.translate.StringEscapeUtils;

public void testLookupTranslatorWithCharBuffer() {
    CharSequence cs1 = "1 < 2";
    CharSequence cs2 = CharBuffer.wrap("1 < 2".toCharArray());

    String translated1 = StringEscapeUtils.ESCAPE_HTML4.translate(cs1);
    String translated2 = StringEscapeUtils.ESCAPE_HTML4.translate(cs2);

    assertEquals(translated1, translated2);
}