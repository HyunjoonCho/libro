public void testIncompleteHandlingOfUndefinedNamespaces() throws Exception {
    String xml = "<root xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'>" +
                 "  <elementA A:myAttr='Mytype'>" +
                 "    <B:elementB>MY VALUE</B:elementB>" +
                 "  </elementA>" +
                 "</root>";

    Document doc = new SAXBuilder().build(new StringReader(xml));
    Namespace xsi = Namespace.getNamespace("xsi", "http://www.w3.org/2001/XMLSchema-instance");
    Namespace A = Namespace.getNamespace("A", "http://example.com/A");
    Namespace B = Namespace.getNamespace("B", "http://example.com/B");

    Element root = doc.getRootElement();
    root.addContent(root.getDescendants(new ElementFilter()).stream()
           .filter(e -> e.getName().equals("elementA"))
           .findFirst()
           .get())
           .addAttribute(new Attribute("myAttr", "Mytype", A));

    Element elementB = root.getDescendants(new ElementFilter()).stream()
           .filter(e -> e.getName().equals("elementB"))
           .findFirst()
           .get();
    element