public void testCombiningTemporaryStringsOptimization() {
    StringBuilder sb = new StringBuilder();
    String[] values = {"r", "g", "b", "a"};
    for (int i = 0; i < values.length; i++) {
        int value = i * 255;
        String str = Integer.toString(value, 16);
        if (str.length() < 2) {
            str = "0" + str;
        }
        // Uncomment the following line to reproduce the issue
        // sb.append(str);
    }
    assertEquals("", sb.toString()); // Expected: "", Actual: "<some unexpected value>"
}