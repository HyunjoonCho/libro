public void testWriteBinaryWithInputStream() throws Exception {
    ByteArrayOutputStream out = new ByteArrayOutputStream();
    ToXMLGenerator xmlGen = (ToXMLGenerator) XmlFactory.defaultInstance().createGenerator(out, JsonEncoding.UTF8);

    InputStream inputStream = new ByteArrayInputStream(new byte[]{0x01, 0x02, 0x03});
    xmlGen.writeBinary(null, inputStream, 3);

    // Check if the output is as expected after conversion to Base64
    String base64Output = Base64.getEncoder().encodeToString(out.toByteArray());
    assertEquals("AQID", base64Output); // Expected Base64 representation of {0x01, 0x02, 0x03}
}