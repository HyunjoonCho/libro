public void testTarArchiveInputStreamBigUserId() throws IOException {
    ByteArrayOutputStream baos = new ByteArrayOutputStream();
    DataOutputStream dos = new DataOutputStream(baos);

    // Create a tar header with a big user-id value
    dos.writeBytes("filename   ");
    dos.writeInt(0); // mode
    dos.writeInt(0); // uid
    dos.writeInt(Integer.MAX_VALUE + 1); // gid
    dos.writeInt(0); // size
    dos.writeInt(0); // mtime
    dos.writeByte('0'); // chksum
    dos.writeBytes("ustar"); // typeflag
    dos.writeBytes(" "); // linkname
    dos.writeBytes(" "); // magic
    dos.writeBytes(" "); // version
    dos.writeBytes("root     "); // uname
    dos.writeBytes("root     "); // gname
    dos.writeInt(0); // devmajor
    dos.writeInt(0); // devminor

    dos.close();

    try (TarArchiveInputStream tais = new TarArchiveInputStream(new ByteArrayInputStream(baos.toByteArray()))) {
        TarArchiveEntry entry = tais.getNextTarEntry();
        assertNotNull(entry);
    }
}