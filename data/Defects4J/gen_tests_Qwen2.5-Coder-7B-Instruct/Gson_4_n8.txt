public void testRFC7159Compatibility() throws IOException {
    String json = "[true,false,null]";
    JsonReader reader = new JsonReader(new StringReader(json));
    assertTrue(reader.nextBoolean());
    assertFalse(reader.nextBoolean());
    assertNull(reader.nextNull());
    try {
        reader.peek();
        fail("Expected exception not thrown");
    } catch (JsonParseException e) {
        // Expected exception
    }
    reader.close();

    JsonWriter writer = new JsonWriter(new StringWriter());
    writer.beginArray();
    writer.value(true);
    writer.value(false);
    writer.nullValue();
    writer.endArray();
    writer.close();
    assertEquals("[true,false,null]", writer.toString());
}