public void testVariableNamePrefixError() {
    String jsCode = "var MSG_foo='bar';";
    try {
        new Compiler().compile(
            Collections.singletonList(new SourceFile("test.js", jsCode)),
            ImmutableList.of(),
            new CompilerOptions());
        fail("Expected an error about message not initialized using goog.getMsg");
    } catch (CompilerException e) {
        assertTrue(e.getMessage().contains("message not initialized using goog.getMsg"));
    }
}