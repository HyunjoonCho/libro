public void testJsonGeneratorWriteStringAfterFieldName() throws Exception {
    StringWriter sw = new StringWriter();
    JsonGenerator gen = JsonFactory.defaultInstance().createGenerator(sw);
    gen.writeStartObject();
    gen.writeFieldName("field");
    try {
      gen.writeString("value");
      fail("Expected an IllegalStateException to be thrown.");
    } catch (IllegalStateException e) {
      // Expected exception.
    }
    gen.close();
}