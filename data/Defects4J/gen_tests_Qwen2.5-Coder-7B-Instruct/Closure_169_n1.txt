public void testStrangeWarning() throws Exception {
    String jsCode = 
        "/** @param {{func: function()}} obj */\n" +
        "function test1(obj) {};\n" +
        "var fnStruc1 = {};\n" +
        "fnStruc1.func = function() {};\n" +
        "test1(fnStruc1);\n";

    Compiler compiler = new Compiler();
    compiler.init();
    List<Diagnostic> diagnostics = compiler.compile(
        ImmutableList.of(new SourceFile("test.js", jsCode)),
        ImmutableList.<CompilerInput>of(),
        new CompilerOptions());

    boolean foundError = false;
    for (Diagnostic diagnostic : diagnostics) {
        if (diagnostic.getType().equals(DiagnosticType.ERROR)) {
            foundError = true;
            break;
        }
    }

    assertFalse("Found error in compilation", foundError);
}