public void testDefaultDateTypeAdapterNullability() throws Exception {
    Gson gson = new GsonBuilder().create();
    String json = gson.toJson(null, Date.class);
    assertNull(json);

    Date date = new Date();
    json = gson.toJson(date, Date.class);
    assertNotNull(json);

    Date deserializedDate = gson.fromJson(json, Date.class);
    assertEquals(date, deserializedDate);
}