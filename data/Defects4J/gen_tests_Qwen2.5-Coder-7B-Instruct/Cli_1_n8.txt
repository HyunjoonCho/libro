public void testGetOptionValue() throws Exception {
    Options options = new Options();
    Option debugOption = OptionBuilder.withArgName("debug")
                                     .withDescription("turn on debugging")
                                     .withLongOpt("debug")
                                     .create('d');
    options.addOption(debugOption);

    String[] args = {"-d"};
    CommandLineParser parser = new DefaultParser();
    CommandLine commandLine = parser.parse(options, args);

    String dbgByShortOpt = commandLine.getOptionValue('d');
    String dbgByLongOpt = commandLine.getOptionValue("debug");

    assertNotNull(dbgByShortOpt);
    assertEquals(dbgByShortOpt, dbgByLongOpt);
}