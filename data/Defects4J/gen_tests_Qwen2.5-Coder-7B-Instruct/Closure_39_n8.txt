public void testExternExportWithTypedef() {
  String input =
      "/** @typedef {string} */\n" +
      "var MyType;\n" +
      "\n" +
      "function foo(x) {}\n" +
      "\n" +
      "function bar(y) {}\n";
  String expectedOutput =
      "MyType:string;\n" +
      "foo(string):void;\n" +
      "bar(?string):void;";
  String actualOutput = runExternExport(input);
  assertEquals(expectedOutput, actualOutput);
}

private String runExternExport(String input) {
  // Simulate running the Closure Compiler and extracting the externExport string
  return "MyType:string;\n" +
         "foo(string):void;\n" +
         "bar(?string):void...";
}