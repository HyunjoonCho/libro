public void testIllegalArgumentExcpetionWhenExtractingTgzFile() throws Exception {
    InputStream inputStream = getClass().getResourceAsStream("/path/to/badfile.tgz");
    try {
        TarArchiveInputStream tarIn = new TarArchiveInputStream(inputStream);
        tarIn.getNextTarEntry();
        fail("Expected IllegalArgumentException");
    } catch (IllegalArgumentException e) {
        // Expected
    }
}