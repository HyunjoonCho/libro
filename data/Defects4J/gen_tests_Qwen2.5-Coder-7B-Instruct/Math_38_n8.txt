public void testBOBYQAOptimizer() throws Exception {
    double[] startPoint = {0.5, 0.5};
    double[] target = {0.0, 0.0};
    MultivariateFunction func = x -> Math.pow(x[0] - target[0], 2) + Math.pow(x[1] - target[1], 2);

    int dim = startPoint.length;
    BOBYQAOptimizer optimizer = new BOBYQAOptimizer(2 * dim + 2);
    PointValuePair result = optimizer.optimize(new MaxEval(1000), func, GoalType.MINIMIZE, startPoint);

    assertEquals(target[0], result.getPoint()[0], 1e-6);
    assertEquals(target[1], result.getPoint()[1], 1e-6);
}