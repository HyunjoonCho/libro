public void testNamespacedAttributeNotSelectedWithWildcard() throws Exception {
    String xmlContent = "<xml xmlns:x='foo' x:pop='a'/>";

    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
    factory.setNamespaceAware(true);
    DocumentBuilder builder = factory.newDocumentBuilder();
    Document document = builder.parse(new InputSource(new StringReader(xmlContent)));

    XPathFactory xpathFactory = XPathFactory.newInstance();
    XPath xpath = xpathFactory.newXPath();
    NodeList nodes = (NodeList) xpath.evaluate("xml/@*", document.getDocumentElement(), XPathConstants.NODESET);

    assertEquals(1, nodes.getLength());
    assertEquals("a", nodes.item(0).getNodeValue());
}