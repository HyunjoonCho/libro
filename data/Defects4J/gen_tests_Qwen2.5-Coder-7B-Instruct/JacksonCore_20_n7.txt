public void testWriteEmbeddedObject_ByteArray() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    ByteArrayOutputStream out = new ByteArrayOutputStream();
    JsonGenerator gen = mapper.getFactory().createGenerator(out);

    try {
        gen.writeEmbeddedObject(new byte[0]);
        fail("Expected UnsupportedOperationException");
    } catch (UnsupportedOperationException e) {
        // expected
    }

    gen.close();
}