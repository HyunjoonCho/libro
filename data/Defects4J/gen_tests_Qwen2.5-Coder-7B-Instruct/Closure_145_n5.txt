public void testBugWithLabeledLoopsAndBreaks() {
    String input = "var i = 0; lab1: do{ lab2: do{ i++; if (1) { break lab2; } else { break lab1; } } while(false); } while(false); console.log(i);";
    String expectedOutput = "var a=0;do b:do{a++;break b}while(0);while(0);console.log(a);";
    String actualOutput = new ClosureCompiler().compile(input, null, CompilerOptions.DEFAULT);
    assertEquals(expectedOutput, actualOutput);
}