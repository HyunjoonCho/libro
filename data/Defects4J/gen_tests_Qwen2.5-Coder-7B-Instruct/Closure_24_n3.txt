public void testGoogScopeFunctionDeclaration() {
  try {
    new JavaScriptCompiler().compile(
        "goog.scope(function() { var x = function() {}; });",
        null,
        CompilerOptions.getDefaultInstance());
    fail("Expected compilation error");
  } catch (JavaScriptCompilationException e) {
    // expected
  }

  try {
    new JavaScriptCompiler().compile(
        "goog.scope(function() { function x() {} });",
        null,
        CompilerOptions.getDefaultInstance());
    fail("Expected compilation error");
  } catch (JavaScriptCompilationException e) {
    // expected
  }
}