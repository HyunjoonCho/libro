public void testArgumentCaptorVarargs() {
    MyClass mockMyClass = mock(MyClass.class);
    myMethod(mockMyClass, "arg1", "arg2");

    ArgumentCaptor<String> captor = ArgumentCaptor.forClass(String[].class);
    verify(mockMyClass).myMethod(captor.capture());

    String[] capturedArgs = captor.getValue();
    assertEquals(2, capturedArgs.length);
    assertEquals("arg1", capturedArgs[0]);
    assertEquals("arg2", capturedArgs[1]);
}

private void myMethod(MyClass mockMyClass, String... args) {
    mockMyClass.myMethod(args);
}