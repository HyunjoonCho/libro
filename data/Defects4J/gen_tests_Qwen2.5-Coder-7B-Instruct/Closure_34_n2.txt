public void testStackOverflowErrorWithClosureCompiler() throws Exception {
    File inputFile = new File("AdMedia.eam.js");
    File outputFile = new File("AdMedia.eam.min.js");

    List<String> args = Arrays.asList(
        "--js", inputFile.getAbsolutePath(),
        "--js_output_file", outputFile.getAbsolutePath()
    );

    int exitCode = 1;
    try {
        exitCode = new Main().run(args.toArray(new String[args.size()]));
    } finally {
        assertTrue(exitCode!= 0);
        assertFalse(outputFile.exists());
    }
}