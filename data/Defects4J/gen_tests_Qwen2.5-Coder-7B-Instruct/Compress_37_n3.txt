public void testNegativeArraySizeException() throws IOException {
    byte[] data = "name=value\nanotherName=anotherValue\n\n".getBytes();
    InputStream inputStream = new ByteArrayInputStream(data);
    TarArchiveInputStream archiveInputStream = new TarArchiveInputStream(inputStream);
    try {
        archiveInputStream.getNextTarEntry();
        fail("Expected NegativeArraySizeException");
    } catch (NegativeArraySizeException e) {
        // Expected exception
    }
}