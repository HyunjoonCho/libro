public void testInvalidAssignment() {
    try {
        Object obj = new Object();
        obj.getClass().getMethod("foo").invoke(obj);
    } catch (Exception e) {
        assertTrue(e instanceof NoSuchMethodException);
    }
}