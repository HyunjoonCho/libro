public void testGetCounts() {
    MultidimensionalCounter counter = new MultidimensionalCounter(2, 4);
    List<int[]> counts = Lists.newArrayList();
    for (Integer i : counter) {
        counts.add(counter.getCounts());
    }
    assertArrayEquals(new int[]{0, 0}, counts.get(0));
    assertArrayEquals(new int[]{0, 1}, counts.get(1));
    assertArrayEquals(new int[]{0, 2}, counts.get(2));
    assertArrayEquals(new int[]{0, 3}, counts.get(3));
    assertArrayEquals(new int[]{1, 0}, counts.get(4));
    assertArrayEquals(new int[]{1, 1}, counts.get(5));
    assertArrayEquals(new int[]{1, 2}, counts.get(6));
    assertArrayEquals(new int[]{1, 3}, counts.get(7));
}