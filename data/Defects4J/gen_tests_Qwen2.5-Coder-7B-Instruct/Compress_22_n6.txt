public void testBZip2TruncatedRead() throws IOException {
    InputStream inputStream = new FileInputStream(new File("path/to/truncated.bz2"));
    BZip2CompressorInputStream bzip2CompressorInputStream = new BZip2CompressorInputStream(inputStream);
    byte[] buffer = new byte[770];
    int bytesRead = bzip2CompressorInputStream.read(buffer);
    assertEquals(770, bytesRead);
}