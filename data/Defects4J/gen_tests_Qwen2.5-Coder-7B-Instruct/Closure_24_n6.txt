public void testGoogScopeFunctionDeclaration() {
  try {
    String code = "goog.scope(function() { var x = function(){ }; });";
    JsCompiler compiler = new JsCompiler();
    compiler.compile(new SourceFile("test.js", code));
    fail("Expected compilation to fail due to invalid function declaration within goog.scope.");
  } catch (CompilationException e) {
    // Expected exception
  }

  try {
    String code = "goog.scope(function() { function x() {} });";
    JsCompiler compiler = new JsCompiler();
    compiler.compile(new SourceFile("test.js", code));
    fail("Expected compilation to fail due to invalid function declaration within goog.scope.");
  } catch (CompilationException e) {
    // Expected exception
  }
}