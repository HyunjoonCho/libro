public void testMissingTypeChecks() {
    ObjectMapper mapper = new ObjectMapper();
    try {
        String json = "{\"type\":\"com.example.IncompatibleClass\",\"value\":42}";
        Object obj = mapper.readValue(json, JavaType.constructParametricType(Object.class, IncompatibleClass.class));
        fail("Expected exception to be thrown");
    } catch (JsonMappingException e) {
        // Expected exception
    }
}

class CompatibleClass {}

class IncompatibleClass {}