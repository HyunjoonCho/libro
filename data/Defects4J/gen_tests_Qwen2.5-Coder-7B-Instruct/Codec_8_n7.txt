public void testBase64InputStream() throws Exception {
    byte[] data = new byte[10920];
    for (int i = 0; i < data.length; i++) {
        data[i] = (byte) i;
    }

    InputStream inputStream = new ByteArrayInputStream(data);
    Base64InputStream base64InputStream = new Base64InputStream(inputStream, true, 0, null);

    int count = 0;
    while (base64InputStream.read()!= -1) {
        count++;
    }

    assertEquals(data.length, count);
}