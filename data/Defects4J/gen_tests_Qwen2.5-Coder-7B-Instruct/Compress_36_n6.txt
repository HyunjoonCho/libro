public void testReadEmptyEntryThrowsIllegalStateException() throws IOException {
    try (InputStream is = new FileInputStream("path/to/test.7z")) {
        try (SevenZFile sevenZFile = new SevenZFile(is)) {
            SevenZArchiveEntry entry = sevenZFile.getNextEntry();
            while (entry!= null &&!entry.isDirectory()) {
                if (entry.getName().equals("emptyfile.txt")) {
                    try {
                        byte[] buffer = new byte[1024];
                        int read = entry.read(buffer);
                        fail("Expected IllegalStateException, but got " + read);
                    } catch (IllegalStateException e) {
                        // Expected exception
                    }
                    break;
                }
                entry = sevenZFile.getNextEntry();
            }
        }
    }
}