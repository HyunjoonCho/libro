public void testClosureCompilerBug() {
  String input = "var foo = function bar(){\n" +
                 "  var bar;\n" +
                 "  alert(bar)\n" +
                 "};";
  String expectedOutput = "var foo = function() {\n" +
                          "  alert(void 0)\n" +
                          "};";
  String actualOutput = compileWithClosure(input);
  assertEquals(expectedOutput, actualOutput);
}

private String compileWithClosure(String input) {
  // Simulate compilation using Closure Compiler
  return input.replaceFirst("function bar\\s*\\{", "function() {");
}