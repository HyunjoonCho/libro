public void testAbstractEstimatorCovariances() throws Exception {
    LeastSquaresProblem problem = mock(LeastSquaresProblem.class);
    double[] params = {1.0, 2.0, 3.0};
    double[] sigmas = {0.1, 0.2, 0.3};
    when(problem.getAllParameters()).thenReturn(params);
    when(problem.getParameterSigma()).thenReturn(sigmas);

    AbstractEstimator estimator = new AbstractEstimator() {};
    estimator.addObservedPoint(0, 0, 0);
    estimator.getCovariances();

    verify(problem).getUnboundParameters();
}

public void testAbstractEstimatorGuessParametersErrors() throws Exception {
    LeastSquaresProblem problem = mock(LeastSquaresProblem.class);
    double[] params = {1.0, 2.0, 3.0};
    double[] sigmas = {0.1, 0.2, 0.3};
    when(problem.getAllParameters()).thenReturn(params);
    when(problem.getParameterSigma()).thenReturn(sigmas);

    AbstractEstimator estimator = new AbstractEstimator() {};
    estimator.addObservedPoint(0, 0, 0);
    estimator.guessParametersErrors