public void testNonEmptyExclusionWithIntsStrings() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    SimpleBeanPropertyFilter filter = SimpleBeanPropertyFilter.filterOutAllExcept("name", "age");
    FilterProvider filters = new SimpleFilterProvider().addFilter("myFilter", filter);

    MyObject obj = new MyObject();
    obj.setName("John");
    obj.setAge(30);

    String json = mapper.writer(filters).writeValueAsString(obj);
    assertEquals("{\"name\":\"John\"}", json);
}

class MyObject {
    private String name;
    private int age;

    public String getName() { return name; }
    public void setName(String name) { this.name = name; }

    public int getAge() { return age; }
    public void setAge(int age) { this.age = age; }
}