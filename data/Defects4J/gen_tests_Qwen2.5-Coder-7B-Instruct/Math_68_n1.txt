public void testLevenbergMarquardtOptimizer() throws Exception {
    double[] target = {1.0, 2.0};
    double[] initial = {0.5, 1.5};

    ConvergenceChecker<VectorValue> checker = new SimpleVectorValueChecker(1e-6, 1e-6);

    LevenbergMarquardtOptimizer optimizer = new LevenbergMarquardtOptimizer();
    optimizer.setConvergenceChecker(checker);

    LeastSquaresProblem problem = new MockLeastSquaresProblem(target, initial);

    try {
        optimizer.optimize(problem);
        fail("Expected ConvergenceException");
    } catch (ConvergenceException e) {
        // Expected exception
    }
}