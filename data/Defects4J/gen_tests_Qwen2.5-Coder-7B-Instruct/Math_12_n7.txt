public void testGammaDistributionCloning() throws Exception {
    GammaDistribution original = new GammaDistribution(2.0, 3.0);
    ByteArrayOutputStream baos = new ByteArrayOutputStream();
    ObjectOutputStream oos = new ObjectOutputStream(baos);
    oos.writeObject(original);
    oos.close();

    ByteArrayInputStream bais = new ByteArrayInputStream(baos.toByteArray());
    ObjectInputStream ois = new ObjectInputStream(bais);
    GammaDistribution clone = (GammaDistribution) ois.readObject();
    ois.close();

    double[] originalSamples = new double[100];
    double[] cloneSamples = new double[100];
    RandomDataGenerator r = new RandomDataGenerator();
    for (int i = 0; i < 100; i++) {
        originalSamples[i] = original.sample();
        cloneSamples[i] = clone.sample();
    }

    assertArrayEquals(originalSamples, cloneSamples, 0.1);
}