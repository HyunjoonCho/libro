public void testNextTextValueForAttributes() throws Exception {
    String xml = "<root><child attribute=\"value\">text</child></root>";
    XMLInputFactory factory = XMLInputFactory.newInstance();
    XMLStreamReader reader = factory.createXMLStreamReader(new StringReader(xml));
    while (reader.hasNext()) {
        int event = reader.next();
        if (event == XMLStreamConstants.START_ELEMENT) {
            reader.nextTag();
            assertNull(reader.getAttributeValue(null, "attribute"));
            assertEquals("value", reader.getText());
            break;
        }
    }
}