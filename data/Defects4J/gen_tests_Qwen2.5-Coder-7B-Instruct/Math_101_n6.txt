public void testStringIndexOutOfBoundsExceptionInComplexFormat() {
    ComplexFormat formatter = new ComplexFormat();
    formatter.setImaginaryCharacter("i");

    String input = "5+i";
    ParsePosition position = new ParsePosition(0);

    try {
        formatter.parse(input, position);
    } catch (StringIndexOutOfBoundsException e) {
        fail("Unexpected StringIndexOutOfBoundsException occurred");
    }
}