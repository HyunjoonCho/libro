public void testDifferentOutputFromRestApiAndCommandLineJar() throws IOException {
    // Read the test.js file
    String testJsContent = readFile("test.js");

    // Compile the file using the command line jar
    Process process = Runtime.getRuntime().exec("java -jar compiler.jar --js test.js");
    InputStream inputStream = process.getInputStream();
    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();
    byte[] buffer = new byte[1024];
    int bytesRead;
    while ((bytesRead = inputStream.read(buffer))!= -1) {
        outputStream.write(buffer, 0, bytesRead);
    }
    String commandLineOutput = outputStream.toString();

    // Compile the file using the web ui
    URL url = new URL("http://closure-compiler.appspot.com/home");
    HttpURLConnection connection = (HttpURLConnection) url.openConnection();
    connection.setRequestMethod("POST");
    connection.setDoOutput(true);
    try (OutputStream os = connection.getOutputStream()) {
        byte[] input = ("{\"compilation_level\":\"SIMPLE_OPTIMIZATIONS\",\"output_file_name\":\"default.js\",\"js_code\":\"" + testJsContent + "\"}").getBytes("utf-8");
        os.write(input, 0, input.length);           
    }
    BufferedReader reader = new