public void testGroupConstraints() {
    Option optA = new Option("a", "option A");
    Option optB = new Option("b", "option B");

    Group groupA = new Group(optA);
    Group groupB = new Group(optB);

    CommandLine cmdLine = new DefaultParser().parse(new Options(), new String[]{"-b"});

    assertTrue(cmdLine.hasOption("b"));
    assertFalse(cmdLine.hasOption("a"));

    groupB.addOption(groupA);

    cmdLine = new DefaultParser().parse(new Options(), new String[]{"-b"});

    assertTrue(cmdLine.hasOption("b"));
    assertTrue(cmdLine.hasOption("a"));
}