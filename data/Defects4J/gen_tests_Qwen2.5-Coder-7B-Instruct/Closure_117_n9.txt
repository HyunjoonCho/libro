public void testWrongTypeNameReportedOnMissingPropertyError() {
    // Arrange
    String jsCode = 
        "/**\n" +
        " * @constructor\n" +
        " */\n" +
        "function C2() {}\n" +
        "\n" +
        "/**\n" +
        " * @constructor\n" +
        " */\n" +
        "function C3(c2) {\n" +
        " /**\n" +
        "  * @type {C2}\n" +
        "  * @private\n" +
        "  */\n" +
        " this.c2_;\n" +
        "\n" +
        " use(this.c2_.prop);\n" +
        "}\n";

    // Act & Assert
    try {
        JavaScriptParser parser = new JavaScriptParser();
        parser.parse(jsCode);
        fail("Expected exception was not thrown.");
    } catch (Exception e) {
        assertTrue(e.getMessage().contains("Property prop never defined on C2"));
    }
}