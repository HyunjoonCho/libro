public void testEnumTyping() throws Exception {
    String source = 
        "/**\n" +
        " * @type {Object}\n" +
        " */\n" +
        "var NS = {};\n\n" +
        "/**\n" +
        " * @enum {number}\n" +
        " */\n" +
        "NS.keys = {\n" +
        "  a: 1,\n" +
        "  b: 2,\n" +
        "  c: 3\n" +
        "};\n\n" +
        "/**\n" +
        " * @enum\n" +
        " */\n" +
        "window['gKEYS'] = NS.keys;";
    Compiler compiler = new Compiler();
    CompilerOptions options = new CompilerOptions();
    options.setCodingConvention(new CodingConventions.Simple());
    options.setLanguageIn(LanguageMode.ECMASCRIPT5_STRICT);
    options.setLanguageOut(LanguageMode.ECMASCRIPT5);
    Result result = compiler.compile(SourceFile.fromCode("test.js", source), null, options);
    assertTrue(result.success);
    for (JSError error : compiler.getErrors()) {
        System.err