public void testInvalidPropertyInPrototypeFunction() {
    JavaScriptCompiler compiler = new JavaScriptCompiler();
    compiler.addExternsPath("path/to/inloop-externs.js");
    compiler.compile(new CompilerInput("inloop.js", "ns.MyClass.prototype.doIt = function() { var subthing = this.thing_.subthing; for (var i = 0; i < subthing.noprop; i++) { window.console.log(i); } };"));

    assertTrue(compiler.hasErrors());
}