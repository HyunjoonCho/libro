public void testRemoveIgnoreCaseConcurrentModificationException() {
    Attributes attributes = new Attributes();
    attributes.put("key1", new Attribute("value1"));
    attributes.put("Key2", new Attribute("value2"));

    Element element = Mockito.mock(Element.class);
    Mockito.when(element.attributes()).thenReturn(attributes);

    element.select("abc").first().removeAttr("key1").removeAttr("Key2");

    assertTrue(attributes.isEmpty());
}