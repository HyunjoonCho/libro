public void testArrayIndexOutOfBoundsExceptionInByteQuadsCanonicalizer() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    injectReproducibleSeed(mapper);
    StringBuilder sb = new StringBuilder();
    sb.append("{\"key\":");
    for (int i = 0; i < 60; ++i) {
        sb.append("\"value\",");
    }
    sb.deleteCharAt(sb.length() - 1); // Remove last comma
    sb.append("}");
    try {
        mapper.readTree(sb.toString());
        fail("Expected ArrayIndexOutOfBoundsException");
    } catch (ArrayIndexOutOfBoundsException e) {
        // Expected exception
    }
}