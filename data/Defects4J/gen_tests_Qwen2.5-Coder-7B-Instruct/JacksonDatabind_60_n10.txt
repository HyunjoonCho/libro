public void testPolymorphicTypeLost() throws IOException {
    String json = "[\"[B\",\"QUJDRA==\"]";
    ObjectMapper mapper = new ObjectMapper();
    mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);
    mapper.enableDefaultTyping();

    byte[] bytes = Base64.getDecoder().decode("QUJDRA==".getBytes());
    CommandAPDU commandApdu = new CommandAPDU(bytes);

    String serialized = mapper.writeValueAsString(commandApdu);
    assertEquals(json, serialized);

    CommandAPDU deserialized = mapper.readValue(serialized, CommandAPDU.class);
    assertArrayEquals(bytes, deserialized.getBytes());
}