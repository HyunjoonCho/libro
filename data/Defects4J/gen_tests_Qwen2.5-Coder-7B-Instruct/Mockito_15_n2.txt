public void testArgumentCaptorWithVarargs() {
    List<String> list = new ArrayList<>();
    Method method = ReflectionTestUtils.findMethod(MyClass.class, "myMethod", String[].class);
    ArgumentCaptor<String[]> captor = ArgumentCaptor.forClass(String[].class);
    verify(mockMyClass).myMethod(captor.capture());
    assertArrayEquals(new String[]{"a", "b"}, captor.getValue());
}