public void testPolymorphicTypeLost() throws Exception {
    String json = "[\"com.ubitricity.devices.common.pal.CommandAPDU\",{\"apdu\":[65,75,81,69,65,65,65,98,107,110,108,111,116,104,116,97,116,101]}]";
    ObjectMapper mapper = new ObjectMapper();
    mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);
    mapper.enableDefaultTyping();

    Object result = mapper.readValue(json, Object[].class);

    assertTrue(result instanceof CommandAPDU);
    CommandAPDU commandApdu = (CommandAPDU) result;
    assertArrayEquals(new byte[]{65, 75, 81, 69, 65, 65, 65, 98, 107, 110, 108, 111, 116, 104, 116, 97, 116, 101}, commandApdu.get