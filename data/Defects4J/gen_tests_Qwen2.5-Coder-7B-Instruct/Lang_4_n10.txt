public void testLookupTranslatorWithCharSequence() {
    LookupTranslator translator = new LookupTranslator(new String[][] {{"&", "&amp;"}});

    CharSequence cs1 = "1 < 2";
    CharSequence cs2 = CharBuffer.wrap("1 < 2".toCharArray());

    assertEquals("&lt; 2", translator.translate(cs1));
    assertEquals("&lt; 2", translator.translate(cs2));
}