public void testCollapseProperties() throws IOException {
    String js = "var x = {}; goog.exportSymbol('x', x);";
    Compiler compiler = new Compiler();
    compiler.initOptions(new Options());
    compiler.addSourceFile(new File("/tmp/test.js"), null, js);
    try {
      compiler.compile();
      fail("Expected IllegalArgumentException");
    } catch (IllegalArgumentException e) {
      // Expected exception
    }
}