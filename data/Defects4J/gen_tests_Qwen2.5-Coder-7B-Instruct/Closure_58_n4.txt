public void testOnlineCCBug() throws Exception {
    URL url = new URL("http://closure-compiler.appspot.com/compile");
    HttpURLConnection conn = (HttpURLConnection) url.openConnection();
    conn.setRequestMethod("POST");
    conn.setDoOutput(true);

    String input = "function keys(obj) {\n" +
                   "var a = [], i = 0;\n" +
                   "for (a[i++] in obj)\n" +
                   ";\n" +
                   "return a;\n" +
                   "}";
    try (OutputStream os = conn.getOutputStream()) {
        byte[] inputBytes = input.getBytes("utf-8");
        os.write(inputBytes, 0, inputBytes.length);           
    }

    int responseCode = conn.getResponseCode();
    assertEquals(200, responseCode);

    BufferedReader in = new BufferedReader(new InputStreamReader(conn.getInputStream()));
    String inputLine;
    StringBuffer response = new StringBuffer();

    while ((inputLine = in.readLine())!= null) {
        response.append(inputLine);
    }
    in.close();

    assertFalse(response.toString().contains("java error"));
}