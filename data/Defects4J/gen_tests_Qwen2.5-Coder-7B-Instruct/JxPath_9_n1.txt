public void testComparingNan() {
    Double nanValue = Double.NaN;
    assertFalse(nanValue.equals(nanValue));
    assertTrue(Double.compare(nanValue, nanValue) == 0);
}