public void testIssue172_CountAttributeNode() throws Exception {
    // Arrange
    String xpathExpression = "/*[attribute::attr]";
    XPathExpression expr = xpath.compile(xpathExpression);

    // Act
    NodeList result = (NodeList) expr.evaluate(doc, XPathConstants.NODESET);

    // Assert
    assertEquals(2, result.getLength());
}