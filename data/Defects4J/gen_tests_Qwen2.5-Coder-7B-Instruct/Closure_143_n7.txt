public void testCompilerDefineFlag() throws Exception {
    String[] args = new String[] {
      "--compilation_level", "ADVANCED_OPTIMIZATIONS",
      "--define", "test.VERSION=1.0.0",
      "--js_output_file", "test-min.js",
      "--js", "test.js"
    };
    try {
      Compiler.main(args);
      fail("Expected RuntimeException");
    } catch (RuntimeException e) {
      assertTrue(e.getMessage().contains("--define flag syntax invalid"));
    }
  }