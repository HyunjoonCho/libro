public void testFilteringParserDelegateMatchCount() throws Exception {
    String json = "[{\"name\":\"John\", \"age\":30}, {\"name\":\"Anna\", \"age\":22}]";
    JsonFactory factory = new JsonFactory();
    FilteringParserDelegate delegate = new FilteringParserDelegate(factory.createParser(json));
    int matchCount = 0;
    while (delegate.nextToken()!= null) {
        if (delegate.getCurrentToken() == JsonToken.START_OBJECT) {
            matchCount++;
        }
    }
    assertEquals(2, matchCount);
}