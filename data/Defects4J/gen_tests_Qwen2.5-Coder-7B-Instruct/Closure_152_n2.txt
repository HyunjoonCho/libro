public void testResolveTypesBug() throws Exception {
    String jsCode = "var x = {a: 1};\n" +
                    "function foo(y) {\n" +
                    "  return y.a;\n" +
                    "}\n" +
                    "foo(x);";
    JsErrorReporter reporter = new JsErrorReporter();
    Compiler compiler = new Compiler(reporter);
    compiler.compile(new CompilerInput(jsCode));
    assertTrue(reporter.hasErrors());
}