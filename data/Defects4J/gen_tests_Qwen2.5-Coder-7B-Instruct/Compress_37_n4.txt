public void testParsingPaxHeadersWithEmptyLine() throws IOException {
    byte[] data = "key1=value1\nkey2=value2\n\n".getBytes();
    ByteArrayInputStream bis = new ByteArrayInputStream(data);
    TarArchiveInputStream tais = new TarArchiveInputStream(bis);
    try {
        tais.getNextTarEntry();
        fail("Expected NegativeArraySizeException");
    } catch (NegativeArraySizeException e) {
        // Expected exception
    }
}