public void testCompilerRemovesFunctionProperties() {
  Function<String, Void> f1 = new Function<String, Void>() {
    public Void apply(String input) {
      System.out.println("f1");
      return null;
    }
  };
  
  f1.setProperty("alwaysCall", true);
  
  Function<String, Void> f2 = new Function<String, Void>() {
    public Void apply(String input) {
      System.out.println("f2");
      return null;
    }
  };
  
  Map<String, Function<String, Void>> map = new HashMap<>();
  map.put("f1", f1);
  map.put("f2", f2);
  
  String key = Math.random() > 0.5? "f1" : "f2";
  Function<String, Void> func = map.get(key);
  
  assertTrue(func.getProperty("alwaysCall")!= null);
}