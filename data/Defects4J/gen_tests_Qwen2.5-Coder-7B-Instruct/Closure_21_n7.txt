public void testNonRightmostExpressions() {
    Expression expr1 = new CommaExpression(Arrays.asList(
        new ConstantExpression(1),
        new ConstantExpression(2),
        new ConstantExpression(42)
    ));
    assertTrue(expr1.isProblematic());

    Expression expr2 = new CommaExpression(Arrays.asList(
        new MethodCallExpression(new VariableExpression("bar"), new ArrayList<Expression>()),
        new ConstantExpression(2),
        new ConstantExpression(42)
    ));
    assertFalse(expr2.isProblematic());

    Expression expr3 = new CommaExpression(Arrays.asList(
        new CommaExpression(Arrays.asList(
            new ConstantExpression(1),
            new ConstantExpression(2),
            new ConstantExpression(3)
        )),
        new CommaExpression(Arrays.asList(
            new ConstantExpression(4),
            new ConstantExpression(5),
            new ConstantExpression(42)
        ))
    ));
    assertTrue(expr3.isProblematic());
}