public void testReadEmptyEntry() throws IOException {
    try (SeekableByteChannel channel = new FileChannelImpl(new File("path/to/empty/archive.7z").toPath());
         SevenZFile sevenZFile = new SevenZFile(channel)) {

        SevenZArchiveEntry entry = sevenZFile.getNextEntry();
        assertNotNull(entry);

        byte[] buffer = new byte[1024];
        try {
            int bytesRead = entry.read(buffer, 0, buffer.length);
            fail("Expected IllegalStateException, but got " + bytesRead);
        } catch (IllegalStateException e) {
            // Expected exception
        }
    }
}