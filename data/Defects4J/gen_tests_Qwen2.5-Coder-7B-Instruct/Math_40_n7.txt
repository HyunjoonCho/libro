public void testBracketingNthOrderBrentSolverExceedsMaxIterations() throws Exception {
    double[] fValues = new double[]{3.7e-16, -7.0e-5};
    double[] xValues = new double[]{12500.0, 12500.03};
    UnivariateFunction function = mock(UnivariateFunction.class);
    when(function.value(xValues[0])).thenReturn(fValues[0]);
    when(function.value(xValues[1])).thenReturn(fValues[1]);

    BracketingNthOrderBrentSolver solver = new BracketingNthOrderBrentSolver(0.001, 100);
    try {
        solver.solve(100, function, xValues[0], xValues[1]);
        fail("Expected MaxIterationsExceededException");
    } catch (MaxIterationsExceededException e) {
        // Expected exception
    }
}