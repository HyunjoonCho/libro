public void testBugReport() {
    int[][] es = {{0, 1}, {1, 0}};
    int esi = 0;
    if (es[--esi][es[esi + 1]] == 1) {
        es[esi] = 0;
    } else {
        es[esi] = 1;
    }
    assertEquals(1, es[esi]);
    
    esi = 0;
    es[--esi] = 1;
    es[esi] = 1 == es[esi][es[esi + 1]]? 0 : 1;
    assertEquals(0, es[esi]);
}