public void testImplicitNamespacesAcrossModules() {
  // Arrange
  StringBuilder sb = new StringBuilder();
  sb.append("(function() {\n");
  sb.append("var apps={};apps.foo.bar={};apps.foo={};\n");
  sb.append("apps.foo.bar.B={};\n");
  sb.append("apps.foo.bar.C={};\n");
  sb.append("})();");

  // Act
  JavaScriptCompiler compiler = new JavaScriptCompiler();
  CompilerOptions options = new CompilerOptions();
  options.setCodingConvention(new CodingConventions.SimpleConvention());
  compiler.compile(SourceFile.fromCode("test.js", sb.toString()), null, options);

  // Assert
  assertTrue(compiler.hasErrors());
  assertTrue(compiler.hasWarnings());
}