public void testClosureCompilerDefineAnnotation() throws Exception {
    String input = "/** @define {string} */\n" +
                   "var CONSTANT = \"some very long string name that I want to wrap \" +\n" +
                   " \"and so break using a + since I don't want to \" +\n" +
                   " \"introduce a newline into the string.\";";
    File inputFile = new File("test.js");
    FileUtils.writeStringToFile(inputFile, input);

    ProcessBuilder pb = new ProcessBuilder(
            "java", "-jar", "path/to/closure-compiler.jar",
                    "--js", inputFile.getAbsolutePath(),
                    "--compilation_level", "SIMPLE_OPTIMIZATIONS");
    Process process = pb.start();
    int exitCode = process.waitFor();

    assertEquals(0, exitCode);
}