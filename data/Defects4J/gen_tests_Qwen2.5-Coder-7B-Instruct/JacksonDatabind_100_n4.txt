public void testBase64VariantIgnored() throws IOException {
    ObjectMapper mapper = new ObjectMapper();
    String json = "\"SGVsbG8gV29ybGQh\""; // "Hello World!" in Base64

    JsonNode node = mapper.readTree(json.getBytes("UTF-8"));

    try {
        byte[] binaryValue = ((TreeTraversingParser) mapper.treeToValue(node, JsonParser.class)).getBinaryValue(Base64Variants.getDefaultMIME());
        fail("Expected IllegalArgumentException due to ignored Base64 variant");
    } catch (IllegalArgumentException e) {
        // Expected exception
    }
}