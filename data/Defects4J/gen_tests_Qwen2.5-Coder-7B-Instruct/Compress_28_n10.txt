public void testTarArchiveInputStreamSilentFailure() throws IOException {
    InputStream inputStream = mock(InputStream.class);
    when(inputStream.read()).thenReturn(-1); // Simulate unexpected EOF

    BZip2CompressorInputStream bzip2InputStream = mock(BZip2CompressorInputStream.class);
    when(bzip2InputStream.getInputStream()).thenReturn(inputStream);

    TarArchiveInputStream tarArchiveInputStream = new TarArchiveInputStream(bzip2InputStream);

    try {
        tarArchiveInputStream.getNextEntry();
        fail("Expected IOException to be thrown due to unexpected EOF");
    } catch (IOException e) {
        // Expected exception
    }
}