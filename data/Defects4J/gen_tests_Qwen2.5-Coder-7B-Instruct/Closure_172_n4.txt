import com.google.javascript.jscomp.JSSourceFile;
import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.CompilerOptions;
import com.google.javascript.jscomp.Result;

public void testPrototypePropertyTypeInference() {
    Compiler compiler = new Compiler();
    CompilerOptions options = new CompilerOptions();
    Result result = compiler.compile(
        JSSourceFile.fromCode("testfile", "function f(a) { a.prototype = '\\__proto'; }"),
        JSSourceFile.fromCode("testfile", "function g(a) { a.prototype = function(){}; }"),
        options);

    assertTrue(result.successful);
    assertFalse(compiler.hasErrors());
    assertFalse(compiler.hasWarnings());
}