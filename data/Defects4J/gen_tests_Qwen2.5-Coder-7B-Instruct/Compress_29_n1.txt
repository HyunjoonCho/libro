public void testArchiveStreamFactoryEncoding() throws IOException {
    String encoding = "UTF-8";
    InputStream inputStream = new ByteArrayInputStream(new byte[0]);
    ArchiveInputStream arjIn = ArchiveStreamFactory.createArchiveInputStream(ArchiveStreamFactory.ARJ, inputStream, encoding);
    assertTrue(arjIn instanceof ArjArchiveInputStream);
    assertEquals(encoding, ((ArjArchiveInputStream) arjIn).getEncoding());

    CpioArchiveInputStream cpioIn = ArchiveStreamFactory.createArchiveInputStream(ArchiveStreamFactory.CPIO, inputStream, encoding);
    assertTrue(cpioIn instanceof CpioArchiveInputStream);
    assertEquals(encoding, ((CpioArchiveInputStream) cpioIn).getEncoding());

    DumpArchiveInputStream dumpIn = ArchiveStreamFactory.createArchiveInputStream(ArchiveStreamFactory.DUMP, inputStream, encoding);
    assertTrue(dumpIn instanceof DumpArchiveInputStream);
    assertEquals(encoding, ((DumpArchiveInputStream) dumpIn).getEncoding());

    JarArchiveInputStream jarIn = ArchiveStreamFactory.createArchiveInputStream(ArchiveStreamFactory.JAR, inputStream, encoding);
    assertTrue(jarIn instanceof JarArchiveInputStream);
    assertEquals(encoding, ((JarArchiveInputStream) jarIn).getEncoding());

    ByteArrayOutputStream baos = new ByteArrayOutputStream();
    JarArchiveOutputStream jarOut = ArchiveStreamFactory.create