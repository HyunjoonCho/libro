public void testCreateZipWithManyEntries() throws IOException {
    try (ZipOutputStream zos = new ZipOutputStream(new ByteArrayOutputStream())) {
        for (int i = 0; i < 1000; ++i) {
            ZipArchiveEntry entry = new ZipArchiveEntry("file" + i % 10 + ".txt");
            zos.putNextEntry(entry);
            zos.write(("content" + i).getBytes());
            zos.closeEntry();
        }
    }
}