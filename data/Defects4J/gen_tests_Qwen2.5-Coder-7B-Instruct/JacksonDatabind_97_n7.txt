import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.node.ObjectNode;
import org.junit.Test;

import static org.junit.Assert.assertEquals;

public class TestCaseTest {

  private static final ObjectMapper mapper = new ObjectMapper();

  @Test
  public void testContextAttributes() throws Exception {
    String jsonMap = "{\"data\":{\"aStr\":\"The value is: Hello!\"}}";
    String jsonTree = "{\"data\":{\"aStr\":\"The value is: Hello!\"}}";

    assertEquals(jsonMap, mapper.writer().withAttribute("myAttr", "Hello!").writeValueAsString(createMap()));
    assertEquals(jsonTree, mapper.writer().withAttribute("myAttr", "Hello!").writeValueAsString(createTree()));
  }

  private Map<String, Object> createMap() {
    Map<String, Object> map = new java.util.HashMap<>();
    map.put("data", new Data("Hello"));
    return map;
  }

  private ObjectNode createTree() {
    ObjectNode tree = mapper.createObjectNode();
    tree.set("data", mapper.valueToTree(new Data("Hello")));
    return tree;
  }

  public static class Data {
    public String aStr;

    public Data(String aStr) {
      this.aStr = aStr;