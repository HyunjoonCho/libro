import org.apache.commons.lang3.time.DateUtils;
import java.util.Calendar;
import java.util.Date;

public void testDateUtilsTruncate() {
    Calendar calendar = Calendar.getInstance();
    calendar.setTimeInMillis(1099206000000L);
    calendar.set(Calendar.MINUTE, 0);
    calendar.set(Calendar.SECOND, 0);
    calendar.set(Calendar.MILLISECOND, 0);

    Date expected = calendar.getTime();
    Date actual = DateUtils.truncate(expected, Calendar.HOUR_OF_DAY);

    assertEquals(expected, actual);
}