public void testBugsInRealVectorEbeMethods() {
    RealVector vectorWithNaN = new ArrayRealVector(new double[] { Double.NaN, 2.0 });
    RealVector vectorWithInfinity = new ArrayRealVector(new double[] { Double.POSITIVE_INFINITY, 2.0 });

    OpenMapRealVector openMapVector = new OpenMapRealVector(new double[] { 1.0, 2.0 });

    RealVector resultNaN = openMapVector.ebeMultiply(vectorWithNaN);
    RealVector resultInfinity = openMapVector.ebeMultiply(vectorWithInfinity);

    assertTrue(Double.isNaN(resultNaN.getEntry(0)));
    assertTrue(Double.isNaN(resultInfinity.getEntry(0)));

    assertEquals(4.0, resultNaN.getEntry(1));
    assertEquals(4.0, resultInfinity.getEntry(1));
}