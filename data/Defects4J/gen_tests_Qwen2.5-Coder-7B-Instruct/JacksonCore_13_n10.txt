public void testUTF8JsonGeneratorToggleFieldNames() throws Exception {
    StringWriter sw = new StringWriter();
    JsonFactory jf = new JsonFactory();
    JsonGenerator g = jf.createGenerator(sw, JsonEncoding.UTF8);
    try {
        g.setCodec(new ObjectMapper());
        g.enable(SerializationFeature.QUOTE_FIELD_NAMES);
        g.writeStartObject();
        g.writeStringField("field", "value");
        g.writeEndObject();
        String json = sw.toString();
        assertTrue(json.contains("\"field\""));
    } finally {
        g.close();
    }
}