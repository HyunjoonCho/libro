public void testW3CDomHelperFailsToConvertWithoutNamespaceDeclarations() {
    Document jsoupDoc = Jsoup.parse("<html><head><title>Test</title></head><body><fb:like></fb:like></body></html>");
    try {
        DOMImplementationRegistry registry = DOMImplementationRegistry.newInstance();
        DOMImplementation impl = registry.getDOMImplementation("XML 1.0");
        DocumentType doctype = impl.createDocumentType("html", "-//W3C//DTD HTML 4.01 Transitional//EN", "http://www.w3.org/TR/html4/loose.dtd");
        Document w3cDoc = impl.createDocument(doctype.getPublicId(), doctype.getSystemId(), doctype);
        new W3CDom().fromJsoup(jsoupDoc, w3cDoc);
        fail("Expected NAMESPACE_ERR to be thrown");
    } catch (DOMException e) {
        assertEquals(DOMException.NAMESPACE_ERR, e.code);
    }
}