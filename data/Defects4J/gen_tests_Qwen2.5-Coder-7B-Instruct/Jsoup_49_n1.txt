public void testBugInElementInsertChildren() {
    Document doc = Jsoup.parse("<html><head></head><body><div id='parent'><div id='child1'></div><div id='child2'></div></div></body></html>");
    Element parent = doc.getElementById("parent");
    Element child1 = doc.getElementById("child1");
    Element child2 = doc.getElementById("child2");

    List<Element> childrenToMove = Arrays.asList(child1, child2);
    parent.insertChildren(0, childrenToMove);

    String expectedHtml = "<html><head></head><body><divid='parent'><divid='child1'></div><divid='child2'></div><divid='child1'></div><divid='child2'></div></div></body></html>";
    String actualHtml = doc.html();

    // Remove whitespace for comparison
    expectedHtml = expectedHtml.replaceAll("\\s+", "");
    actualHtml = actualHtml.replaceAll("\\s+", "");

    assertEquals(expectedHtml, actualHtml);
}