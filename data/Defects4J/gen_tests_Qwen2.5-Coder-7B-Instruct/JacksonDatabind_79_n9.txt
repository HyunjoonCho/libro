public void testJsonIdentityReferenceOnClass() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    String json = mapper.writeValueAsString(new ReallyAlwaysAsId(13));
    assertTrue(json.contains("\"@id\":1"));
    assertTrue(json.contains("\"value\":13"));

    json = mapper.writeValueAsString(new ReallyAlwaysContainer());
    assertTrue(json.contains("\"a\":{\"@id\":1")));
    assertTrue(json.contains("\"b\":{\"@id\":2}"));
}