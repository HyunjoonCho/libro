public void testObfuscatedCode() throws Exception {
    String input = "function(arg){ var arg = 1; }";
    String expectedOutput = "function(arg$jscomp$0){ var arg$jscomp$1 = 1; }";
    String actualOutput = compile(input);
    assertEquals(expectedOutput, actualOutput);
}

private String compile(String input) throws Exception {
    SourceFile src = SourceFile.fromCode("input.js", input);
    Compiler compiler = new Compiler();
    compiler.initOptions(new CommandLineRunner().getOptionsForCompilation(null));
    compiler.compile(ImmutableList.of(src), null, null);
    return compiler.toSource();
}