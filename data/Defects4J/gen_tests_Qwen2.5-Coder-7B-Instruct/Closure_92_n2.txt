public void testImplicitNamespacesAcrossModules() {
  String js =
      "goog.provide('apps');" +
      "goog.provide('apps.foo.bar.B');" +
      "goog.provide('apps.foo.bar.C');";

  Compiler compiler = new Compiler();
  compiler.initOptions(new Options());
  compiler.addInput("test", js);
  compiler.compile();

  Node root = compiler.getRootScope().getRootNode();
  assertTrue(root.hasChildren());

  Node appsNode = root.getFirstChild();
  assertNotNull(appsNode);

  Node fooNode = appsNode.getFirstChild();
  assertNotNull(fooNode);

  Node barNode = fooNode.getNext();
  assertNotNull(barNode);

  assertNull(barNode.getFirstChild());
}