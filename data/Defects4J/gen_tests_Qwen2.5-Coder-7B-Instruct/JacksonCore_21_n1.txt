public void testFilteringParserDelegateMissesLastClosingEndObject() throws IOException {
    String jsonInput = "{\n" +
            "  \"a\":123,\n" +
            "  \"array\":[1,2],\n" +
            "  \"ob\": {\n" +
            "    \"value0\":2,\n" +
            "    \"value\":3,\n" +
            "    \"value2\":4\n" +
            "  },\n" +
            "  \"b\":true\n" +
            "}";
    
    JsonFactory factory = new JsonFactory();
    JsonParser p0 = factory.createParser(jsonInput);
    
    JsonParser p = new FilteringParserDelegate(p0,
            new NameMatchFilter("value"),
                    true, // includePath
                    false // multipleMatches
                 );

    while (!p.isClosed()) {
        p.nextToken();
    }

    assertTrue(p.getCurrentToken().isStructStart());
    p.nextToken();
    assertTrue(p.getCurrentToken().equals(JsonToken.FIELD_NAME));
    assertEquals("value", p.getCurrentName());
    p.nextToken();
    assertEquals(JsonToken.VALUE_NUMBER_INT, p.currentToken());
    assertEquals(3, p.getIntValue());

    p.nextToken