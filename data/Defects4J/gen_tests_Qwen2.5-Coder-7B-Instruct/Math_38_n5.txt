public void testBOBYQAOptimizer() throws Exception {
    int dim = 3;
    double[][] boundaries = {{-1.0, -1.0, -1.0}, {1.0, 1.0, 1.0}};
    double[] startPoint = {0.0, 0.0, 0.0};
    double maxEvaluations = 100000;

    // Create a mock objective function
    MultivariateFunction func = mock(MultivariateFunction.class);

    // Set up the expected calls and results
    when(func.value(startPoint)).thenReturn(0.0);

    // Use 2*dim+2 interpolation points to trigger the issue
    BOBYQAOptimizer optim = new BOBYQAOptimizer(2 * dim + 2);
    try {
        optim.optimize(maxEvaluations, func, GoalType.MINIMIZE, startPoint, boundaries[0], boundaries[1]);
        fail("Expected an exception to be thrown");
    } catch (Exception e) {
        // Verify the exception message or type if necessary
    }
}