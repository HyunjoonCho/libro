public void testNonRightmostExpressions() {
    // Test case 1
    Expression expr1 = new Expression("(1, 2, 42)");
    assertEquals(Arrays.asList(1, 3), expr1.transform());
    assertTrue(expr1.hasWarning());

    // Test case 2
    Expression expr2 = new Expression("(bar(), 2, 42)");
    assertEquals(Arrays.asList(bar(), 3), expr2.transform());
    assertFalse(expr2.hasWarning());

    // Test case 3
    Expression expr3 = new Expression("((1, 2, 3), (4, 5, 42))");
    assertEquals(Arrays.asList(1, 4, 42), expr3.transform());
    assertTrue(expr3.hasWarning());
}