public void testArrayIndexOutOfBoundsException() throws Exception {
    ByteArrayOutputStream baos = new ByteArrayOutputStream();
    for (int i = 0; i < 10920; i++) {
        baos.write((byte) 0);
    }
    ByteArrayInputStream bais = new ByteArrayInputStream(baos.toByteArray());
    Base64InputStream b64stream = new Base64InputStream(bais, true, 0, null);
    for (int i = 0; i < 10920; i++) {
        b64stream.read();
    }
    try {
        b64stream.read();
        fail("Expected ArrayIndexOutOfBoundsException");
    } catch (ArrayIndexOutOfBoundsException e) {
        // Expected exception
    }
}