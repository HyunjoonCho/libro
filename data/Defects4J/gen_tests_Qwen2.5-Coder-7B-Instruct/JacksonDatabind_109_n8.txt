import static org.junit.Assert.assertEquals;

import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.SerializationFeature;
import com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;

public class TestJsonFormat {

    public void testWriteBigDecimalAsPlainIgnoredWithJsonFormat() throws Exception {
        ObjectMapper mapper = new ObjectMapper();
        mapper.registerModule(new JavaTimeModule());
        mapper.configure(SerializationFeature.WRITE_BIGDECIMAL_AS_PLAIN, true);

        DataClass data = new DataClass(new BigDecimal("5.0E-10"));

        String result = mapper.writeValueAsString(data);
        assertEquals("{\"value\":\"5.0E-10\"}", result);
    }

    static class DataClass {
        private final BigDecimal value;

        public DataClass(BigDecimal value) {
            this.value = value;
        }

        public BigDecimal getValue() {
            return value;
        }
    }
}