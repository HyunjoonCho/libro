public void testJsCompilerTypedefResolution() throws Exception {
    String jsCode = "goog.provide('a.b.c');"
            + "goog.scope(function() {"
            + "var b = a.b;"
            + "var c = b.c;"
            + "/** @typedef {string} */"
            + "c.MyType;"
            + "/** @param {c.MyType} x The variable. */"
            + "c.myFunc = function(x) {};"
            + "});";

    JavaScriptCompiler compiler = new JavaScriptCompiler();
    CompilerOptions options = new CompilerOptions();
    compiler.compile(new SourceFile("test.js", jsCode), null, options);

    assertTrue(compiler.hasErrors());
    assertFalse(compiler.hasWarnings());
}