public void testComparingNan() {
    Double nan = Double.NaN;
    assertFalse(nan.equals(nan));
    assertTrue(Double.compare(nan, nan) == 0);
}