public void testLendsAnnotationError() {
    // This test is expected to fail due to the issue described
    String code = 
        "/**\n" +
        "* @constructor\n" +
        "*/\n" +
        "var Person = function() {};\n" +
        "\n" +
        "/**\n" +
        "@lends Person.prototype\n" +
        "*/\n" +
        "Person.prototype.getName = function() { return 'John'; };\n";

    JsCompiler compiler = new JsCompiler();
    CompilerOptions options = new CompilerOptions();
    options.setCheckTypes(true);
    compiler.init(options, null, new PrintStream(System.err));
    compiler.compile(
        ImmutableList.of(new SourceFile("test.js", code)),
        ImmutableList.<SourceFile>of(),
        ImmutableList.<JSModule>of(),
        null,
        null);
    assertTrue(compiler.hasErrors());
}