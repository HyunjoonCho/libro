public void testThreadLocalMemoryLeak() throws Exception {
    // Trigger loading of ToStringStyle
    ToStringStyle.SHORT_PREFIX_STYLE;

    // Create a new thread to simulate container environment
    Thread t = new Thread(() -> {
        // Simulate usage of ToStringStyle
        Object obj = new Object();
        String str = ToStringBuilder.reflectionToString(obj, ToStringStyle.SHORT_PREFIX_STYLE);
    });

    t.start();
    t.join();

    // Check if the thread local has been removed
    Field field = ToStringStyle.class.getDeclaredField("threadLocal");
    field.setAccessible(true);
    assertNull(field.get(null));
}