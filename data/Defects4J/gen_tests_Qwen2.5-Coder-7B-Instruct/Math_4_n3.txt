public void testIntersectionNPE() {
    Line line1 = new Line(new Point3D(0, 0, 0), new Point3D(1, 1, 1));
    Line line2 = new Line(new Point3D(0, 0, 1), new Point3D(1, 1, 0));
    try {
        line1.toSubSpace();
        fail("Expected NullPointerException");
    } catch (NullPointerException e) {
        // Expected exception
    }
    assertNull(line1.intersection(line2));
}