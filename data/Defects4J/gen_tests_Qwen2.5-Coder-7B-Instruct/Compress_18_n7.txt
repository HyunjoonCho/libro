public void testTarArchiveWithLongDirectoryName() throws IOException {
    try (TarArchiveOutputStream taos = new TarArchiveOutputStream(new ByteArrayOutputStream())) {
        String longDirName = "a".repeat(150); // Create a directory name longer than 100 bytes
        TarArchiveEntry entry = new TarArchiveEntry(longDirName, "");
        taos.putArchiveEntry(entry);
        taos.closeArchiveEntry();
        fail("Expected IOException due to long directory name");
    } catch (IOException e) {
        assertTrue(e.getMessage().contains("exceeds size in header"));
    }
}