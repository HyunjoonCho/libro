public void testClosureCompilerDefineAnnotation() throws Exception {
    String input = "/** @define {string} */\n" +
                   "var CONSTANT = \"some very long string name that I want to wrap \" +\n" +
                   " \"and so break using a + since I don't want to \" +\n" +
                   " \"introduce a newline into the string.\";";
    List<String> args = Arrays.asList("--js", new File(input).getAbsolutePath());
    Compiler compiler = new Compiler();
    compiler.initLogger(new PrintStream(System.err));
    compiler.setCommandLineFlags(args.toArray(new String[0]));
    Result result = compiler.compile(null, null, null);
    assertFalse(result.success);
    assertTrue(compiler.getErrorBuffer().toString().contains("expected token: NAME, found '+'"));
}