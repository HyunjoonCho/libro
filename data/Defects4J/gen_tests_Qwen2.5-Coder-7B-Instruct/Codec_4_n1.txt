import org.apache.commons.codec.binary.Base64;
import org.junit.Test;
import static org.junit.Assert.*;

public class Base64Test {

    @Test
    public void testEncodeWithChunking() {
        String input = "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa";
        byte[] encoded = Base64.encodeBase64(input.getBytes());
        String encodedString = new String(encoded);

        assertTrue(encodedString.contains("\n"));
        assertEquals(76, encodedString.split("\n")[0].length());
    }

    @Test
    public void testEncodeWithoutChunking() {
        String input = "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa";
        Base64 base64 = new Base64();
        byte[] encoded = base64.encode(input.getBytes());
        String encodedString = new String(encoded);

        assertFalse(encodedString.contains("\n"));
    }
}