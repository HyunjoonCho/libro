public void testNpeWhenClassCannotBeMocked() throws Exception {
    PowerMockito.mockStatic(SomeClass.class);
    PowerMockito.when(SomeClass.someMethod()).thenReturn(null);

    try {
        SomeClass mock = PowerMockito.mock(SomeClass.class);
    } catch (NullPointerException e) {
        // Expected NullPointerException
    }
}