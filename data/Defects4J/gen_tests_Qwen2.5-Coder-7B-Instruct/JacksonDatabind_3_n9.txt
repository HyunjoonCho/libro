public void testNullStringArrayDeserializationFailure() throws IOException {
    ObjectMapper mapper = new ObjectMapper();
    String json = "[null]";
    try {
        String[] array = mapper.readValue(json, String[].class);
    } catch (Exception e) {
        // Expected exception on Jackson 2.4.0
        return;
    }
    fail("Expected NullPointerException on Jackson 2.4.0");
}