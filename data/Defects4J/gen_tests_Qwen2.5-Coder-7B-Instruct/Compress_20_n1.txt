public void testReadCpioArchiveWithNonZeroTrailerMode() throws Exception {
    InputStream inputStream = getClass().getResourceAsStream("/non_zero_trailer_mode.cpio");
    try (CpioArchiveInputStream cpioInput = new CpioArchiveInputStream(inputStream)) {
        while ((cpioInput.getNextEntry())!= null) {
            // Consume all entries
        }
    } catch (IllegalArgumentException e) {
        fail("Reading CPIO archive with non-zero trailer mode should not throw IllegalArgumentException");
    }
}