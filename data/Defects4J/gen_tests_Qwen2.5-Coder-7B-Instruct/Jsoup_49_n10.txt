public void testBugInElementInsertChildren() {
    Document doc = Jsoup.parse("<html><head></head><body><div1></div1><div2></div2><div3></div3><div4></div4></body></html>");
    Element body = doc.body();
    Elements divs = body.select("div");

    List<Element> toMove = Arrays.asList(divs.get(2), divs.get(3));
    body.insertChildren(0, toMove);

    String expectedHtml = "<html><head></head><body><div3></div3><div4></div4><div1></div1><div2></div2></body></html>";
    assertEquals(expectedHtml.replaceAll("\\s+", ""), doc.html().replaceAll("\\s+", ""));
}