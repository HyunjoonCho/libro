public void testJsonIgnoreProperties() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    SimpleModule module = new SimpleModule();
    module.setMixInAnnotation(Throwable.class, IgnoreCauseMixin.class);
    mapper.registerModule(module);

    String json = "{\"message\":\"test\"}";
    try {
        mapper.readValue(json, Exception.class);
        fail("Expected JsonMappingException");
    } catch (JsonMappingException e) {
        // Expected
    }
}

class IgnoreCauseMixin {
    @JsonIgnore
    public Throwable getCause() {
        return null;
    }
}