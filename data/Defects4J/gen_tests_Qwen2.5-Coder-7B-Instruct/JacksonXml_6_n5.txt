public void testWriteBinaryWithInputStream() throws Exception {
    ByteArrayOutputStream out = new ByteArrayOutputStream();
    ToXMLGenerator xmlGen = new ToXMLGenerator(new XmlFactory(), JsonEncoding.UTF8, out);
    
    byte[] testData = "test".getBytes();
    InputStream inputStream = new ByteArrayInputStream(testData);
    
    try {
        xmlGen.writeBinary(null, inputStream, testData.length);
    } catch (Exception e) {
        fail("Expected writeBinary(InputStream) to be supported.");
    }
    
    String result = out.toString(JsonEncoding.UTF8.GetString());
    assertTrue(result.contains("<binary>"));
}