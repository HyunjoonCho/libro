public void testIncompleteHandlingOfUndefinedNamespaces() throws Exception {
    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
    factory.setNamespaceAware(true);
    DocumentBuilder builder = factory.newDocumentBuilder();
    Document document = builder.parse(new InputSource(new StringReader("<root xmlns:a=\"http://example.com/a\" xmlns:b=\"http://example.com/b\"><a:elementA><b:elementB>MY VALUE</b:elementB></a:elementA></root>")));

    DOMModel model = new DOMModel(document);
    NodePointer pointer = model.getNodePointer("/root/a:elementA/@a:myAttr");
    pointer.setAttributeValue("MyType");

    // No exception should be thrown
}