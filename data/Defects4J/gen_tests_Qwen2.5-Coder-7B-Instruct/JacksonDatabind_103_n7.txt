public void testDoubleLocationInfoInJsonMappingException() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    try {
        mapper.readValue("\"invalid json", MyClass.class);
    } catch (JsonMappingException e) {
        String message = e.getMessage();
        assertTrue(message.contains("at [source]"));
        assertFalse(message.contains("at [source] at [source]"));
    }
}

class MyClass {
    public int field;
}