public void testArchiveStreamFactoryEncoding() throws IOException {
    String encoding = "UTF-8";
    InputStream input = new ByteArrayInputStream(new byte[0]);
    try {
        ArchiveInputStream ais = ArchiveStreamFactory.createArchiveInputStream(encoding, input);
        assertEquals(encoding, ((AbstractArchiveEntry) ais.getNextEntry()).getComment());
    } finally {
        input.close();
    }
}