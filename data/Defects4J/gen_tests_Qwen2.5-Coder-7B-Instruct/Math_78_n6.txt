public void testODEEventDetection() {
    // Set up the initial conditions and parameters for the ODE integration
    double[] y0 = {... }; // Initial state vector
    double t0 = 67.5;      // Start time of the integration
    double tf = 153.0;     // End time of the integration

    // Create the integrator and set the event handler
    ODEIntegrator integrator = new DORMidpointIntegrator(t0, tf);
    EventDetector detector = new MyEventDetector();
    integrator.addEventHandler(detector);

    // Perform the integration
    integrator.integrate(new MyODEProblem(), y0, tf);

    // Check that both events were detected
    assertTrue(detector.eventDetectedAt(90.0));
    assertTrue(detector.eventDetectedAt(135.0));
}