public void testOptionGroupWithLongOption() {
    OptionGroup group = new OptionGroup();
    Option option1 = new Option("longopt", "A long option without a short name");
    Option option2 = new Option("shortopt", "A short option");
    group.addOption(option1);
    group.addOption(option2);

    CommandLine cmdLine = new GnuParser().parse(group, new String[]{"--longopt"});
    assertTrue(cmdLine.hasOption("longopt"));

    group.setSelected(option1);
    assertFalse(cmdLine.hasOption("shortopt"));
}