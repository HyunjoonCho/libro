public void testIssueCompilerRemovesFunctionProperties() {
    Map<String, Object> map = new HashMap<>();
    
    Runnable f1 = () -> System.out.println("f1");
    ((Object)f1).getClass().getDeclaredField("alwaysCall").setBoolean(f1, true);
    
    Runnable f2 = () -> System.out.println("f2");
    
    map.put("f1", f1);
    map.put("f2", f2);

    String key = Math.random() > 0.5? "f1" : "f2";
    Runnable runnable = (Runnable) map.get(key);
    
    assertTrue(((Object)runnable).getClass().getDeclaredField("alwaysCall").getBoolean(runnable));
}