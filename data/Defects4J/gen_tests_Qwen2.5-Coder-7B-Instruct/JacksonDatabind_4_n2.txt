public void testInvalidFormatExceptionIndex() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    try {
        mapper.readValue("[\"a\", \"b\", \"c\"", String[].class);
    } catch (InvalidFormatException e) {
        assertNotNull(e.getPath());
        assertEquals(2, e.getPath().size());
        assertEquals(3, ((Reference)e.getPath().get(1)).getIndex());
    }
}