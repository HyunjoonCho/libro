public void testDifferentOutputFromRestApiAndCommandLineJar() throws Exception {
    // Setup input JavaScript file
    File inputFile = new File("test.js");
    Files.write(inputFile.toPath(), 
            "var foreignObject = gfx.parentNode.parentNode;\n" +
            "var parentContainer = foreignObject.parentNode.parentNode;".getBytes());

    // Compile using command line jar
    ProcessBuilder pb = new ProcessBuilder(
        "java", "-jar", "compiler.jar", "--js", inputFile.getAbsolutePath()
    );
    Process process = pb.start();
    String commandLineOutput = new String(process.getInputStream().readAllBytes());

    // Compile using REST API
    URL url = new URL("http://closure-compiler.appspot.com/home");
    HttpURLConnection conn = (HttpURLConnection) url.openConnection();
    conn.setRequestMethod("POST");
    conn.setDoOutput(true);
    try (OutputStream os = conn.getOutputStream()) {
        byte[] input = ("{\"compilation_level\": \"SIMPLE_OPTIMIZATIONS\",\n" +
                "\"output_file_name\": \"default.js\",\n" +
                "\"js_code\": \"" + 
                "var foreignObject = gfx.parentNode.parentNode;\n" +
                "var parentContainer = foreignObject.parentNode.parentNode;\"}").