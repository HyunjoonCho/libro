public void testNextTextValueForAttributes() throws Exception {
    String xml = "<root><child attribute=\"value\">text</child></root>";
    XMLInputFactory factory = XMLInputFactory.newInstance();
    InputStream stream = new ByteArrayInputStream(xml.getBytes());
    XMLStreamReader reader = factory.createXMLStreamReader(stream);

    // Move to the start element
    while (reader.hasNext()) {
        int event = reader.next();
        if (event == XMLStreamConstants.START_ELEMENT) {
            break;
        }
    }

    // Move to the first attribute
    assertTrue(reader.hasNext());
    int event = reader.next();
    assertEquals(XMLStreamConstants.ATTRIBUTE, event);

    // Call nextTextValue()
    String text = ((FromXMLParser) reader).nextTextValue();

    // Verify that the text is not null and matches the attribute value
    assertNotNull(text);
    assertEquals("value", text);
}