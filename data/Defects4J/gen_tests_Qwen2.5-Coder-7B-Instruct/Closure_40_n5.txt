public void testSmartNameRemovalCrash() {
    String sourceCode = 
        "var goog = {};\n" +
        "goog.inherits = function(x, y) {};\n" +
        "var ns = {};\n" +
        "/** @constructor */\n" +
        "ns.PageSelectionModel = function(){};
        /** @constructor */\n" +
        "ns.PageSelectionModel.FooEvent = function() {};
        /** @constructor */\n" +
        "ns.PageSelectionModel.SelectEvent = function() {};
        goog.inherits(ns.PageSelectionModel.ChangeEvent, ns.PageSelectionModel.FooEvent);";
    try {
        // Attempt to compile the source code
        Compiler compiler = new Compiler();
        compiler.compile(new JSSourceFile("test.js", sourceCode));
        fail("Expected compilation to fail due to smartNameRemoval issue");
    } catch (Exception e) {
        // Expected exception
    }
}