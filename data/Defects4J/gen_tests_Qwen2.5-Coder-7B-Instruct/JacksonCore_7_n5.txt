public void testWriteStringWithoutFieldName() throws Exception {
    ByteArrayOutputStream out = new ByteArrayOutputStream();
    JsonFactory factory = new JsonFactory();
    JsonGenerator gen = factory.createGenerator(out);
    try {
        gen.writeString("test");
        fail("Expected an IllegalStateException to be thrown.");
    } catch (IllegalStateException e) {
        // Expected exception
    }
    gen.close();
}