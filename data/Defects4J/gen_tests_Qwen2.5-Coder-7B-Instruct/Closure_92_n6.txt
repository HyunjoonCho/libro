public void testImplicitNamespaces() throws Exception {
  String[] files = new String[] {
    "module_a.js",
    "module_b.js",
    "module_c.js"
  };
  String[] expected = new String[] {
    "var apps={};apps.foo.bar={};apps.foo={};",
    "apps.foo.bar.B={};",
    "apps.foo.bar.C={};"
  };

  Compiler compiler = new Compiler();
  List<CompilerInput> inputs = new ArrayList<>();
  for (int i = 0; i < files.length; i++) {
    inputs.add(new CompilerInput(files[i], SourceKind.EXTERNAL));
  }
  compiler.compile(inputs, null, null);

  for (int i = 0; i < files.length; i++) {
    assertEquals(expected[i], compiler.toSource(i));
  }
}