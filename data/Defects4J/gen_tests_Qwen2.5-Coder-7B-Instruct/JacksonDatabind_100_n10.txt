public void testTreeTraversingParserBase64Variant() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    String json = "\"SGVsbG8gV29ybGQh\""; // Base64 encoded "Hello World!"
    byte[] expected = "Hello World!".getBytes();

    JsonNode node = mapper.readTree(json.getBytes());
    Base64Variants variant = Base64Variants.getDefaultVariant();
    byte[] actual = ((ArrayNode)node).getBinaryValue(variant);

    assertArrayEquals(expected, actual);
}