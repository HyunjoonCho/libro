public void testAnonymousObjectTypeInference() {
    Object obj1 = new Object() {
        public String prop = "a";
    };
    Object obj2 = new Object() {
        public String prop = "a";
        public String prop2;
    };

    func(obj1); // This should not cause an error
    func2(obj1); // This should not cause an error

    func2(obj2); // This should not cause an error
}