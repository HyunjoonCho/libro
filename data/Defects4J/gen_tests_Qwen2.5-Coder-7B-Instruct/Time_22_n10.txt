public void testDurationToPeriodWithFixedTimeZone() {
    TimeZone.setDefault(TimeZone.getTimeZone("America/New_York")); // Set a DST timezone
    Duration duration = new Duration(30 * DateTimeConstants.MILLIS_PER_HOUR + 50 * DateTimeConstants.MILLIS_PER_MINUTE + 14 * DateTimeConstants.MILLIS_PER_SECOND);
    Period period = duration.toPeriod();
    assertEquals(30, period.getHours());
    assertEquals(50, period.getMinutes());
    assertEquals(14, period.getSeconds());

    TimeZone.setDefault(TimeZone.getTimeZone("Etc/GMT")); // Set a non-DST timezone
    duration = new Duration(30 * DateTimeConstants.MILLIS_PER_HOUR + 50 * DateTimeConstants.MILLIS_PER_MINUTE + 14 * DateTimeConstants.MILLIS_PER_SECOND);
    period = duration.toPeriod();
    assertEquals(30, period.getHours());
    assertEquals(50, period.getMinutes());
    assertEquals(14, period.getSeconds());
}