public void testMultidimensionalCounter() {
    MultidimensionalCounter counter = new MultidimensionalCounter(2, 4);
    List<int[]> indices = new ArrayList<>();
    for (int i : counter) {
        indices.add(counter.getCounts());
    }
    assertArrayEquals(new int[]{0, 0}, indices.get(0));
    assertArrayEquals(new int[]{0, 1}, indices.get(1));
    assertArrayEquals(new int[]{0, 2}, indices.get(2));
    assertArrayEquals(new int[]{1, 0}, indices.get(4));
    assertArrayEquals(new int[]{1, 1}, indices.get(5));
    assertArrayEquals(new int[]{1, 2}, indices.get(6));
}