public void testSiblingElementsNullPointerException() {
    Document doc = new DOMParser().parse(new InputSource(new StringReader("<root><child1/><child2/></root>")));
    Element child1 = (Element)doc.getElementsByTagName("child1").item(0);
    Element child2 = (Element)doc.getElementsByTagName("child2").item(0);
    
    child1.removeChild(child2);
    assertNull(child2.nextSibling());
    assertNull(child2.previousSibling());
    assertTrue(child2.siblingElements().isEmpty());
}