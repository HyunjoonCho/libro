public void testOptionGroupsNotUpdatedByDefaultOptions() {
    Options options = new Options();
    OptionGroup group = new OptionGroup(true);
    group.addOption(new Option("a", false, "option a"));
    group.addOption(new Option("b", false, "option b"));
    options.addOptionGroup(group);

    Properties defaults = new Properties();
    defaults.setProperty("option", "b");

    CommandLineParser parser = new DefaultParser();
    String[] args = {"-a"};
    try {
        CommandLine cmdLine = parser.parse(options, args, defaults);
        fail("Expected ParseException due to conflicting options");
    } catch (ParseException e) {
        // Expected exception
    }
}