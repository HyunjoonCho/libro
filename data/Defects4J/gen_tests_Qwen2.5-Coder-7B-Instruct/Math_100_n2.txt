public void testAbstractEstimator() throws Exception {
    Problem problem = mock(Problem.class);
    ParameterVector parameters = new ParameterVector();
    Parameter param1 = new Parameter("param1", 0, 1);
    Parameter param2 = new Parameter("param2", 0, 0); // Bound parameter
    parameters.add(param1);
    parameters.add(param2);
    when(problem.getAllParameters()).thenReturn(parameters.toArray());
    when(problem.getParameterCount()).thenReturn(parameters.size());

    AbstractEstimator estimator = new AbstractEstimator(problem) {};
    double[][] covariances = estimator.getCovariances();

    assertEquals(1, covariances.length);
    assertEquals(1, covariances[0].length);
}