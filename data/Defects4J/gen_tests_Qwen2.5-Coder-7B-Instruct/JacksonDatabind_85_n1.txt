public void testDateTimeSerializerBase() throws JsonProcessingException {
    ObjectMapper mapper = new ObjectMapper();
    SimpleModule module = new SimpleModule();
    module.addSerializer(Date.class, new CustomDateSerializer());
    mapper.registerModule(module);

    Date date = new Date(); // some arbitrary date
    String json = mapper.writeValueAsString(date);
    Date deserializedDate = mapper.readValue(json, Date.class);

    assertEquals(date, deserializedDate);
}

class CustomDateSerializer extends JsonSerializer<Date> {
    @Override
    public void serialize(Date value, JsonGenerator gen, SerializerProvider serializers) throws IOException {
        SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSSZ");
        String formattedDate = sdf.format(value);
        gen.writeString(formattedDate);
    }
}