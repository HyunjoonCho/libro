public void testCannotReturnDeepStubsFromGenericMethod() {
    InterfaceUnderTest mock = mock(InterfaceUnderTest.class, RETURNS_DEEP_STUBS);

    Supplier<String> supplier = mock(Supplier.class);
    when(mock.method(String.class)).thenReturn(supplier);
    when(mock.method(String.class).get()).thenReturn("expectedValue");

    String result = mock.method(String.class).get();
    assertEquals("expectedValue", result);
}