public void testZlibHeaderHandling() throws Exception {
    InputStream inputStream = new FileInputStream("bla.tar.deflatez");
    try {
        CompressorStreamFactory factory = new CompressorStreamFactory();
        factory.createCompressorInputStream(inputStream);
        fail("Expected CompressorException");
    } catch (CompressorException e) {
        assertTrue(e.getMessage().contains("No Compressor found for the stream signature."));
    }
}