public void testCustomSerializerNotUsedWithJsonValue() throws JsonProcessingException {
    ObjectMapper mapper = new ObjectMapper();
    SimpleModule module = new SimpleModule();
    module.addSerializer(MyPojo.class, new MyPojoSerializer());
    mapper.registerModule(module);

    MyPojo pojo = new MyPojo();
    String json = mapper.writeValueAsString(pojo);
    assertEquals("{\"custom\":\"serializer\"}", json);
}

class MyPojo {
    @JsonValue
    public String getValue() {
        return "default";
    }
}

class MyPojoSerializer extends JsonSerializer<MyPojo> {
    @Override
    public void serialize(MyPojo value, JsonGenerator gen, SerializerProvider serializers) throws IOException {
        gen.writeStartObject();
        gen.writeStringField("custom", "serializer");
        gen.writeEndObject();
    }
}