public void testArgumentsScope () {
    Function outerFunction = new Function() {
        public Object call(Object... args) {
            Function innerFunction = new Function() {
                public Object call(Object... args) {
                    setTimeout(new Runnable() {
                        public void run() {
                            alert(args);
                        }
                    }, 0);
                    return null;
                }
            };
            return innerFunction.call();
        }
    };
    outerFunction.call(1, 2, 3);
}