public void testGoogAddSingletonGetter() {
    // Arrange
    String input = "goog.provide('foo');\n" +
                   "var foo = function() { this.values = []; };\n" +
                   "goog.addSingletonGetter(foo);\n" +
                   "\n" +
                   "foo.prototype.add = function(value) { this.values.push(value); };";
    
    // Act
    Compiler compiler = new Compiler();
    compiler.compile(new JsAstRoot(new Node(Token.SCRIPT)));
    compiler.compileModule(input);
    
    // Assert
    String jsCode = compiler.toSource();
    assertFalse(jsCode.contains("goog.addSingletonGetter(foo)"));
}