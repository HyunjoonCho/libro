public void testWriteStringAfterFieldName() throws Exception {
    StringWriter sw = new StringWriter();
    JsonGenerator jg = JsonFactory.defaultInstance().createGenerator(sw);
    jg.writeFieldName("field");
    try {
        jg.writeString("value");
        fail("Expected an exception to be thrown");
    } catch (IllegalStateException e) {
        // Expected exception
    }
}