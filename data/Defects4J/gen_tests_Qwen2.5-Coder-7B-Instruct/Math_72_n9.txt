public void testBrentSolverRootAtBracketEndpoint() {
    UnivariateRealFunction function = new UnivariateRealFunction() {
        public double value(double x) {
            return (x - 2) * (x - 5); // Roots at 2 and 5
        }
    };

    BrentSolver solver = new BrentSolver();
    double result;

    // Min is a root
    result = solver.solve(function, 1, 2, 1.5);
    assertEquals(2, result, 1e-6);

    // Max is a root
    result = solver.solve(function, 4, 6, 5.5);
    assertEquals(5, result, 1e-6);
}