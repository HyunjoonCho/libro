public void testFinishMethod() throws IOException {
    ArchiveOutputStream aos = mock(ArchiveOutputStream.class);
    try (Closeable c = () -> aos.finish()) {
        // Call finish() directly which should not happen
        aos.finish();
        fail("finish() should not be callable externally");
    } catch (IllegalStateException e) {
        // Expected exception
    }
}