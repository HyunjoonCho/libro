public void testUnableToSelectPureLongOptionInAGroup() {
    OptionGroup group = new OptionGroup();
    Option optionWithoutShortName = new Option("longopt", "This is a long option without a short name");
    group.addOption(optionWithoutShortName);

    Option anotherOption = new Option("shortopt", "This is an option with a short name");
    group.addOption(anotherOption);

    CommandLine cmdLine = new GnuParser().parse(group, new String[]{"--longopt"});

    assertTrue(cmdLine.hasOption("longopt"));
    assertFalse(cmdLine.hasOption("shortopt"));

    group.setSelected(optionWithoutShortName);

    assertTrue(cmdLine.hasOption("longopt"));
    assertFalse(cmdLine.hasOption("shortopt"));
}