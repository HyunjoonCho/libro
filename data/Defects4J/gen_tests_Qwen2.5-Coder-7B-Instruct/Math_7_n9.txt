public void testEventStateNotUpdated() {
    // Arrange
    ODESolver solver = new ODESolver();
    EventHandler handler1 = new EventHandler() {
        @Override
        public boolean eventOccurred(double t, double[] y) {
            return true;
        }

        @Override
        public Action getAction() {
            return Action.RESET_STATE;
        }
    };
    EventHandler handler2 = new EventHandler() {
        @Override
        public boolean eventOccurred(double t, double[] y) {
            return false;
        }

        @Override
        public Action getAction() {
            return Action.CONTINUE;
        }
    };
    solver.addEventHandler(handler1);
    solver.addEventHandler(handler2);

    // Act
    solver.solve();

    // Assert
    assertFalse(handler2.eventOccurredWasCalledWithWrongState);
}