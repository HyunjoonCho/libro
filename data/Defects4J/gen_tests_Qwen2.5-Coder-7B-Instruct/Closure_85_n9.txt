public void testReproduceableCrashWithSwitchStatement() {
    String jsCode = 
        "function a(b) { \n" +
        "  switch (b.v) { \n" +
        "  case 'SWITCH': \n" +
        "    if (b.i >= 0) { \n" +
        "      return b.o; \n" +
        "    } else { \n" +
        "      return undefined; \n" +
        "    } \n" +
        "    // break; \n" + // Commented out to reproduce the crash
        "  } \n" +
        "}";
    // This should throw an exception without crashing
    assertThrows(RuntimeException.class, () -> {
        JavaScriptEngine engine = new ScriptEngineManager().getEngineByName("JavaScript");
        engine.eval(jsCode);
    });
}