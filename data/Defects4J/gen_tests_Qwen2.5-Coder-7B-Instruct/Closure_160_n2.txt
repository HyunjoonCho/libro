public void testCheckVarsAndUndefinedVarsDiagnostics() {
    String[] args = {"--js", "test.js", "--jscomp_warning", "checkVars"};
    List<String> expectedWarnings = Collections.emptyList();
    runCompiler(args, expectedWarnings);

    args = new String[]{"--js", "test.js", "--jscomp_warning", "undefinedVars"};
    expectedWarnings = Collections.emptyList();
    runCompiler(args, expectedWarnings);
}

private void runCompiler(String[] args, List<String> expectedWarnings) {
    Main main = new Main();
    List<String> warnings = new ArrayList<>();
    main.processArgs(Arrays.asList(args), warnings);
    assertEquals(expectedWarnings, warnings);
}