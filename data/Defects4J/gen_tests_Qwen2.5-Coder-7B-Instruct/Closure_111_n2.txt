public void testGoogIsArrayDoesntHintCompiler() {
    String jsCode =
      "/**\n" +
      " * @param {*}\n" +
      " * @return {*}\n" +
      " */\n" +
      "var test = function(object) {\n" +
      "  if (goog.isArray(object)) {\n" +
      "    /** @type {Array} */ var x = object;\n" +
      "    return x;\n" +
      "  }\n" +
      "};";
    JsError error = compileJsToAst(jsCode).getErrors().iterator().next();
    assertTrue(error.getMessage().contains("initializing variable\n" +
                                           "found : *\n" +
                                           "required: (Array|null)\n" +
                                           "/** @type {Array} */ var x = object;"));
}