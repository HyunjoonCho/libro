public void testBufferOwnershipChecks() throws Exception {
    ByteArrayOutputStream out = new ByteArrayOutputStream();
    IOContext context = IOContext.builder(out).build();
    byte[] buffer = new byte[1024];
    ByteBuffer byteBuffer = ByteBuffer.wrap(buffer);

    // Simulate a scenario where a different buffer of the same size is returned
    ByteBuffer newByteBuffer = ByteBuffer.allocateDirect(1024);

    // This should not throw an exception as per the description
    try {
        context.updateByteBuffers(newByteBuffer, null, null, true);
    } catch (IOException e) {
        fail("Exception thrown unexpectedly: " + e.getMessage());
    }
}