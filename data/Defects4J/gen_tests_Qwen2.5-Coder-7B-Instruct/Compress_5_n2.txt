public void testZipArchiveInputStreamEndOfStream() throws Exception {
    // Create a truncated zip input stream
    InputStream inputStream =...;
    ZipArchiveInputStream zis = new ZipArchiveInputStream(inputStream);

    // Read until the end
    byte[] buffer = new byte[1024];
    int bytesRead;
    while ((bytesRead = zis.read(buffer))!= -1) {
        // Do nothing
    }

    // Verify that -1 is returned for the next read
    assertEquals(-1, zis.read());

    // Close the stream
    zis.close();
}