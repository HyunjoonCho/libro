public void testDifferentOutputFromRestApiAndCommandLineJar() throws Exception {
    String input = "var foreignObject = gfx.parentNode.parentNode; var parentContainer = foreignObject.parentNode.parentNode;";
    String webUiOutput = "if(b){if(a=b.parentNode.parentNode,b=a.parentNode.parentNode,null!==b)";
    String commandLineOutput = "var b=a=a.parentNode.parentNode;";

    CompilerOptions options = new CompilerOptions();
    options.setCompilationLevel(CompilationLevel.SIMPLE_OPTIMIZATIONS);

    SourceFile externs = SourceFile.fromCode("externs", "");
    SourceFile inputSource = SourceFile.fromCode("input", input);

    Compiler compiler = new Compiler();
    compiler.init(externs, null, options);
    compiler.addInput(inputSource);
    compiler.checkErrorCount(0);
    compiler.checkWarningCount(0);

    String actualOutput = compiler.toSource();

    assertTrue(actualOutput.contains(webUiOutput) || actualOutput.contains(commandLineOutput));
}