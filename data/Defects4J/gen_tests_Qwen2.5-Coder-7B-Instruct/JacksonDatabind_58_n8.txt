public void testJsonIgnoreProperties() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    SimpleModule module = new SimpleModule();
    module.setMixInAnnotation(Throwable.class, IgnoreCauseMixin.class);
    mapper.registerModule(module);

    String json = "{\"message\":\"test\",\"cause\":{\"message\":\"cause\"}}";
    try {
        mapper.readValue(json, Exception.class);
        fail("Expected IllegalArgumentException");
    } catch (IllegalArgumentException e) {
        // expected
    }
}

class IgnoreCauseMixin {
    @JsonIgnore
    public Throwable getCause() {
        return null;
    }
}