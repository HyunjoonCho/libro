public void testClosureCompilerBug() throws Exception {
    URL url = new URL("http://closure-compiler.appspot.com/compile");
    HttpURLConnection conn = (HttpURLConnection) url.openConnection();
    conn.setRequestMethod("POST");
    conn.setDoOutput(true);

    String input = "function keys(obj) { var a = [], i = 0; for (a[i++] in obj) ; return a; }";
    try (OutputStream os = conn.getOutputStream()) {
        byte[] inputBytes = input.getBytes("utf-8");
        os.write(inputBytes, 0, inputBytes.length);           
    }

    int responseCode = conn.getResponseCode();
    assertEquals(HttpURLConnection.HTTP_OK, responseCode);

    try (BufferedReader br = new BufferedReader(
            new InputStreamReader(conn.getInputStream(), "utf-8"))) {
        StringBuilder response = new StringBuilder();
        String responseLine = null;
        while ((responseLine = br.readLine())!= null) {
            response.append(responseLine.trim());
        }
        assertFalse(response.toString().contains("java error"));
    }
}