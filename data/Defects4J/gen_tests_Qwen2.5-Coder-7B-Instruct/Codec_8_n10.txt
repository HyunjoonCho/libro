public void testArrayIndexOutOfBoundsException() throws Exception {
    byte[] input = new byte[10920];
    Arrays.fill(input, (byte) 0xFF);
    InputStream inputStream = new ByteArrayInputStream(input);

    Base64InputStream b64stream = new Base64InputStream(inputStream, true, 0, null);

    int count = 0;
    while (b64stream.read()!= -1) {
        count++;
    }

    assertEquals(10920, count);
}