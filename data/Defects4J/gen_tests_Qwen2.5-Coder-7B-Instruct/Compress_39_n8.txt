public void testDefectiveZipArchive() throws Exception {
    // Create a defective zip archive (e.g., by truncating a valid one)
    Path tempFile = Files.createTempFile("defective", ".zip");
    try (OutputStream out = Files.newOutputStream(tempFile)) {
        ZipOutputStream zos = new ZipOutputStream(out);
        ZipEntry entry = new ZipEntry("test.txt");
        zos.putNextEntry(entry);
        zos.write("Hello, World!".getBytes());
        // Truncate the file here
        zos.close();
    }

    try {
        try (InputStream in = Files.newInputStream(tempFile)) {
            new ZipInputStream(in).getNextEntry();
        }
        fail("Expected EOFException to be thrown");
    } catch (EOFException e) {
        // Expected exception, verify the error message size
        String message = e.getMessage();
        assertTrue(message.length() < 1024); // Adjust the threshold as needed
    } finally {
        Files.deleteIfExists(tempFile);
    }
}