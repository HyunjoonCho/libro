public void testObviousOptimizations() {
    assertEquals(3, new Object() {
        int a() { return 1; }
        int b() { return 2; }
        int sum(boolean a, int b) {
            return (a == true? 2 : a) + b;
        }
        public int run() {
            return sum(true, 1);
        }
    }.run());
}