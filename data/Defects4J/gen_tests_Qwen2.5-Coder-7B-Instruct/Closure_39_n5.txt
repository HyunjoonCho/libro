public void testExternExportTypedef() {
    String input = 
        "var /** @typedef {number} */ MyType;\n" +
        "function foo(x) {}\n" +
        "var y = 1;";
    String expectedOutput = 
        "MyType:number;\n" +
        "function foo(x);\n" +
        "var y:number;";
    ExternalInput externalInput = new ExternalInput(input);
    Compiler compiler = new Compiler();
    compiler.init(new CompilerOptions(), null, null);
    compiler.addInputs(externalInput);
    compiler.compile();
    String actualOutput = compiler.toSource();
    assertEquals(expectedOutput, actualOutput);
}