public void testAllowMultipleMatches() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    SimpleModule module = new SimpleModule();
    module.addSerializer(String.class, new JsonSerializer<String>() {
        @Override
        public void serialize(String value, JsonGenerator gen, SerializerProvider serializers) throws IOException {
            gen.writeStartArray();
            for (int i = 0; i < value.length(); ++i) {
                gen.writeString(value.substring(i, i + 1));
            }
            gen.writeEndArray();
        }
    });
    module.setMixInAnnotation(Object.class, new MixInAnnotations.AllowMultipleMatches.class);
    mapper.registerModule(module);

    String json = mapper.writeValueAsString("abc");
    assertEquals("[\"a\",\"b\",\"c\"]", json);
}

interface AllowMultipleMatches {}