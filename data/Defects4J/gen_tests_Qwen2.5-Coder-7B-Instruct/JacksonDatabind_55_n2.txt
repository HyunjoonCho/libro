public void testEnumMapKeySerialization() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    MyEnumMap map = new MyEnumMap();
    map.put(MyEnum.VALUE1, "value1");
    map.put(MyEnum.VALUE2, "value2");

    String json = mapper.writeValueAsString(map);

    // Expected output: {"VALUE1":"value1","VALUE2":"value2"}
    // Actual output: {"KEY1":"value1","KEY2":"value2"}
    assertEquals("{\"KEY1\":\"value1\",\"KEY2\":\"value2\"}", json);
}

enum MyEnum {
    @JsonProperty("VALUE1")
    KEY1,
    
    @JsonProperty("VALUE2")
    KEY2;
}

class MyEnumMap extends EnumMap<MyEnum, String> {
    public MyEnumMap() {
        super(MyEnum.class);
    }
}