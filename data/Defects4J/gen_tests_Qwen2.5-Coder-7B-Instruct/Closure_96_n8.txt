public void testVarArgsTypeCheck() {
    try {
        JavaScriptEngine engine = new JavaScriptEngine();
        engine.eval("function foo(var_args) { return arguments.length; }");
        engine.eval("foo('hello', 123);");
        fail("Expected type mismatch exception");
    } catch (ScriptException e) {
        assertTrue(e.getMessage().contains("type mismatch"));
    }
}