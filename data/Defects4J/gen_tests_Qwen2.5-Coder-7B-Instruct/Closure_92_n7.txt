public void testImplicitNamespacesAcrossModules() {
  StringBuilder jsCode = new StringBuilder();
  jsCode.append("goog.provide('apps');\n");
  jsCode.append("goog.provide('apps.foo.bar.B');\n");
  jsCode.append("goog.provide('apps.foo.bar.C');\n");

  JsModule[] modules = new JsModule[3];
  modules[0] = new JsModule("ModuleA", jsCode.toString());

  jsCode.setLength(0);
  jsCode.append("apps.foo.bar.B={};\n");
  modules[1] = new JsModule("ModuleB", jsCode.toString());

  jsCode.setLength(0);
  jsCode.append("apps.foo.bar.C={};\n");
  modules[2] = new JsModule("ModuleC", jsCode.toString());

  CompilerOptions options = new CompilerOptions();
  options.setCodingConvention(new CodingConventions.Default());
  options.setOptimizationLevel(CompilationLevel.SIMPLE_OPTIMIZATIONS);

  List<CompilerInput> inputs = new ArrayList<>();
  for (JsModule module : modules) {
    inputs.add(module.toCompilerInput());
  }

  Compiler compiler = new Compiler();
  compiler.compile(inputs, null