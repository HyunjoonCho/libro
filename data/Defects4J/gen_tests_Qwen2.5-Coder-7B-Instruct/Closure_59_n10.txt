public void testGlobalThisExclusion() throws Exception {
    String[] args = {"--warning_level", "VERBOSE",
                     "--jscomp_off", "globalThis",
                     "--jscomp_off", "nonStandardJsDocs"};
    JsCompiler compiler = new JsCompiler();
    compiler.initCmdLineArgs(args);
    assertTrue(compiler.hasErrors());
    assertFalse(compiler.hasWarningsForType(CheckLevel.WARNING,
                                             CheckType.GLOBAL_THIS));
    assertTrue(compiler.hasWarningsForType(CheckLevel.WARNING,
                                            CheckType.NON_STANDARD_JSDOCS));
}