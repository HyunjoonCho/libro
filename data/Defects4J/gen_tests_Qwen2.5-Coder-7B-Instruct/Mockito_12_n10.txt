public void testArgumentCaptorVarargs() {
    MyClass mock = mock(MyClass.class);
    String[] args = {"arg1", "arg2"};
    myMethod(mock, args);

    ArgumentCaptor<String[]> captor = ArgumentCaptor.forClass(String[].class);
    verify(mock).myVarargsMethod(captor.capture());

    assertArrayEquals(args, captor.getValue());
}