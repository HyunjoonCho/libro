public void testPreserveOrderOfFlags() {
    CompilerOptions options = new CompilerOptions();
    options.setJscompError("categoryA");
    options.setJscompWarning("categoryB");
    options.setJscompOff("categoryC");

    assertTrue(options.hasErrorsForCategory("categoryA"));
    assertTrue(options.hasWarningsForCategory("categoryB"));
    assertFalse(options.hasAnyChecksForCategory("categoryC"));

    options.setJscompOff("categoryA");
    options.setJscompWarning("categoryA");
    options.setJscompError("categoryA");

    assertFalse(options.hasErrorsForCategory("categoryA"));
    assertTrue(options.hasWarningsForCategory("categoryA"));
    assertFalse(options.hasAnyChecksForCategory("categoryC"));
}