public void testCompilerRemovesFunctionProperties() {
  Function<String, String> f1 = key -> "f1";
  f1.setProperty("alwaysCall", true);

  Function<String, String> f2 = key -> "f2";

  Map<String, Function<String, String>> map = new HashMap<>();
  map.put("f1", f1);
  map.put("f2", f2);

  Function<String, String> selectedFunction = map.get(Math.random() > 0.5? "f1" : "f2");

  assertTrue(selectedFunction.getProperty("alwaysCall").equals(true));
}