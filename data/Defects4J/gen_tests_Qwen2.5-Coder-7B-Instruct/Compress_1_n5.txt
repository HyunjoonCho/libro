public void testCpioUnpack() throws IOException {
    File input = getFile("cmdcreated.cpio");
    InputStream in = new FileInputStream(input);
    CpioArchiveInputStream cin = new CpioArchiveInputStream(in);

    CpioArchiveEntry entry;
    while ((entry = cin.getNextCPIOEntry())!= null) {
        File target = new File(dir, entry.getName());
        try (OutputStream out = new FileOutputStream(target)) {
            IOUtils.copy(cin, out);
        }
    }

    cin.close();
}