import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.CompilerOptions;
import com.google.javascript.jscomp.Result;

public void testFunctionArgumentsOptimization() {
    Compiler compiler = new Compiler();
    CompilerOptions options = new CompilerOptions();
    String input = 
        "function foo(bar, baz) { return bar; }\n" +
        "alert(foo.length);\n" +
        "function foo(bar, baz) { return bar; }\n" +
        "alert(foo.length);";
    Result result = compiler.compile(SourceFile.fromCode("test", input), null, options);
    assertTrue(result.success);
    assertEquals("2\n2\n", compiler.toSource());
}