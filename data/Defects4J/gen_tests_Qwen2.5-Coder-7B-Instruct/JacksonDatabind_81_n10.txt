public void testTypeRefinementProblem() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    JsonNode node = mapper.readTree("{\"value\": 123}");
    
    // Test case 1: int to Integer refinement
    MyClassWithInt objInt = mapper.readValue(node.traverse(), MyClassWithInt.class);
    assertEquals(Integer.class, objInt.value.getClass());
    assertEquals(Integer.valueOf(123), objInt.value);

    // Test case 2: Integer to int refinement
    MyClassWithInteger objInteger = mapper.readValue(node.traverse(), MyClassWithInteger.class);
    assertEquals(int.class, objInteger.value.getClass());
    assertEquals(123, objInteger.value.intValue());
}

class MyClassWithInt {
    public Object value;
}

class MyClassWithInteger {
    public Object value;
}