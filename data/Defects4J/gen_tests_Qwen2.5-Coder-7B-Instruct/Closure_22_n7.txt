public void testClassifyNonRightmostExpressions() {
    Expression expr1 = new CommaExpression(new ConstantExpression(1),
                                           new ConstantExpression(2),
                                           new ConstantExpression(42));
    assertTrue(expr1.isProblematic());

    Expression expr2 = new CommaExpression(new MethodCallExpression("bar"),
                                           new ConstantExpression(2),
                                           new ConstantExpression(42));
    assertFalse(expr2.isProblematic());

    Expression expr3 = new CommaExpression(new CommaExpression(new ConstantExpression(1),
                                                               new ConstantExpression(2),
                                                               new ConstantExpression(3)),
                                           new CommaExpression(new ConstantExpression(4),
                                                               new ConstantExpression(5),
                                                               new ConstantExpression(42)));
    assertTrue(((CommaExpression)expr3.getExpression(0)).isProblematic());
    assertTrue(((CommaExpression)expr3.getExpression(1)).isProblematic());
}