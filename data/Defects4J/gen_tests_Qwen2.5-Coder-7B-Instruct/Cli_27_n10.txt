public void testOptionGroupWithLongOption() {
    OptionGroup group = new OptionGroup();
    Option option = new Option(null, "very-long-option-name", false, "description");
    group.addOption(option);

    CommandLine cmdLine = new GnuParser().parse(new Options(), new String[]{"--very-long-option-name"});
    group.setSelected(cmdLine.hasOption("very-long-option-name"));

    assertTrue(group.isSelected());
}