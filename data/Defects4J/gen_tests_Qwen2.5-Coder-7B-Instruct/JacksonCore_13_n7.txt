public void testUTF8JsonGenerator() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    SimpleModule module = new SimpleModule();
    module.addSerializer(String.class, new JsonSerializer<String>() {
        @Override
        public void serialize(String value, JsonGenerator gen, SerializerProvider serializers) throws IOException {
            gen.writeFieldName(value);
        }
    });
    mapper.registerModule(module);
    String json = mapper.writeValueAsString(new HashMap<String, Object>() {{
        put("\"test\"", "value");
    }});
    assertEquals("{\"\\\"test\\\":\\\"value\\\"}", json);
}