public void testTypeAliasesInAnnotations() throws Exception {
    String source =
        "package com.example;\n" +
        "\n" +
        "import com.google.common.annotations.VisibleForTesting;\n" +
        "\n" +
        "@VisibleForTesting\n" +
        "class Test {\n" +
        "  interface Bar {}\n" +
        "\n" +
        "  public static class Foo {\n" +
        "    /**\n" +
        "     * @param {Bar} bar\n" +
        "     * @constructor\n" +
        "     */\n" +
        "    constructor(bar: Bar) {\n" +
        "      this.bar = bar;\n" +
        "    }\n" +
        "\n" +
        "    /** @type {Bar} */\n" +
        "    bar;\n" +
        "\n" +
        "    /** @constructor */\n" +
        "    static class Bar {}\n" +
        "  }\n" +
        "}\n";
    try {
      new Javac().run(null, null, null, "-source", "1.5", "-target", "1.5", "-",