public void testReadCpioArchiveWithNonZeroTrailerMode() throws Exception {
    InputStream inputStream = getClass().getResourceAsStream("/non_zero_trailer_mode.cpio");
    try (CpioArchiveInputStream cpioInput = new CpioArchiveInputStream(inputStream)) {
        CpioArchiveEntry entry;
        while ((entry = cpioInput.getNextCpioEntry())!= null) {
            // Process each entry
        }
    } catch (IllegalArgumentException e) {
        fail("An IllegalArgumentException was thrown unexpectedly.");
    }
}