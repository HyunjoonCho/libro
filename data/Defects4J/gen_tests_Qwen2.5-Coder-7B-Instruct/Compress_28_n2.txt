public void testTarArchiveInputStreamUnexpectedEOF() throws IOException {
    InputStream inputStream = getClass().getResourceAsStream("/corrupted_tar_with_unexpected_eof.tar.gz");
    try (GZIPInputStream gzipInputStream = new GZIPInputStream(inputStream);
         TarArchiveInputStream tarInputStream = new TarArchiveInputStream(gzipInputStream)) {

        TarArchiveEntry entry = tarInputStream.getNextTarEntry();
        assertNotNull(entry);
        // Consume the entire content of the archive to trigger the unexpected EOF condition
        IOUtils.toByteArray(tarInputStream);
    } catch (IOException e) {
        fail("Expected an IOException to be thrown due to unexpected EOF, but got: " + e.getMessage());
    }
}