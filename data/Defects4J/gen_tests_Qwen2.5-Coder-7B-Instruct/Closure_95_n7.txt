public void testPublicTag() throws Exception {
    String jsCode = 
        "var Glow = {};\n" +
        "/** @public */\n" +
        "Glow.versions = [1, 2, 3];\n" +
        "Glow.showVersions = function() { alert(Glow.versions.join(',')); };\n" +
        "\n" +
        "// exports\n" +
        "window['Glow'] = Glow;\n" +
        "Glow['versions'] = Glow.versions;\n" +
        "Glow['showVersions'] = Glow.showVersions;";
    
    JSCompilerOptions options = new JSCompilerOptions();
    Compiler compiler = new Compiler();
    compiler.init(options, null, null);
    compiler.compile(SourceFile.fromCode("test.js", jsCode), null, null);

    String result = compiler.toSource();
    assertTrue(result.contains("Glow.versions = [1, 2, 3];"));
    assertTrue(result.contains("Glow.b = function() { alert(Glow.versions.join(\',\')); };"));
    assertFalse(result.contains("Glow.a = [1, 2, 3];"));
    assertFalse(result.contains("Glow