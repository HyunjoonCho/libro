public void testJsonParserSequenceSkipsToken() throws IOException {
    String json1 = "{\"key1\":\"value1\"}";
    String json2 = "{\"key2\":\"value2\"}";

    JsonFactory factory = new JsonFactory();
    JsonParser parser1 = factory.createParser(json1);
    JsonParser parser2 = factory.createParser(json2);

    JsonParserSequence seq = JsonParserSequence.createFlattened(parser1, parser2);

    assertTrue(seq.nextToken()!= null);
    assertTrue(seq.nextToken().equals(JsonToken.START_OBJECT));
    assertTrue(seq.nextToken().equals(JsonToken.FIELD_NAME));
    assertTrue(seq.nextToken().equals(JsonToken.VALUE_STRING));

    assertTrue(seq.nextToken()!= null);
    assertTrue(seq.nextToken().equals(JsonToken.START_OBJECT));
    assertTrue(seq.nextToken().equals(JsonToken.FIELD_NAME));
    assertTrue(seq.nextToken().equals(JsonToken.VALUE_STRING));

    assertNull(seq.nextToken());
}