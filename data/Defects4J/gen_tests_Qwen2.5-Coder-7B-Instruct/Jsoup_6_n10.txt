public void testStringIndexOutOfBoundsException() {
    String html = "<html><head></head><body><a href=\"http://news.yahoo.com/s/nm/20100831/bs_nm/us_gm_china\"></a></body></html>";
    Document doc = Jsoup.parse(html);
    Elements links = doc.select("a[href]");
    for (Element link : links) {
        String url = link.attr("href");
        // This should not throw StringIndexOutOfBoundsException
        Entities.unescape(url);
    }
}