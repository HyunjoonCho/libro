public void testThreadLocalMemoryLeak() throws Exception {
    Object obj = new Object();
    ToStringStyle style = ToStringStyle.SHORT_PREFIX_STYLE;
    style.append(obj);
    assertTrue(style instanceof ToStringStyle);
    Field field = ToStringStyle.class.getDeclaredField("threadLocal");
    field.setAccessible(true);
    assertNotNull(field.get(null));
}