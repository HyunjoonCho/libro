public void testIteratePointersWithMultiplePrefixes() throws Exception {
    String xml = "<a:doc xmlns:a=\"ns\"><a:elem /><b:elem xmlns:b=\"ns\" /></a:doc>";
    Document doc = new DOMParser().parse(new InputSource(new StringReader(xml)));
    JXPathContext context = JXPathContext.newContext(doc.getDocumentElement());

    Iterator<Pointer> pointers = context.iteratePointers("/ns:elem", null);
    List<String> results = new ArrayList<>();
    while (pointers.hasNext()) {
        Pointer pointer = pointers.next();
        results.add(pointer.getValueAsString());
    }

    assertEquals(2, results.size());
    assertTrue(results.contains("<a:elem xmlns=\"ns\"></a:elem>"));
    assertTrue(results.contains("<b:elem xmlns=\"ns\"></b:elem>"));
}