public void testBugInElementInsertChildren() {
    Document doc = Jsoup.parse("<html><head><title>Test</title></head><body><div id='parent'><div id='child1'>Child 1</div><div id='child2'>Child 2</div><div id='child3'>Child 3</div><div id='child4'>Child 4</div></div></body></html>");
    Element parent = doc.getElementById("parent");
    Elements childrenToMove = parent.select("#child3, #child4");

    // Move children to index 0
    parent.insertChildren(0, childrenToMove);

    String expectedHtml = "<html><head><title>Test</title></head><body><div id='parent'><div id='child3'>Child 3</div><div id='child4'>Child 4</div><div id='child1'>Child 1</div><div id='child2'>Child 2</div></div></body></html>";
    assertEquals(expectedHtml.replaceAll("\\s+", ""), doc.html().replaceAll("\\s+", ""));
}