import org.junit.Test;
import org.junit.Assert;

import java.math.BigDecimal;

import com.fasterxml.jackson.annotation.*;
import com.fasterxml.jackson.databind.*;

public class JacksonTest {

    @Test
    public void testBigDecimalSerialization() throws Exception {
        ObjectMapper mapper = new ObjectMapper();

        BigDecimal bigDecimalValue = new BigDecimal("-10000000000.0000000001");
        MyWrapper wrapper = new MyWrapper(bigDecimalValue);

        String json = mapper.writeValueAsString(wrapper);
        MyWrapper deserializedWrapper = mapper.readValue(json, MyWrapper.class);

        Assert.assertEquals(bigDecimalValue, deserializedWrapper.getValue());
    }

    static class MyWrapper {
        private final BigDecimal value;

        public MyWrapper(BigDecimal value) {
            this.value = value;
        }

        @JsonAnyGetter
        public Object getValue() {
            return value;
        }

        @JsonAnySetter
        public void setValue(@JsonAnySetter Object value) {
            // This setter is intentionally left empty
        }
    }
}