public void testObfuscatedCodeTriggersTypeError() throws Exception {
    String jsSource = "function(x) { var x = 1; }";
    String[] args = new String[]{"--js", "-", "--js_output_file", "-"};
    ByteArrayOutputStream outStream = new ByteArrayOutputStream();
    int exitCode = Main.run(args, new ByteArrayInputStream(jsSource.getBytes()), outStream);
    assertTrue(exitCode == 0);
    String output = outStream.toString();
    assertFalse(output.contains("TypeError"));
}