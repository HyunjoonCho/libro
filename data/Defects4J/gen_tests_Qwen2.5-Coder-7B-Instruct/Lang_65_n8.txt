import org.apache.commons.lang3.time.DateUtils;
import java.util.Calendar;
import java.util.Date;

public void testDateUtilsTruncateDSTSwitch() {
    Calendar calendar = Calendar.getInstance();
    calendar.setTimeInMillis(1099206000000L); // 2004-10-31 01:00:00 MDT
    calendar.set(Calendar.MINUTE, 0);
    calendar.set(Calendar.SECOND, 0);
    calendar.set(Calendar.MILLISECOND, 0);

    Date result = DateUtils.truncate(calendar.getTime(), Calendar.HOUR_OF_DAY);

    assertEquals(calendar.getTime(), result);
}