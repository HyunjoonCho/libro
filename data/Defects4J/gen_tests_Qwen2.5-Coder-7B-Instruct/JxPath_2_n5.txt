public void testNodeSetFunction() throws Exception {
    JXPathContext context = JXPathContext.newContext(new Object());
    context.registerNamespace("ems", "http://example.com/ems");

    String xpath = "ems:observations()";
    List<?> result = context.selectNodes(xpath);

    assertTrue(result.size() == 1);
    assertTrue(result.get(0) instanceof BasicNodeSet);
}