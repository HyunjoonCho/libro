public void testMockitoTimeoutVerification() throws Exception {
    ClassLoader cl = Thread.currentThread().getContextClassLoader();
    try {
        URLClassLoader newCL = new URLClassLoader(new URL[]{new File("/path/to/junit-4.12.jar").toURI().toURL()}, cl);
        Thread.currentThread().setContextClassLoader(newCL);

        verify(mock(Observable.class), timeout(500)).countObservers();
    } finally {
        Thread.currentThread().setContextClassLoader(cl);
    }
}