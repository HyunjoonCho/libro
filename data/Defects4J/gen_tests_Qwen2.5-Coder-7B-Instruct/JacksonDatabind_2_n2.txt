public void testUnwantedPOJOsEmbeddedInTreeViaSerializationToTree() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    List<String> items = Arrays.asList("item1", "item2", "item3");
    X<String> x = new X<>();
    x.s = "test";
    x.items = items;

    JsonNode node = mapper.valueToTree(x);

    assertTrue(node.has("s"));
    assertTrue(node.has("items"));

    JsonNode itemsNode = node.get("items");
    assertFalse(itemsNode.isPojo());
    assertEquals(3, itemsNode.size());
}