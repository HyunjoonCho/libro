public void testWritingEmptyEntriesIn7zArchive() throws Exception {
    // Create a temporary directory with 7 empty files
    Path tempDir = Files.createTempDirectory("test-empty-entries");
    for (int i = 0; i < 7; i++) {
        Files.createFile(tempDir.resolve("emptyfile_" + i));
    }

    // Attempt to create a 7z archive
    Path archivePath = tempDir.resolve("archive.7z");
    SevenZOutput out = new SevenZOutput(new FileOutputStream(archivePath.toFile()));
    try {
        Files.walk(tempDir)
           .filter(path ->!Files.isDirectory(path))
           .forEach(path -> {
                try {
                    SevenZArchiveEntry entry = out.createArchiveEntry(path.toFile(), path.toString());
                    out.putArchiveEntry(entry);
                    out.closeArchiveEntry();
                } catch (IOException e) {
                    throw new UncheckedIOException(e);
                }
            });
    } finally {
        out.finish();
    }

    // Verify the contents of the archive
    try (SevenZFile sevenZFile = new SevenZFile(archivePath.toFile())) {
        Enumeration<SevenZArchiveEntry> entries = sevenZFile.getEntries();