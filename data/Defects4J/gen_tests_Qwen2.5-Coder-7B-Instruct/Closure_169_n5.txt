public void testStrangeWarning() throws Exception {
    String jsCode =
      "/** @param {{func: function()}} obj */\n" +
      "function test1(obj) {}\n" +
      "var fnStruc1 = {};\n" +
      "fnStruc1.func = function() {};\n" +
      "test1(fnStruc1);\n";
    JsCompiler compiler = new JsCompiler();
    CompilerOptions options = new CompilerOptions();
    List<DiagnosticType> warnings = Lists.newArrayList(DiagnosticType.WRONG_PARAMETER_TYPE);
    compiler.setDiagnosticGroups(options, null, null, null, null, null, warnings);
    compiler.compile(SourceFile.fromCode("test.js", jsCode), null, null);
    assertTrue(compiler.hasErrors());
    assertFalse(compiler.hasWarnings());
}