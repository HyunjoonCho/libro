public void testInvalidHttpHeader() throws Exception {
    byte[] data = "<html><head><title>Test</title></head><body>Hello World</body></html>".getBytes();
    Document doc = Jsoup.parse(data, "UTF-8", "http://example.com");
    assertEquals("Hello World", doc.body().text());

    data = "<html><head><title>Test</title></head><body>Hello World</body></html>".getBytes(Charset.forName("UTF-8"));
    try {
        doc = Jsoup.parse(data, "UFT8", "http://example.com");
        fail("Expected UnsupportedCharsetException");
    } catch (UnsupportedCharsetException e) {
        // Expected exception
    }
}