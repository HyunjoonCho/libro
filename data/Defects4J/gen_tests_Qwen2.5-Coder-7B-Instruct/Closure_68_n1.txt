public void testCrypticErrorMessageOnInvalidTypeFunctionAnnotation() {
    String jsCode = "/**\n" +
                    "* @type function\n" +
                    "*/\n" +
                    "var callback;\n";
    try {
        JsCompiler.compile(jsCode);
        fail("Expected a parsing error due to invalid @type function annotation");
    } catch (CompilationException e) {
        assertTrue(e.getMessage().contains("expected '('"));
    }
}