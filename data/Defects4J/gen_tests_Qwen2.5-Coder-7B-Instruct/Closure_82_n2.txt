public void testIndexOfFailsToWarn() {
    Object[] args = {"hello", "l"};
    try {
        ScriptEngineManager manager = new ScriptEngineManager();
        ScriptEngine engine = manager.getEngineByName("JavaScript");
        engine.put("s", args[0]);
        engine.eval("alert(s.toLowerCase.indexOf(\"" + args[1] + "\"));");
        fail("Expected exception");
    } catch (ScriptException e) {
        assertTrue(e.getMessage().contains("missing property"));
    }
}