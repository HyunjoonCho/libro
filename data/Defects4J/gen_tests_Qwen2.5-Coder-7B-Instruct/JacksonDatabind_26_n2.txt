public void testSerializeObjectReader() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    CompactStringObjectMap map = new CompactStringObjectMap();
    map.put("key", "value");
    ObjectReader reader = mapper.readerFor(String.class);

    ByteArrayOutputStream out = new ByteArrayOutputStream();
    ObjectOutputStream oos = new ObjectOutputStream(out);
    try {
        oos.writeObject(reader);
    } catch (NotSerializableException e) {
        fail("ObjectReader should be serializable");
    }
}