public void testLanguageInECMAScript5Strict() throws IOException {
    File getNumJs = new File("get_num.js");
    Files.write(getNumJs.toPath(), "var getNum = function() { return 5; }".getBytes());

    File alertJs = new File("alert.js");
    Files.write(alertJs.toPath(), "alert(getNum());".getBytes());

    ProcessBuilder pb = new ProcessBuilder(
            "java", "-jar", "compiler.jar",
            "--language_in=ECMASCRIPT5_STRICT",
            "--compilation_level=ADVANCED_OPTIMIZATIONS",
            "--warning_level=VERBOSE",
            "--js", getNumJs.getPath(),
            "--js", alertJs.getPath()
    );

    Process process = pb.start();
    String output = new BufferedReader(new InputStreamReader(process.getInputStream())).lines().collect(Collectors.joining("\n"));

    assertTrue(output.contains("use strict;"));
    assertTrue(output.contains("alert(5);"));
}