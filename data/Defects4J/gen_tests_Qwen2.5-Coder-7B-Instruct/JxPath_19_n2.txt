public void testIteratePointersWithMultiplePrefixes() throws Exception {
    String xml = "<a:doc xmlns:a=\"ns\">"
                + "  <a:elem />"
                + "  <b:elem xmlns:b=\"ns\" />"
                + "</a:doc>";
    DOMSource source = new DOMSource(new InputSource(new StringReader(xml)));
    Document doc = (Document)source.getNode();
    JXPathContext context = JXPathContext.newContext(doc.getDocumentElement());

    Iterator<?> pointers = context.iteratePointers("/ns:elem", NamespaceContextSupport.EMPTY_NAMESPACE_CONTEXT);
    List<String> results = new ArrayList<>();
    while (pointers.hasNext()) {
        Pointer pointer = (Pointer)pointers.next();
        results.add(pointer.getValue().toString());
    }

    assertEquals(2, results.size());
    assertTrue(results.contains("<a:elem/>"));
    assertTrue(results.contains("<b:elem/>"));
}