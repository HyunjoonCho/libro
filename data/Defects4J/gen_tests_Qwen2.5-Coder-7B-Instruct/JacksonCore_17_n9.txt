public void testSplitSurrogate() throws Exception {
    String problematicString = new String(new char[] { '\uD800', '\uDF00' });
    StringWriter sw = new StringWriter();
    JsonGenerator gen = new JsonFactory().createGenerator(sw);
    try {
        gen.writeRaw(problematicString);
        fail("Expected JsonGenerationException");
    } catch (JsonGenerationException e) {
        // Expected exception
    }
}