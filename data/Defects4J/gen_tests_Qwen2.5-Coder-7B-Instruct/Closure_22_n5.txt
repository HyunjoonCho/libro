public void testNonRightmostExpressions() {
    Expression expr1 = new CommaExpression(new Constant(1), new Constant(2), new Constant(42));
    assertTrue(expr1.isProblematic());

    Expression expr2 = new CommaExpression(new FunctionCall("bar"), new Constant(2), new Constant(42));
    assertFalse(expr2.isProblematic());

    Expression expr3 = new CommaExpression(
        new CommaExpression(new Constant(1), new Constant(2), new Constant(3)),
        new CommaExpression(new Constant(4), new Constant(5), new Constant(42))
    );
    assertTrue(expr3.isProblematic());
}