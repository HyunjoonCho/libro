public void testBase64InputStreamReadZeroBytesAtEnd() throws IOException {
    byte[] data = { (byte) 255, (byte) 255, (byte) 255 };
    InputStream in = new ByteArrayInputStream(data);
    Base64InputStream base64In = new Base64InputStream(in, true);
    byte[] buffer = new byte[4];
    int bytesRead = base64In.read(buffer);
    assertEquals(-1, bytesRead); // Should return -1 indicating end of stream, not 0
}