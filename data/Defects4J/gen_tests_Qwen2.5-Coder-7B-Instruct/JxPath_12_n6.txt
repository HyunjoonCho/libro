public void testIncompleteHandlingOfUndefinedNamespaces() throws Exception {
    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
    DocumentBuilder builder = factory.newDocumentBuilder();
    Document doc = builder.parse(new File("path/to/your/xmlfile.xml"));

    NamespaceContext context = new SimpleNamespaceContext();
    context.addNamespace("A", "http://example.com/A");
    context.addNamespace("B", "http://example.com/B");

    XPath xpath = XPathFactory.newInstance().newXPath();
    xpath.setNamespaceContext(context);

    String expression = "//ElementA/@A:myAttr";
    NodeList nodes = (NodeList) xpath.evaluate(expression, doc, XPathConstants.NODESET);

    assertEquals(1, nodes.getLength());
    assertEquals("Mytype", nodes.item(0).getNodeValue());
}