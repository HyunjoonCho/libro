public void testImplicitNamespaces() {
    String moduleAContent = "goog.provide('apps');";
    String moduleBContent = "goog.provide('apps.foo.bar.B');";
    String moduleCContent = "goog.provide('apps.foo.bar.C');";

    Compiler compiler = new Compiler();
    compiler.compile(moduleAContent, moduleBContent, moduleCContent);

    // Check that the namespace objects are created in the correct order
    assertTrue(compiler.getJsOutputFile().contains("var apps={}"));
    assertTrue(compiler.getJsOutputFile().contains("apps.foo.bar={}"));
    assertTrue(compiler.getJsOutputFile().contains("apps.foo={}"));

    // Check that the symbols are defined correctly
    assertTrue(compiler.getJsOutputFile().contains("apps.foo.bar.B={}"));
    assertTrue(compiler.getJsOutputFile().contains("apps.foo.bar.C={}"));
}