public void testIssue1154() {
    // Test case before fix
    Locale locale = new Locale("en", "US");
    DecimalFormatSymbols symbols = new DecimalFormatSymbols(locale);
    DecimalFormat df = new DecimalFormat("#.###", symbols);
    df.setDecimalSeparatorAlwaysShown(true);
    assertEquals("1.234", df.format(new BigDecimal("1.234")));

    // Test case after fix
    DecimalFormatSymbols symbols2 = new DecimalFormatSymbols();
    symbols2.setDecimalSeparator('.');
    DecimalFormat df2 = new DecimalFormat("#.###", symbols2);
    df2.setDecimalSeparatorAlwaysShown(false);
    assertEquals("1.234", df2.format(new BigDecimal("1.234")));
}