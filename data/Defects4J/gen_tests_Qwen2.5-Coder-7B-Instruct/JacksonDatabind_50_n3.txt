import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.annotation.JsonCreator;
import com.fasterxml.jackson.annotation.JsonProperty;

import java.io.IOException;

public class JsonIdentityInfoTest {

    public static class Node {
        private final int id;
        private Node parent;

        @JsonCreator
        public Node(@JsonProperty("id") int id) {
            this.id = id;
        }

        public int getId() {
            return id;
        }

        public void setParent(Node parent) {
            this.parent = parent;
        }
    }

    public void testCycleDeserialization() throws IOException {
        String json = "{\"id\":1,\"parent\":{\"id\":1}}";

        ObjectMapper mapper = new ObjectMapper();
        Node node = mapper.readValue(json, Node.class);

        assertNotNull(node);
        assertNotNull(node.getParent());
        assertEquals(node.getId(), node.getParent().getId());
    }
}

This test attempts to deserialize a JSON string