public void testGoogScopePrivateFunction() throws Exception {
    String source = ""
        + "goog.provide('test');\n"
        + "goog.scope(function() {\n"
        + "  /** @private */\n"
        + "  function test() {}\n"
        + "});\n";
    Compiler compiler = new Compiler();
    compiler.initOptions(new CompilerOptions());
    compiler.addInput("test.js", source);
    boolean success = compiler.compile();
    assertFalse(success);
    assertTrue(compiler.getErrorCount() > 0);
}