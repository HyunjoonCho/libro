public void testPrototypesWithQuotes() {
    // Arrange
    String jsCode = 
        "/** @constructor */\n" +
        "function MyClass() {}\n" +
        "MyClass.prototype[\"MyMethod\"] = function(a) {\n" +
        "  this.a = a;\n" +
        "}\n" +
        "window[\"MyClass\"] = MyClass;\n";

    // Act
    CompilerOptions options = new CompilerOptions();
    options.setCodingConvention(new ClosureCodingConvention());
    options.setLanguageIn(LanguageMode.ECMASCRIPT_5);
    options.setLanguageOut(LanguageMode.ECMASCRIPT_5);
    options.setWarningLevel(DiagnosticGroups.DEPRECATED, CheckLevel.WARNING);
    options.setWarningLevel(DiagnosticGroups.GLOBAL_THIS, CheckLevel.ERROR);
    options.setWarningLevel(DiagnosticGroups.MISSING_IMPLEMENTATION, CheckLevel.ERROR);

    Compiler compiler = new Compiler();
    compiler.init(options, null, null);
    compiler.addSource(SourceFile.fromCode("test.js", jsCode));
    compiler.check();

    // Assert
    assertTrue(compiler.hasErrors());
    assertTrue(compiler.hasWarnings());
}