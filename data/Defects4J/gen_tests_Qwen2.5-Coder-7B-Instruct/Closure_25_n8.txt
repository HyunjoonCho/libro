public void testAnonymousObjectInference() {
  Function<String, Void> func = new Function<String, Void>() {
    @Override
    public Void apply(String input) {
      return null;
    }
  };

  Function<String, Void> constructorFunc = new Function<String, Void>() {
    @Override
    public Void apply(String input) {
      return null;
    }
  };

  assertThrows(ClassCastException.class, () -> constructorFunc.apply("test"));
}