public void testArgumentCaptorNoLongerWorkingForVarargs() {
    // Arrange
    MyClass myClass = mock(MyClass.class);
    List<String> strings = Arrays.asList("a", "b", "c");

    // Act
    myClass.someMethod(strings.toArray(new String[0]));

    // Assert
    ArgumentCaptor<String[]> captor = ArgumentCaptor.forClass(String[].class);
    verify(myClass).someMethod(captor.capture());
    assertArrayEquals(new String[]{"a", "b", "c"}, captor.getValue());
}