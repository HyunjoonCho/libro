public void testZipArchiveInputStream() throws Exception {
    byte[] data = new byte[1024];
    Arrays.fill(data, (byte) 0);
    InputStream input = new ByteArrayInputStream(data);
    ZipArchiveInputStream zipInput = new ZipArchiveInputStream(input);

    try {
        while (zipInput.read()!= -1) ;
        fail("Expected IOException for truncated ZIP file");
    } catch (IOException e) {
        assertEquals("Truncated ZIP file", e.getMessage());
    }
}