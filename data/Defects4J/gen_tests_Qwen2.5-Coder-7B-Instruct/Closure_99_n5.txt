public void testPrototypesWithQuotes() throws Exception {
  String jsCode =
      "/** @constructor */\n" +
      "function MyClass() {}\n" +
      "MyClass.prototype[\"MyMethod\"] = function(a) {\n" +
      "  this.a = a;\n" +
      "}\n" +
      "window[\"MyClass\"] = MyClass;\n";

  Compiler compiler = new Compiler();
  compiler.init();
  JSSourceFile externs = JSSourceFile.fromCode("externs", "");
  JSSourceFile source = JSSourceFile.fromCode("source", jsCode);

  compiler.compile(externs, source, null);

  assertTrue(compiler.hasErrors());
  assertTrue(compiler.hasWarnings());

  List<Warning> warnings = compiler.getWarnings();
  boolean foundUsedGlobalThisWarning = false;
  boolean foundPropertyNotImplementedWarning = false;

  for (Warning warning : warnings) {
    if (warning.getType().equals(JSErrorType.JSC_USED_GLOBAL_THIS)) {
      foundUsedGlobalThisWarning = true;
    } else if (warning.getType().equals(JSErrorType.PROPERTY_NOT_IMPLEMENTED)) {
      foundPropertyNotImplementedWarning = true;
    }
  }