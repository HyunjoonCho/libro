public void testTarArchiveWithLongDirectoryName() throws IOException {
    File tempDir = new File(System.getProperty("java.io.tmpdir"), "test-long-dirname.tar");
    try (TarArchiveOutputStream out = new TarArchiveOutputStream(new FileOutputStream(tempDir))) {
        String longName = "layers/openstreetmap_osm.disy.net/_tiles/1.0.0/openstreetmap_osm.disy.net/default/";
        while (longName.length() < 100) {
            longName += "_";
        }
        TarArchiveEntry entry = new TarArchiveEntry(longName, TarArchiveEntry.DIR_FLAG);
        out.putArchiveEntry(entry);
        out.closeArchiveEntry();
    } finally {
        tempDir.delete();
    }
}