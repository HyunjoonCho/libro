public void testIncorrectPropertyAccess() {
    String jsCode = 
      "/** @typedef {{name: string, id: number}} */\n" +
      "var RecordType1;\n" +
      "\n" +
      "/** @typedef {{name2: string}} */\n" +
      "var RecordType2;\n" +
      "\n" +
      "/**\n" +
      "* @param {RecordType1} rec\n" +
      "*/\n" +
      "var func = function(rec) {\n" +
      "  alert(rec.name2);\n" +
      "};\n" +
      "func({name: 'jim', id: 0});";

    boolean throwsException = false;
    try {
      JsCompiler compiler = new JsCompiler();
      CompilerOptions options = new CompilerOptions();
      compiler.compile(new SourceFile("test.js", jsCode), null, options);
    } catch (Exception e) {
      throwsException = true;
    }

    assertFalse("The code should throw an exception due to incorrect property access.", throwsException);
}