public void testCommandLineGetOptionValue() throws Exception {
    Options options = new Options();
    Option debugOption = Option.builder("d")
           .longOpt("debug")
           .desc("turn on debugging")
           .build();
    options.addOption(debugOption);

    String[] args = {"-d"};
    CommandLineParser parser = new DefaultParser();
    CommandLine line = parser.parse(options, args);

    assertEquals("true", line.getOptionValue("debug"));
    assertEquals("true", line.getOptionValue("d"));
}