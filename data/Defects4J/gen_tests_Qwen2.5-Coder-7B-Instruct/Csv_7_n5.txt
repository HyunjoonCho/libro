public void testDuplicateColumnNamesInHeader() throws IOException {
    String csvContent = "Col1,Col2,Col2,Col3,Col4\n" +
                         "1,2,3,4,5\n" +
                         "4,5,6,7,8";

    Reader reader = new StringReader(csvContent);
    Iterable<CSVRecord> records = CSVFormat.DEFAULT.parse(reader);

    for (CSVRecord record : records) {
        // This should throw an exception due to duplicate column names
        System.out.println(record);
    }
}