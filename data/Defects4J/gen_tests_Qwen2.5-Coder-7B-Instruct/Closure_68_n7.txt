public void testCrypticErrorMessageOnInvalidTypeFunctionAnnotation() {
    String jsCode = "/**\n" +
                   "* @type function\n" +
                   "*/\n" +
                   "var callback;";
    try {
        new JavaScriptCompiler().compile(jsCode);
        fail("Expected a parse error due to invalid '@type function' annotation.");
    } catch (JavaScriptCompilationException e) {
        assertTrue(e.getMessage().contains("Parse error. Unexpected end of file"));
    }
}