public void testCrypticErrorMessage() {
    String jsCode = "/**\n" +
                    "* @type function\n" +
                    "*/\n" +
                    "var callback;\n";
    try {
        new GwtCompiler().compile(new CompilerOptions(), Arrays.asList(jsCode));
        fail("Expected a parse error due to invalid '@type function' annotation");
    } catch (Exception e) {
        assertTrue(e.getMessage().contains("expected '('"));
    }
}