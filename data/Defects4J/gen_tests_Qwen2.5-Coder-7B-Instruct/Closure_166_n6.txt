public void testAnonymousObjectTypeInference() {
    Object obj1 = new Object() {
        public String prop = "a";
    };
    Object obj2 = new Object() {
        public String prop = "a";
        public String prop2 = null;
    };

    // This should not cause a type error
    func(obj1);
    func2(obj1);

    // This should cause a type error
    func2(obj2);
}