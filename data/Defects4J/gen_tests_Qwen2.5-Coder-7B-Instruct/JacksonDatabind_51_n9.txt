public void testTypeIdResolver() throws JsonProcessingException {
    ObjectMapper mapper = new ObjectMapper();
    SimpleModule module = new SimpleModule();
    module.addSerializer(new CustomSerializer());
    module.addDeserializer(CustomClass.class, new CustomDeserializer());
    mapper.registerModule(module);

    String json = "{\"id\": \"custom-id\", \"data\": {\"field\": \"value\"}}";
    CustomWrapper wrapper = mapper.readValue(json, CustomWrapper.class);
    assertNotNull(wrapper.getData().getField());
}