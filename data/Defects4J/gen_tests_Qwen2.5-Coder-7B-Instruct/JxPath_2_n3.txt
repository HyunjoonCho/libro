public void testExtensionFunctionReturningNodeSet() throws Exception {
    JXPathContext context = JXPathContext.newContext(new SampleBean());
    List<?> nodes = (List<?>) context.getValue("ems:observations()");
    assertNotNull(nodes);
    assertTrue(!nodes.isEmpty());
    Object firstNode = nodes.get(0);
    assertTrue(firstNode instanceof BasicNodeSet);
}