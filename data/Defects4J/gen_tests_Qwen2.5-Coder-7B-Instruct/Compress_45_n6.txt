public void testTarUtilsFormatLongOctalOrBinaryBytes() throws Exception {
    ByteArrayOutputStream baos = new ByteArrayOutputStream();
    TarUtils.formatLongOctalOrBinaryBytes(-1L, baos, false);
    byte[] bytes = baos.toByteArray();
    assertEquals(12, bytes.length); // 11 bytes for the number and 1 for the NUL terminator
    assertEquals((byte) 0xff, bytes[0]); // first byte should be all 1s for -1 in binary
}