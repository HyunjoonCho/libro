public void testAbstractEstimator() throws Exception {
    // Arrange
    Problem problem = mock(Problem.class);
    Parameter[] params = new Parameter[5];
    for (int i = 0; i < params.length; i++) {
        params[i] = mock(Parameter.class);
        when(params[i].isBound()).thenReturn(i % 2 == 0); // Bound every other parameter
    }
    when(problem.getAllParameters()).thenReturn(params);

    AbstractEstimator estimator = new AbstractEstimator() {};
    estimator.setProblem(problem);

    // Act & Assert
    try {
        estimator.getCovariances();
        fail("Expected ArrayIndexOutOfBoundsException");
    } catch (ArrayIndexOutOfBoundsException e) {
        // Expected
    }

    try {
        estimator.guessParametersErrors();
        fail("Expected ArrayIndexOutOfBoundsException");
    } catch (ArrayIndexOutOfBoundsException e) {
        // Expected
    }
}