public void testZipArchiveInputStream() throws Exception {
    InputStream inputStream = new FileInputStream(new File("path/to/truncated/zip/file.zip"));
    ZipArchiveInputStream zipArchiveInputStream = new ZipArchiveInputStream(inputStream);

    int data;
    while ((data = zipArchiveInputStream.read())!= -1) {
        // Process data
    }

    try {
        zipArchiveInputStream.read();
        fail("Expected IOException for truncated ZIP file");
    } catch (IOException e) {
        assertEquals("Truncated ZIP file", e.getMessage());
    }
}