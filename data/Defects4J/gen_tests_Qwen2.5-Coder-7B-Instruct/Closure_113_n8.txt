public void testBugInRequireCallsProcessing() {
    // Arrange
    ProcessClosurePrimitives processor = new ProcessClosurePrimitives();
    RequiresLevel requiresLevel = mock(RequiresLevel.class);
    processor.setRequiresLevel(requiresLevel);

    Node node = mock(Node.class);
    Node requireNode = mock(Node.class);
    when(node.getType()).thenReturn(Token.REQUIRE);
    when(node.getFirstChild()).thenReturn(requireNode);

    // Mock invalid require symbol
    when(requireNode.getString()).thenReturn("invalidSymbol");

    // Act
    processor.processRequireCall(node);

    // Assert
    verify(node).getType();
    verify(node).getFirstChild();
    verify(requireNode).getString();
    verify(node, never()).removeChild(anyInt());
}