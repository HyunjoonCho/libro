public void testProblemResolvingLocallyDeclaredGenericType() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    String json = "{\"entity\":{\"type\":\"SomeRuleform\",\"data\":\"someData\"}}";
    MyClass myClass = mapper.readValue(json, MyClass.class);
    assertNotNull(myClass.getEntity());
    assertTrue(myClass.getEntity() instanceof SomeRuleform);
}