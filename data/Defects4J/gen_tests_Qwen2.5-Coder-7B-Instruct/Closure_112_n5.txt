public void testTemplateInferenceFailure() {
    // This test is intended to reproduce the issue where the presence of a template parameter on a method causes the compiler to attempt to infer the template parameter from the method call, which may fail if the type is unknown.
    
    // Arrange
    Class<?> clazz = new Class<>();
    Function<String, String> function = s -> s;
    
    // Act & Assert
    try {
        clazz.foo(function);
        fail("Expected a compile-time error due to template inference failure.");
    } catch (Exception e) {
        assertTrue(e.getMessage().contains("inferred type arguments [String] do not conform to method signature"));
    }
}

class Class<T> {
    public <CLASS> String foo(Function<CLASS, CLASS> a) {
        return "string";
    }
}