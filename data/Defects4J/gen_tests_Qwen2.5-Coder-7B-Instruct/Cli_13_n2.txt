public void testArgumentDefaultsPreventCommandLineUsage() throws Exception {
    Options options = new Options();
    Option option = Option.builder('a')
           .hasArg()
           .withDefault("default")
           .build();
    options.addOption(option);

    String[] args = {"-a", "value"};
    DefaultParser parser = new DefaultParser();
    CommandLine cmdLine = parser.parse(options, args);

    assertTrue(cmdLine.hasOption('a'));
    assertEquals("value", cmdLine.getOptionValue('a'));
}