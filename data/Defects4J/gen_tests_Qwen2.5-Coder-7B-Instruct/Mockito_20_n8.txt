public void testAbstractClassSpying() {
    AbstractList<String> list = spy(new AbstractList<String>() {
        @Override
        public String get(int index) {
            return "element" + index;
        }

        @Override
        public int size() {
            return 5;
        }
    });

    assertEquals("element0", list.get(0));
    assertEquals(5, list.size());
}