public void testEventStateNotUpdated() {
    // Arrange
    ODESolver solver = new ODESolver();
    EventManager manager = new EventManager();

    Event event1 = mock(Event.class);
    Event event2 = mock(Event.class);

    manager.addEvent(event1);
    manager.addEvent(event2);

    when(event1.g(anyDouble(), anyDoubleArray())).thenReturn(-1.0);
    when(event2.g(anyDouble(), anyDoubleArray())).thenReturn(1.0);

    solver.setEventManager(manager);

    // Act
    solver.solve();

    // Assert
    verify(event1).g(anyDouble(), anyDoubleArray());
    verify(event2).g(anyDouble(), anyDoubleArray());
    verifyNoMoreInteractions(event1, event2);
}