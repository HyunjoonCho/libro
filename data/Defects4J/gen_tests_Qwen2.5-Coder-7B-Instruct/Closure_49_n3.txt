public void testClosureCompilerBug() {
  String input = "var foo = function bar(){\n" +
                 "  var bar;\n" +
                 "  alert(bar)\n" +
                 "};";
  String expectedOutput = "var foo = function() {\n" +
                         "  alert(void 0)\n" +
                         "};";
  String actualOutput = compile(input);
  assertEquals(expectedOutput, actualOutput);
}

private String compile(String input) {
  Compiler compiler = new Compiler();
  JavaScriptCodeInputSource jsInput = new JavaScriptCodeInputSource(input);
  compiler.compile(jsInput, null, null);
  return compiler.toSource();
}