public void testPosixParserStopAtNonOption() throws Exception {
    Options options = new Options();
    Option optA = Option.builder("a").build();
    Option optB = Option.builder("b")
                       .hasArg()
                       .argName("value")
                       .build();
    options.addOption(optA);
    options.addOption(optB);

    String[] args = {"--zop", "-abfoo"};
    CommandLine cmdLine = new PosixParser().parse(options, args, true);

    assertTrue(cmdLine.hasOption("zop"));
    assertTrue(cmdLine.hasOption("a"));
    assertFalse(cmdLine.hasOption("b"));
    assertEquals("foo", cmdLine.getOptionValue("b"));
}