public void testTarChecksumFailsWhenRightAligned() throws IOException {
    // Create a mock TAR file with a right-aligned checksum
    ByteArrayOutputStream baos = new ByteArrayOutputStream();
    DataOutputStream dos = new DataOutputStream(baos);
    dos.writeBytes("file.txt\0"); // filename
    dos.writeInt(0); // mode
    dos.writeInt(0); // uid
    dos.writeInt(0); // gid
    dos.writeInt(1024); // size
    dos.writeInt(1633075200); // mtime
    dos.writeByte((byte) 0); // chksum (right-aligned)
    dos.writeBytes("          "); // typeflag
    dos.writeBytes("\0\0\0\0\0\0"); // linkname
    dos.writeBytes("\0\0\0\0\0\0"); // magic
    dos.writeBytes("\0\0\0\0\0\0"); // version
    dos.writeBytes("ustar\0"); // uname
    dos.writeBytes("group\0"); // gname
    dos.writeShort(0); // devmajor
    dos.writeShort(0); // devminor