public void testUnexpectedTypedCoverage() throws Exception {
    String js = "/**\n" +
                " * @constructor\n" +
                " * @param {!Element} element\n" +
                " */\n" +
                "function Example(element) {\n" +
                " /**\n" +
                "  * @param {!string} ns\n" +
                "  * @param {!string} name\n" +
                "  * @return {undefined}\n" +
                "  */\n" +
                " this.appendElement = function appendElement(ns, name) {\n" +
                " var e = element.ownerDocument.createElementNS(ns, name);\n" +
                " element.appendChild(e);\n" +
                " };\n" +
                "}\n" +
                "window[\"Example\"] = Example;";

    ProcessBuilder pb = new ProcessBuilder(
            "java", "-jar", "compiler.jar",
            "--jscomp_error", "checkTypes",
            "--summary_detail_level", "3",
            "--js", "-", "--js_output_file", "compiled.js"
    );
    pb.redirectErrorStream(true);
    Process process = pb.start();
    try (OutputStream stdin = process.getOutputStream())