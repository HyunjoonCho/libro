public void testJsCompilerTypedefResolution() {
  String jsCode =
      "goog.provide('a.b.c');\n" +
      "\n" +
      "goog.scope(function() {\n" +
      "  var b = a.b;\n" +
      "  var c = b.c;\n" +
      "\n" +
      "  /** @typedef {string} */\n" +
      "  c.MyType;\n" +
      "\n" +
      "  /** @param {c.MyType} x The variable. */\n" +
      "  c.myFunc = function(x) {}\n" +
      "});";
  try {
    JsCompiler.compile(jsCode);
    fail("Expected compilation to fail due to typedef resolution issue.");
  } catch (CompilationException e) {
    // Expected exception
  }
}