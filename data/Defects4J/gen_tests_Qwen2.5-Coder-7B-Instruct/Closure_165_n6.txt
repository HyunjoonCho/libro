public void testPropertiesOnRecordTypes() {
    String jsCode = 
        "/** @typedef {{name: string, id: number}} */\n" +
        "var RecordType1;\n" +
        "\n" +
        "/** @typedef {{name2: string}} */\n" +
        "var RecordType2;\n" +
        "\n" +
        "/**\n" +
        "* @param {RecordType1} rec\n" +
        "*/\n" +
        "var func = function(rec) {\n" +
        "  alert(rec.name2);\n" +
        "};\n" +
        "func({name: 'jim', id: 0});";

    Compiler compiler = new Compiler();
    compiler.init();
    compiler.compile(
        Collections.singletonList(new SourceFile("", jsCode)),
        Collections.<CompilerInput>emptyList(),
        null,
        Collections.<JSSourceFile>emptyList(),
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null