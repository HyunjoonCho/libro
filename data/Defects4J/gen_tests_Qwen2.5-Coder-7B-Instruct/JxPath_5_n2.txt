public void testCannotComparePointersFromDifferentTrees() throws Exception {
    JXPathContext context = JXPathContext.newContext(new Object());

    VariablePointer varPointer = (VariablePointer) context.getPointer("$var");
    NodePointer nodePointer = (NodePointer) context.getPointer("/MAIN/A");

    try {
        varPointer.compareTo(nodePointer);
        fail("Expected JXPathException");
    } catch (JXPathException e) {
        assertTrue(e.getMessage().contains("Cannot compare pointers that do not belong to the same tree"));
    }
}