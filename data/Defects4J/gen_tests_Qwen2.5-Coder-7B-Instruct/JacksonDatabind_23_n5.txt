public void testNonEmptyExclusion() throws JsonProcessingException {
    ObjectMapper mapper = new ObjectMapper();
    SimpleBeanPropertyFilter filter = SimpleBeanPropertyFilter.filterOutAllExcept("field1", "field2");
    FilterProvider filters = new SimpleFilterProvider().addFilter("myFilter", filter);
    
    MyClass obj = new MyClass();
    obj.setField1("value1");
    obj.setField2(null);
    obj.setField3(0);

    String json = mapper.writer(filters).writeValueAsString(obj);
    assertEquals("{\"field1\":\"value1\",\"field2\":null}", json);
}

class MyClass {
    private String field1;
    private String field2;
    private int field3;

    // Getters and setters
    public String getField1() { return field1; }
    public void setField1(String field1) { this.field1 = field1; }

    public String getField2() { return field2; }
    public void setField2(String field2) { this.field2 = field2; }

    public int getField3() { return field3; }
    public void setField3(int field3) { this.field3 = field3; }
}