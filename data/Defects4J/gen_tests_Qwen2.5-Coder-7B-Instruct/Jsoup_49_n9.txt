public void testBugInElementInsertChildren() {
    Document doc = Jsoup.parse("<html><head></head><body><div id='parent'><div id='child1'>Child1</div><div id='child2'>Child2</div><div id='child3'>Child3</div><div id='child4'>Child4</div></div></body></html>");
    Element parent = doc.getElementById("parent");
    Elements childrenToMove = parent.select("#child3,#child4");

    parent.insertChildren(0, childrenToMove);

    String expectedHtml = "<html><head></head><body><div id='parent'><div id='child3'>Child3</div><div id='child4'>Child4</div><div id='child1'>Child1</div><div id='child2'>Child2</div></div></body></html>";
    assertEquals(expectedHtml.replaceAll("\\s+", ""), doc.html().replaceAll("\\s+", ""));
}