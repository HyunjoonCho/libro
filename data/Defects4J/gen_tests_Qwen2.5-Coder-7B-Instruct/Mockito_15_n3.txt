public void testArgumentCaptorVarargs() {
    List<String> list = new ArrayList<>();
    Method method = ReflectionTestUtils.findMethod(List.class, "add", Object[].class);
    ArgumentCaptor<Object[]> captor = ArgumentCaptor.forClass(Object[].class);
    
    ReflectionTestUtils.invokeMethod(method, list, (Object[]) new String[]{"a", "b"});
    
    verify(captor).capture();
    assertEquals(1, captor.getAllValues().size());
    assertArrayEquals(new String[]{"a", "b"}, captor.getValue());
}