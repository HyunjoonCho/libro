public void testLanguageInECMAScript5Strict() throws Exception {
    String input1 = "var getNum = function() { return 5; };";
    String input2 = "alert(getNum());";

    Compiler compiler = new Compiler();
    compiler.init();

    List<CompilerInput> inputs = Lists.newArrayList(
            new CompilerInput(input1, "input1"),
            new CompilerInput(input2, "input2")
    );

    compiler.compile(inputs, null, null);

    String result = compiler.toSource();
    assertTrue(result.contains("use strict"));
    assertTrue(result.contains("alert(5)"));
}