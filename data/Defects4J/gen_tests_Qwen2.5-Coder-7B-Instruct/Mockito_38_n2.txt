public void testUnknownChangesWhenPulling() throws Exception {
    // setup Git repository
    Repository repo = initRepository();
    Git git = new Git(repo);

    // make some changes
    File file = new File(repo.getWorkTree(), "file.txt");
    Files.write(file.toPath(), "initial content".getBytes());

    // commit the changes
    git.add().addFilepattern("file.txt").call();
    git.commit().setMessage("Initial commit").call();

    // checkout a new branch
    Ref branchRef = git.checkout().setCreateBranch(true).setName("topic/releaseLabels").call();

    // make some changes in the new branch
    Files.write(file.toPath(), "updated content".getBytes());

    // pull changes from master branch
    try {
        git.pull().call();
        fail("Expected PullFailedException");
    } catch (PullFailedException e) {
        assertTrue(e.getMessage().contains("Changes unknown"));
    }
}