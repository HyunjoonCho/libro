public void testWriteEmbeddedObjectForByteArray() {
    ObjectMapper mapper = new ObjectMapper();
    ByteArrayOutputStream out = new ByteArrayOutputStream();
    try (JsonGenerator gen = mapper.getFactory().createGenerator(out)) {
        gen.writeStartObject();
        gen.writeFieldName("data");
        gen.writeEmbeddedObject(new byte[]{1, 2, 3});
        gen.writeEndObject();
        gen.close();
        String json = out.toString("UTF-8");
        assertTrue(json.contains("\"data\":[1,2,3]"));
    } catch (Exception e) {
        fail("Exception thrown: " + e.getMessage());
    }
}