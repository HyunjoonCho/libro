public void testCrypticErrorMessageOnInvalidTypeFunctionAnnotation() {
    String jsCode = "/**\n" +
                   "* @type function\n" +
                   "*/\n" +
                   "var callback;\n";
    try {
        JavaScriptCompiler.compile(jsCode, null, null);
        fail("Expected a parse error to be thrown");
    } catch (JavaScriptCompilerException e) {
        assertTrue(e.getMessage().contains("expected '('"));
    }
}