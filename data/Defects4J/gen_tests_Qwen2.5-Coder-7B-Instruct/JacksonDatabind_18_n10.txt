public void testObjectReaderReadValuesErrorRecovery() throws Exception {
    String json = "[{\"name\":\"John\", \"age\":30}, {\"name\":\"Jane\", \"age\":25}";
    ObjectMapper mapper = new ObjectMapper();
    JsonFactory factory = mapper.getFactory();
    JsonParser parser = factory.createParser(json);
    MappingIterator<Person> it = mapper.readerFor(Person.class).readValues(parser);

    Person person1 = null;
    try {
        person1 = it.nextValue();
    } catch (JsonProcessingException e) {
        // Expected exception
    }

    assertNull(person1);

    Person person2 = null;
    try {
        person2 = it.nextValue();
    } catch (JsonProcessingException e) {
        // Expected exception
    }

    assertNull(person2);

    assertFalse(it.hasNext());
}