public void testArrayIndexOutOfBoundsException() throws Exception {
    ByteArrayOutputStream baos = new ByteArrayOutputStream();
    baos.write(new byte[10920]);
    baos.write('A');
    
    InputStream bais = new ByteArrayInputStream(baos.toByteArray());
    Base64InputStream b64stream = new Base64InputStream(bais, true, 0, null);
    
    int count = 0;
    while (b64stream.read()!= -1) {
        count++;
    }
    
    assertEquals(10921, count);
}