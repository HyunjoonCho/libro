public void testJsonParserSequenceSkipsToken() throws Exception {
    String json1 = "{\"key1\":\"value1\"}";
    String json2 = "\"value2\"";
    
    JsonFactory factory = new JsonFactory();
    JsonParser parser1 = factory.createParser(json1);
    JsonParser parser2 = factory.createParser(json2);
    
    JsonParser sequenceParser = JsonParserSequence.createFlattened(parser1, parser2);
    
    assertTrue(sequenceParser.nextToken().isStartObject());
    assertTrue(sequenceParser.nextToken().hasCurrentName());
    assertEquals("key1", sequenceParser.getCurrentName());
    assertTrue(sequenceParser.nextToken().isText());
    assertEquals("value1", sequenceParser.getText());
    
    assertTrue(sequenceParser.nextToken().isValue());
    assertEquals("value2", sequenceParser.getText());
    
    assertNull(sequenceParser.nextToken());
}