public void testXmlSerializerProvider() throws Exception {
    ObjectMapper mapper = new XmlMapper();
    SimpleModule module = new SimpleModule();
    module.addSerializer(String.class, new JsonSerializer<String>() {
        @Override
        public void serialize(String value, JsonGenerator gen, SerializerProvider serializers) throws IOException {
            // Intentionally provide a null root name
            ((XmlSerializerProvider)serializers).getRootName(null);
        }
    });
    mapper.registerModule(module);

    String result = mapper.writeValueAsString(null);
    assertTrue(result.contains("<null/>"));
}