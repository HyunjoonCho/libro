public void testParseTarHeader() throws Exception {
    byte[] buffer = new byte[512];
    // Create a tar header with a size of 11 digits followed by a space
    ByteBuffer buf = ByteBuffer.wrap(buffer);
    buf.putInt(TarConstants.CKSUM_MAGIC);
    buf.put(new byte[TarConstants.NAMELEN]);
    buf.put((byte) 0);
    buf.put(new byte[TarConstants.MODELEN]);
    buf.put((byte) 0);
    buf.put(new byte[TarConstants.UIDLEN]);
    buf.put((byte) 0);
    buf.put(new byte[TarConstants.GIDLEN]);
    buf.put((byte) 0);
    buf.putInt(123456789); // 11 digits
    buf.put((byte)'');   // Trailing space
    buf.put(new byte[TarConstants.MTIMELEN]);
    buf.put((byte) 0);
    buf.put(new byte[TarConstantsCHKSUMLEN]);
    buf.put((byte) 0);
    buf.put(new byte[TarConstants.GNAMELEN]);
    buf.put((byte) 0);
    buf.put(new byte[TarConstants.DEVMAJLEN]);