public void testNextTextValueForAttributes() throws Exception {
    String xml = "<root><element attribute=\"value\">text</element></root>";
    XMLInputFactory f = XMLInputFactory.newInstance();
    XMLStreamReader reader = f.createXMLStreamReader(new StringReader(xml));
    new FromXmlParser(reader);

    assertTrue(parser.nextToken() == XmlToken.START_ELEMENT);
    parser.nextToken(); // Move to the attribute

    assertEquals("value", parser.getAttributeValue(null, "attribute"));
    assertEquals("value", parser.nextTextValue()); // Should return the attribute value

    parser.nextToken(); // Move to the text node
    assertEquals("text", parser.nextTextValue()); // Should return the text value
}