public void testToStringNPE() {
    Element orphan = new Element("orphan");
    String xml = "<root><child>text</child></root>";
    Document doc = new SAXBuilder().build(new StringReader(xml));
    Element root = doc.getRootElement();
    root.removeContent(orphan);
    try {
        System.out.println(orphan.toString());
    } catch (NullPointerException e) {
        fail("toString() should not throw NullPointerException for orphans");
    }
}