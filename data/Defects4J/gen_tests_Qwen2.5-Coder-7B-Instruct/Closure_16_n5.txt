public void testJsCompilerTypedefResolution() {
    String jsCode =
        "goog.provide('a.b.c');\n" +
        "goog.scope(function() {\n" +
        "var b = a.b;\n" +
        "var c = b.c;\n" +
        "/** @typedef {string} */\n" +
        "c.MyType;\n" +
        "/** @param {c.MyType} x The variable. */\n" +
        "c.myFunc = function(x) {}\n" +
        "});";

    JsErrorReporter reporter = new JsErrorReporter();
    CompilerOptions options = new CompilerOptions();
    options.setLanguageIn(LanguageMode.ECMASCRIPT5);
    options.setLanguageOut(LanguageMode.ECMASCRIPT5);

    Compiler compiler = new Compiler(reporter);
    compiler.compile(new JSCodingConvention(), options, Collections.singletonList(jsCode));

    assertTrue("No errors expected", reporter.getErrorCount() == 0);
}