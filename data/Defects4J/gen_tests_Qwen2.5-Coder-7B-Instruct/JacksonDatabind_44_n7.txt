public void testPolymorphicTypes() throws JsonProcessingException {
    ObjectMapper mapper = new ObjectMapper();
    SubTypeWithDefaultImpl obj = mapper.readValue("{\"type\":\"sub\",\"prop\":42}", SuperType.class);
    assertNotNull(obj.getDefaultProp());
    assertEquals(42, obj.getProp());
}