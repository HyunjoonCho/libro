public void testTokenLocationAfterFieldName() throws Exception {
    _testTokenLocationAfterFieldName(false);
    _testTokenLocationAfterFieldName(true);
}

private void _testTokenLocationAfterFieldName(boolean useStream) throws Exception {
    String doc = "{\"name\":123}";
    JsonFactory jf = new JsonFactory();
    JsonParser jp = useStream? 
            jf.createJsonParser(new ByteArrayInputStream(doc.getBytes("UTF-8"))) :
            jf.createJsonParser(new StringReader(doc));

    assertEquals(JsonToken.START_OBJECT, jp.nextToken());
    assertEquals(JsonToken.FIELD_NAME, jp.nextToken());
    assertEquals(JsonToken.VALUE_NUMBER_INT, jp.nextToken());

    JsonLocation loc1 = jp.getTokenLocation();
    assertEquals(1, loc1.getLineNr());
    assertEquals(9, loc1.getColumnNr());

    jp.nextToken(); // Should advance to the end of the document

    JsonLocation loc2 = jp.getTokenLocation();
    assertEquals(1, loc2.getLineNr()); // This should fail, as the line number should have changed
    assertEquals(15, loc2.getColumnNr()); // This should fail, as the column number should have changed

    jp.close();
}