public void testSwitchedOrder() {
    Map<String, String> customData = new HashMap<>();
    customData.put("key", "value");

    String result = testRemoveKey(customData, "key");
    assertTrue(result!= null);
    assertFalse(customData.containsKey("key"));
}

private String testRemoveKey(Map<String, String> dataSlot, String key) {
    String retval = dataSlot.get(key);
    boolean hadKey = dataSlot.containsKey(key);

    dataSlot.remove(key);

    return hadKey? retval : null;
}