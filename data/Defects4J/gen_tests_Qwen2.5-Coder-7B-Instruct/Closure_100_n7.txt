public void testDangerousUseOfGlobalThisObjectWarning() {
    String jsCode = 
        "/** @constructor */\n" +
        "function Foo()\n" +
        "{\n" +
        " this._bar = null;\n" +
        "}\n" +
        "\n" +
        "/** @this {Foo} */\n" +
        "function writeMethodWithAnnotation()\n" +
        "{\n" +
        " this._bar = 123; // no warning. ok\n" +
        "}\n" +
        "\n" +
        "/** @this {Foo} */\n" +
        "function readMethodWithAnnotation()\n" +
        "{\n" +
        " return this._bar; // no warning. ok\n" +
        "}\n" +
        "\n" +
        "//----\n" +
        "\n" +
        "function writeMethodWithoutAnnotation()\n" +
        "{\n" +
        " this._bar = 123; // warning. ok.\n" +
        "}\n" +
        "\n" +
        "function readMethodWithoutAnnotation()\n" +
        "{\n" +