public void testBase64InputStreamReads() throws Exception {
    byte[] input = "a".getBytes("UTF-8");
    Base64InputStream base64Stream = new Base64InputStream(new ByteArrayInputStream(input), true, 0, null);

    for (int i = 0; i < 10920; i++) {
        base64Stream.read();
    }

    // This should not throw an exception
    base64Stream.read();
}