public void testArchiveStreamFactoryEncoding() throws Exception {
    String encoding = "UTF-8";
    InputStream inputStream = new ByteArrayInputStream(new byte[0]);
    
    try {
        ArchiveInputStream arjIn = ArchiveStreamFactory.createArchiveInputStream(ArchiveStreamFactory.ARJ, inputStream, encoding);
        assertTrue(arjIn instanceof ArjArchiveInputStream);
        
        ArchiveOutputStream arjOut = ArchiveStreamFactory.createArchiveOutputStream(ArchiveStreamFactory.ARJ, outputStream, encoding);
        assertTrue(arjOut instanceof ArjArchiveOutputStream);
        
        // Repeat for other archive types...
    } catch (IOException e) {
        fail("Failed to create archive stream with specified encoding: " + e.getMessage());
    }
}