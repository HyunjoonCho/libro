public void testBugInElementInsertChildren() {
    Document doc = Jsoup.parse("<html><head></head><body><div1></div1><div2></div2><div3></div3><div4></div4></body></html>");
    Element body = doc.body();
    Elements divs = body.select("div");

    List<Element> toMove = new ArrayList<>();
    toMove.add(divs.get(2));
    toMove.add(divs.get(3));

    body.insertChildren(0, toMove);

    String expected = "<html><head></head><body><div3></div3><div4></div4><div1></div1><div2></div2></body></html>";
    assertEquals(expected.replaceAll("\\s+", ""), doc.toString().replaceAll("\\s+", ""));
}