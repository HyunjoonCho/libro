public void testLocaleChange() {
    Locale originalLocale = Locale.getDefault();
    try {
        Locale.setDefault(Locale.US);
        FastDateFormat sdf = FastDateFormat.getDateInstance(FastDateFormat.DEFAULT, Locale.UK);
        assertEquals("EEE MMM dd HH:mm:ss zzz yyyy", sdf.format(new Date()));

        Locale.setDefault(Locale.UK);
        sdf = FastDateFormat.getDateInstance(FastDateFormat.DEFAULT, Locale.US);
        assertEquals("EEE MMM dd HH:mm:ss zzz yyyy", sdf.format(new Date()));
    } finally {
        Locale.setDefault(originalLocale);
    }
}