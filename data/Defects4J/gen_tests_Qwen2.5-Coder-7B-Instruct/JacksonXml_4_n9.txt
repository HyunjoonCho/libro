public void testNullWithRootNameConfig() throws Exception {
    SimpleModule module = new SimpleModule();
    module.addSerializer(String.class, new JsonSerializer<String>() {
        @Override
        public void serialize(String value, JsonGenerator gen, SerializerProvider serializers) throws IOException {
            // Do nothing
        }
    });
    ObjectMapper mapper = new XmlMapper().registerModule(module)
           .setSerializationInclusion(JsonInclude.Include.NON_NULL)
           .setAnnotationIntrospector(new JacksonAnnotationIntrospector())
           .addMixIn(Object.class, new ObjectMixin());

    mapper.configOverride(String.class).setRootName("test");

    String result = mapper.writeValueAsString(null);

    assertEquals("<test xsi:nil=\"true\"/>", result);
}