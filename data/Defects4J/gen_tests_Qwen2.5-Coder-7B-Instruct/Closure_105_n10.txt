public void testArrayJoinMungedIncorrectly() {
    String input = "[ '', this[0].className, '' ].join(' ')";
    String expectedOutput = "( '' + this[0].className ) +''";
    String actualOutput = input.replace("[", "").replace("]", "")
                              .replaceAll("(.*?)\\s*,\\s*(.*?)\\s*,\\s*(.*)",
                                          "('$1').concat(' ').concat('$2')");

    assertEquals(expectedOutput, actualOutput);
}