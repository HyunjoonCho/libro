public void testBugInElementInsertChildren() {
    Document doc = Jsoup.parse("<html><head></head><body><div1></div1><div2></div2><div3></div3><div4></div4></body></html>");
    Element body = doc.body();
    
    ArrayList<Element> toMove = new ArrayList<>();
    toMove.add(body.child(2)); // div3
    toMove.add(body.child(3)); // div4
    
    body.insertChildren(0, toMove);
    
    String result = doc.body().toString().replaceAll("\\s+", "");
    assertEquals("<body><div3></div3><div4></div4><div1></div1><div2></div2></body>", result);
}