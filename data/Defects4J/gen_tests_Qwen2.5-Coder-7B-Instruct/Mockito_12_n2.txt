public void testArgumentCaptorVarargs() {
    MyService service = mock(MyService.class);
    String[] args = {"arg1", "arg2"};
    service.doSomething(args);

    ArgumentCaptor<String[]> captor = ArgumentCaptor.forClass(String[].class);
    verify(service).doSomething(captor.capture());

    assertArrayEquals(new String[]{"arg1", "arg2"}, captor.getValue());
}