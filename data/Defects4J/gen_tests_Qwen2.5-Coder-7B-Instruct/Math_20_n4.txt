public void testCMAESOptimizerBoundsEnforcement() {
    double[] initialPoint = {5.0};
    double[] lowerBound = {0.0};
    double[] upperBound = {10.0};

    CMAESOptimizer optimizer = new CMAESOptimizer();
    optimizer.setLowerBound(lowerBound);
    optimizer.setUpperBound(upperBound);

    PointValuePair result = optimizer.optimize(
        new ObjectiveFunction(new UnivariateFunction() {
            public double value(double x) {
                return Math.pow(x - 15.0, 2);
            }
        }),
        GoalType.MINIMIZE,
        new InitialGuess(initialPoint),
        new SimpleBounds(lowerBound, upperBound)
    );

    assertTrue(result.getValue() >= 0.0);
    assertTrue(result.getPoint()[0] >= 0.0);
    assertTrue(result.getPoint()[0] <= 10.0);
}