public void testGoogAddSingletonGetter() {
  String input = 
      "goog.provide('foo');\n" +
      "\n" +
      "var foo = function() { this.values = []; };\n" +
      "goog.addSingletonGetter(foo);\n" +
      "\n" +
      "foo.prototype.add = function(value) {this.values.push(value)};";
  String expectedOutput = "";
  CompilationLevel.ADVANCED_OPTIMIZATIONS.compile(
      CompilerInput.fromCode("test", input),
      new JsTypeResolver(),
      new ErrorManager(),
      new CodePrinter(),
      null,
      null);
  assertEquals(expectedOutput, compilerResult.getCode());
}