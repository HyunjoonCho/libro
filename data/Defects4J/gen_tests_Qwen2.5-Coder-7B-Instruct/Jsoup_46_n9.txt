public void testShiftJisNumericEscapeFallback() throws Exception {
    String input = "<p>Example text &nbsp;</p>";
    Document doc = Jsoup.parse(input);
    doc.outputSettings().escapeMode(EscapeMode.base);

    String output = doc.body().html();

    assertTrue("Output should contain numeric escape.", output.contains("&#160;"));
}