public void testExternalTypeIdBeforePojo() throws Exception {
    String json = "\"@class\":\"com.example.MyClass\",\"field\":42";
    ObjectMapper mapper = new ObjectMapper();
    MyClass obj = mapper.readValue(json, MyClass.class);
    assertEquals(42, obj.getField());
}

class MyClass {
    private int field;

    public int getField() {
        return field;
    }

    public void setField(int field) {
        this.field = field;
    }
}