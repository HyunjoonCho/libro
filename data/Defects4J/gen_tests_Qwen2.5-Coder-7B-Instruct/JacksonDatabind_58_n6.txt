public void testJsonIgnoreProperties() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    SimpleModule module = new SimpleModule();
    module.setMixInAnnotations(Throwable.class, IgnoreCauseMixin.class);
    mapper.registerModule(module);

    String json = "{\"message\":\"test\",\"cause\":null}";
    try {
        mapper.readValue(json, Throwable.class);
        fail("Expected IllegalArgumentException");
    } catch (IllegalArgumentException e) {
        assertTrue(e.getMessage().contains("Reflection is not allowed on private java.lang.Throwable java.lang.Throwable.cause"));
    }
}

class IgnoreCauseMixin {
    @JsonIgnore
    private Throwable cause;
}