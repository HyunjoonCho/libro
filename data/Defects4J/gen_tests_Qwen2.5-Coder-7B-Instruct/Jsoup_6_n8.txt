public void testStringIndexOutOfBoundsException() {
    String html = "<a href=\"http://news.yahoo.com/s/nm/20100831/bs_nm/us_gm_china\">Link</a>";
    Document doc = Jsoup.parse(html);
    Elements links = doc.select("a[href]");
    for (Element link : links) {
        // This should not throw StringIndexOutOfBoundsException
        String decodedHref = Entities.unescape(link.attr("href"));
    }
}