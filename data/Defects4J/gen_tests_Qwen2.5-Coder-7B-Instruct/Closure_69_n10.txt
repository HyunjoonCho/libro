public void testInstanceMethodOperation() {
    StringBuilder sb = new StringBuilder();
    sb.append("goog.require('goog.graphics.Path');\n");
    sb.append("function demo() {\n");
    sb.append("  var path = new goog.graphics.Path();\n");
    sb.append("  var points = [[1,1], [2,2]];\n");
    sb.append("  for (var i = 0; i < points.length; i++) {\n");
    sb.append("    (i == 0? path.moveTo : path.lineTo)(points[i][0], points[i][1]);\n");
    sb.append("  }\n");
    sb.append("}\n");
    sb.append("goog.exportSymbol('demo', demo);");

    try {
      JavaScriptCompiler compiler = new JavaScriptCompiler();
      compiler.compile(null, sb.toString(), null);
      fail("Expected error or warning about instance method operation.");
    } catch (JavaScriptException e) {
      // Expected exception
    }
  }