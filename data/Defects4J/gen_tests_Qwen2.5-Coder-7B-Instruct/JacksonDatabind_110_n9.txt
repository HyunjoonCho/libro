public void testUnmodifiableNonRandomAccessList() throws Exception {
    List<String> originalList = new LinkedList<>();
    originalList.add("first");
    originalList.add("second");
    Collection<String> unmodifiableList = Collections.unmodifiableList(originalList);
    
    ObjectMapper mapper = new ObjectMapper();
    mapper.enableDefaultTyping(DefaultTyping.NON_FINAL, JsonTypeInfo.As.PROPERTY);
    
    String json = mapper.writeValueAsString(unmodifiableList);
    Collection<String> deserializedList = mapper.readValue(json, Collection.class);
    
    assertEquals(unmodifiableList, deserializedList);
    assertTrue(deserializedList instanceof UnmodifiableList);
    assertFalse(deserializedList instanceof RandomAccess);
}