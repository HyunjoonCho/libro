public void testOnlineCCBug() throws Exception {
    String jsCode = 
        "function keys(obj) {\n" +
        "var a = [], i = 0;\n" +
        "for (a[i++] in obj)\n" +
        ";\n" +
        "return a;\n" +
        "}";
    
    URL url = new URL("http://closure-compiler.appspot.com/compile");
    HttpURLConnection conn = (HttpURLConnection) url.openConnection();
    conn.setDoOutput(true);
    conn.setRequestMethod("POST");
    conn.setRequestProperty("Content-Type", "application/x-www-form-urlencoded");

    String data = 
        "js_code=" + URLEncoder.encode(jsCode, "UTF-8") +
        "&compilation_level=SIMPLE_OPTIMIZATIONS";

    try(OutputStream os = conn.getOutputStream()) {
        byte[] input = data.getBytes("utf-8");
        os.write(input, 0, input.length);           
    }

    int responseCode = conn.getResponseCode();
    assertEquals(200, responseCode);

    String responseBody = IOUtils.toString(conn.getInputStream(), "UTF-8");
    assertFalse(responseBody.contains("java error"));
}