public void testSubclassDeserialization() throws Exception {
    class SubMultiKey extends MultiKey<String, String> {
        private static final long serialVersionUID = 1L;
        public SubMultiKey(String k1, String k2) { super(k1, k2); }
    }
    SubMultiKey original = new SubMultiKey("key1", "key2");
    ByteArrayOutputStream baos = new ByteArrayOutputStream();
    try (ObjectOutputStream oos = new ObjectOutputStream(baos)) {
        oos.writeObject(original);
    }
    SubMultiKey deserialized = null;
    try (ObjectInputStream ois = new ObjectInputStream(new ByteArrayInputStream(baos.toByteArray()))) {
        deserialized = (SubMultiKey) ois.readObject();
    }
    assertNotNull(deserialized);
    assertEquals("key1", deserialized.getFirst());
    assertEquals("key2", deserialized.getSecond());
}