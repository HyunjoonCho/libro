import com.google.gson.Gson;
import java.lang.reflect.ParameterizedType;
import java.lang.reflect.Type;

public void testGsonStackOverflowError() {
    Gson gson = new Gson();
    Type type = new ParameterizedType() {
        @Override
        public Type getRawType() {
            return TestType.class;
        }

        @Override
        public Type[] getActualTypeArguments() {
            return new Type[]{X.class};
        }

        @Override
        public Type getOwnerType() {
            return null;
        }
    };
    gson.getAdapter(type);
}

private static class TestType<T> {
    T value;
}

private static class X {}