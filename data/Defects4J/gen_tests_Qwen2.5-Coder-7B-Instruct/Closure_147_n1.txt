public void testGlobalThisWarning() {
    String script = 
        "var NS = {\n" +
        "  read: function()\n" +
        "  {\n" +
        "    return this.foo;\n" +
        "  },\n" +
        "\n" +
        "  write: function()\n" +
        "  {\n" +
        "    this.foo = 123;\n" +
        "  }\n" +
        "};\n" +
        "\n" +
        "NS.write2 = function()\n" +
        "{\n" +
        "  this.foo = 123;\n" +
        "};";
    
    assertTrue(runScriptAndCheckForWarning(script, "JSC_USED_GLOBAL_THIS"));
}