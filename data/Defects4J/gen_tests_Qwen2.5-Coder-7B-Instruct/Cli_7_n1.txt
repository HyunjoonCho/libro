public void testRequiredOptions() throws Exception {
    // Arrange
    DefaultOptionParser parser = new DefaultOptionParser();
    Option help = new Option('h', "help", false, "print help");
    parser.addOption(help);

    // Act & Assert
    try {
        parser.parse(new String[]{"-c", "arg"});
        fail("Expected ParseException");
    } catch (ParseException e) {
        assertEquals("-h", e.getMessage());
    }
}