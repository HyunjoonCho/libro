public void testJsonIgnoreProperties() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    mapper.setAnnotationIntrospector(new AnnotationIntrospector.None());

    MyException ex = new MyException();
    String json = mapper.writeValueAsString(ex);

    try {
        mapper.readValue(json, MyException.class);
        fail("Expected IllegalArgumentException");
    } catch (IllegalArgumentException e) {
        // Expected
    }
}

class MyException extends RuntimeException {
    @JsonIgnoreProperties("cause")
    public MyException() {
        super("Test message");
    }
}