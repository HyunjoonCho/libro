import org.jfree.chart.renderer.category.AbstractCategoryItemRenderer;
import org.jfree.data.category.DefaultCategoryDataset;

public class TestJFreeChart {

    public static void main(String[] args) {
        AbstractCategoryItemRenderer renderer = new AbstractCategoryItemRenderer();
        DefaultCategoryDataset dataset = null;
        renderer.setPlot(new Plot() {
            @Override
            public int getIndexOf(Object object) {
                return 0;
            }

            @Override
            public CategoryDataset getDataset(int index) {
                return dataset;
            }
        });

        try {
            renderer.getLegendItems();
        } catch (NullPointerException e) {
            System.out.println("Caught NullPointerException as expected.");
        }
    }
}