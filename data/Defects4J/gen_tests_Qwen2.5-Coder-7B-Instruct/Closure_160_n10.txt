public void testCheckVarsAndUndefinedVarsDiagnostics() {
    String[] args1 = {"--js", "test.js"};
    String[] args2 = {"--js", "test.js", "--warning_level", "VERBOSE"};
    String[] args3 = {"--js", "test.js", "--jscomp_warning", "globalThis"};
    String[] args4 = {"--js", "test.js", "--jscomp_warning", "checkVars"};
    String[] args5 = {"--js", "test.js", "--jscomp_warning", "undefinedVars"};

    // Check that checkVars and undefinedVars diagnostics don't work without --warning_level VERBOSE
    assertFalse(runCompiler(args1));
    assertFalse(runCompiler(args3));
    assertFalse(runCompiler(args4));
    assertFalse(runCompiler(args5));

    // Check that checkVars and undefinedVars diagnostics work with --warning_level VERBOSE
    assertTrue(runCompiler(args2));
}