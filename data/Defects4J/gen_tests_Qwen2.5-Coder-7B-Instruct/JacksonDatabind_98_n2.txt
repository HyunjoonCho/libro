import static org.junit.Assert.*;
import com.fasterxml.jackson.databind.ObjectMapper;
import org.junit.Test;

public class TestExternalPropertyPolymorphicDeserialization {

    @Test(expected = IllegalArgumentException.class)
    public void testEnumPolymorphicDeserialization() throws Exception {
        String json = "{\"kind\":\"CONTACT\",\"to\":{\"name\":\"Foo\"}}";
        ObjectMapper mapper = new ObjectMapper();
        mapper.readValue(json, MyClass.class);
    }

}

class MyClass {
    private Kind kind;
    private To to;

    // getters and setters
}

enum Kind {
    CONTACT
}

class To {
    private String name;

    // getter and setter
}