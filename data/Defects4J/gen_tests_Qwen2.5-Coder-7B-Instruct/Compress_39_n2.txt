public void testDefectiveZipArchive() throws Exception {
    // Create a defective zip file (e.g., truncate it)
    Path tempDir = Files.createTempDirectory("test");
    Path zipPath = tempDir.resolve("defective.zip");
    
    try (ZipOutputStream zos = new ZipOutputStream(Files.newOutputStream(zipPath))) {
        ZipEntry entry = new ZipEntry("file.txt");
        zos.putNextEntry(entry);
        // Write some data to the entry
        zos.write("Hello, World!".getBytes());
        // Truncate the zip file
        zos.close();
    }
    
    try (ZipInputStream zis = new ZipInputStream(Files.newInputStream(zipPath))) {
        fail("Expected EOFException to be thrown");
    } catch (EOFException e) {
        assertTrue(e.getMessage().length() < 1024); // Check if the message is too long
    }
}