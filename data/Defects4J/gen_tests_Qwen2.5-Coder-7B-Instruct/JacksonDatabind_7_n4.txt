public void testTokenBufferDelegateDeserialization() throws IOException {
    String json = "{\"a\":1,\"b\":null}";
    ObjectMapper mapper = new ObjectMapper();
    JsonParser parser = mapper.getFactory().createParser(json);
    TokenBuffer buffer = new TokenBuffer(mapper.getFactory(), false);

    // Simulate reading the first token (FIELD_NAME)
    assertToken(parser.nextToken(), JsonToken.FIELD_NAME);

    // Copy the current structure starting from the FIELD_NAME
    buffer.copyCurrentStructure(parser);

    // Check the contents of the buffer
    assertToken(buffer.currentToken(), JsonToken.FIELD_NAME);
    assertValue(buffer.nextToken(), 1);
    assertToken(buffer.nextToken(), JsonToken.FIELD_NAME);
    assertNull(buffer.nextToken());
    assertToken(buffer.nextToken(), null); // EOF
}