public void testVarStatementTypeDeclarationBug() {
    String jsCode = 
        "/**\n" +
        "* @constructor\n" +
        "*/\n" +
        "function MyClass() {\n" +
        "  this.value = 1;\n" +
        "}\n" +
        "\n" +
        "MyClass.prototype.show = function() {\n" +
        "  window.console.log(this.value)\n" +
        "}\n" +
        "\n" +
        "/**\n" +
        "* @type {MyClass}\n" +
        "*/\n" +
        "var x = null;\n" +
        "x.show();";

    // This should cause a NullPointerException at runtime
    thrown.expect(NullPointerException.class);
    compiler.compile(SourceFile.fromCode("test.js", jsCode));
}