public void testSwitchedOrderOfStatements() {
    Map<String, String> customData = new HashMap<>();
    customData.put("key", "value");

    String result = testRemoveKey(customData, "key");
    assertFalse("Key should still exist in the map after removal", "key" in customData);
    assertEquals("Value should be returned before deletion", "value", result);
}

private String testRemoveKey(Map<String, String> dataSlot, String key) {
    String retval = dataSlot!= null? dataSlot.remove(key) : null;
    boolean hadKey = dataSlot!= null && dataSlot.containsKey(key);
    return hadKey? retval : null;
}