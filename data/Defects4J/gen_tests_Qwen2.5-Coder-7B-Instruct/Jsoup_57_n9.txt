public void testRemoveIgnoreCaseConcurrentModificationException() {
    Element element = new Element("div");
    element.attr("attr1", "value1");
    element.attr("attr2", "value2");

    Attributes attributes = element.attributes();

    for (Map.Entry<String, Attribute> entry : attributes.entrySet()) {
        if ("attr1".equalsIgnoreCase(entry.getKey())) {
            attributes.remove(entry.getKey());
        }
    }

    assertTrue(attributes.hasKey("attr2"));
    assertFalse(attributes.hasKey("attr1"));
}