public void testInvalidJscDeterministicTest() {
    // This test will fail if the issue still exists
    // as the compiler will generate a warning about the 
    // condition always evaluating to false.
    // If the issue is fixed, the test will pass silently.
    // If the issue persists, the test will fail with a warning message.
    assertThrows(JsError.class, () -> {
        CompilerOptions options = new CompilerOptions();
        options.setLanguageIn(LanguageMode.ECMASCRIPT_5);
        options.setLanguageOut(LanguageMode.ECMASCRIPT_5);
        options.setOutputWrapper("(function(){%output%;})()");
        options.setCodingConvention(new CodingConvention.Simple());

        SourceFile input = SourceFile.fromCode("test.js", "var t = null; window.test = function(){ if (t!= null) { t = null; } t = 1; };");
        Result result = compile(options, input);

        assertTrue(result.successful());
        assertFalse(result.warnings().stream().anyMatch(warning -> warning.matches("^JSC_DETERMINISTIC_TEST")));
    });
}