public void testExtensionFunctionReturningNodeSet() throws Exception {
    JXPathContext context = JXPathContext.newContext(new TestBean());
    List<?> result = (List<?>) context.getValue("ems:observations()");
    assertNotNull(result);
    assertFalse(result.isEmpty());
    assertTrue(result.get(0) instanceof NodePointer);
}