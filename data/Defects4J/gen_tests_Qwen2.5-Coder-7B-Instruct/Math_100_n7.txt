public void testAbstractEstimatorCovariances() throws Exception {
    LeastSquaresProblem problem = mock(LeastSquaresProblem.class);
    double[] values = {1.0, 2.0};
    when(problem.getAllParameters()).thenReturn(values);
    when(problem.getParameterStatuses()).thenReturn(new ParameterStatus[]{ParameterStatus.FREE, ParameterStatus.BOUND});
    AbstractEstimator estimator = new AbstractEstimator() {};
    try {
        estimator.getCovariances();
        fail("Expected ArrayIndexOutOfBoundsException");
    } catch (ArrayIndexOutOfBoundsException e) {
        // expected
    }
}

public void testAbstractEstimatorGuessParametersErrors() throws Exception {
    LeastSquaresProblem problem = mock(LeastSquaresProblem.class);
    double[] values = {1.0, 2.0};
    when(problem.getAllParameters()).thenReturn(values);
    when(problem.getParameterStatuses()).thenReturn(new ParameterStatus[]{ParameterStatus.FREE, ParameterStatus.BOUND});
    AbstractEstimator estimator = new AbstractEstimator() {};
    try {
        estimator.guessParametersErrors();
        fail("Expected ArrayIndexOutOfBoundsException");
    } catch (ArrayIndexOutOfBoundsException e) {
        // expected
    }
}