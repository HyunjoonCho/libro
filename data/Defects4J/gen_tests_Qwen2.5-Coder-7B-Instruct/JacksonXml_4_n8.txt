public void testXmlSerializerProviderWithNull() throws Exception {
    ObjectMapper mapper = new XmlMapper();
    SimpleModule module = new SimpleModule();
    module.addSerializer(Object.class, new JsonSerializer<Object>() {
        @Override
        public void serialize(Object value, JsonGenerator gen, SerializerProvider serializers) throws IOException {
            // Do nothing
        }
    });
    mapper.registerModule(module);

    XmlSerializerProvider provider = (XmlSerializerProvider) mapper.getSerializerProvider();
    assertNull(provider._rootNameFromConfig());

    String xml = mapper.writeValueAsString(null);
    assertTrue(xml.contains("<null/>"));
}