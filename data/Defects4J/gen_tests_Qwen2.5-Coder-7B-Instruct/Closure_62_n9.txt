public void testCaretPositionInErrorOutput() throws Exception {
    String input = "alert(1;";
    ProcessBuilder pb = new ProcessBuilder("java", "-jar", "compiler.jar", "--js", "test.js");
    Files.write(Paths.get("test.js"), input.getBytes());
    Process process = pb.start();
    ByteArrayOutputStream baos = new ByteArrayOutputStream();
    process.getErrorStream().transferTo(baos);
    String errorOutput = baos.toString();
    assertTrue(errorOutput.contains("^"));
}