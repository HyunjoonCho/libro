import com.google.javascript.rhino.jstype.FunctionType;
import com.google.javascript.rhino.jstype.JSTypeRegistry;
import com.google.javascript.rhino.jstype.ObjectType;
import com.google.javascript.rhino.jstype.StaticScope;
import com.google.javascript.rhino.jstype.StaticSlot;
import org.junit.Before;
import org.junit.Test;

import static org.junit.Assert.*;

public class Issue107Test {

  private JSTypeRegistry registry;
  private StaticScope<ObjectType> globalScope;

  @Before
  public void setUp() {
    registry = new JSTypeRegistry();
    globalScope = registry.getGlobalScope();
  }

  @Test(expected = IllegalArgumentException.class)
  public void testIncorrectArgumentCountErrorNotReportedOnAliasing() {
    String source = "function Person(name) {};" +
                    "Person.prototype.getName = function() { return this.name; };" +
                    "Person.prototype.say = function(message) {" +
                    "  var self = this;" +
                    "  setTimeout(function() {" +
                    "    console.log(self.getName(1) +'says:'+ message);" +
                    "  }, 500);" +
                    "};" +
                    "