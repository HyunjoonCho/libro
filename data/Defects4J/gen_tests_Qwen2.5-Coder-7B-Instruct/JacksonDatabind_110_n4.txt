public void testUnmodifiableNonRandomAccessList() throws Exception {
    Collection<String> input = Collections.unmodifiableList(new LinkedList<>(Arrays.asList("first", "second")));
    ObjectMapper mapper = new ObjectMapper();
    mapper.enableDefaultTyping(DefaultTyping.NON_FINAL, JsonTypeInfo.As.PROPERTY);
    String json = mapper.writeValueAsString(input);
    Collection<String> output = mapper.readValue(json, Collection.class);

    assertEquals(input, output);
    assertTrue(output instanceof List);
    assertFalse(output instanceof RandomAccess);
}