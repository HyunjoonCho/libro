public void testGlobalThisWarning() {
    String script = 
        "var NS = {\n" +
        "  read: function()\n" +
        "  {\n" +
        "    return this.foo;\n" +
        "  },\n" +
        "\n" +
        "  write: function()\n" +
        "  {\n" +
        "    this.foo = 123;\n" +
        "  }\n" +
        "};";
    
    List<String> warnings = JavaScriptEngine.warn(script);
    assertTrue(warnings.contains("JSC_USED_GLOBAL_THIS: dangerous use of the global this object"));
}