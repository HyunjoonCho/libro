public void testCoreUnionOperation() throws Exception {
    String xml = "<MAIN><A>avalue</A><B>bvalue</B></MAIN>";
    Document doc = parseXml(xml);

    XPath xpath = XPathFactory.newInstance().newXPath();
    NodeList result = (NodeList) xpath.evaluate("/MAIN/B | /MAIN/A", doc, XPathConstants.NODESET);

    assertEquals(2, result.getLength());
    assertEquals("avalue", result.item(0).getTextContent());
    assertEquals("bvalue", result.item(1).getTextContent());
}