public void testVarStatementTypeMismatch() {
  String jsCode = 
      "/**\n" +
      "* @constructor\n" +
      "*/\n" +
      "function MyClass() {\n" +
      "  this.value = 1;\n" +
      "}\n" +
      "\n" +
      "MyClass.prototype.show = function() {\n" +
      "  window.console.log(this.value);\n" +
      "}\n" +
      "\n" +
      "/**\n" +
      "* @type {MyClass}\n" +
      "*/\n" +
      "var x = null;\n" +
      "x.show();";
  CompilationLevel level = CompilationLevel.WARN;
  Compiler compiler = new Compiler();
  Result result = compiler.compile(
      ImmutableList.of(new SourceFile.Js(jsCode)),
      ImmutableList.of(),
      compiler.initOptionsForTest(level));
  assertTrue(result.success);
  List<Error> errors = compiler.getErrorManager().getErrors();
  assertFalse(errors.isEmpty());
  for (Error error : errors) {
    System.err.println(error.toString());
  }
}