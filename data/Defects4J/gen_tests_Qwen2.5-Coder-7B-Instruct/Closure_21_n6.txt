public void testNonRightmostExpressions() {
    // Test case 1
    Expression expr1 = new CommaExpression(new IntegerLiteral(1), new IntegerLiteral(2), new IntegerLiteral(42));
    List<Expression> problematicExprs1 = classifyProblematicExpressions(expr1);
    assertEquals(1, problematicExprs1.size());
    assertTrue(problematicExprs1.contains(expr1.getSubexpressions().get(0)));

    // Test case 2
    MethodCall barMethodCall = new MethodCall("bar", Collections.emptyList());
    Expression expr2 = new CommaExpression(barMethodCall, new IntegerLiteral(2), new IntegerLiteral(42));
    List<Expression> problematicExprs2 = classifyProblematicExpressions(expr2);
    assertEquals(1, problematicExprs2.size());
    assertTrue(problematicExprs2.contains(expr2.getSubexpressions().get(0)));

    // Test case 3
    CommaExpression innerExpr1 = new CommaExpression(new IntegerLiteral(1), new IntegerLiteral(2), new IntegerLiteral(3));
    CommaExpression innerExpr2 = new CommaExpression(new IntegerLiteral(4), new IntegerLiteral(5), new IntegerLiteral(42));