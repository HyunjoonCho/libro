import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.CompilerOptions;
import com.google.javascript.jscomp.Result;

public void testInvalidDeterministicTestWarning() {
    Compiler compiler = new Compiler();
    CompilerOptions options = new CompilerOptions();
    Result result = compiler.compile(
        SourceFile.fromCode("test", "var t = null;\n\nwindow.test = function()\n{\n if (t!= null)\n {\n t = null;\n }\n\n t = 1;\n};"),
        null,
        options
    );

    assertFalse(result.success);
    assertTrue(compiler.getErrorCount() > 0);
    assertTrue(compiler.hasErrors());
    assertTrue(compiler.hasWarnings());
}