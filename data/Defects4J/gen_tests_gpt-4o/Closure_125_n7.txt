public void testIllegalStateExceptionInCompiler() {
    String[] args = {
        "--js", "crash.js",
        "--warning_level=VERBOSE",
        "--compilation_level=SIMPLE_OPTIMIZATIONS"
    };
    try {
        com.google.javascript.jscomp.CommandLineRunner.main(args);
        fail("Expected IllegalStateException not thrown");
    } catch (RuntimeException e) {
        assertTrue(e.getCause() instanceof IllegalStateException);
    }
}