
import static org.mockito.Mockito.*;
import org.mockito.ArgumentCaptor;
import org.mockito.Captor;
import org.junit.Test;
import java.util.function.Consumer;

public class ArgumentCaptorTest {

    @Test
    public void testArgumentCaptorFromClass() {
        // The following line should ideally type check correctly but currently does not.
        // This will result in a compilation error due to the issue described.
        ArgumentCaptor<Consumer<String>> captor = ArgumentCaptor.fromClass(Consumer.class);

        // Workaround, should compile but is inconvenient
        ArgumentCaptor<? extends Consumer<String>> workaroundCaptor = ArgumentCaptor.fromClass(Consumer.class);

        // Let's verify the workaround compiles and runs
        Consumer<String> mockConsumer = mock(Consumer.class);
        mockConsumer.accept("test");

        verify(mockConsumer).accept(captor.capture());
    }
}
