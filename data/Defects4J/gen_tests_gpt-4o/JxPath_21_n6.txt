
import org.apache.commons.jxpath.JXPathContext;
import org.junit.Test;

import java.util.HashMap;
import java.util.Map;

import static org.junit.Assert.assertEquals;

public class JXPathNullHandlingTest {

    @Test
    public void testNullHandlingInJXPath() {
        Map<String, Integer> map = new HashMap<>();
        map.put("a", 1);
        map.put("b", null);
        map.put("c", 1);
        JXPathContext context = JXPathContext.newContext(map);

        assertEquals("a != b should be true", Boolean.TRUE, context.getValue("a != b"));
        assertEquals("a != c should be false", Boolean.FALSE, context.getValue("a != c"));
        assertEquals("a = b should be false", Boolean.FALSE, context.getValue("a = b"));
        assertEquals("a = c should be true", Boolean.TRUE, context.getValue("a = c"));
        assertEquals("not(a = b) should be true", Boolean.TRUE, context.getValue("not(a = b)"));
        assertEquals("not(a = c) should be false", Boolean.FALSE, context.getValue("not(a = c)"));
    }
}
