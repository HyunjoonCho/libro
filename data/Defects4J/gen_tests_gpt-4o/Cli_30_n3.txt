public void testOptionGroupStateNotUpdatedByDefaultOptions() {
    Options options = new Options();
    OptionGroup group = new OptionGroup();
    group.addOption(new Option("a", "option-a", false, "Option A"));
    group.addOption(new Option("b", "option-b", false, "Option B"));
    options.addOptionGroup(group);

    Properties defaults = new Properties();
    defaults.setProperty("b", "true");

    CommandLineParser parser = new DefaultParser();
    CommandLine cmd = null;
    try {
        cmd = parser.parse(options, new String[] {"-a"}, defaults);
    } catch (ParseException e) {
        fail("Unexpected ParseException: " + e.getMessage());
    }

    assertTrue("Option 'a' should be present", cmd.hasOption("a"));
    assertFalse("Option 'b' should not be present due to mutual exclusivity", cmd.hasOption("b"));
}