
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.junit.Test;

import static org.junit.Assert.assertEquals;

public class JsoupDuplicateAttributeTest {

    @Test
    public void testDuplicateAttributeParsing() {
        String html = "<html><body><div id='first' id='second'>Content</div></body></html>";
        Document document = Jsoup.parse(html);
        Element div = document.selectFirst("div");

        // According to the bug report, Jsoup takes the last occurrence of the attribute
        // We want it to take the first occurrence as Chrome does
        assertEquals("first", div.id());
    }
}
