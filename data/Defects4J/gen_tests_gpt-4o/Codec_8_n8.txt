public void testBase64InputStreamArrayIndexOutOfBounds() throws Exception {
    byte[] input = new byte[10920];
    Base64InputStream b64stream = new Base64InputStream(new ByteArrayInputStream(input), true, 0, null);

    try {
        int n = 0;
        while (b64stream.read() != -1) n++;
        fail("Expected ArrayIndexOutOfBoundsException not thrown");
    } catch (ArrayIndexOutOfBoundsException e) {
        // Expected exception
    }
}