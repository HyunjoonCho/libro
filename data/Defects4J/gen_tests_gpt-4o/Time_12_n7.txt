
import org.joda.time.LocalDate;
import java.util.Calendar;
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class CalendarEraTest {

    @Test
    public void testLocalDateFromCalendarFieldsWithEra() {
        // Create a Calendar instance
        Calendar cal = Calendar.getInstance();

        // Set to a specific date with B.C. era
        cal.set(Calendar.ERA, GregorianCalendar.BC);
        cal.set(Calendar.YEAR, 500);
        cal.set(Calendar.MONTH, Calendar.MARCH); // Month is 0-based, so this is April
        cal.set(Calendar.DAY_OF_MONTH, 10);

        // Convert to LocalDate
        LocalDate localDate = LocalDate.fromCalendarFields(cal);

        // Assert the year, month, and date, considering the B.C. setting
        assertEquals(-499, localDate.getYear());  // The year should be negative B.C. year
        assertEquals(3, localDate.getMonthOfYear());  // April
        assertEquals(10, localDate.getDayOfMonth());
    }
}
