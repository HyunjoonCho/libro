
import org.apache.commons.math3.fraction.Fraction;
import org.junit.Test;

import static org.junit.Assert.assertEquals;

public class FractionTest {

    @Test
    public void testPercentageValueOverflow() {
        // Create a Fraction with a numerator greater than Integer.MAX_VALUE / 100
        int largeNumerator = Integer.MAX_VALUE / 50; // Any value greater than Integer.MAX_VALUE / 100 should reproduce the issue
        Fraction fraction = new Fraction(largeNumerator, Integer.MAX_VALUE);

        // Calculate the percentage value
        double percentage = fraction.percentageValue();

        // Expected result: Since the fraction value is 2%,
        // multiplying by 100 should result in a value near 2,
        // without overflow
        double expectedPercentage = ((double) largeNumerator / Integer.MAX_VALUE) * 100;

        // Assert that the percentage value matches the expected result
        assertEquals(expectedPercentage, percentage, 1e-10);
    }
}
