
import static org.junit.Assert.assertNotNull;
import static org.junit.Assert.assertTrue;

import org.jfree.chart.LegendItemCollection;
import org.jfree.chart.plot.CategoryPlot;
import org.jfree.chart.renderer.category.AbstractCategoryItemRenderer;
import org.jfree.data.category.CategoryDataset;
import org.junit.Test;

public class AbstractCategoryItemRendererTest {

    @Test
    public void testGetLegendItemsWithNullDataset() {
        AbstractCategoryItemRenderer renderer = new AbstractCategoryItemRenderer() {
            // Implement abstract methods as no-ops for this test case
        };

        // Set up a plot with a null dataset
        CategoryPlot plot = new CategoryPlot() {
            @Override
            public CategoryDataset getDataset(int index) {
                return null; // Simulate the null dataset situation
            }

            @Override
            public int getIndexOf(AbstractCategoryItemRenderer r) {
                return 0; // Dummy index
            }
        };
        
        // Assign the plot to the renderer
        renderer.setPlot(plot);
        
        LegendItemCollection legendItems = renderer.getLegendItems();

        // Validate the result
        assertNotNull("LegendItemCollection should not be null", legendItems);
        assertTrue("LegendItemCollection should be empty when dataset is null", legendItems.isEmpty());
    }
}
