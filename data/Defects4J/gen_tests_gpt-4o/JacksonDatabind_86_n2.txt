public void testMissingPropertiesRecursiveTypes() throws Exception {
    ObjectMapper mapper = new ObjectMapper();

    // Ensure the Base class type is constructed first
    mapper.getTypeFactory().constructType(Base.class);

    Sub subInstance = new Sub();
    String json = mapper.writeValueAsString(subInstance);

    // Check that base property's value from Base class is also included
    assertTrue(json.contains("\"base\":1"));
    assertTrue(json.contains("\"sub\":2"));
}