
import static org.junit.Assert.assertEquals;

public class ObviousOptimizationsTest {

    public static void main(String[] args) {
        testInlineIfOptimizationWithNull();
        testInlineIfOptimizationWithFalse();
        testRealLifeUse();
    }

    public static void testInlineIfOptimizationWithNull() {
        String result = true == null ? a() : b();
        assertEquals("This should always trigger b()", "b", result);
    }

    public static void testInlineIfOptimizationWithFalse() {
        String result = true == false ? a() : b();
        assertEquals("This should always trigger b()", "b", result);
    }

    public static void testRealLifeUse() {
        int result = sum(true, 1);
        assertEquals("Sum with 'true' should add 2", 3, result);
    }

    private static String a() {
        return "a";
    }

    private static String b() {
        return "b";
    }

    private static int sum(boolean a, int b) {
        return (a == true ? 2 : 1) + b;
    }
}
