public void testLongDirectoryNameInTarArchive() throws IOException {
    File tempFile = File.createTempFile("test", ".tar");
    try (FileOutputStream fos = new FileOutputStream(tempFile);
         TarArchiveOutputStream taos = new TarArchiveOutputStream(fos)) {
        
        // Create a long directory name
        String longDirectoryName = "./PaxHeaders.X/layers/openstreetmap_osm.disy.net/.tiles/1.0.0/openstreetmap_osm.disy.net/default/";
        assertTrue(longDirectoryName.getBytes().length > 100);

        // Create the TarArchiveEntry
        TarArchiveEntry entry = new TarArchiveEntry(longDirectoryName);
        taos.putArchiveEntry(entry);
        
        // Trying to write should cause an error due to the long directory name
        try {
            taos.closeArchiveEntry();
            fail("Expected IOException due to long directory name in TAR archive");
        } catch (IOException e) {
            assertTrue(e.getMessage().contains("request to write"));
        }
    } finally {
        tempFile.delete();
    }
}