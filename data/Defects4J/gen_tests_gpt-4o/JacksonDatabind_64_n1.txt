
import com.fasterxml.jackson.annotation.JsonInclude;
import com.fasterxml.jackson.databind.ObjectMapper;
import org.junit.Test;

import static org.junit.Assert.assertFalse;

public class JsonIncludeNonDefaultTest {

    @JsonInclude(JsonInclude.Include.NON_DEFAULT)
    static class TestClass {
        public String name;
        public int age = 25; // Default for age
    }

    @Test
    public void testNonDefaultStringSuppression() throws Exception {
        ObjectMapper objectMapper = new ObjectMapper();
        TestClass testInstance = new TestClass();
        testInstance.name = null; // default value for string is null

        String jsonString = objectMapper.writeValueAsString(testInstance);

        // The resulting JSON should not include the "name" field since it's default (null)
        assertFalse(jsonString.contains("name"));
    }
}
