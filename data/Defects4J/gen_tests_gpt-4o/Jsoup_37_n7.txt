
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.jsoup.parser.Parser;
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class ElementWhitespaceTest {

    @Test
    public void testWhitespacePreservationInElementHtml() {
        String xml = "<root>\n    <child>   Text with    significant spaces   </child>\n</root>";
        
        // Parse the XML while preserving the spaces
        Document doc = Jsoup.parse(xml, "", Parser.xmlParser());
        
        // Modify the XML
        Element root = doc.selectFirst("root");
        String modifiedHtml = root.html();
        
        // The expected output should include the same whitespaces.
        String expectedHtml = "<child>   Text with    significant spaces   </child>";
        
        assertEquals("Whitespaces should be preserved in Element.html()", expectedHtml, modifiedHtml);
    }
}
