public void testNegativeNumberAsOption() {
    ArgumentBuilder aBuilder = new ArgumentBuilder();
    OptionBuilder oBuilder = new OptionBuilder();
    GroupBuilder gBuilder = new GroupBuilder();

    Argument numArg = aBuilder.withValidator(NumberValidator.getNumberInstance())
                              .withMinimum(1)
                              .withMaximum(1)
                              .create();

    Option numOpt = oBuilder.withLongName("num")
                            .withArgument(numArg)
                            .create();
                            
    Group options = gBuilder.withOption(numOpt).create();
    
    Parser parser = new Parser();
    try {
        parser.parse(options, new String[]{"--num", "-0.1"});
        fail("Expected exception for negative number argument");
    } catch (Exception e) {
        assertTrue(e.getMessage().contains("Unexpected -0.1 while processing --num"));
    }
}