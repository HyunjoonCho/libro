
import org.junit.Test;

import javax.script.ScriptEngine;
import javax.script.ScriptEngineManager;
import javax.script.ScriptException;

import static org.junit.Assert.fail;

public class FunctionParseErrorTest {

    @Test
    public void testUnnamedFunctionStatementShouldFail() {
        ScriptEngineManager manager = new ScriptEngineManager();
        ScriptEngine engine = manager.getEngineByName("JavaScript");

        String unnamedFunctionStatement = "function () {};";

        try {
            engine.eval(unnamedFunctionStatement);
            fail("Expected a ScriptException due to unnamed function statement.");
        } catch (ScriptException e) {
            // Expected exception
        }
    }

    @Test
    public void testUnnamedFunctionExpressionShouldPass() {
        ScriptEngineManager manager = new ScriptEngineManager();
        ScriptEngine engine = manager.getEngineByName("JavaScript");

        String unnamedFunctionExpression = "(function(){});";

        try {
            engine.eval(unnamedFunctionExpression);
            // Test passes, since no exception is expected
        } catch (ScriptException e) {
            fail("Did not expect a ScriptException for unnamed function expression.");
        }
    }
}
