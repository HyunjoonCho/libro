public void testCommandLineGetOptionValue() {
    Options options = new Options();
    Option debug = Option.builder("d")
            .argName("debug")
            .longOpt("debug")
            .desc("turn on debugging")
            .build();
    options.addOption(debug);
    
    CommandLineParser parser = new DefaultParser();
    CommandLine cmd = parser.parse(options, new String[]{"--debug"});
    
    assertNotNull("The value for --debug should not be null when accessed by long option name", cmd.getOptionValue("debug"));
    assertEquals("true", cmd.getOptionValue("debug"));
}