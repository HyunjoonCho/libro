public void testForEachKeywordPreservation() {
    String beforeCompression = "contactcenter.screenpop.updatePopStatus = function(stamp, status) {\n" +
                               "for each ( var curTiming in this.timeLog.timings ) {\n" +
                               "if ( curTiming.callId == stamp ) {\n" +
                               "curTiming.flag = status;\n" +
                               "break;\n" +
                               "}\n" +
                               "}\n" +
                               "};";
    
    String afterCompression = compressWhitespaceOnly(beforeCompression);
    
    assertTrue(afterCompression.contains("for each (var curTiming in this.timeLog.timings)"));
}

private String compressWhitespaceOnly(String code) {
    // Simulating a hypothetical compression method that removes whitespace
    // This is where the faulty compression logic would exist
    return code.replaceAll("\\s+", " ");
}