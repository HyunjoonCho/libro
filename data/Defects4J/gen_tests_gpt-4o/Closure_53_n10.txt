
import com.google.javascript.jscomp.CommandLineRunner;

public class ClosureCompilerBugTest {

    public static void main(String[] args) {
        // Test case to reproduce the bug
        
        // Path to the downloaded SoundManager2 file
        String jsFilePath = "path/to/local/soundmanager2-nodebug.js";
        
        // Command line arguments similar to those given in the example
        String[] compilerArgs = {
            "--js", jsFilePath,
            "--compilation_level", "SIMPLE_OPTIMIZATIONS",
            "--js_output_file", "default.js"
        };
        
        try {
            // Run the compiler with the given arguments
            CommandLineRunner runner = new CommandLineRunner(compilerArgs);
            int result = runner.run();
            
            // Check if compilation was successful
            if (result != 0) {
                System.out.println("The compiler crashed with an error.");
            } else {
                System.out.println("Compilation finished without crashing.");
            }
        } catch (Exception e) {
            e.printStackTrace();
            System.out.println("Unexpected exception during compilation.");
        }
    }
}
