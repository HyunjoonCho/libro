
import org.apache.commons.math3.complex.Complex;
import org.apache.commons.math3.complex.ComplexFormat;
import org.junit.Test;

import java.text.ParsePosition;

import static org.junit.Assert.fail;

public class ComplexFormatTest {

    @Test
    public void testParseStringIndexOutOfBoundsException() {
        ComplexFormat complexFormat = new ComplexFormat();
        String input = "i3"; // Imaginary part entered first
        ParsePosition parsePosition = new ParsePosition(0);

        try {
            Complex result = complexFormat.parse(input, parsePosition);
            fail("Expected StringIndexOutOfBoundsException to be thrown");
        } catch (StringIndexOutOfBoundsException e) {
            // Expected exception
            System.out.println("Caught expected StringIndexOutOfBoundsException: " + e.getMessage());
        } catch (Exception e) {
            fail("Expected StringIndexOutOfBoundsException but got: " + e.getClass());
        }
    }
}
