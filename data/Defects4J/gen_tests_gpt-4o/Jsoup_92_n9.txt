
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class DuplicatedAttributeParsingTest {

    @Test
    public void testDuplicatedAttributeParsing() {
        String html = "<div class='first' class='second'>Content</div>";
        Document document = Jsoup.parse(html);
        Element div = document.selectFirst("div");

        // Test for Jsoup behavior
        assertEquals("second", div.attr("class"));

        // Simulate expected browser behavior 
        // (Browser behavior cannot be tested directly with Jsoup)
        assertEquals("first", simulateBrowserBehavior(div));
    }

    private String simulateBrowserBehavior(Element element) {
        // Simulate browser behavior by manually returning the first encountered class value
        String[] attrs = element.attributes().html().split("class='");
        return attrs.length > 1 ? attrs[1].split("'")[0] : null;
    }
}
