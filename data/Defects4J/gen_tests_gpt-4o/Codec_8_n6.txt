public void testBase64InputStreamArrayIndexOutOfBounds() throws IOException {
    byte[] input = new byte[10920];
    Base64InputStream b64stream = new Base64InputStream(new ByteArrayInputStream(input), true, 0, null);
    
    int n = 0;
    try {
        while (b64stream.read() != -1) {
            n++;
        }
    } catch (ArrayIndexOutOfBoundsException e) {
        fail("ArrayIndexOutOfBoundsException encountered after " + n + " reads");
    }
}