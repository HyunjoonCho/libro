public void testTreeTraversingParserBase64Variant() throws IOException {
    Base64Variant customVariant = new Base64Variant(Base64Variants.MODIFIED_FOR_URL, "custom", true, '#', 76);
    ObjectMapper mapper = new ObjectMapper();
    JsonNode node = mapper.createObjectNode().put("data", "###");
    TreeTraversingParser parser = new TreeTraversingParser(node);
    parser.nextToken(); // Start object
    parser.nextToken(); // field name "data"
    parser.nextToken(); // field value "###"
    
    byte[] bytes = parser.getBinaryValue(customVariant);
    
    try {
        assertArrayEquals(new byte[]{0, 0, 0}, bytes);
    } catch (AssertionError e) {
        parser.close();
        throw e;
    }
    parser.close();
}