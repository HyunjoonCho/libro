
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.select.Elements;
import org.junit.Test;

import static org.junit.Assert.assertEquals;

public class SelectorParsingTest {

    @Test
    public void testSelectorWithCommaInRegex() {
        String html = "<div>Number 123</div><li>Number 456,789</li>";
        Document document = Jsoup.parse(html);
        
        // This selector is intended to find elements using a regex that includes a comma.
        // According to the bug report, this causes a PatternSyntaxException.
        Elements elements = document.select("div, li:matches([0-9,]+)");
        
        // Expecting to find one <li> element as it matches the regex
        assertEquals(1, elements.size());
        assertEquals("Number 456,789", elements.first().text());
    }
}
