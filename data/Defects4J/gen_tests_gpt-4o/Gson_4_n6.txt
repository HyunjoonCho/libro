
import static org.junit.Assert.assertEquals;
import java.io.StringReader;
import org.junit.Test;
import com.fasterxml.jackson.databind.JsonNode;
import com.fasterxml.jackson.databind.ObjectMapper;

public class RFC7159Test {

    @Test
    public void testParseTopLevelJsonNumber() throws Exception {
        ObjectMapper mapper = new ObjectMapper();
        String jsonNumber = "42";
        // Parsing a top-level number should be valid
        JsonNode node = mapper.readTree(new StringReader(jsonNumber));
        assertEquals(42, node.intValue());
    }

    @Test
    public void testParseTopLevelJsonArray() throws Exception {
        ObjectMapper mapper = new ObjectMapper();
        String jsonArray = "[1, 2, 3]";
        // Parsing a top-level array should be valid
        JsonNode node = mapper.readTree(new StringReader(jsonArray));
        assertEquals(3, node.size());
        assertEquals(1, node.get(0).intValue());
        assertEquals(2, node.get(1).intValue());
        assertEquals(3, node.get(2).intValue());
    }
}
