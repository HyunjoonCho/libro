script
goog.require('goog.graphics.Path');

function testInstanceMethodError() {
    // Creating a new path instance from goog.graphics.Path
    var path = new goog.graphics.Path();
    // Define points array with two points
    var points = [[1, 1], [2, 2]];
    
    // Loop over each point and use either moveTo or lineTo
    for (var i = 0; i < points.length; i++) {
        // The key issue here is the method call without explicit binding
        // This leads to "this" being undefined or incorrect
        (i == 0 ? path.moveTo : path.lineTo)(points[i][0], points[i][1]);
    }
}

// Export the function to be callable in an environment that uses Closure Library
goog.exportSymbol('testInstanceMethodError', testInstanceMethodError);
