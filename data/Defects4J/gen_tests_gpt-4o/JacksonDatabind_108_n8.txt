
import com.fasterxml.jackson.databind.JsonNode;
import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.node.MissingNode;
import org.junit.Test;

import java.io.StringReader;

import static org.junit.Assert.*;

public class ObjectMapperTest {

    @Test
    public void testEmptyInputReturnsMissingNode() throws Exception {
        ObjectMapper objectMapper = new ObjectMapper();

        String emptyJson = "   "; // White-space only input
        JsonNode result = objectMapper.readTree(new StringReader(emptyJson));

        // Since Jackson 2.9.x, the behavior changed to return null for empty input
        // Proposed behavior for Jackson 2.10 or 3.0 is to return MissingNode
        assertTrue("Expected MissingNode", result instanceof MissingNode);
    }
}
