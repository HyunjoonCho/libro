public void testCoreUnionOperationDocumentOrder() throws Exception {
    String xml = "<MAIN><A>avalue</A><B>bvalue</B></MAIN>";
    InputSource source = new InputSource(new StringReader(xml));
    
    XPath xpath = XPathFactory.newInstance().newXPath();
    
    // Use the union operation and convert node-set to string
    String result = xpath.evaluate("string(/MAIN/B | /MAIN/A)", source);
    
    // Expect the first node in document order to determine the string value
    assertEquals("avalue", result);
}