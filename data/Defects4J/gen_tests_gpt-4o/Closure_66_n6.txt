public void testEnumNotTypedCorrectly() {
    String code = "/** @type {Object} */\n" +
                  "var NS = {};\n" +
                  "/** @enum {number} */\n" +
                  "NS.keys = { a: 1, b: 2, c: 3 };\n" +
                  "/** @enum */\n" +
                  "window['gKEYS'] = NS.keys;";
    
    CompilerOptions options = new CompilerOptions();
    options.setCompilationLevel(CompilationLevel.ADVANCED_OPTIMIZATIONS);
    options.setSummaryDetailLevel(3);
    options.setWarningLevel(DiagnosticGroups.ALL, CheckLevel.WARNING);
    
    Compiler compiler = new Compiler();
    compiler.compile(SourceFile.fromCode("externs.js", ""), SourceFile.fromCode("test.js", code), options);
    
    assertTrue(compiler.getErrorManager().getTypedPercent() > 0);
}