
import org.jsoup.Jsoup;
import org.jsoup.nodes.FormElement;
import org.jsoup.nodes.Element;
import org.junit.Test;
import java.util.List;
import org.jsoup.Connection;

import static org.junit.Assert.assertTrue;
import static org.junit.Assert.assertFalse;

public class FormElementTest {

    @Test
    public void testInputTypeImageFormData() {
        Element form = Jsoup.parse("<form id=f><input type=image name=x></form>").getElementById("f");
        FormElement formElement = (FormElement) form;
        List<Connection.KeyVal> formData = formElement.formData();
        
        // Incorrect current behavior: Assert that the current result is incorrect
        assertFalse(formData.contains(Connection.KeyVal.create("x", "")));

        // Possible expected behavior: Since exact expectation is not mentioned,
        // we validate that the formData should not contain "x=" which is wrong
        // Either empty or something like [x.x=0, x.y=0]
        boolean isValidExpectedBehavior = formData.isEmpty() || 
                                            (formData.contains(Connection.KeyVal.create("x.x", "0")) && 
                                             formData.contains(Connection.KeyVal.create("x.y", "0")));
        
        // Assert one of the valid expected behaviors
        assertTrue(isValidExpectedBehavior);
    }

    public static void main(String[] args) {
        Element form = Jsoup.parse("<form id=f><input type=image name=x></form>").getElementById("f");
        FormElement formElement = (FormElement) form;
        System.out.println(formElement.formData());
    }
}
