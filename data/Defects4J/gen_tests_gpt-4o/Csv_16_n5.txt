public void testMultiIteratorParsingPeekIssue() throws Exception {
    String fiveRows = "1\n2\n3\n4\n5\n";

    CSVParser parser = new CSVParser(new BufferedReader(new StringReader(fiveRows)), CSVFormat.DEFAULT);

    int recordNumber = 0;
    for (CSVRecord record : parser) {
        recordNumber++;
        if (recordNumber >= 2) {
            break;
        }
    }

    // CSVParser.iterator() returns a new iterator, testing with hasNext before iterating
    boolean hasNext = parser.iterator().hasNext();
    assertTrue(hasNext);

    recordNumber = 2; // Already consumed 2 records in the first loop
    for (CSVRecord record : parser) {
        recordNumber++;
        // This asserts that the value should continue from "3", but it currently skips one record
        assertEquals(Integer.toString(recordNumber), record.get(0));
    }
}