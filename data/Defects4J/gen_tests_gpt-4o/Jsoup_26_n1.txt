
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.safety.Cleaner;
import org.jsoup.safety.Safelist;
import org.junit.Test;

import static org.junit.Assert.fail;

public class CleanerTest {

    @Test
    public void testFramesetCleaning() {
        // Step 1: Create a frameset HTML document
        String framesetHtml = "<frameset cols=\"25%,75%\"><frame src=\"frame_a.htm\"></frameset>";

        try {
            // Step 2: Parse the HTML document
            Document document = Jsoup.parse(framesetHtml);

            // Step 3: Create a Cleaner instance with a basic Safelist
            Cleaner cleaner = new Cleaner(Safelist.basic());

            // Step 4: Attempt to clean the document
            Document cleanedDocument = cleaner.clean(document);

            // The expected output should be an empty document or null, not reaching this fail statement
            assertTrue(cleanedDocument.body() == null || cleanedDocument.body().isEmpty());
        } catch (NullPointerException e) {
            fail("NullPointerException was thrown when cleaning a frameset document");
        }
    }
}
