
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.jsoup.parser.Parser;
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class ElementHtmlWhitespaceTest {

    @Test
    public void testWhitespacePreservationInElementHtml() {
        // Create a sample HTML fragment with significant whitespace
        String htmlInput = "<div>\n    <span>Some text</span>\n</div>";

        // Parse the HTML fragment using Parsers.xml() with no prettyPrint
        Document doc = Jsoup.parse(htmlInput, "", Parser.xmlParser());

        // Extract the div element
        Element divElement = doc.selectFirst("div");

        // Expected output based on the input with preserved newlines and indentation
        String expectedHtmlOutput = "<div>\n    <span>Some text</span>\n</div>";

        // Verify that html() method preserves whitespace
        assertEquals(expectedHtmlOutput, divElement.html());
    }
}
