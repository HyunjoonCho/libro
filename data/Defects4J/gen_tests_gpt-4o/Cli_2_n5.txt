
import org.apache.commons.cli.CommandLine;
import org.apache.commons.cli.CommandLineParser;
import org.apache.commons.cli.Options;
import org.apache.commons.cli.ParseException;
import org.apache.commons.cli.PosixParser;
import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertTrue;

public class CLITest {

    @org.junit.Test
    public void testHyphenatedOptionValue() {
        // Create the options the application accepts
        Options options = new Options();
        options.addOption("t", true, "Test option");

        // Create parser
        CommandLineParser parser = new PosixParser();
        String[] args = {"-t", "-something"};

        CommandLine commandLine = null;
        try {
            commandLine = parser.parse(options, args);
        } catch (ParseException e) {
            e.printStackTrace();
        }

        // Ensure the parsed command line has the correct option and value
        assertTrue(commandLine.hasOption("t"));
        assertEquals("-something", commandLine.getOptionValue("t"));
    }
}
