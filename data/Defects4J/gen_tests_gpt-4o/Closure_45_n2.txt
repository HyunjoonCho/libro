public void testAssignmentInArrayPush() {
    Object result = executeJavaScript(
        "function f() {" +
        "   var a = [], b;" +
        "   a.push(b = []);" +
        "   b[0] = 1;" +
        "   return a;" +
        "}" +
        "f();"
    );
    Object[] expected = {new Object[]{1}};
    assertArrayEquals(expected, (Object[]) result);
}