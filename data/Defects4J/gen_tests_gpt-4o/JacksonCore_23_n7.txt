
import com.fasterxml.jackson.core.util.DefaultPrettyPrinter;
import com.fasterxml.jackson.core.util.Instantiatable;
import org.junit.Test;

import static org.junit.Assert.*;

public class DefaultPrettyPrinterTest {

    // Sub-class of DefaultPrettyPrinter that does not override createInstance()
    static class MyPrettyPrinter extends DefaultPrettyPrinter {
        // No override of createInstance(), should inherit the one from DefaultPrettyPrinter
    }
    
    @Test
    public void testCreateInstanceSubClassIssue() {
        MyPrettyPrinter myPrettyPrinter = new MyPrettyPrinter();
        
        // Attempt to create a new instance using the factory method
        DefaultPrettyPrinter newInstance = (DefaultPrettyPrinter) myPrettyPrinter.createInstance();
        
        // Verify if the createInstance method results in an instance of wrong type
        assertTrue("Expected new instance to be MyPrettyPrinter, but was DefaultPrettyPrinter",
                newInstance instanceof MyPrettyPrinter);
    }
}
