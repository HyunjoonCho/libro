public void testDefaultPrettyPrinterCreateInstanceFailsForSubClass() {
    class SubPrettyPrinter extends DefaultPrettyPrinter { }

    DefaultPrettyPrinter prettyPrinter = new SubPrettyPrinter();
    try {
        DefaultPrettyPrinter newInstance = prettyPrinter.createInstance();
        fail("Expected IllegalStateException due to base class method being used in subclass");
    } catch (IllegalStateException e) {
        assertTrue(e.getMessage().contains("can only be called on DefaultPrettyPrinter"));
    }
}