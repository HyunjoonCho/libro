
import com.google.gson.Gson;
import com.google.gson.GsonBuilder;
import org.junit.Test;

import java.util.Date;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertNull;

public class GsonDateNullabilityTest {

    public static class TestObject {
        Date date;
    }

    @Test
    public void testSerializeNullDate() {
        Gson gson = new GsonBuilder().create();
        
        TestObject obj = new TestObject();
        obj.date = null;

        // Serialize the object
        String json = gson.toJson(obj);

        // Expected json should have null value for the date
        assertEquals("{\"date\":null}", json);
    }

    @Test
    public void testDeserializeNullDate() {
        Gson gson = new GsonBuilder().create();

        // JSON with null date
        String json = "{\"date\":null}";

        // Deserialize the JSON
        TestObject obj = gson.fromJson(json, TestObject.class);

        // Check if the deserialized object's date is null
        assertNull(obj.date);
    }
}
