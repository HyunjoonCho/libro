script
/**
 * @fileoverview Test case for the Closure Compiler not supporting @lends annotation.
 */

// Example class declaration using dojo syntax with JSDoc annotations
dojo.declare("MyClass", [SuperClass1, SuperClass2], /** @lends MyClass.prototype */ {
  /**
   * A sample method that uses 'this'.
   */
  foo: function() {
    // Simulating usage of 'this' which causes a warning/error without @lends support
    this.someProperty = 42;
  },

  /**
   * Another sample method that uses 'this'.
   */
  bar: function() {
    this.anotherProperty = "Hello";
  }
});

// Test Suite
function testClosureCompilerLendsAnnotation() {
  // Simulate Closure Compiler processing and checking for errors related to 'this' usage
  try {
    // Attempt to create an instance of MyClass and call its methods
    var instance = new MyClass();
    instance.foo();
    instance.bar();

    // Test if the properties are correctly assigned, implying 'this' was used correctly
    console.assert(instance.someProperty === 42, "'foo' method did not execute properly.");
    console.assert(instance.anotherProperty === "Hello", "'bar' method did not execute properly.");

    console.log("Test passed: @lends annotation conceptually supported.");
  } catch (error) {
    console.error("Test failed: @lends annotation not supported correctly.", error);
  }
}

// Run the test suite
testClosureCompilerLendsAnnotation();
