public void testPropertyNamingStrategyWithConstructor() throws IOException {
    ObjectMapper mapper = new ObjectMapper();
    mapper.setPropertyNamingStrategy(PropertyNamingStrategy.SNAKE_CASE);

    String json = "{\"first_name\":\"John\", \"last_name\":\"Doe\"}";
    
    User user = mapper.readValue(json, User.class);

    assertEquals("John", user.getFirstName());
    assertEquals("Doe", user.getLastName());
}

static class User {
    private final String firstName;
    private final String lastName;
    
    @JsonCreator
    public User(@JsonProperty("first_name") String firstName, @JsonProperty("last_name") String lastName) {
        this.firstName = firstName;
        this.lastName = lastName;
    }

    public String getFirstName() {
        return firstName;
    }

    public String getLastName() {
        return lastName;
    }
}