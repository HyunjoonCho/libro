
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class DuplicatedAttributeTest {

    @Test
    public void testDuplicatedAttributeParsing() {
        String html = "<div class='first' class='second'></div>";

        Document doc = Jsoup.parse(html);
        Element div = doc.select("div").first();

        // Chrome browser would take the first attribute value ('first')
        String expectedClassValue = "first";

        // Jsoup takes the last attribute value ('second')
        String parsedClassValue = div.attr("class");

        assertEquals("Jsoup should match browser behavior by using the first attribute value", 
                     expectedClassValue, parsedClassValue);
    }

    public static void main(String[] args) {
        org.junit.runner.JUnitCore.main("DuplicatedAttributeTest");
    }
}
