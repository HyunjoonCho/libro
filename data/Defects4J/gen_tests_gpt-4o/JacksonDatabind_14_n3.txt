public void testCustomDeserializerWithParentObjectUpdateFailure() throws IOException {
    ObjectMapper mapper = new ObjectMapper();
    SimpleModule module = new SimpleModule();
    module.addDeserializer(DataA.class, new DataADeserializer());
    mapper.registerModule(module);

    DataB dbOriginal = new DataB();
    dbOriginal.da.i = 11;
    dbOriginal.k = 13;
    
    JsonNode jsonBNode = mapper.valueToTree(dbOriginal);

    DataB dbToUpdate = new DataB();

    assertEquals(1, dbToUpdate.da.i);
    assertEquals(3, dbToUpdate.k);

    Exception exception = null;
    try {
        mapper.readerForUpdating(dbToUpdate).readValue(jsonBNode);
    } catch (Exception e) {
        exception = e;
    }

    assertNotNull(exception);
    assertTrue(exception instanceof UnrecognizedPropertyException);
}