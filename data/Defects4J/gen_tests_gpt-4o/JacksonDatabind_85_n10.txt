public void testDateTimeSerializerBaseRespectsConfiguredFormat() throws JsonProcessingException {
    ObjectMapper mapper = new ObjectMapper();
    SimpleDateFormat customDateFormat = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss");
    mapper.setDateFormat(customDateFormat);

    TestObject obj = new TestObject();
    obj.date = new Date(0); // Setting epoch date

    String serialized = mapper.writeValueAsString(obj);
    // Expected to use the custom date format "1970-01-01 00:00:00" instead of default ISO8601
    assertTrue(serialized.contains("1970-01-01 00:00:00"));
}

static class TestObject {
    @JsonFormat // without specifying pattern, should use ObjectMapper's configured format
    public Date date;
}