public void testFactorialLargeN() {
    for (int n = 1; n <= 20; n++) {
        long expected = computeExpectedFactorial(n);
        double actual = MathUtils.factorial(n);
        assertEquals(expected, (long) actual);
    }
}

private long computeExpectedFactorial(int n) {
    long result = 1;
    for (int i = 2; i <= n; i++) {
        result *= i;
    }
    return result;
}