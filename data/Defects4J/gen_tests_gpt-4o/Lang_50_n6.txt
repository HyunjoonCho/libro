public void testFastDateFormatWithLocaleChange() {
    // Initial setup with default locale
    Locale defaultLocale = Locale.getDefault();
    try {
        Locale testLocale1 = Locale.FRANCE;
        Locale testLocale2 = Locale.GERMANY;
        
        // Ensure locale is set to testLocale1
        Locale.setDefault(testLocale1);
        FastDateFormat format1 = FastDateFormat.getDateInstance(FastDateFormat.SHORT, null);
        
        // Change the default Locale
        Locale.setDefault(testLocale2);
        FastDateFormat format2 = FastDateFormat.getDateInstance(FastDateFormat.SHORT, null);
        
        // Test that the format created with the first locale is not affected by the change
        Calendar calendar = Calendar.getInstance();
        calendar.set(2023, Calendar.JANUARY, 1);
        String formattedDate1 = format1.format(calendar.getTime());
        String formattedDate2 = format2.format(calendar.getTime());
        
        // Formats should be different because of the different locales
        assertNotEquals(formattedDate1, formattedDate2);
    } finally {
        // Reset the Locale to its original state to avoid side effects
        Locale.setDefault(defaultLocale);
    }
}