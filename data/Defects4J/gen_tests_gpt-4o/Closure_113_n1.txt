public void testRequireCallsProcessing() {
    Compiler compiler = new Compiler();
    CompilerOptions options = new CompilerOptions();
    options.setCheckRequires(true);
    compiler.initOptions(options);
    
    String code = "goog.require('some.invalid.Require');";
    Node n = compiler.parseTestCode(code);
    
    ProcessClosurePrimitives processClosurePrimitives = new ProcessClosurePrimitives(
        compiler, 
        null, 
        new ClosureCodingConvention()
    );
    processClosurePrimitives.process(null, n);
    
    boolean isInvalidRequirePresent = n.toString().contains("goog.require('some.invalid.Require');");
    assertTrue("Invalid require should not be removed from the AST", isInvalidRequirePresent);
}