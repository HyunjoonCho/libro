
import static org.junit.Assert.assertFalse;
import static org.junit.Assert.assertTrue;

import org.apache.commons.math3.util.MathUtils;
import org.junit.Test;

public class MathUtilsEqualsNaNTest {

    @Test
    public void testEqualsWithNaN() {
        double nan1 = Double.NaN;
        double nan2 = Double.NaN;
        double nonNan = 1.0;

        // Assuming MathUtils.equals is supposed to check for equality of two doubles
        // and that the current behavior incorrectly returns true if both are NaN.
        
        // Test to verify NaN comparison returns false
        assertFalse(MathUtils.equals(nan1, nan2));

        // Test to verify non-NaN comparison behaves correctly
        assertTrue(MathUtils.equals(nonNan, nonNan));
        
        // Test to verify comparison between NaN and non-NaN
        assertFalse(MathUtils.equals(nan1, nonNan));
        assertFalse(MathUtils.equals(nonNan, nan2));
    }
}
