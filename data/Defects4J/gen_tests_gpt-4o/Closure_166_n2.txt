public void testAnonymousObjectTypeInferenceInconsistency() {
    // This JavaScript would normally be transpiled to Java or integrated with a JS library for type-checking
    // As this is a conceptual test for type inference inconsistency, we simulate the logic

    try {
        // Simulate a call to func2 with an object that should match the union type
        Object record = new Object() {
            public String prop = "a";
            public String prop2 = null; // This allows prop2 to be undefined or string
        };

        // In JavaScript type system, this call would fail type inference
        // Our assertion here depends on simulating the error through an exception or a mock framework
        // Therefore, we assert that no exception means the behavior was not reproduced properly
        assertTrue(true);  // Placeholder: fail the method if you have a JS type-checking simulation

    } catch (Exception e) {
        fail("Unexpected exception: The type inference inconsistency was not correctly handled");
    }
}