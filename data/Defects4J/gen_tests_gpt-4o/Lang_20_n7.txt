
import org.apache.commons.lang3.StringUtils;
import org.junit.Test;
import static org.junit.Assert.*;

public class StringUtilsJoinTest {

    @Test
    public void testJoinWithNullReturningToString() {
        Object[] objects = new Object[]{
            new Object() {
                @Override
                public String toString() {
                    return null;
                }
            }
        };

        try {
            String result = StringUtils.join(objects, ',');
            assertNull(result); // Expect the result to be null or handle it as per the intended behavior
        } catch (NullPointerException e) {
            fail("StringUtils.join should not throw NullPointerException when an object's toString() returns null.");
        }
    }
}
