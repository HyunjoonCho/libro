public void testStringUtilsJoinWithNullToString() {
    try {
        String result = StringUtils.join(new Object[]{
            new Object() {
                @Override
                public String toString() {
                    return null;
                }
            }
        }, ',');
        fail("Expected NullPointerException was not thrown");
    } catch (NullPointerException e) {
        // Test passes, as NullPointerException is expected
    }
}