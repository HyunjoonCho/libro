
import org.apache.commons.lang3.SerializationUtils;
import org.junit.Test;

import java.io.Serializable;

import static org.junit.Assert.assertEquals;

public class SerializationUtilsTest {

    public static class ClassWithPrimitiveClass implements Serializable {
        private static final long serialVersionUID = 1L;
        Class<?> primitiveType;

        ClassWithPrimitiveClass(Class<?> primitiveType) {
            this.primitiveType = primitiveType;
        }
    }

    @Test
    public void testPrimitiveClassSerialization() {
        ClassWithPrimitiveClass original = new ClassWithPrimitiveClass(int.class);
        
        // Attempt to clone the object containing a reference to int.class
        ClassWithPrimitiveClass clone = SerializationUtils.clone(original);

        // Verify that the original and the cloned object have the same primitive class reference
        assertEquals(original.primitiveType, clone.primitiveType);
    }
}
