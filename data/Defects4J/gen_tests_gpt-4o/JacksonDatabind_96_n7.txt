
import com.fasterxml.jackson.annotation.JsonCreator;
import com.fasterxml.jackson.annotation.JsonProperty;
import com.fasterxml.jackson.core.JsonProcessingException;
import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.PropertyNamingStrategies;
import org.junit.jupiter.api.Test;

import static org.junit.jupiter.api.Assertions.assertEquals;

class ImplicitConstructorPropertyTest {

    static class TestClass {
        private final String testValue;

        @JsonCreator
        public TestClass(@JsonProperty("testValue") String testValue) {
            this.testValue = testValue;
        }

        public String getTestValue() {
            return testValue;
        }
    }

    @Test
    void testImplicitConstructorWithPropertyNamingStrategy() throws JsonProcessingException {
        // Arrange
        ObjectMapper mapper = new ObjectMapper();
        mapper.setPropertyNamingStrategy(PropertyNamingStrategies.SNAKE_CASE);

        String json = "{\"test_value\":\"value\"}";

        // Act
        TestClass result = mapper.readValue(json, TestClass.class);

        // Assert
        assertEquals("value", result.getTestValue());
    }
}
