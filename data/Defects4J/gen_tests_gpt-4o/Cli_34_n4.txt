
import org.apache.commons.cli.CommandLine;
import org.apache.commons.cli.DefaultParser;
import org.apache.commons.cli.Option;
import org.apache.commons.cli.Options;
import org.junit.Test;

import static org.junit.Assert.*;

public class OptionTypeBugTest {

    @Test
    public void testGetParsedOptionValue_DefaultStringType() throws Exception {
        // Setup options
        Options options = new Options();
        options.addOption(new Option("o", "option", true, "Test option"));

        // Prepare command line parser
        DefaultParser parser = new DefaultParser();
        String[] args = {"-o", "testValue"};

        // Parse the arguments
        CommandLine commandLine = parser.parse(options, args);

        // Check if the parsed option value defaults to String
        Object value = commandLine.getParsedOptionValue("o");
        assertNotNull("Expected a non-null value", value);
        assertTrue("Expected a String type", value instanceof String);
        assertEquals("testValue", value);
    }
}
