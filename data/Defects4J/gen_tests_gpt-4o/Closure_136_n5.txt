public void testSuperReplacement() {
    String javascriptCode = "var Class = function() { this.method = function($super) { return $super; }};";
    Compiler compiler = new Compiler();
    CompilerOptions options = new CompilerOptions();
    CompilationLevel.ADVANCED_OPTIMIZATIONS.setOptionsForCompilationLevel(options);
    
    Result result = compiler.compile(SourceFile.fromCode("externs.js", ""), SourceFile.fromCode("input.js", javascriptCode), options);
    
    String compiledCode = compiler.toSource();
    assertTrue("The $super should not be renamed", compiledCode.contains("$super"));
}