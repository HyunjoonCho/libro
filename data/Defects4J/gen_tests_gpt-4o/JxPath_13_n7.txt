public void testNamespaceHandlingForAttributes() {
    String xmlContent = "<ElementA A:myAttr=\"Mytype\" xmlns:A=\"http://namespaceA.org\" xmlns:B=\"http://namespaceB.org\">"
                        + "<B:ElementB>MY VALUE</B:ElementB>"
                        + "</ElementA>";

    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
    factory.setNamespaceAware(true);

    try {
        DocumentBuilder builder = factory.newDocumentBuilder();
        Document document = builder.parse(new InputSource(new StringReader(xmlContent)));

        JXPathContext context = JXPathContext.newContext(document);
        context.registerNamespace("A", "http://namespaceA.org");
        context.registerNamespace("B", "http://namespaceB.org");

        // This line should not throw an exception about an unknown namespace prefix
        String attributeValue = (String) context.getValue("/ElementA/@A:myAttr");
        assertEquals("Mytype", attributeValue);
    } catch (Exception e) {
        fail("Exception should not have been thrown: " + e.getMessage());
    }
}