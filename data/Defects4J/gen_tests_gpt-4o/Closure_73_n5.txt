
import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.CompilerOptions;
import com.google.javascript.jscomp.JSSourceFile;
import org.junit.Test;
import static org.junit.Assert.*;

public class ClosureCompilerTest {

    @Test
    public void testCodepointU007fHandling() {
        // Create a new instance of the Closure Compiler
        Compiler compiler = new Compiler();
        CompilerOptions options = new CompilerOptions();
        
        // Define the test JavaScript snippet
        String jsInput = "alert('\\x7f')";
        
        // Set up the input source and externs (empty for this test)
        JSSourceFile[] externs = new JSSourceFile[]{};
        JSSourceFile[] inputs = new JSSourceFile[]{
            JSSourceFile.fromCode("test.js", jsInput)
        };

        // Compile the JavaScript code
        compiler.compile(externs, inputs, options);

        // Get the compiled output
        String compiledOutput = compiler.toSource();

        // Verify that the output is as expected
        String expectedOutput = "alert(\"\\x7f\");";
        assertEquals(expectedOutput, compiledOutput);
    }
}
