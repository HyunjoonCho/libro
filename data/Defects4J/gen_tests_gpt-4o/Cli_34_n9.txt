
import org.apache.commons.cli.*;

import static org.junit.Assert.*;

import org.junit.Test;

public class CommandLineTest {

    @Test
    public void testGetParsedOptionValueDefaultsToString() {
        // Set up the options
        Options options = new Options();
        Option option = new Option("t", "test", true, "Test option without a specified type");
        options.addOption(option);

        // Simulate command line input
        String[] args = {"-t", "hello"};

        // Parse the command line arguments
        CommandLineParser parser = new DefaultParser();
        try {
            CommandLine cmd = parser.parse(options, args);

            // Test the parsed option value without explicitly setting type
            Object parsedValue = cmd.getParsedOptionValue("t");

            // Assert that type defaults to String and the value is correct
            assertNotNull("Parsed option value should not be null", parsedValue);
            assertEquals("hello", parsedValue);
            assertTrue("Parsed option value should be a String by default", parsedValue instanceof String);

        } catch (ParseException e) {
            fail("Parsing failed: " + e.getMessage());
        }
    }
}
