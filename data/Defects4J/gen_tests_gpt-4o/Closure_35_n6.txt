public void testReturnTypeError() {
    Object result;

    boolean a = true;
    boolean b = false;

    result = func(a, b);
    
    // Validate that result contains expected properties
    assertTrue(result instanceof Map);
    assertEquals(3, ((Map) result).get("prop1").a);
    assertEquals("prop3", ((Map) result).get("prop3"));
    assertNull(((Map) result).get("prop2"));

    a = false;
    b = true;
    result = func(a, b);

    assertTrue(result instanceof Map);
    assertNull(((Map) result).get("prop1"));
    assertEquals("prop2", ((Map) result).get("prop2"));
    assertNull(((Map) result).get("prop3"));

    a = false;
    b = false;
    result = func(a, b);

    assertTrue(result instanceof Map);
    assertNull(((Map) result).get("prop1"));
    assertEquals("prop3", ((Map) result).get("prop3"));
    assertNull(((Map) result).get("prop2"));
}