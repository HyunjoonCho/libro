
import org.joda.time.DateTimeConstants;
import org.joda.time.MonthDay;
import org.joda.time.chrono.ISOChronology;
import org.joda.time.IllegalFieldValueException;
import org.junit.Test;

public class MonthDayLeapDateTest {

    @Test(expected = IllegalFieldValueException.class)
    public void testAddDaysToIsoLeapDate() {
        final MonthDay isoLeap = new MonthDay(DateTimeConstants.FEBRUARY, 29, ISOChronology.getInstanceUTC());
        System.out.println(isoLeap); // Should print --02-29
        System.out.println(isoLeap.plusDays(2)); // Should throw an exception
    }

    @Test(expected = IllegalFieldValueException.class)
    public void testAddMonthsToIsoLeapDate() {
        final MonthDay isoLeap = new MonthDay(DateTimeConstants.FEBRUARY, 29, ISOChronology.getInstanceUTC());
        isoLeap.plusMonths(1); // Should throw an exception
    }

    @Test(expected = IllegalFieldValueException.class)
    public void testSubtractMonthsFromIsoLeapDate() {
        final MonthDay isoLeap = new MonthDay(DateTimeConstants.FEBRUARY, 29, ISOChronology.getInstanceUTC());
        isoLeap.minusMonths(1); // Should throw an exception
    }

    @Test
    public void testValidLeapDateOperations() {
        final MonthDay isoLeap = new MonthDay(DateTimeConstants.FEBRUARY, 29, ISOChronology.getInstanceUTC());
        System.out.println(isoLeap.minusDays(1)); // Should print --02-28
        System.out.println(isoLeap.plusDays(-1)); // Should also print --02-28
        System.out.println(isoLeap.minusDays(1).plusDays(2)); // Should print --03-01
    }
}
