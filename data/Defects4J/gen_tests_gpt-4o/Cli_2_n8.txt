
import org.apache.commons.cli.*;

public class PosixParserTest {

    public static void main(String[] args) {
        testHyphenInArgumentValue();
    }

    public static void testHyphenInArgumentValue() {
        Options options = new Options();
        options.addOption("t", true, "Test option with argument");

        CommandLineParser parser = new PosixParser();
        String[] arguments = {"-t", "-something"};

        try {
            CommandLine commandLine = parser.parse(options, arguments);
            if (commandLine.hasOption("t")) {
                String optionValue = commandLine.getOptionValue("t");
                System.out.println("Option -t value: " + optionValue);
                // We expect the option value to be "-something"
                assert "-something".equals(optionValue) : "Parsed value is incorrect.";
            } else {
                throw new AssertionError("Option -t was not recognized.");
            }
        } catch (ParseException e) {
            throw new AssertionError("Unexpected ParseException: " + e.getMessage());
        }
    }
}
