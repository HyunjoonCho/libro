
import org.apache.commons.lang3.StringEscapeUtils;
import java.io.UnsupportedEncodingException;
import java.net.URLEncoder;
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class StringEscapeUtilsTest {

    @Test
    public void testEscapeXmlWithSupplementaryPlanes() throws UnsupportedEncodingException {
        String input = "\uD842\uDFB7" + "A";  // A character from Supplementary Planes followed by 'A'

        String escapedOutput = StringEscapeUtils.escapeXml10(input);

        // The escaped output should be equal to the input because the input does not contain XML special characters
        assertEquals(input, escapedOutput);

        // Verify the byte encoding in UTF-16BE to show the difference
        assertEquals(URLEncoder.encode(input, "UTF-16BE"), URLEncoder.encode(escapedOutput, "UTF-16BE"));
    }
}
