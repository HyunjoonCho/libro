public void testEscapeXmlWithSupplementaryPlanes() throws Exception {
    String str1 = "\uD842\uDFB7" + "A";  // A String with a supplementary character followed by 'A'
    String str2 = StringEscapeUtils.escapeXml(str1);

    // Checking if the escaped string is the same as the original when no escapes are necessary
    assertEquals(str1, str2);

    // Further verification with URLEncoder to ensure bytes are correct
    String encodedStr1 = URLEncoder.encode(str1, "UTF-16BE");
    String encodedStr2 = URLEncoder.encode(str2, "UTF-16BE");
    assertEquals("%D8%42%DF%B7A", encodedStr1);
    assertEquals("%D8%42%DF%B7A", encodedStr2);
}