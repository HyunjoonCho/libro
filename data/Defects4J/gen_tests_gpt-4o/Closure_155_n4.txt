public void testOverzealousArgumentsOptimization() {
    ScriptEngine engine = new ScriptEngineManager().getEngineByName("nashorn");
    try {
        engine.eval(
            "function d3_call(callback) {" +
            "  var f = callback;" +
            "  arguments[0] = this;" +
            "  f.apply(this, arguments);" +
            "  return this;" +
            "}" +
            "this.testValue = 'success';" +
            "d3_call(function(arg) { result = arg.testValue; });"
        );
        Object result = engine.get("result");
        assertEquals("success", result);
    } catch (ScriptException e) {
        fail("Script execution failed: " + e.getMessage());
    }
}