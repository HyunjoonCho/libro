
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.junit.Test;

public class JsoupPerformanceTest {

    @Test(timeout = 5000) // The test should not exceed 5 seconds
    public void testDeeplyNestedHtml() {
        // Constructing a deeply nested HTML structure
        StringBuilder html = new StringBuilder("<html><head><title>Test</title></head><body>");
        
        int depth = 10000; // Number of nested tags
        for (int i = 0; i < depth; i++) {
            html.append("<div>");
        }
        
        html.append("Content");
        
        for (int i = 0; i < depth; i++) {
            html.append("</div>");
        }
        
        html.append("</body></html>");
        
        // Parsing the deeply nested HTML
        Document doc = Jsoup.parse(html.toString());
        
        // Simple check to ensure parsing was successful
        assert doc.title().equals("Test");
    }
}
