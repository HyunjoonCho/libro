public void testExplicitNumberShapePrecedence() {
    ObjectMapper mapper = new ObjectMapper();
    String json = "{\"value\": 1234.56}";

    @JsonFormat(shape = JsonFormat.Shape.NUMBER)
    class TestClass {
        public double value;

        public TestClass() {}

        public TestClass(double value) {
            this.value = value;
        }
    }

    try {
        TestClass result = mapper.readValue(json, TestClass.class);
        String resultJson = mapper.writeValueAsString(result);
        assertEquals(json, resultJson);
    } catch (JsonProcessingException e) {
        fail("Exception during JSON processing: " + e.getMessage());
    }
}