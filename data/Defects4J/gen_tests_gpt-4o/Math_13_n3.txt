public void testLargeNumberOfWeightsExhaustsMemory() {
    int numPoints = 41200;
    double[] x = new double[numPoints];
    double[] y = new double[numPoints];
    double[] weights = new double[numPoints];

    for (int i = 0; i < numPoints; i++) {
        x[i] = i;
        y[i] = Math.sin(i);
        weights[i] = 1.0;
    }

    // Assuming WeighedCurveFitter is the class from the library that the bug report is about
    try {
        WeighedCurveFitter fitter = WeighedCurveFitter.create();
        fitter.fit(weights, x, y);
        fail("Expected OutOfMemoryError due to large weight matrix");
    } catch (OutOfMemoryError e) {
        // Test passes if an OutOfMemoryError is caught, indicating the problem
    } catch (Exception e) {
        fail("Unexpected exception: " + e.getMessage());
    }
}