public void testTypeHierarchyAdapterRuntimeCheck() {
    GsonBuilder gsonBuilder = new GsonBuilder();
    gsonBuilder.registerTypeHierarchyAdapter(Vehicle.class, new VehicleTypeAdapter());
    Gson gson = gsonBuilder.create();

    String carJson = "{ 'type': 'Car', 'wheels': 4, 'trunkSize': 200 }";
    String truckJson = "{ 'type': 'Truck', 'wheels': 6, 'cargoCapacity': 1500 }";

    // Expecting a Car but parsing a Truck JSON should throw an exception
    try {
        Car car = gson.fromJson(truckJson, Car.class);
        fail("Expected JsonParseException due to type mismatch.");
    } catch (JsonParseException e) {
        // Expected exception
    }
}