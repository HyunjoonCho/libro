public void testAssignmentToObjectInConditional() {
    // Define a record that corresponds to the JavaScript object return type
    class Result {
        Object prop1;
        String prop2;
        String prop3;
    }
    
    // Helper method to simulate the JavaScript function behavior
    Result func(boolean a, boolean b) {
        Result results = null;
        
        if (a) {
            results = new Result();
            results.prop1 = new Object() {{
                int a = 3;
            }};
        }
        if (b) {
            if (results == null) results = new Result();
            results.prop2 = "prop2";
        } else {
            if (results == null) results = new Result();
            results.prop3 = "prop3";
        }
        return results;
    }
  
    Result res1 = func(true, false);
    assertNotNull(res1);
    assertNotNull(res1.prop1);
    assertNull(res1.prop2);
    assertEquals("prop3", res1.prop3);

    Result res2 = func(false, true);
    assertNotNull(res2);
    assertNull(res2.prop1);
    assertEquals("prop2", res2.prop2);
    assertNull(res2.prop3);

    Result res3 = func(false, false);
    assertNotNull(res3);
    assertNull(res3.prop1);
    assertNull(res3.prop2);
    assertEquals("prop3", res3.prop3);

    Result res4 = func(true, true);
    assertNotNull(res4);
    assertNotNull(res4.prop1);
    assertEquals("prop2", res4.prop2);
    assertNull(res4.prop3);
}