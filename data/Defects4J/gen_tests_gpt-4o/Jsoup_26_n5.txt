
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.safety.Cleaner;
import org.jsoup.safety.Safelist;
import org.junit.Test;

import static org.junit.Assert.assertNotNull;

public class CleanerTest {

    @Test
    public void testCleanerWithFrameset() {
        // 1. Create a sample HTML document containing a frameset
        String html = "<!DOCTYPE html>" +
                      "<html>" +
                      "<frameset cols=\"25%,75%\">" +
                      "  <frame src=\"frame_a.htm\">" +
                      "  <frame src=\"frame_b.htm\">" +
                      "</frameset>" +
                      "</html>";

        // 2. Parse the HTML
        Document document = Jsoup.parse(html);

        // 3. Create a Cleaner instance with a basic Safelist
        Cleaner cleaner = new Cleaner(Safelist.basic());

        // 4. Call the clean method and handle potential exceptions
        try {
            Document cleanedDocument = cleaner.clean(document);
            // 5. Validate that the method does not produce a NullPointerException
            assertNotNull("The cleaned document should not be null.", cleanedDocument);
        } catch (NullPointerException e) {
            throw new AssertionError("No NullPointerException should be thrown when cleaning a frameset document.", e);
        }
    }
}
