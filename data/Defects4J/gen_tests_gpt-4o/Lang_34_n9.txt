public void testThreadLocalMemoryLeakInToStringStyle() {
    System.gc(); // Run garbage collector to clear weak references
    int activeThreadCountBefore = Thread.activeCount();

    // Trigger loading ToStringStyle with a thread local usage
    org.apache.commons.lang3.builder.ToStringBuilder.reflectionToString(new Object(), org.apache.commons.lang3.builder.ToStringStyle.SHORT_PREFIX_STYLE);

    // Force garbage collection
    System.gc();

    int activeThreadCountAfter = Thread.activeCount();

    // Check if the usage of ToStringBuilder increased the count of active threads
    assertTrue("Potential memory leak in ToStringStyle due to ThreadLocal", activeThreadCountAfter <= activeThreadCountBefore + 2);
}