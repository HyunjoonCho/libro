public void testDeserializeNullWithTypeRefChain() throws IOException {
    ObjectMapper objectMapper = new ObjectMapper();
    ObjectReader objectReader = objectMapper.readerFor(MyBean.class);

    MyBean nullRef = objectReader.readValue(" {\"refRef\": null } ");
    assertNotNull(nullRef.refRef); // expected to succeed
    assertNotNull(nullRef.refRef.get()); // expected to fail, but should pass if bug is fixed
    assertNull(nullRef.refRef.get().get()); // expected to fail, but should pass if bug is fixed
}