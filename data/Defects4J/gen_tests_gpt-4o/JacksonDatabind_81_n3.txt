
import com.fasterxml.jackson.databind.ObjectMapper;
import org.junit.Test;
import static org.junit.Assert.*;

public class PrimitiveTypeRefinementTest {

    // Superclass definition with primitive int field
    static class SuperClass {
        public int number;
    }

    // Subclass attempting to refine the int field to Integer
    static class SubClass extends SuperClass {
        public Integer number;
    }

    @Test
    public void testPrimitiveRefinement() throws Exception {
        String json = "{\"number\": 42}";

        ObjectMapper objectMapper = new ObjectMapper();

        // Attempt to deserialize JSON into the SubClass
        SubClass subClass = objectMapper.readValue(json, SubClass.class);

        // Check if the number was correctly deserialized and refined as an Integer
        assertNotNull(subClass.number);
        assertEquals(Integer.valueOf(42), subClass.number);
    }
}
