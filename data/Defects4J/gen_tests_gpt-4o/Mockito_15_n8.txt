
import static org.junit.Assert.*;
import static org.mockito.ArgumentMatchers.any;
import static org.mockito.ArgumentMatchers.eq;
import static org.mockito.Mockito.*;

import java.util.List;

import org.junit.Test;
import org.mockito.ArgumentCaptor;

public class VarargsArgumentCaptorTest {

    public interface Service {
        void performAction(String... actions);
    }
    
    @Test
    public void testArgumentCaptorWithVarargs() {
        // Arrange
        Service mockService = mock(Service.class);
        
        // Act
        mockService.performAction("action1", "action2");
        
        // Assert
        ArgumentCaptor<String> captor = ArgumentCaptor.forClass(String.class);
        verify(mockService).performAction(captor.capture(), captor.capture());
        
        List<String> capturedArguments = captor.getAllValues();
        assertEquals(2, capturedArguments.size());
        assertEquals("action1", capturedArguments.get(0));
        assertEquals("action2", capturedArguments.get(1));
    }
}
