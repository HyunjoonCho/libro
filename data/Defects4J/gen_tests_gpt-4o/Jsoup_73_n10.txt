
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.junit.Test;
import org.w3c.dom.DOMImplementation;
import org.w3c.dom.DocumentType;

import javax.xml.parsers.DocumentBuilder;
import javax.xml.parsers.DocumentBuilderFactory;

import static org.junit.Assert.assertEquals;

public class JsoupNamespaceTest {

    @Test
    public void testNamespaceInheritance() throws Exception {
        // Simulating a simple HTML structure with namespaces
        String html = "<html><body>"
                + "<div>"
                + "<svg xmlns='http://www.w3.org/2000/svg'><circle cx='50' cy='50' r='40'></circle></svg>"
                + "<p>Some text here</p>"
                + "<p>Another paragraph</p>"
                + "</div></body></html>";
        
        // Parse the HTML
        Document jsoupDoc = Jsoup.parse(html);
        
        // Checking that sibling <p> tags do not inherit the svg namespace
        Element svg = jsoupDoc.selectFirst("svg");
        Element firstParagraph = jsoupDoc.select("p").first();
        Element secondParagraph = jsoupDoc.select("p").get(1);
        
        String svgNamespace = svg.attr("xmlns");
        String firstParagraphNamespace = firstParagraph.attr("xmlns");
        String secondParagraphNamespace = secondParagraph.attr("xmlns");
        
        // Perform assertions
        assertEquals("http://www.w3.org/2000/svg", svgNamespace);
        assertEquals("", firstParagraphNamespace);
        assertEquals("", secondParagraphNamespace);
    }
}
