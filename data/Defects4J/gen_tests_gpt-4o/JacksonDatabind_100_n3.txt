public void testTreeTraversingParserWithBase64Variant() {
    Base64Variant customVariant = new Base64Variant(Base64Variants.MODIFIED_FOR_URL, "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_", false, (byte) '=', Integer.MAX_VALUE);

    ObjectMapper mapper = new ObjectMapper();
    String encodedString = customVariant.encode("testData".getBytes());
    TextNode textNode = new TextNode(encodedString);

    TreeTraversingParser parser = new TreeTraversingParser(textNode, mapper);
    try {
        byte[] result = parser.getBinaryValue(customVariant);
        assertArrayEquals("testData".getBytes(), result);
    } catch (IOException e) {
        fail("IOException should not be thrown");
    }
}