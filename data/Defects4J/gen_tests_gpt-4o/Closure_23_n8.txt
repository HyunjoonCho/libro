public void testTryFoldArrayAccess() {
    Compiler compiler = new Compiler();
    CompilerOptions options = new CompilerOptions();
    CompilationLevel.SIMPLE_OPTIMIZATIONS.setOptionsForCompilationLevel(options);
    SourceFile input = SourceFile.fromCode("test.js", "[console.log('hello, '), 'world!'][1];");
    
    Result result = compiler.compile(SourceFile.fromCode("externs.js", ""), input, options);
    
    assertTrue("Expected result with no errors", result.success);
    String output = compiler.toSource();
    
    assertTrue("Transformed output should contain side effects",
               output.contains("console.log(\"hello\")"));
}