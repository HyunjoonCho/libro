
import com.fasterxml.jackson.core.JsonParser;
import com.fasterxml.jackson.databind.ObjectMapper;
import org.junit.Test;
import static org.junit.Assert.fail;

import java.math.BigDecimal;

public class BigDecimalNaNTest {

    @Test
    public void testNaNParsingAsBigDecimal() {
        ObjectMapper mapper = new ObjectMapper();
        mapper.configure(JsonParser.Feature.ALLOW_NON_NUMERIC_NUMBERS, true);

        String json = "NaN";

        try {
            BigDecimal value = mapper.readValue(json, BigDecimal.class);
            fail("Expected NumberFormatException to be thrown, but got: " + value);
        } catch (NumberFormatException e) {
            // This is the expected exception
            // You might want to add more specific checks if necessary
        } catch (Exception e) {
            fail("Expected NumberFormatException, but got: " + e.getClass().getName());
        }
    }
}
