public void testGlobalThisWarningCanBeExcluded() {
    String[] args = {
        "--warning_level", 
        "VERBOSE", 
        "--jscomp_off", 
        "globalThis", 
        "--jscomp_off", 
        "nonStandardJsDocs"
    };

    Compiler compiler = new Compiler();
    CompilerOptions options = new CompilerOptions();
    CommandLineRunner runner = new CommandLineRunner(args, System.out, System.err);
    runner.setRunOptions(options);
    
    Node externs = new Node(Token.SCRIPT);
    Node n = new Node(Token.SCRIPT);
    
    // Compile with the mocked setup
    compiler.compile(externs, n, options);
    
    List<JSError> warnings = Arrays.asList(compiler.getWarnings());

    // Verify that globalThis warnings are excluded
    assertFalse(warnings.stream().anyMatch(warn -> "globalThis".equals(warn.getType().key)));
}