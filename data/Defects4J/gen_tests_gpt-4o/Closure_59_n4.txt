
import org.junit.Test;
import static org.junit.Assert.*;

public class CommandLineUtilityTest {

    @Test
    public void testGlobalThisWarningSuppression() {
        // Simulating the command-line arguments
        String[] args = {"--warning_level", "VERBOSE", "--jscomp_off", "globalThis", "--jscomp_off", "nonStandardJsDocs"};

        // Capture the output of the command-line utility
        OutputCapture outputCapture = new OutputCapture();
        System.setOut(new PrintStream(outputCapture));

        // Run the command-line utility with the arguments
        CommandLineUtility.main(args);

        // Get all output as a string
        String consoleOutput = outputCapture.toString();

        // Check that 'globalThis' warnings do not appear in the output
        assertFalse("Expected 'globalThis' warnings to be suppressed", consoleOutput.contains("globalThis warning"));

        // Check that 'nonStandardJsDocs' warnings do not appear in the output
        assertFalse("Expected 'nonStandardJsDocs' warnings to be suppressed", consoleOutput.contains("nonStandardJsDocs warning"));

        // Reset output capture
        System.setOut(System.out);
    }
}

// Helper class to capture console output
class OutputCapture extends ByteArrayOutputStream {
    @Override
    public String toString() {
        return new String(toByteArray(), StandardCharsets.UTF_8);
    }
}
