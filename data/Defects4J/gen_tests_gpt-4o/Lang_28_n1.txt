
import org.apache.commons.text.StringEscapeUtils;
import org.junit.Test;
import static org.junit.Assert.assertEquals;
import java.io.IOException;
import java.io.StringWriter;

public class StringEscapeUtilsTest {

    @Test
    public void testEscapeXMLWithSupplementaryCharacters() throws IOException {
        final String input = "Supplementary character: \uD83D\uDE00"; // U+1F600 (GRINNING FACE)
        final StringWriter writer = new StringWriter();
        
        StringEscapeUtils.ESCAPE_XML10.translate(input, writer);

        // The supplementary character should be properly encoded as &#x1F600;
        final String expected = "Supplementary character: &#128512;";
        assertEquals(expected, writer.toString());
    }
}
