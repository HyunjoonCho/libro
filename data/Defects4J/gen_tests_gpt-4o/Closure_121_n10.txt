script
function testOverzealousOptimization() {
    var errors = 0;

    var uid;
    function reset() {
        uid = Math.random();
    }

    function doStuff() {
        reset();
        var _uid = uid;
        
        if (uid < 0.5) {
            doStuff();
        }

        if (_uid !== uid) {
            errors++;
        }
    }

    doStuff();

    if (errors > 0) {
        console.log('Test failed: reset() was called unexpectedly');
    } else {
        console.log('Test passed');
    }
}

testOverzealousOptimization();
