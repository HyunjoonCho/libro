public void testPearsonsCorrelationPValuesPrecision() {
    PearsonsCorrelation pearsonsCorrelation = new PearsonsCorrelation();
    int n = 100000; // Large number of treatments
    double[] x = new double[n];
    double[] y = new double[n];
    for (int i = 0; i < n; i++) {
        x[i] = Math.random();
        y[i] = Math.random() + 0.001; // Introducing a negligible correlation
    }
    RealMatrix matrix = MatrixUtils.createRealMatrix(new double[][]{x, y});
    RealMatrix pValuesMatrix = pearsonsCorrelation.getCorrelationPValues(matrix);

    for (int row = 0; row < pValuesMatrix.getRowDimension(); row++) {
        for (int col = 0; col < pValuesMatrix.getColumnDimension(); col++) {
            if (row != col) {
                assertTrue("P-value should not be zero", pValuesMatrix.getEntry(row, col) > 0);
            }
        }
    }
}