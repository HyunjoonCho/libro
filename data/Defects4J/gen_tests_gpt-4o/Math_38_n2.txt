public void testBOBYQAOptimizerInterpolationPoints() {
    int dim = 4; // Example dimension
    MultivariateFunction func = new MultivariateFunction() {
        public double value(double[] point) {
            double sum = 0;
            for (double x : point) {
                sum += x * x;
            }
            return sum;
        }
    };
    GoalType goal = GoalType.MINIMIZE;
    double[] startPoint = new double[dim];
    int maxEvaluations = 1000;

    try {
        // Previous interpolation points count would be 2 * dim + 1.
        // This sets it to 2 * dim + 2 to trigger the error.
        BOBYQAOptimizer optim = new BOBYQAOptimizer(2 * dim + 2);
        optim.optimize(maxEvaluations, func, goal, startPoint);
        fail("Expected an exception due to too many interpolation points.");
    } catch (Exception e) {
        // An exception is expected, so the test should succeed.
    }
}