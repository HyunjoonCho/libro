public void testTryFoldArrayAccessSideEffects() {
    String code = "console.log([console.log('hello, '), 'world!'][1]);";
    String compiledCode = compileWithOptimization(code); // Assuming there's a method to compile with optimization
    assertTrue(compiledCode.contains("console.log('hello, ')"));
    assertTrue(compiledCode.contains("console.log('world!')"));
}