
import org.apache.commons.lang3.StringUtils;
import org.junit.Test;

import static org.junit.Assert.*;

public class StringUtilsTest {

    @Test(expected = NullPointerException.class)
    public void testJoinWithNullToString() {
        Object[] objects = new Object[] {
            new Object() {
                @Override
                public String toString() {
                    return null;
                }
            }
        };
        StringUtils.join(objects, ',');
    }

    // A fix for this issue could involve modifying the join logic to handle null values more gracefully.
    // However, since this test reproduces the issue, it intentionally expects a NullPointerException for now.
}
