public void testFinishMethodCorruption() throws Exception {
    ArchiveOutputStream archiveOutputStream = new TarArchiveOutputStream(new ByteArrayOutputStream());
    archiveOutputStream.finish();
    try {
        archiveOutputStream.finish(); // Attempt to corrupt by finishing again
        fail("Expected IOException for calling finish() on an already finished stream.");
    } catch (IOException e) {
        // Expected outcome
    } finally {
        archiveOutputStream.close();
    }
}