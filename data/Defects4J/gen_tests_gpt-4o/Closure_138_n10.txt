public void testJscDeterministicTest() {
    String outputFileName = "default.js";
    CompilationLevel compilationLevel = CompilationLevel.ADVANCED_OPTIMIZATIONS;
    CompilerOptions options = new CompilerOptions();
    compilationLevel.setOptionsForCompilationLevel(options);
    
    Compiler compiler = new Compiler();
    compiler.initOptions(options);

    List<SourceFile> externs = CommandLineRunner.getBuiltinExterns(CompilerOptions.Environment.BROWSER);
    List<SourceFile> inputs = Collections.singletonList(SourceFile.fromCode("input.js", 
        "var t = null; window.test = function() { if (t != null) { t = null; } t = 1; };"));

    Result result = compiler.compile(externs, inputs, options);
    assertTrue(result.success);
    assertEquals(0, compiler.getWarnings().length);
    assertEquals(0, compiler.getErrors().length);
}