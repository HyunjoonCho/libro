
import org.jfree.data.xy.XYSeries;
import org.jfree.data.xy.XYDataItem;
import org.junit.Test;
import static org.junit.Assert.*;

public class XYSeriesTest {

    @Test
    public void testAddOrUpdateWithAllowedDuplicates() {
        // Create an XYSeries with duplicate x values allowed
        XYSeries series = new XYSeries("Test Series", false, true);

        // Add a data item
        series.add(1.0, 2.0);
        series.add(1.0, 3.0); // Duplicate x-value

        // Check that both items are present
        assertEquals(2, series.getItemCount());
        XYDataItem item1 = series.getDataItem(0);
        XYDataItem item2 = series.getDataItem(1);
        
        assertEquals(new XYDataItem(1.0, 2.0), item1);
        assertEquals(new XYDataItem(1.0, 3.0), item2);
    }

    @Test
    public void testAddOrUpdateWithoutAllowedDuplicates() {
        // Create an XYSeries with duplicate x values not allowed
        XYSeries series = new XYSeries("Test Series", false, false);

        // Add a data item
        series.addOrUpdate(1.0, 2.0);
        
        // try to add another item with the same x value
        series.addOrUpdate(1.0, 3.0);

        // Check that the item with the duplicate x-value has updated the y-value
        assertEquals(1, series.getItemCount());
        XYDataItem updatedItem = series.getDataItem(0);
        
        assertEquals(new XYDataItem(1.0, 3.0), updatedItem);
    }
}
