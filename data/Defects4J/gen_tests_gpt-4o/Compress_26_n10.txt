public void testIOUtilsSkipWithCipherInputStream() throws Exception {
    byte[] data = new byte[2048];
    new SecureRandom().nextBytes(data);

    ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(data);
    Cipher cipher = Cipher.getInstance("AES");
    SecretKeySpec secretKeySpec = new SecretKeySpec(new byte[16], "AES");
    cipher.init(Cipher.ENCRYPT_MODE, secretKeySpec);
    
    CipherInputStream cipherInputStream = new CipherInputStream(byteArrayInputStream, cipher);

    try {
        long numToSkip = 1024; // Arbitrary skip length
        long skipped = IOUtils.skip(cipherInputStream, numToSkip);
        
        assertEquals("IOUtils.skip() did not skip the correct number of bytes as expected.", numToSkip, skipped);
    } finally {
        cipherInputStream.close();
    }
}