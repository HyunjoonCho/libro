script
// Simulated Module A
function moduleA() {
    var apps = {}; // This would simulate the compiled output
    apps.foo.bar = {}; // This line would trigger an error as described
    apps.foo = {}; // This should be declared before apps.foo.bar
}

// Simulated Module B
function moduleB() {
    apps.foo.bar.B = {};
}

// Simulated Module C
function moduleC() {
    apps.foo.bar.C = {};
}

// Test case
function testNamespaceOrderIssue() {
    try {
        moduleA();
        moduleB();
        moduleC();
        console.log("Test failed: No error thrown");
    } catch (error) {
        if (error instanceof TypeError) {
            console.log("Test passed: Caught expected TypeError");
        } else {
            console.log("Test failed: Unexpected error type");
        }
    }
}

testNamespaceOrderIssue();
