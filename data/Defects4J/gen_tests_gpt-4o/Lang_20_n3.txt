@Test(expected = NullPointerException.class)
public void testStringUtilsJoinWithNullToString() {
    Object[] array = new Object[]{
        new Object() {
            @Override
            public String toString() {
                return null;
            }
        }
    };
    StringUtils.join(array, ','); // Expecting a NullPointerException
}