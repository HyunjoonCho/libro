
import org.apache.commons.lang3.time.FastDateFormat;
import org.junit.Test;

import java.io.*;

import static org.junit.Assert.*;

public class FastDateFormatSerializationTest {

    @Test
    public void testFastDateFormatSerialization() {
        FastDateFormat formatter = FastDateFormat.getInstance("yyyy-MM-dd");

        try {
            // Serialize the formatter
            ByteArrayOutputStream baos = new ByteArrayOutputStream();
            ObjectOutputStream oos = new ObjectOutputStream(baos);
            oos.writeObject(formatter);
            oos.close();

            // Deserialize the formatter
            ByteArrayInputStream bais = new ByteArrayInputStream(baos.toByteArray());
            ObjectInputStream ois = new ObjectInputStream(bais);
            FastDateFormat deserializedFormatter = (FastDateFormat) ois.readObject();
            ois.close();

            // Check if the deserialized object is equal to the original
            assertNotNull(deserializedFormatter);
            assertEquals(formatter.getPattern(), deserializedFormatter.getPattern());

        } catch (IOException e) {
            fail("IOException occurred during serialization/deserialization: " + e.getMessage());
        } catch (ClassNotFoundException e) {
            fail("ClassNotFoundException occurred during deserialization: " + e.getMessage());
        }
    }
}
