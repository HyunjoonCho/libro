public void testTarArchiveInputStreamUidHandling() throws Exception {
    String hdr = "18 uid=4294967294\n"; // A high uid value simulating 'nobody' on MacOS
    byte[] headerData = hdr.getBytes("UTF-8");

    ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(headerData);
    TarArchiveInputStream tarArchiveInputStream = new TarArchiveInputStream(byteArrayInputStream);

    try {
        tarArchiveInputStream.getNextTarEntry();
        fail("Should throw NumberFormatException when processing large uid");
    } catch (NumberFormatException e) {
        assertEquals("For input string: \"4294967294\"", e.getMessage());
    }
}