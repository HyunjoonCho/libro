
import com.google.javascript.jscomp.CommandLineRunner;

public class JscDeterministicTest {

    public static void main(String[] args) throws Exception {
        // Simulate the Closure Compiler command-line execution
        CommandLineRunner runner = new CommandLineRunner(new String[]{
                "--compilation_level", "ADVANCED_OPTIMIZATIONS",
                "--js_output_file", "default.js",
                "--js", "test.js"
        });

        int result = runner.doRun();
        if (result != 0) {
            throw new IllegalStateException("Compilation failed with warning or error.");
        }

        System.out.println("Compilation succeeded without warnings.");
    }

    // Simulated JavaScript file
    private static final String JS_CODE = 
        "var t = null;\n" +
        "window.test = function() {\n" +
        "  if (t != null) {\n" +
        "    t = null;\n" +
        "  }\n" +
        "  t = 1;\n" +
        "};";
    
    static {
        // Assume the JavaScript code is written to test.js
        try (java.io.PrintWriter out = new java.io.PrintWriter("test.js")) {
            out.println(JS_CODE);
        } catch (java.io.IOException e) {
            e.printStackTrace();
        }
    }
}
