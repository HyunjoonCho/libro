
import static org.junit.jupiter.api.Assertions.assertEquals;

import java.util.HashMap;
import java.util.Map;

import org.apache.commons.jxpath.JXPathContext;
import org.junit.jupiter.api.Test;

public class JXPathNullHandlingTest {

    @Test
    public void testNullHandlingInJXPath() {
        Map<String, Integer> m = new HashMap<>();
        m.put("a", 1);
        m.put("b", null);
        m.put("c", 1);
        
        JXPathContext context = JXPathContext.newContext(m);

        assertEquals(true, context.getValue("a != b"), "a != b should be true");
        assertEquals(false, context.getValue("a != c"), "a != c should be false");
        assertEquals(false, context.getValue("a = b"), "a = b should be false");
        assertEquals(true, context.getValue("a = c"), "a = c should be true");
        assertEquals(true, context.getValue("not(a = b)"), "not(a = b) should be true");
        assertEquals(false, context.getValue("not(a = c)"), "not(a = c) should be false");
    }
}
