public void testCSVRecordToMapNoHeaders() {
    CSVFormat format = CSVFormat.DEFAULT.withHeader((String[]) null);
    StringReader reader = new StringReader("value1,value2");
    try {
        CSVParser parser = new CSVParser(reader, format);
        CSVRecord record = parser.iterator().next();
        assertNull(record.toMap());
    } catch (IOException e) {
        fail("IOException should not have occurred.");
    }
}