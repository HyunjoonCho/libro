
import org.apache.commons.csv.CSVFormat;
import org.apache.commons.csv.CSVPrinter;
import org.junit.Test;

import java.io.IOException;
import java.io.StringWriter;

import static org.junit.Assert.assertEquals;

public class CSVFormatTest {

    @Test
    public void testCJKCharQuoteBehavior() throws IOException {
        StringWriter writer = new StringWriter();
        CSVPrinter printer = new CSVPrinter(writer, CSVFormat.EXCEL);

        // Japanese characters
        String[] record = {"あ", "い", "う"};
        printer.printRecord((Object[]) record);
        printer.flush();

        String expectedOutput = "あ,い,う\n"; // Microsoft Excel output
        String actualOutput = writer.toString();

        assertEquals(expectedOutput, actualOutput);
    }
}
