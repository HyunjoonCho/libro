public void testBase64InputStreamMultipleReads() {
    byte[] data = new byte[10920];
    Base64InputStream b64stream = new Base64InputStream(new java.io.ByteArrayInputStream(data), true, 0, null);
    int n = 0;
    try {
        while (b64stream.read() != -1) n++;
        fail("Expected ArrayIndexOutOfBoundsException not thrown");
    } catch (ArrayIndexOutOfBoundsException e) {
        assertTrue("Exception occurred after 10920 reads", n >= 10920);
    } catch (Exception e) {
        fail("Unexpected exception: " + e);
    }
}