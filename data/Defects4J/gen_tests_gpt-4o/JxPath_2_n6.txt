public void testNodeSetReturnFromExtensionFunction() {
    JXPathContext jxPathContext = JXPathContext.newContext(new Object());
    jxPathContext.setFunctions(new ClassFunctions(MyExtensionFunctions.class, "ems"));
    List<?> result = jxPathContext.selectNodes("ems:observations()");
    
    assertNotNull(result);
    assertTrue(result instanceof List);
    assertTrue(result.isEmpty() || result.get(0) instanceof NodePointer);
}