script
function testRedefinitionOfFunction() {
    function assert(b) { if (!b) throw "error" }

    // Test 1: Before any function redefinition
    assert(f() === 1);

    // Redefining f using a function expression, making it a variable assignment.
    var f = function() { return 2; }
    
    // Test 2: After function redefinition
    assert(f() === 2);

    // Function declaration appearing after the assignment
    function f() { return 1; }

    // Test 3: Verify that the redefinition does not incorrectly use the previous function definition
    assert(f() === 2);

    console.log("All tests passed.");
}

try {
    testRedefinitionOfFunction();
    console.log("Test executed without errors.");
} catch (e) {
    console.error("Test failed with error:", e);
}
