
import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertNull;

import org.jfree.data.xy.XYSeries;
import org.jfree.data.xy.XYSeriesCollection;
import org.jfree.data.Range;
import org.jfree.data.general.DatasetUtilities;
import org.junit.Test;

public class DatasetUtilitiesTest {

    @Test
    public void testIterateRangeBoundsEmptyDataset() {
        // Test for empty dataset
        XYSeriesCollection dataset = new XYSeriesCollection();
        Range range = DatasetUtilities.iterateRangeBounds(dataset);
        assertNull("Range should be null for empty dataset", range);
    }

    @Test
    public void testIterateRangeBoundsSingleSeries() {
        // Test dataset with a single series
        XYSeries series = new XYSeries("Series1");
        series.add(1.0, 5.0);
        series.add(2.0, 10.0);
        series.add(3.0, -7.0);

        XYSeriesCollection dataset = new XYSeriesCollection();
        dataset.addSeries(series);

        Range range = DatasetUtilities.iterateRangeBounds(dataset);
        assertEquals("Range lower bound should be -7.0", -7.0, range.getLowerBound(), 0.0001);
        assertEquals("Range upper bound should be 10.0", 10.0, range.getUpperBound(), 0.0001);
    }

    @Test
    public void testIterateRangeBoundsMultipleSeries() {
        // Test dataset with multiple series
        XYSeries series1 = new XYSeries("Series1");
        series1.add(1.0, 5.0);
        series1.add(2.0, 10.0);

        XYSeries series2 = new XYSeries("Series2");
        series2.add(1.5, 3.0);
        series2.add(2.5, 15.0);

        XYSeriesCollection dataset = new XYSeriesCollection();
        dataset.addSeries(series1);
        dataset.addSeries(series2);

        Range range = DatasetUtilities.iterateRangeBounds(dataset);
        assertEquals("Range lower bound should be 3.0", 3.0, range.getLowerBound(), 0.0001);
        assertEquals("Range upper bound should be 15.0", 15.0, range.getUpperBound(), 0.0001);
    }
}
