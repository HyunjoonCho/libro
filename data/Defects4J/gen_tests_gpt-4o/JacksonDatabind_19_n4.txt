
import com.fasterxml.jackson.core.JsonProcessingException;
import com.fasterxml.jackson.databind.ObjectMapper;
import org.junit.Test;

import java.util.Properties;

import static org.junit.Assert.assertEquals;

public class PropertiesSerializationTest {

    @Test
    public void testPropertiesSerialization() throws JsonProcessingException {
        ObjectMapper mapper = new ObjectMapper();

        Properties properties = new Properties();
        properties.put("key1", "value1");
        properties.put("key2", 100); // Integer value, should be coerced to String

        // Serialize Properties to JSON
        String json = mapper.writeValueAsString(properties);

        // Deserialize back to Properties
        Properties result = mapper.readValue(json, Properties.class);

        // Check if values are coerced to strings
        assertEquals("value1", result.get("key1"));
        assertEquals("100", result.get("key2")); // This should be "100" as a String
    }
}
