public void testResettingDefaultNamespaceEndlessLoop() throws Exception {
    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
    factory.setNamespaceAware(true);
    DocumentBuilder builder = factory.newDocumentBuilder();
    
    String xmlContent = "<root xmlns:b=\"bla\" xmlns=\"test111\">" +
                        "<b:foo>" +
                        "<b:bar>a</b:bar>" +
                        "<test xmlns=\"\"></test>" +
                        "</b:foo>" +
                        "</root>";
    
    Document document = builder.parse(new InputSource(new StringReader(xmlContent)));
    JXPathContext context = JXPathContext.newContext(document);
    Pointer pointer = context.getPointer("/root/b:foo/test");
    
    String xpath = pointer.asPath();
    // Since there is a bug, we expect the method to loop endlessly or return incorrect xpath
    // Adding an assertion or timeout could be part of the test, but due to endless loop, code execution
    // might not return. Thus, the absence of timeout or exception indicates a failure
    assertEquals("/root/b:foo[1]/test[1]", xpath);
}