
import com.fasterxml.jackson.core.JsonProcessingException;
import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.exc.InputCoercionException;
import org.junit.Test;

import static org.junit.Assert.assertThrows;

public class IntegerOverflowTest {

    @Test
    public void testIntegerOverflowShouldThrowInputCoercionException() {
        String json = "{ \"number\" : 2147483648 }"; // 2^31, larger than int max value
        ObjectMapper mapper = new ObjectMapper();

        assertThrows(InputCoercionException.class, () -> {
            mapper.readValue(json, IntContainer.class);
        });
    }

    static class IntContainer {
        public int number;
    }
}
