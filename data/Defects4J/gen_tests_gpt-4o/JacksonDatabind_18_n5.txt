public void testObjectReaderReadValuesErrorRecovery() {
    String malformedJson = "[{\"key1\": \"value1\"}, {\"key2\": \"value2\"";
    ObjectMapper mapper = new ObjectMapper();
    MappingIterator<JsonNode> iterator = null;

    try {
        iterator = mapper.readerFor(JsonNode.class).readValues(malformedJson);
        while (iterator.hasNext()) {
            JsonNode node = iterator.next();
            // Processing nodes
        }
        fail("Expected JsonProcessingException was not thrown");
    } catch (JsonProcessingException e) {
        assertTrue(e.getMessage().contains("Unexpected end-of-input"));
    } finally {
        if (iterator != null) {
            assertFalse(iterator.hasNext());
        }
    }
}