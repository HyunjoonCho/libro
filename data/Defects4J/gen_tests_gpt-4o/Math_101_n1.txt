
import org.apache.commons.math3.complex.ComplexFormat;
import org.junit.Test;

import java.text.ParsePosition;

import static org.junit.Assert.*;

public class ComplexFormatTest {

    @Test(expected = StringIndexOutOfBoundsException.class)
    public void testParseStringIndexOutOfBoundsException() {
        ComplexFormat format = new ComplexFormat();
        String input = "i"; // Imaginary part typed first
        ParsePosition pos = new ParsePosition(0);

        // This should throw StringIndexOutOfBoundsException if the bug is present
        format.parse(input, pos);
    }
}
