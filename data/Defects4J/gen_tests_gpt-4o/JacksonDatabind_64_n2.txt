
import com.fasterxml.jackson.annotation.JsonInclude;
import com.fasterxml.jackson.core.JsonProcessingException;
import com.fasterxml.jackson.databind.ObjectMapper;
import org.junit.Test;
import static org.junit.Assert.assertFalse;

public class JsonIncludeTest {

    @JsonInclude(JsonInclude.Include.NON_DEFAULT)
    static class TestClass {
        public String value;
    }

    @Test
    public void testNonDefaultForNullString() throws JsonProcessingException {
        ObjectMapper mapper = new ObjectMapper();
        TestClass obj = new TestClass();
        obj.value = null; // Setting the default `null` value for String
        
        String jsonResult = mapper.writeValueAsString(obj);
        
        // The JSON string should not contain the "value" key, if NON_DEFAULT works correctly
        assertFalse(jsonResult.contains("value"));
    }
}
