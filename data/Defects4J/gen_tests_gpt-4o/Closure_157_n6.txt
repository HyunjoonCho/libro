
import org.junit.Test;
import org.mozilla.javascript.Context;
import org.mozilla.javascript.Scriptable;
import org.mozilla.javascript.EvaluatorException;

import static org.junit.Assert.fail;

public class RhinoParserTest {

    @Test
    public void testQuotedPropertyNames() {
        Context context = Context.enter();
        try {
            Scriptable scope = context.initStandardObjects();

            // Test code with quoted property name for getter
            String scriptWithQuotedProperty = "var x = { get 'x'() { return 1 } };";
            context.compileString(scriptWithQuotedProperty, "testScript", 1, null);

        } catch (EvaluatorException e) {
            fail("Parsing failed for quoted property name in getter: " + e.getMessage());
        } finally {
            Context.exit();
        }
    }

    @Test
    public void testNumericPropertyNames() {
        Context context = Context.enter();
        try {
            Scriptable scope = context.initStandardObjects();

            // Test code with numeric property name for getter
            String scriptWithNumericProperty = "var x = { get 1() { return 1 } };";
            context.compileString(scriptWithNumericProperty, "testScript", 1, null);

        } catch (EvaluatorException e) {
            fail("Parsing failed for numeric property name in getter: " + e.getMessage());
        } finally {
            Context.exit();
        }
    }
}
