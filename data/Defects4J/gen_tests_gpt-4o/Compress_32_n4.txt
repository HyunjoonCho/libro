public void testTarArchiveInputStreamUidHandling() throws Exception {
    ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(
        ("00\n" +
         "uid=4294967294\n" + 
         "path=test.txt\n" +
         "size=0\n" +
         "\0").getBytes("UTF-8"));
    
    TarArchiveInputStream tarInput = new TarArchiveInputStream(byteArrayInputStream);
    
    try {
        tarInput.getNextTarEntry();
        fail("Expected NumberFormatException due to large UID");
    } catch (NumberFormatException e) {
        assertEquals("For input string: \"4294967294\"", e.getMessage());
    }
}