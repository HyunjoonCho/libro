public void testNullPointerExceptionWithEmptyHeaderAndEmptyNullString() {
    CsvSchema schema = CsvSchema.emptySchema().withNullValue("").withHeader();
    CsvMapper mapper = new CsvMapper();
    ObjectReader reader = mapper.readerFor(Map.class).with(schema);
    String csv = "";
    try {
        reader.readValues(csv).next();
        fail("Expected NullPointerException to be thrown");
    } catch (NullPointerException e) {
        // Exception expected
    } catch (Exception e) {
        fail("Expected NullPointerException but got: " + e);
    }
}