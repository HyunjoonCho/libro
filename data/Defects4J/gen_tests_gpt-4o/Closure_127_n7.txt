script
describe('Bug #107: Break in finally block not optimized correctly', function() {

    it('should break in the finally block and not throw the error', function() {
        let result = '';
        
        function testFunction() {
            b: try { 
                throw new Error("throw me");
            } finally { 
                // Simulating a 'break' in the finally block
                result = 'ok then...';
                break b;
            }
        }
        
        // Attempt to call the function
        try {
            testFunction();
        } catch (e) {
            // If exception is thrown, result should not be set to 'ok then...'
            result = 'exception thrown';
        }

        // Assert that the result is 'ok then...', proving that break took place
        expect(result).toBe('ok then...');
    });
});
