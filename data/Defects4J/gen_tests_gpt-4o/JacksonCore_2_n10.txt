
import com.fasterxml.jackson.core.JsonFactory;
import com.fasterxml.jackson.core.JsonParser;
import com.fasterxml.jackson.core.JsonParseException;
import org.junit.Test;

import java.io.IOException;

import static org.junit.Assert.fail;

public class JsonParserTest {

    @Test
    public void testParseEagerNumbersShouldFail() {
        String jsonInput = "123true";
        JsonFactory factory = new JsonFactory();
        try (JsonParser parser = factory.createParser(jsonInput)) {
            // Attempt to read first token as integer
            parser.nextToken(); // This reads the number 123
            parser.nextToken(); // This tries to read the next token, expecting an exception
            
            fail("Expected JsonParseException was not thrown");
        } catch (JsonParseException e) {
            // Expected exception due to incorrect input
            System.out.println("Caught expected JsonParseException: " + e.getMessage());
            assert e.getMessage().contains("Unexpected character");
        } catch (IOException e) {
            fail("Unexpected IOException: " + e.getMessage());
        }
    }
}
