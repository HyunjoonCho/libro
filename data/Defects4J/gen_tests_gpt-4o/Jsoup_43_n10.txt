public void testElementSiblingIndex() {
    String html = "<table><tr><td>Cell1</td><td>Cell2</td></tr><tr><td>Cell1</td><td>Cell2</td></tr></table>";
    Document doc = Jsoup.parse(html);
    Element firstRow = doc.select("tr").get(0);
    Element secondRow = doc.select("tr").get(1);

    assertNotSame(firstRow, secondRow);
    assertEquals(firstRow.html(), secondRow.html());

    int firstRowIndex = firstRow.elementSiblingIndex();
    int secondRowIndex = secondRow.elementSiblingIndex();

    assertNotEquals(firstRowIndex, secondRowIndex);

    assertSame(firstRow, firstRow.parent().children().get(firstRowIndex));
    assertSame(secondRow, secondRow.parent().children().get(secondRowIndex));
}