public void testSpyingOnAbstractClassWithRealMethodCallingAbstract() {
    abstract class AbstractClass {
        abstract int abstractMethod();
        int realMethod() {
            return abstractMethod() * 2;
        }
    }

    AbstractClass spy = Mockito.spy(AbstractClass.class);
    Mockito.doReturn(5).when(spy).abstractMethod();
    
    int result = spy.realMethod();
    
    assertEquals(10, result);
}