
import org.junit.Test;
import static org.mockito.Mockito.*;

public class AbstractClassSpyingTest {

    // Abstract class definition
    public static abstract class AbstractExample {
        public String callAbstractMethod() {
            return abstractMethod() + " called.";
        }
        
        public abstract String abstractMethod();
    }

    @Test
    public void testSpyingOnAbstractClass() {
        // Spy on abstract class instance
        AbstractExample spy = spy(AbstractExample.class);

        // Define behavior for the abstract method
        when(spy.abstractMethod()).thenReturn("Abstract method");

        // Exercise the method that calls the abstract method
        String result = spy.callAbstractMethod();

        // Verify behavior
        assertEquals("Abstract method called.", result);
        
        // Verify that the abstract method was called
        verify(spy).abstractMethod();
    }
}
