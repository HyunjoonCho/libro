public void testTemplateInferenceFailure() {
    Class clazz = new Class();
    String result = clazz.foo(new Function<Integer, Integer>() {
        @Override
        public Integer apply(Integer a) {
            return a;
        }
    });
    assertEquals("string", result);
}