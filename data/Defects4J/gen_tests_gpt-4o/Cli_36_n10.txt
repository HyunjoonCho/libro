public void testHelpFormatterOptionGroupOrder() {
    // Create option group and add options in a specific order
    OptionGroup group = new OptionGroup();
    Option h = Option.builder("h").build();
    Option s = Option.builder("s").build();
    Option b = Option.builder("b").build();
    Option t = Option.builder("t").build();
    group.addOption(h)
        .addOption(s)
        .addOption(b)
        .addOption(t);

    // Create options and add the group along with another option
    Options options = new Options();
    options.addOptionGroup(group);
    options.addOption(Option.builder("o").build());

    // Create HelpFormatter and print the help command
    HelpFormatter formatter = new HelpFormatter();
    formatter.setOptionComparator(null);
    StringWriter out = new StringWriter();
    PrintWriter pw = new PrintWriter(out);
    formatter.printHelp(pw, HelpFormatter.DEFAULT_WIDTH, "cmd", "", options, HelpFormatter.DEFAULT_LEFT_PAD, HelpFormatter.DEFAULT_DESC_PAD, null, false);
    pw.flush();

    // Verify if the printed options order matches the insertion order
    String expectedOrder = " -h\n -s\n -b\n -t\n -o\n";
    String helpOutput = out.toString();
    assertTrue(helpOutput.contains(expectedOrder), "Options order does not match insertion order.");
}