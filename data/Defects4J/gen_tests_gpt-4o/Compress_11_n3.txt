public void testCreateArchiveInputStreamDetectsShortTextAsTar() throws Exception {
    String shortText = "This is a short text file with less than 100 bytes.";
    InputStream inputStream = new ByteArrayInputStream(shortText.getBytes(StandardCharsets.UTF_8));

    ArchiveStreamFactory factory = new ArchiveStreamFactory();
    try {
        ArchiveInputStream archiveInputStream = factory.createArchiveInputStream(inputStream);
        fail("Expected an ArchiveException to be thrown for a non-archive file");
    } catch (ArchiveException e) {
        assertEquals("No Archiver found for the stream signature", e.getMessage());
    }
}