public void testJXPathContextIteratePointersWithMultiplePrefixes() {
    String xml = "<a:doc xmlns:a=\"ns\"><a:elem/><b:elem xmlns:b=\"ns\"/></a:doc>";
    Document document = getDocumentFromString(xml);
    JXPathContext context = JXPathContext.newContext(document);
    Iterator<?> pointers = context.iteratePointers("//*");
    
    List<String> elements = new ArrayList<>();
    while (pointers.hasNext()) {
        Pointer pointer = (Pointer) pointers.next();
        elements.add(pointer.asPath());
    }
    
    assertEquals(2, elements.size());
    assertTrue(elements.contains("/a:doc/a:elem"));
    assertTrue(elements.contains("/a:doc/b:elem"));
}

private Document getDocumentFromString(String xml) {
    try {
        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
        DocumentBuilder builder = factory.newDocumentBuilder();
        return builder.parse(new ByteArrayInputStream(xml.getBytes(StandardCharsets.UTF_8)));
    } catch (Exception e) {
        throw new RuntimeException("Error parsing XML", e);
    }
}