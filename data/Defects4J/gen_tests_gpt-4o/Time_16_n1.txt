
import org.joda.time.DateTime;
import org.joda.time.DateTimeZone;
import org.joda.time.format.DateTimeFormatter;
import org.joda.time.format.DateTimeFormat;
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class DateTimeFormatterTest {
    
    @Test
    public void testParseIntoWithNoYear() {
        // Given a formatter without a year in the pattern
        DateTimeFormatter formatter = DateTimeFormat.forPattern("MM-dd").withZoneUTC();
        DateTime initialDateTime = new DateTime(2021, 5, 15, 0, 0, DateTimeZone.UTC);

        // When parsing into the given instant
        int newPos = formatter.parseInto(new DateTime(), "03-10", 0);

        // The resulting date should have the same year as the initial one
        DateTime resultDateTime = new DateTime().withMillis(newPos);

        assertEquals(2021, resultDateTime.getYear());
        assertEquals(3, resultDateTime.getMonthOfYear());
        assertEquals(10, resultDateTime.getDayOfMonth());
    }
}
