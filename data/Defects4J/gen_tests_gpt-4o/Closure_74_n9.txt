public void testInlineIfOptimization() {
    assertEquals("b", (true == null ? "a" : "b"));

    assertEquals("b", (true == false ? "a" : "b"));

    int result = sum(true, 1);
    assertEquals(3, result);
}

private int sum(Object a, int b) {
    return (a == Boolean.TRUE ? 2 : (int) a) + b;
}