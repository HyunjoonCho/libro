public void testJsonGeneratorWriteStringShouldFailWhenFieldNameExpected() throws IOException {
    StringWriter sw = new StringWriter();
    JsonFactory jsonFactory = new JsonFactory();
    JsonGenerator jsonGenerator = jsonFactory.createGenerator(sw);

    jsonGenerator.writeStartObject();
    try {
        jsonGenerator.writeString("value");
        fail("Expected IllegalStateException to be thrown");
    } catch (IllegalStateException e) {
        // Expected exception when writeString is called without a field name
    }
    jsonGenerator.close();
}