public void testFastDateFormatSerialization() throws Exception {
    FastDateFormat format = FastDateFormat.getInstance("yyyy-MM-dd");
    ByteArrayOutputStream byteOut = new ByteArrayOutputStream();
    ObjectOutputStream out = new ObjectOutputStream(byteOut);
    out.writeObject(format);

    ByteArrayInputStream byteIn = new ByteArrayInputStream(byteOut.toByteArray());
    ObjectInputStream in = new ObjectInputStream(byteIn);
    FastDateFormat deserializedFormat = (FastDateFormat) in.readObject();

    assertEquals(format.format(new Date()), deserializedFormat.format(new Date()));
}