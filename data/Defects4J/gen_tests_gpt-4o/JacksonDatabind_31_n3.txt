public void testJsonStreamContextDifference() throws JsonProcessingException {
    ObjectMapper mapper = new ObjectMapper();
    String json = "{\"name\":\"test\",\"value\":123}";

    JsonNode node = mapper.readTree(json);
    StringWriter writer = new StringWriter();
    JsonGenerator generator = mapper.getFactory().createGenerator(writer);

    // Simulate write context
    generator.writeStartObject();
    generator.writeFieldName("name");
    generator.writeString(node.get("name").asText());
    generator.writeEndObject();
    JsonStreamContext writeContext = generator.getOutputContext();
    generator.close();

    // Simulate convert context
    JsonStreamContext convertContext = mapper.convertValue(node, JsonNode.class).traverse().getCurrentContext();

    // Compare contexts
    assertEquals(writeContext.getCurrentName(), convertContext.getCurrentName());
    assertEquals(writeContext.getEntryCount(), convertContext.getEntryCount());
    assertEquals(writeContext.inObject(), convertContext.inObject());
}