public void testValuedEnumCompareToNotTypeSafe() {
    ValuedEnum enum1 = new TestEnumA("A1", 1);
    ValuedEnum enum2 = new TestEnumB("B1", 1);
    assertTrue("Enums of different classes with same value should not be considered equal", enum1.compareTo(enum2) != 0);
}

private static class TestEnumA extends ValuedEnum {
    protected TestEnumA(String name, int value) {
        super(name, value);
    }
}

private static class TestEnumB extends ValuedEnum {
    protected TestEnumB(String name, int value) {
        super(name, value);
    }
}