
import org.apache.commons.cli.*;

import static org.junit.Assert.assertFalse;
import static org.junit.Assert.assertTrue;

import org.junit.Test;

public class HelpFormatterTest {

    @Test
    public void testSetArgNameHasNoEffect() {
        // Create options
        Options options = new Options();
        options.addOption(Option.builder("t")
                .longOpt("test")
                .hasArg()
                .argName("testArgName")
                .desc("A test option with argument")
                .build());

        // Create HelpFormatter and set a custom argument name
        HelpFormatter formatter = new HelpFormatter();
        formatter.setArgName("customArgName");

        // Capture the help output in a StringWriter
        StringWriter out = new StringWriter();
        formatter.printHelp(new PrintWriter(out), 80, "commandlineinterface", null, options, 2, 2, null);

        String helpOutput = out.toString();

        // Default value 'arg' should be in the output instead of the 'customArgName'
        assertTrue(helpOutput.contains("arg"));
        assertFalse(helpOutput.contains("customArgName"));
    }
}
