public void testMinimumAndMaximumConstraintsOnNestedGroups() {
    OptionGroup groupA = new OptionGroup();
    Option optionA1 = Option.builder("a1").longOpt("optionA1").build();
    groupA.addOption(optionA1);

    OptionGroup groupB = new OptionGroup();
    Option optionB1 = Option.builder("b1").longOpt("optionB1").build();
    groupB.setMinimum(1);
    groupB.setMaximum(2);
    groupB.addOption(optionB1);
    groupB.addOptionGroup(groupA);

    CommandLineParser parser = new DefaultParser();
    Options options = new Options();
    options.addOptionGroup(groupB);

    CommandLine cmd;
    try {
        // Adding options b1 and a1 to respect the minimum limit set in groupB
        cmd = parser.parse(options, new String[]{"--optionA1", "--optionB1"});
        assertTrue(cmd.hasOption("optionA1"));
        assertTrue(cmd.hasOption("optionB1"));
    } catch (ParseException e) {
        fail("Parsing failed: " + e.getMessage());
    }
}