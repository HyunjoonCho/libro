
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.jsoup.nodes.TextNode;
import org.jsoup.parser.Parser;
import org.jsoup.select.Elements;
import org.junit.Test;

import static org.junit.Assert.assertEquals;

public class JsoupJapaneseTagTest {

    @Test
    public void testJapaneseTagParsing() {
        String xmlContent = "<進捗推移グラフ>" +
                "<開始予定凡例名 表示状態=\"0\" 線色=\"00CED1\">&#9312;&#35373;&#35336; &#38283;&#22987;&#20104;&#23450;</開始予定凡例名>" +
                "</進捗推移グラフ>";

        Document doc = Jsoup.parse(xmlContent, "", Parser.xmlParser());
        Elements elements = doc.getAllElements();

        // Check that all elements are parsed
        assertEquals(3, elements.size());

        // Specifically check if the main tags are parsed
        Element rootElement = elements.get(0);
        assertEquals("進捗推移グラフ", rootElement.tagName());

        Element childElement = elements.get(1);
        assertEquals("開始予定凡例名", childElement.tagName());

        // Check the attributes and text
        assertEquals("0", childElement.attr("表示状態"));
        assertEquals("00CED1", childElement.attr("線色"));

        String expectedText = "①設定 開始予定";
        for (TextNode textNode : childElement.textNodes()) {
            assertEquals(expectedText, textNode.text());
        }
    }
}
