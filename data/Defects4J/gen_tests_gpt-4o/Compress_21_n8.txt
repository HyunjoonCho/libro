public void testCreating7zArchiveWithEmptyAndNonEmptyFiles() {
    File tempDir = Files.createTempDirectory("archiveTest").toFile();
    try {
        // Create 7 files, empty and non-empty
        new File(tempDir, "file1.txt").createNewFile();
        new File(tempDir, "file2.txt").createNewFile();
        new File(tempDir, "file3.txt").createNewFile();
        new File(tempDir, "file4_not_empty.txt").createNewFile();
        FileWriter writer4 = new FileWriter(new File(tempDir, "file4_not_empty.txt"));
        writer4.write("content");
        writer4.close();
        new File(tempDir, "file5.txt").createNewFile();
        new File(tempDir, "file6.txt").createNewFile();
        new File(tempDir, "file7_not_empty.txt").createNewFile();
        FileWriter writer7 = new FileWriter(new File(tempDir, "file7_not_empty.txt"));
        writer7.write("content");
        writer7.close();

        File archive = new File(tempDir, "testArchive.7z");
        
        // Assume create7zArchive is a method to create 7z archive
        create7zArchive(tempDir, archive);

        // Validate the archive is not corrupt
        assertTrue(archive.exists() && archive.length() > 0);
        
        // Assume isArchiveValid is a method to validate the archive integrity
        assertTrue(isArchiveValid(archive));

    } catch (Exception e) {
        fail("Exception during 7z archive creation: " + e.getMessage());
    } finally {
        // Clean up
        for (File file : tempDir.listFiles()) {
            file.delete();
        }
        tempDir.delete();
    }
}