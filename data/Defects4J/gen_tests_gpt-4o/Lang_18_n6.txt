
import static org.junit.Assert.assertEquals;

import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Locale;
import java.util.TimeZone;
import org.apache.commons.lang3.time.FastDateFormat;
import org.junit.Test;

public class FastDateFormatTest {

    @Test
    public void testYearFormatting() {
        // Prepare Calendar instance with a specific date
        Calendar calendar = Calendar.getInstance(TimeZone.getTimeZone("UTC"), Locale.US);
        calendar.set(2003, Calendar.JANUARY, 1, 0, 0, 0);
        calendar.set(Calendar.MILLISECOND, 0);

        // Java 7 behavior with SimpleDateFormat
        SimpleDateFormat simpleDateFormat = new SimpleDateFormat("YYY", Locale.US);
        String expectedYear = simpleDateFormat.format(calendar.getTime());
        
        // FastDateFormat should behave the same as SimpleDateFormat
        FastDateFormat fastDateFormat = FastDateFormat.getInstance("YYY", TimeZone.getTimeZone("UTC"), Locale.US);
        String formattedYear = fastDateFormat.format(calendar.getTime());

        assertEquals(expectedYear, formattedYear);
    }
}
