
import com.fasterxml.jackson.databind.util.StdDateFormat;
import org.junit.Test;

import java.text.ParseException;
import java.util.Date;

import static org.junit.Assert.*;

public class LargeISO8601DateTest {

    @Test
    public void testLargeYearDateFormatting() throws ParseException {
        StdDateFormat formatter = new StdDateFormat();

        // Create a date with a large year
        String largeYearDateStr = "12021-12-02T16:47:04.192+0000";

        try {
            // Attempt to parse the date string
            Date parsedDate = formatter.parse(largeYearDateStr);
            fail("Expected an exception for unsupported year format, but parsed: " + parsedDate);
        } catch (ParseException | IllegalArgumentException e) {
            // Assert that the exception is thrown
            assertTrue("Expected exception message for large year", 
                e.getMessage().contains("Year not within the range [0,9999]"));
        }
    }
}
