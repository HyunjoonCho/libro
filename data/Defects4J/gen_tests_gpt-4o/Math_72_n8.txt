public void testBrentSolverReturnsWrongValueIfEndpointIsRoot() {
    UnivariateRealFunction function = new UnivariateRealFunction() {
        public double value(double x) {
            return x * (x - 1); // Roots at x = 0 and x = 1
        }
    };
    BrentSolver solver = new BrentSolver();
    
    double rootAtMin = solver.solve(function, 0.0, 2.0, 0.5);
    double rootAtMax = solver.solve(function, -1.0, 1.0, 0.0);
    
    assertEquals(0.0, rootAtMin, 1e-6);
    assertEquals(1.0, rootAtMax, 1e-6);
}