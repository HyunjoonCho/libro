
import org.apache.commons.math.analysis.UnivariateRealFunction;
import org.apache.commons.math.analysis.solvers.BrentSolver;
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class BrentSolverTest {

    private static class TestFunction implements UnivariateRealFunction {
        @Override
        public double value(double x) {
            return x * (x - 1); // roots are x = 0 and x = 1
        }
    }

    @Test
    public void testEndpointAsRoot() {
        UnivariateRealFunction function = new TestFunction();
        BrentSolver solver = new BrentSolver();

        // Test with endpoint min as root
        double min = 0.0;
        double max = 2.0;
        double initial = 0.5;
        double result = solver.solve(function, min, max, initial);
        assertEquals(min, result, 1e-6);

        // Test with endpoint max as root
        min = -1.0;
        max = 1.0;
        initial = 0.5;
        result = solver.solve(function, min, max, initial);
        assertEquals(max, result, 1e-6);
    }
}
