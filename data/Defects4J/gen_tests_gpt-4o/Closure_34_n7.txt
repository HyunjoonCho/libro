public void testStackOverflowErrorWithClosureCompiler() {
    try {
        Compiler compiler = new Compiler();
        CompilerOptions options = new CompilerOptions();
        List<SourceFile> externs = CommandLineRunner.getDefaultExterns();
        List<SourceFile> inputs = ImmutableList.of(SourceFile.fromCode("AdMedia.eam.js", "var x = 1; x.toString();"));
        Result result = compiler.compile(externs, inputs, options);
        
        // Ensure that the compilation did not succeed due to the error
        assertFalse(result.success);
        
        // Check if the exception was a StackOverflowError
        boolean overflowErrorOccurred = false;
        for (JSError error : result.errors) {
            if (error.getDescription().contains("StackOverflowError")) {
                overflowErrorOccurred = true;
                break;
            }
        }
        
        assertTrue("Expected StackOverflowError to occur during compilation.", overflowErrorOccurred);
        
    } catch (Exception e) {
        fail("Test failed with exception: " + e.getMessage());
    }
}