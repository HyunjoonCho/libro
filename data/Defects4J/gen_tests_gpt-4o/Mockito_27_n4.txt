
import org.junit.Test;
import org.mockito.Mockito;

import static org.mockito.Mockito.*;

public class ExceptionStubbingTest {

    @Test(expected = IllegalArgumentException.class)
    public void testThrowException() {
        Object o = Mockito.mock(Object.class);
        
        // Stub to throw RuntimeException
        Mockito.when(o.toString()).thenThrow(RuntimeException.class);
        
        // Verify behavior to ensure the exception is thrown
        try {
            o.toString();
        } catch (RuntimeException e) {
            // Expected RuntimeException
        }

        // Stub to throw IllegalArgumentException
        // This should not throw the RuntimeException when setting up
        Mockito.when(o.toString()).thenThrow(IllegalArgumentException.class);
        
        // Ensure the last stub works properly
        o.toString();
    }
}
