public void testCliArgumentDefaultsPreventCommandLineUsage() {
    Options options = new Options();
    Option option = Option.builder("o")
                          .hasArg()
                          .required(false)
                          .desc("option with default value 'default'")
                          .build();
    options.addOption(option);

    CommandLineParser parser = new DefaultParser();
    CommandLine cmd = parser.parse(options, new String[]{"-o", "override"}, false);

    String optionValue = cmd.getOptionValue("o", "default");
    assertEquals("override", optionValue);
}