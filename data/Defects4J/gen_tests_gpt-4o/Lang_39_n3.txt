
import static org.junit.Assert.assertEquals;
import org.apache.commons.lang3.StringUtils; // Ensure lang3 is used, update the library if needed
import org.junit.Test;

public class StringUtilsTest {

    @Test
    public void testReplaceEachWithNullReplacement() {
        String original = "Hello World!";
        String[] searchList = {"Hello", "World"};
        String[] replacementList = {"Greetings", null};

        // Depending on the desired behavior, choose which assertion to use.
        // The current behavior causing the bug is expected to throw a NullPointerException,
        // so this test will initially fail and demonstrates the issue.
        
        // Expected null-safe behavior (this assertion is expected not to succeed right now):
        String result = StringUtils.replaceEach(original, searchList, replacementList);
        assertEquals("Greetings !", result);
        
        // Alternatively:
        // assertEquals("Greetings World!", result);
        // Or even:
        // assertEquals("Greetings null!", result);
    }
}
