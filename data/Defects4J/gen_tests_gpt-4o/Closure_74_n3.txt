
import static org.junit.Assert.assertEquals;

public class InlineIfOptimizationTest {

    public static String a() {
        return "a was called";
    }

    public static String b() {
        return "b was called";
    }

    @org.junit.Test
    public void testInlineIfTrueNullComparison() {
        String result = (true == null ? a() : b());
        assertEquals("b was called", result);
    }

    @org.junit.Test
    public void testInlineIfTrueFalseComparison() {
        String result = (true == false ? a() : b());
        assertEquals("b was called", result);
    }

    @org.junit.Test
    public void testRealLifeUseSumFunction() {
        int sumResult = sum(true, 1);
        assertEquals(3, sumResult);
    }

    public int sum(Object a, int b) {
        return (a.equals(true) ? 2 : (int) a) + b;
    }
}
