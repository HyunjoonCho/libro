public void testJsonParserSequenceSkipsToken() throws IOException {
    String json1 = "{\"key1\":\"value1\",\"key2\":";
    String json2 = "\"value2\"}";

    JsonFactory factory = new JsonFactory();

    JsonParser parser1 = factory.createParser(json1);
    JsonParser parser2 = factory.createParser(json2);

    JsonParserSequence sequence = JsonParserSequence.createFlattened(parser1, parser2);
    
    assertEquals(JsonToken.START_OBJECT, sequence.nextToken());
    assertEquals(JsonToken.FIELD_NAME, sequence.nextToken());
    assertEquals("key1", sequence.getCurrentName());
    assertEquals(JsonToken.VALUE_STRING, sequence.nextToken());
    assertEquals("value1", sequence.getText());
    assertEquals(JsonToken.FIELD_NAME, sequence.nextToken());
    assertEquals("key2", sequence.getCurrentName());
    assertEquals(JsonToken.VALUE_STRING, sequence.nextToken());
    assertEquals("value2", sequence.getText());
    assertEquals(JsonToken.END_OBJECT, sequence.nextToken());
    assertNull(sequence.nextToken());
}