
import org.apache.commons.math.analysis.solvers.BrentSolver;
import org.apache.commons.math.analysis.UnivariateFunction;

public class BrentSolverTest {

    public static void main(String[] args) {
        testBrentSolverEndpointsWithZeroValue();
    }
    
    public static void testBrentSolverEndpointsWithZeroValue() {
        BrentSolver solver = new BrentSolver();
        UnivariateFunction function = new UnivariateFunction() {
            @Override
            public double value(double x) {
                return x < 0 ? 0.0 : -101945.04630982173;
            }
        };
        
        solver.setFunctionValueAccuracy(1e-9);

        try {
            // This should not throw an exception and should return 0
            double result = solver.solve(100, function, -100000.0, Double.MAX_VALUE);
            System.out.println("Root found: " + result);
        } catch (IllegalArgumentException e) {
            System.out.println("Test failed: " + e.getMessage());
        }
    }
}
