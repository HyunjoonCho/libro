public void testOverlyAggressiveCommaRemoval() {
    String dummy = "6chars";
    int result = new Test().Test(dummy);
    assertEquals(6, result);
}

class Test {
    public int Test(String n) {
        int i = 0;
        return n != null ? (i = n.length()) : (n = "foo"), i;
    }
}