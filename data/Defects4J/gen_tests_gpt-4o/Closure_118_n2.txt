script
const assert = require('assert');

// Test case function to simulate the expected behavior.
function testPrototypeMethodRemoval() {
    /** @const */
    var foo = {};
    foo.bar = {
        'bar1': function() { return 'bar1'; }
    };

    /** @constructor */
    function foobar() {}
    foobar.prototype = foo.bar;

    foo.foobar = new foobar;

    // Assert that the prototype method hasn't been removed and works as expected.
    assert.strictEqual(foo.foobar['bar1'](), 'bar1', 'Prototype method bar1 should exist and return "bar1"');
}

// Call the test function
testPrototypeMethodRemoval();

// If you want to see the output, or run in a real environment:

console.log(foo.foobar['bar1']); // Should output bar1
