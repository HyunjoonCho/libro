public void testWrongTypeNameReported() {
    // Assume there is a method that mocks or simulates the JavaScript environment
    JsEnvironment env = new JsEnvironment();
    env.addConstructor("C2", new JsConstructor() {
        public void construct() {}
    });
    env.addConstructor("C3", new JsConstructor() {
        public void construct(C2 c2) {
            this.c2_ = c2;
        }
    });

    env.evaluate("use(this.c2_.prop);");

    JsError error = env.getLastError();
    assertNotNull("Expected an error to be reported", error);
    assertEquals("Property prop never defined on C2", error.getMessage());
}