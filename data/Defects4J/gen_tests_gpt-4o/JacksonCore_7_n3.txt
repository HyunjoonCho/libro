public void testJsonGeneratorWriteStringInvalidState() {
    StringWriter writer = new StringWriter();
    JsonGenerator jsonGenerator = new JsonFactory().createGenerator(writer);

    jsonGenerator.writeStartObject();
    try {
        jsonGenerator.writeString("value");  // Should fail because a field name is expected
        fail("Expected JsonGenerationException");
    } catch (JsonGenerationException e) {
        // Expected exception
    } finally {
        jsonGenerator.close();
    }
}