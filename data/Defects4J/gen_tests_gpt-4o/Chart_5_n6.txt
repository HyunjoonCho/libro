
import org.jfree.data.xy.XYSeries;
import org.jfree.data.xy.XYDataItem;
import org.junit.Test;

import static org.junit.Assert.assertEquals;

public class XYSeriesTest {

    @Test
    public void testAddOrUpdateWithDuplicatesAllowed() {
        // Create a series that allows duplicate X values
        XYSeries series = new XYSeries("Series", true);

        // Add an item with X = 1 and Y = 10
        series.add(1, 10);

        // Add a duplicate X value with a different Y = 20 using addOrUpdate
        series.addOrUpdate(1, 20);

        // With duplicates allowed, the series should now contain two items
        // with X = 1, one with Y = 10 and another with Y = 20.
        assertEquals(2, series.getItemCount());

        XYDataItem firstItem = series.getDataItem(0);
        XYDataItem secondItem = series.getDataItem(1);

        // Verify the first item is (1, 10)
        assertEquals(1.0, firstItem.getXValue(), 0.0001);
        assertEquals(10.0, firstItem.getYValue(), 0.0001);

        // Verify the second item is (1, 20)
        assertEquals(1.0, secondItem.getXValue(), 0.0001);
        assertEquals(20.0, secondItem.getYValue(), 0.0001);
    }
}
