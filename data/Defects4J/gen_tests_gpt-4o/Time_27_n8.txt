public void testPeriodFormatterBehavior() {
    PeriodFormatterBuilder pfmtbuilder2 = new PeriodFormatterBuilder().append(ISOPeriodFormat.standard());
    PeriodFormatter pfmt2 = pfmtbuilder2.toFormatter();

    PeriodFormatterBuilder pfmtbuilder1 = new PeriodFormatterBuilder()
        .appendLiteral("P")
        .appendYears()
        .appendSuffix("Y")
        .appendMonths()
        .appendSuffix("M")
        .appendWeeks()
        .appendSuffix("W")
        .appendDays()
        .appendSuffix("D")
        .appendSeparatorIfFieldsAfter("T")
        .appendHours()
        .appendSuffix("H")
        .appendMinutes()
        .appendSuffix("M")
        .appendSecondsWithOptionalMillis()
        .appendSuffix("S");
    PeriodFormatter pfmt1 = pfmtbuilder1.toFormatter();

    Period period = new Period().withYears(1).withMonths(2).withWeeks(3).withDays(4)
                                .withHours(5).withMinutes(6).withSeconds(7).withMillis(8);

    String pfmt1String = pfmt1.print(period);
    String pfmt2String = pfmt2.print(period);

    assertEquals("Formatted strings should be identical", pfmt1String, pfmt2String);
}