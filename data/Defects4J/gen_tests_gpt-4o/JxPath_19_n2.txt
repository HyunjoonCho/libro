public void testJXPathContextIteratePointersWithMultiplePrefixes() {
    String xml = "<a:doc xmlns:a=\"ns\"><a:elem /><b:elem xmlns:b=\"ns\" /></a:doc>";

    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
    factory.setNamespaceAware(true);
    try {
        DocumentBuilder builder = factory.newDocumentBuilder();
        Document doc = builder.parse(new ByteArrayInputStream(xml.getBytes()));

        JXPathContext context = JXPathContext.newContext(doc);
        Iterator<Pointer> pointers = context.iteratePointers("//*");

        int count = 0;
        while (pointers.hasNext()) {
            pointers.next();
            count++;
        }

        assertEquals("Expected two elements in the same namespace with different prefixes", 2, count);
    } catch (Exception e) {
        fail("Exception encountered: " + e.getMessage());
    }
}