public void testTruncatedZipArchiveInputStream() {
    byte[] truncatedZip = { 80, 75, 3, 4, 20, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }; // Example of truncated zip header
    ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(truncatedZip);
    ZipArchiveInputStream zipInputStream = new ZipArchiveInputStream(byteArrayInputStream);

    try {
        byte[] buffer = new byte[512];
        int bytesRead = zipInputStream.read(buffer);
        fail("Expected an IOException");
    } catch (IOException e) {
        assertEquals("Truncated ZIP file", e.getMessage());
    } finally {
        try {
            zipInputStream.close();
        } catch (IOException e) {
            // Ignore exceptions thrown by close
        }
    }
}