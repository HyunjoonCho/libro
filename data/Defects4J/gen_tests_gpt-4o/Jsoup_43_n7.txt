public void testElementSiblingIndexBehavior() {
    String html = "<table><tr><td>Row 1</td></tr><tr><td>Cell1</td><td>Cell2</td></tr><tr><td>Row 3</td></tr><tr><td>Row 4</td></tr><tr><td>Cell1</td><td>Cell2</td></tr></table>";
    Document doc = Jsoup.parse(html);
    Element firstRow = doc.select("tr").get(1);
    Element fifthRow = doc.select("tr").get(4);

    int firstRowIndex = firstRow.elementSiblingIndex();
    int fifthRowIndex = fifthRow.elementSiblingIndex();

    assertNotEquals(firstRowIndex, fifthRowIndex);
    assertEquals(doc.select("tr").get(firstRowIndex), firstRow);
    assertEquals(doc.select("tr").get(fifthRowIndex), fifthRow);
    assertEquals(doc.select("tr").get(firstRowIndex), fifthRow); // Demonstrates the issue
}