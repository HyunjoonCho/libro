public void testParsingPaxHeadersWithEmptyLine() {
    byte[] paxHeaderWithEmptyLine = (
        "25 path=myfile.txt\n" +
        "30 ctime=1500000000.0000000000\n" +
        "12 size=1234\n" +
        "\n" // Intentional empty line at the end
    ).getBytes(StandardCharsets.UTF_8);

    try (ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(paxHeaderWithEmptyLine);
         TarArchiveInputStream tarInput = new TarArchiveInputStream(byteArrayInputStream)) {
        Map<String, String> paxHeaders = tarInput.parsePaxHeaders(paxHeaderWithEmptyLine, paxHeaderWithEmptyLine.length);
        // We should not hit an exception and should get a valid paxHeaders map
        assertNotNull(paxHeaders);
    } catch (Exception e) {
        fail("Exception was thrown: " + e.getMessage());
    }
}