public void testFastDateFormatLocaleChange() {
    Locale defaultLocale = Locale.getDefault();
    try {
        // Set and test with a specific initial default locale
        Locale.setDefault(Locale.US);
        FastDateFormat dateFormat = FastDateFormat.getDateInstance(FastDateFormat.SHORT, null);
        String formattedDateUS = dateFormat.format(new Date(0));

        // Change the default locale
        Locale.setDefault(Locale.FRANCE);
        FastDateFormat dateFormatAfterLocaleChange = FastDateFormat.getDateInstance(FastDateFormat.SHORT, null);
        String formattedDateFR = dateFormatAfterLocaleChange.format(new Date(0));

        // The formatted date should differ if locale changes are respected
        assertNotEquals("Locale change not respected; formatted date should differ", formattedDateUS, formattedDateFR);
    } finally {
        // Reset to original default locale
        Locale.setDefault(defaultLocale);
    }
}