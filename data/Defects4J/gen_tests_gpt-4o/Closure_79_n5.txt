public void testRuntimeExceptionWithExternPrototype() {
    try {
        CompilerOptions options = new CompilerOptions();
        options.setCompilationLevel(CompilationLevel.ADVANCED_OPTIMIZATIONS);
        
        Compiler compiler = new Compiler();
        SourceFile extern = SourceFile.fromCode("prototype.js", "extern prototype content");
        SourceFile input = SourceFile.fromCode("bootloader.js", "bootloader content");

        compiler.compile(extern, input, options);
        fail("Expected RuntimeException due to INTERNAL COMPILER ERROR");
    } catch (RuntimeException e) {
        assertTrue(e.getMessage().contains("INTERNAL COMPILER ERROR"));
    }
}