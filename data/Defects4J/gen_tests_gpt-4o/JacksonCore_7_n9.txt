public void testJsonGeneratorInvalidWriteString() {
    JsonFactory jsonFactory = new JsonFactory();
    try (JsonGenerator jsonGenerator = jsonFactory.createGenerator(new StringWriter())) {
        jsonGenerator.writeStartObject();
        jsonGenerator.writeString("value");
        fail("Expected an IllegalStateException to be thrown");
    } catch (IllegalStateException expected) {
        assertTrue(expected.getMessage().contains("writeString"));
    } catch (IOException e) {
        fail("Unexpected IOException: " + e.getMessage());
    }
}