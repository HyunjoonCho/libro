public void testNonEmptyExclusionWithAfterburner() throws JsonProcessingException {
    ObjectMapper defaultMapper = new ObjectMapper();
    defaultMapper.setSerializationInclusion(JsonInclude.Include.NON_EMPTY);

    ObjectMapper afterburnerMapper = new ObjectMapper();
    afterburnerMapper.registerModule(new AfterburnerModule());
    afterburnerMapper.setSerializationInclusion(JsonInclude.Include.NON_EMPTY);

    TestData testData = new TestData(0, "");

    String defaultJson = defaultMapper.writeValueAsString(testData);
    String afterburnerJson = afterburnerMapper.writeValueAsString(testData);

    assertEquals("{}", defaultJson);
    assertEquals("{}", afterburnerJson);
}

static class TestData {
    private int number;
    private String text;

    public TestData(int number, String text) {
        this.number = number;
        this.text = text;
    }

    public int getNumber() {
        return number;
    }

    public String getText() {
        return text;
    }
}