public void testCompilerCrashOnGoogScopeLocals() {
    try {
        Compiler compiler = new Compiler();
        CompilerOptions options = new CompilerOptions();
        String jsCode = "goog.provide('main'); goog.scope(function () { var a = foo, b, c = 1; });";
        compiler.compile(SourceFile.fromCode("externs", ""), SourceFile.fromCode("test", jsCode), options);
        fail("Expected Compiler to throw an exception");
    } catch (RuntimeException e) {
        // Check if the exception message indicates a specific crash due to goog.scope locals issue
        assertTrue(e.getMessage().contains("goog.scope variable declaration issue"));
    }
}