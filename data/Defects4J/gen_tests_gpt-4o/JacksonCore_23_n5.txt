public void testDefaultPrettyPrinterSubclassFailure() {
    class CustomPrettyPrinter extends DefaultPrettyPrinter {
    }

    CustomPrettyPrinter customPrinter = new CustomPrettyPrinter();

    Throwable exception = assertThrows(IllegalStateException.class, customPrinter::createInstance);

    assertNotNull("Exception should not be null", exception);
    assertEquals("Subclasses must override createInstance method", exception.getMessage());
}