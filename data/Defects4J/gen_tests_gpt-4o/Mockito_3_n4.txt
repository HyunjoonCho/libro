public void testArgumentCaptorWithVarargs() {
    List<Integer> mockList = mock(List.class);
    ArgumentCaptor<Integer> captor = ArgumentCaptor.forClass(Integer.class);

    mockList.addAll(Arrays.asList(1, 2, 3, 4));

    verify(mockList).addAll(captor.capture());
    List<Integer> capturedArguments = captor.getAllValues();
    
    assertEquals(Arrays.asList(1, 2, 3, 4), capturedArguments);
}