public void testMsgPrefixVariableError() {
    String code = "var MSG_foo='bar';";
    Compiler compiler = new Compiler();
    CompilerOptions options = new CompilerOptions();
    CompilationLevel.ADVANCED_OPTIMIZATIONS.setOptionsForCompilationLevel(options);
    
    SourceFile input = SourceFile.fromCode("test.js", code);
    SourceFile externs = SourceFile.fromCode("externs.js", "");

    Result result = compiler.compile(externs, input, options);

    assertFalse("Expected compilation error due to MSG_ prefix", result.success);
    assertTrue("Expected ERROR for message not initialized using goog.getMsg",
        result.errors.stream().anyMatch(
            error -> error.description.contains("message not initialized using goog.getMsg")));
}