
import org.jdom2.Document;
import org.jdom2.Element;
import org.jdom2.Namespace;
import org.jdom2.input.SAXBuilder;
import org.jdom2.output.XMLOutputter;
import org.jdom2.xpath.XPathExpression;
import org.jdom2.xpath.XPathFactory;
import org.jaxen.jdom.JDOMXPath;
import org.junit.Test;
import static org.junit.Assert.*;

import java.io.StringReader;

public class XmlNamespaceWildcardTest {

    @Test
    public void testSelectWithWildcardNamespace() throws Exception {
        // XML input
        String xmlContent = "<xml xmlns:x='foo' x:pop='a'/>";
        
        // Parsing the XML
        SAXBuilder saxBuilder = new SAXBuilder();
        Document document = saxBuilder.build(new StringReader(xmlContent));
        
        // XPath expression to select attributes with wildcard
        org.jaxen.XPath xpath = new JDOMXPath("/xml/@*");
        
        // Apply xpath to document
        Object result = xpath.selectSingleNode(document);
        
        // Asserting that the attribute is found
        assertNotNull("Attribute should be selected with wildcard", result);
    }
}
