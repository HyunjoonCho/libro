public void testJacksonXmlRootElementWithMultipleMappers() throws Exception {
    final ObjectMapper xmlMapper = new XmlMapper();
    final ObjectMapper noAnnotationsXmlMapper = xmlMapper.copy()
            .configure(MapperFeature.USE_ANNOTATIONS, false)
            .configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);

    String noAnnotationsOutput = noAnnotationsXmlMapper.writeValueAsString(new XMLTest());
    String annotationsOutput = xmlMapper.writeValueAsString(new XMLTest());

    // The first output ignores annotations, so it should use the class name by default
    assertEquals("<XMLTest/>", noAnnotationsOutput);

    // The second output should use the localName specified by the annotation
    assertEquals("<myname/>", annotationsOutput);
}