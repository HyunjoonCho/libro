
import org.apache.commons.codec.binary.Base64;
import static org.junit.Assert.assertArrayEquals;
import static org.junit.Assert.fail;
import org.junit.Test;

public class Base64Test {

    @Test
    public void testBase64EncodeWithMaxSizeAndNoChunking() {
        byte[] binaryData = "Test data for encoding".getBytes();
        int maxResultSize = 100; // Some valid size that should not trigger an IAE
        boolean isChunked = false;
        boolean urlSafe = false;

        try {
            byte[] encodedData = Base64.encodeBase64(binaryData, isChunked, urlSafe, maxResultSize);
            byte[] expectedEncodedData = Base64.encodeBase64(binaryData, isChunked, urlSafe);
            assertArrayEquals("Encoded data should match expected output", expectedEncodedData, encodedData);
        } catch (IllegalArgumentException e) {
            fail("An IllegalArgumentException should not be thrown for valid maxResultSize when isChunked is false");
        }
    }
}
