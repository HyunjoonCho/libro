
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class InlineIfOptimizationTest {

    @Test
    public void testInlineIfOptimization() {
        assertEquals("Expected b() to be triggered", "b", evaluateCondition(null));
        assertEquals("Expected b() to be triggered", "b", evaluateCondition(false));
        assertEquals("Real life use case", 3, sum(true, 1));
    }

    private String evaluateCondition(Object condition) {
        return (condition == Boolean.TRUE) ? a() : b();
    }

    private String a() {
        return "a";
    }

    private String b() {
        return "b";
    }
    
    private int sum(Object a, int b) {
        return (a == Boolean.TRUE ? 2 : (int) a) + b;
    }
}
