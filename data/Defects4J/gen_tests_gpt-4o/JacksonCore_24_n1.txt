
import com.fasterxml.jackson.core.*;
import org.junit.Test;
import static org.junit.Assert.*;

public class InputCoercionExceptionTest {

    @Test
    public void testInputCoercionException() {
        String json = "2147483648"; // 1 more than Integer.MAX_VALUE
        JsonFactory factory = new JsonFactory();

        try {
            JsonParser parser = factory.createParser(json);
            parser.nextToken(); // move to the number token
            int value = parser.getIntValue(); // should fail with InputCoercionException
            fail("Expected InputCoercionException was not thrown. Parsed value: " + value);
        } catch (InputCoercionException e) {
            // Expected exception
            assertEquals(JsonToken.VALUE_NUMBER_INT, e.getInputType());
            assertEquals("int", e.getTargetType());
        } catch (Exception e) {
            fail("Expected InputCoercionException, but got: " + e.getClass().getName());
        }
    }
}
