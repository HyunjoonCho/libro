public void testCustomDeserializerWithParentObjectUpdate() throws IOException {
    ObjectMapper mapper = new ObjectMapper();
    SimpleModule module = new SimpleModule();
    module.addDeserializer(DataA.class, new DataADeserializer());
    mapper.registerModule(module);

    // Prepare initial DataB
    DataB db = new DataB();
    db.da.i = 11;
    db.k = 13;
    JsonNode jsonBNode = mapper.valueToTree(db);

    // Update existing instance using JsonNode, which fails
    DataB dbUpdViaNode = new DataB();

    // Validate initial state
    assertEquals(1, dbUpdViaNode.da.i);
    assertEquals(3, dbUpdViaNode.k);

    // Attempt update, expecting an exception
    try {
        mapper.readerForUpdating(dbUpdViaNode).readValue(jsonBNode);
        fail("Expected UnrecognizedPropertyException");
    } catch (UnrecognizedPropertyException e) {
        assertTrue(e.getMessage().contains("Unrecognized field \"i\""));
    }
}