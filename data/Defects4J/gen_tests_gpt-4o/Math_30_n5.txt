
import org.apache.commons.math3.stat.inference.MannWhitneyUTest;
import org.junit.Test;

import static org.junit.Assert.assertFalse;
import static org.junit.Assert.assertTrue;

public class MannWhitneyUTestOverflow {

    @Test
    public void testMannWhitneyUOverflow() {
        // Create large data sets
        double[] sample1 = new double[1500];
        double[] sample2 = new double[1500];
        
        // Populate the arrays with data
        for (int i = 0; i < 1500; i++) {
            sample1[i] = Math.random() * 100;
            sample2[i] = Math.random() * 100;
        }

        MannWhitneyUTest mannWhitneyUTest = new MannWhitneyUTest();

        // Perform the test
        double pValue = mannWhitneyUTest.mannWhitneyUTest(sample1, sample2);
        
        // Test the p-value is a valid number and not NaN
        assertFalse("P-value should not be NaN", Double.isNaN(pValue));
        
        // Additional checks can be performed, such as assert p-value within valid bounds
        assertTrue("P-value should be greater than or equal to 0.0", pValue >= 0.0);
        assertTrue("P-value should be less than or equal to 1.0", pValue <= 1.0);
    }
}
