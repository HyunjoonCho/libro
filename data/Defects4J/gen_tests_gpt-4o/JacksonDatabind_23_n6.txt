public void testNonEmptyExclusionWithDefaultHandling() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    mapper.setSerializationInclusion(JsonInclude.Include.NON_EMPTY);

    TestClass testObj = new TestClass(0, "", null);
    String jsonResult = mapper.writeValueAsString(testObj);

    // Expecting the JSON result to be "{}" since all fields should be excluded
    assertEquals("{}", jsonResult);
}

static class TestClass {
    public int intValue;
    public String strValue;
    public String anotherStr;

    public TestClass(int intValue, String strValue, String anotherStr) {
        this.intValue = intValue;
        this.strValue = strValue;
        this.anotherStr = anotherStr;
    }
}