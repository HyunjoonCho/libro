
import org.junit.Test;
import static org.junit.Assert.fail;
import java.io.File;
import java.util.zip.ZipFile;
import java.util.zip.ZipException;

public class ZipFileTest {

    @Test
    public void testZip64FileReading() {
        try {
            // You should ensure that 'ordertest-64.zip' file is placed in the right directory.
            File zipFile = new File("src/test/resources/ordertest-64.zip");
            ZipFile zip = new ZipFile(zipFile);
        } catch (ZipException e) {
            // Check if the message matches the expected ZipException to identify the issue.
            if (e.getMessage().contains("central directory zip64 extended information extra field's length doesn't match")) {
                fail("Test failed with ZipException as expected due to incorrect ZIP64 handling: " + e.getMessage());
            } else {
                fail("Unexpected ZipException: " + e.getMessage());
            }
        } catch (Exception e) {
            fail("An unexpected exception occurred: " + e.getMessage());
        }
    }
}
