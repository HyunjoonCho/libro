public void testUnexpectedElementsInTable() throws IOException {
    String html = "<html>" +
                  "<body>" +
                  "<table>" +
                  "<tr>" +
                  "<td>" +
                  "<table>" +
                  "<tr>" +
                  "<!--Comment-->" +
                  "<table>" +
                  "<p>Why am I here?</p>" +
                  "</tr>" +
                  "</table>" +
                  "</td>" +
                  "</tr>" +
                  "</table>" +
                  "</body>" +
                  "</html>";
    Document doc = Jsoup.parse(html);
    doc.outputSettings().prettyPrint(true);
    String rendered = doc.toString();
    int endOfComment = rendered.indexOf("Comment");
    int guaranteePosition = rendered.indexOf("Why am I here?");
    assertTrue("Comment not found", endOfComment > -1);
    assertTrue("Unexpected text not found", guaranteePosition > -1);
    assertTrue("Text position is incorrect, it did not come after the comment", guaranteePosition > endOfComment);
}