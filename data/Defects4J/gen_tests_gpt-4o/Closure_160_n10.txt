public void testCheckVarsAndUndefinedVarsDiagnostics() throws IOException {
    String[] verboseArgs = {
        "--warning_level", "VERBOSE", 
        "--js", "test.js"
    };
    String[] checkVarsArgs = {
        "--jscomp_warning", "checkVars", 
        "--js", "test.js"
    };
    String[] undefinedVarsArgs = {
        "--jscomp_warning", "undefinedVars", 
        "--js", "test.js"
    };

    // Assuming there's a method compileAndGetOutput that takes the args and returns compiler output
    String verboseOutput = compileAndGetOutput(verboseArgs);
    String checkVarsOutput = compileAndGetOutput(checkVarsArgs);
    String undefinedVarsOutput = compileAndGetOutput(undefinedVarsArgs);

    assertTrue(verboseOutput.contains("variable foo is undefined"));
    assertFalse(checkVarsOutput.contains("variable foo is undefined"));
    assertFalse(undefinedVarsOutput.contains("variable foo is undefined"));
}