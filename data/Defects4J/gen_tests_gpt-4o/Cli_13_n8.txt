public void testCliArgumentDefaultsPreventCommandlineUsage() {
    Options options = new Options();
    Option option = Option.builder("o")
                          .hasArg()
                          .desc("An option with a default argument")
                          .build();
    options.addOption(option);

    CommandLineParser parser = new DefaultParser();
    CommandLine cmd;
    try {
        String[] argsWithDefault = {};
        cmd = parser.parse(options, argsWithDefault);
        // Assuming the default value is set elsewhere in code not shown
        cmd.getOptionValues("o", new String[]{"defaultValue"});

        String[] argsWithUserValue = {"-o", "userValue"};
        cmd = parser.parse(options, argsWithUserValue);
    } catch (ParseException e) {
        fail("Parsing exception should not have occurred: " + e.getMessage());
    }

    assertEquals("userValue", cmd.getOptionValue("o"));
}