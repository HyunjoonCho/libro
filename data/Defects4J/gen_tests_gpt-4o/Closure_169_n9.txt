script
/**
 * Test case for bug report: Strange "wrong parameter" warning for callback function
 */
public class ClosureCompilerIssueTest {

    /**
     * Test method for reproducing the compiler warning.
     */
    @Test
    public void testParameterWarning() {
        // This should compile without warnings, but produces a warning in the bug report
        // Define the test1 function with JSDoc to specify that 'obj' should have a property 'func' that is a function
        /**
         * @param {{func: function()}} obj
         */
        function test1(obj) {}

        // Create an empty object
        var fnStruc1 = {};
        
        // Add a 'func' property which is a function
        fnStruc1.func = function() {};

        // Call test1 with fnStruc1
        // Bug exhibits a warning during this call
        test1(fnStruc1);

        // Expected behavior: No compilation warning
    }

    /**
     * Control test case which works correctly according to the report.
     */
    @Test
    public void testNoWarning() {
        // Define the test2 function with similar JSDoc
        /**
         * @param {{func: function()}} obj
         */
        function test2(obj) {}

        // Create an object with a 'func' property set to a function
        var fnStruc2 = { func: function() {} };

        // Call test2 with fnStruc2
        // This does not exhibit a warning
        test2(fnStruc2);
    }
}
