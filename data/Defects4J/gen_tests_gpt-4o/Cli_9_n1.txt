
import org.apache.commons.cli.CommandLine;
import org.apache.commons.cli.DefaultParser;
import org.apache.commons.cli.MissingOptionException;
import org.apache.commons.cli.Option;
import org.apache.commons.cli.Options;
import org.apache.commons.cli.ParseException;
import org.junit.Test;

import static org.junit.Assert.assertEquals;

public class MissingOptionExceptionTest {

    @Test
    public void testMissingOptionExceptionMessageFormatting() {
        // Setup options with one required option
        Options options = new Options();
        options.addOption(Option.builder("f")
                .longOpt("format")
                .required(true)
                .desc("Format option")
                .build());
        
        // Simulate a command line input with missing option
        String[] args = {};

        try {
            CommandLine cmd = new DefaultParser().parse(options, args);
        } catch (MissingOptionException e) {
            // Check the error message format
            assertEquals("Missing required option: -f", e.getMessage());
        } catch (ParseException e) {
            // Handle any other parsing exceptions
            e.printStackTrace();
        }
    }
}
