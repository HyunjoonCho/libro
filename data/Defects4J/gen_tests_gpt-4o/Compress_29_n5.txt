public void testArchiveStreamFactoryEncoding() throws Exception {
    ArchiveStreamFactory factory = new ArchiveStreamFactory();
    InputStream inputStream = new ByteArrayInputStream(new byte[]{});
    Map<String, String> params = new HashMap<>();
    params.put("encoding", "UTF-8");
    
    // Test ArjArchiveInputStream
    try {
        factory.createArchiveInputStream(ArchiveStreamFactory.ARJ, inputStream, "UTF-8");
    } catch (ArchiveException e) {
        fail("Failed to pass encoding to ArjArchiveInputStream: " + e.getMessage());
    }

    // Test CpioArchiveInputStream
    try {
        factory.createArchiveInputStream(ArchiveStreamFactory.CPIO, inputStream, "UTF-8");
    } catch (ArchiveException e) {
        fail("Failed to pass encoding to CpioArchiveInputStream: " + e.getMessage());
    }

    // Test DumpArchiveInputStream
    try {
        factory.createArchiveInputStream(ArchiveStreamFactory.DUMP, inputStream, "UTF-8");
    } catch (ArchiveException e) {
        fail("Failed to pass encoding to DumpArchiveInputStream: " + e.getMessage());
    }

    // Test JarArchiveInputStream
    try {
        factory.createArchiveInputStream(ArchiveStreamFactory.JAR, inputStream, "UTF-8");
    } catch (ArchiveException e) {
        fail("Failed to pass encoding to JarArchiveInputStream: " + e.getMessage());
    }

    // Test JarArchiveOutputStream
    OutputStream outputStream = new ByteArrayOutputStream();
    try {
        factory.createArchiveOutputStream(ArchiveStreamFactory.JAR, outputStream, "UTF-8");
    } catch (ArchiveException e) {
        fail("Failed to pass encoding to JarArchiveOutputStream: " + e.getMessage());
    }
}