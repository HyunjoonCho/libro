script
const assert = require('chai').assert;

describe('myclass type checking', function() {
    it('should report error on calling fn() without arguments', function() {
        /** @constructor */
        function myclass() {
        }

        /** @param {boolean} success */
        myclass.prototype.fn = function(success) {
        }

        myclass.prototype.test = function() {
            // First call that is expected to produce a type checking error due to missing argument
            try {
                this.fn();
                assert.fail('Expected type-checking error on this line due to missing boolean argument');
            } catch (e) {
                console.warn("Error expected due to missing argument.", e.message);
            }
            
            // Second call that changes the function, should also raise a similar type-checking error
            this.fn = function() {
            }
            
            // Re-testing after replacement to misuse the updated function
            try {
                this.fn();
                assert.fail('Expected type-checking error on this line due to missing boolean argument after replacement');
            } catch (e) {
                console.warn("Error expected after replacing function.", e.message);
            }
        };

        let instance = new myclass();
        instance.test();
    });
});
