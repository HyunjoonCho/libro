public void testUnexpectedElementsInTable() throws IOException {
    String html = "<html>\n"
            + "<body>\n"
            + "<table>\n"
            + "<tr>\n"
            + "<td>\n"
            + "<table>\n"
            + "<tr>\n"
            + "<!--Comment-->\n"
            + "<table>\n"
            + "<p>Why am I here?</p>\n"
            + "</tr>\n"
            + "</table>\n"
            + "</td>\n"
            + "</tr>\n"
            + "</table>\n"
            + "</body>\n"
            + "</html>";
    Document doc = Jsoup.parse(html);
    doc.outputSettings().prettyPrint(true);
    String rendered = doc.toString();
    int endOfComment = rendered.indexOf("Comment");
    int positionOfPTag = rendered.indexOf("Why am I here?");
    assertTrue("Comment not found", endOfComment > -1);
    assertTrue("P tag text not found", positionOfPTag > -1);
    assertTrue("P tag text did not come after comment", positionOfPTag > endOfComment);
}