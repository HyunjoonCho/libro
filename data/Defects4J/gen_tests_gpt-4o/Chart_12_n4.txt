
import org.jfree.chart.plot.MultiplePiePlot;
import org.jfree.data.category.DefaultCategoryDataset;
import org.jfree.chart.event.PlotChangeEvent;
import org.jfree.chart.event.PlotChangeListener;
import static org.junit.Assert.*;
import org.junit.Test;

public class MultiplePiePlotTest {

    @Test
    public void testDatasetListenerWiringOnConstructor() {
        DefaultCategoryDataset dataset = new DefaultCategoryDataset();
        final boolean[] listenerCalled = {false};

        // Listener to check if it's triggered by dataset change.
        PlotChangeListener listener = new PlotChangeListener() {
            @Override
            public void plotChanged(PlotChangeEvent event) {
                listenerCalled[0] = true;
            }
        };

        // Create MultiplePiePlot with dataset
        MultiplePiePlot plot = new MultiplePiePlot(dataset);
        plot.addChangeListener(listener);

        // Modify the dataset
        dataset.addValue(1.0, "RowKey", "ColumnKey");

        // Check if the listener was notified
        assertTrue("The dataset change listener should be notified.", listenerCalled[0]);
    }
}
