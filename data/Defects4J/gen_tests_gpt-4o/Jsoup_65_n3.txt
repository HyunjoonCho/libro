
import static org.junit.Assert.*;

import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.parser.Parser;
import org.junit.Test;
import org.jsoup.nodes.Element;

public class TemplateTagTest {

    @Test
    public void testTemplateInsideTableRow() {
        String html = "<table>" +
                      "  <tr>" +
                      "    <th></th>" +
                      "    <th>Name</th>" +
                      "    <template is=\"dom-if\" if=\"{{smoothingEnabled}}\">" +
                      "      <th>Smoothed</th>" +
                      "    </template>" +
                      "    <th>Value</th>" +
                      "    <th>Step</th>" +
                      "    <th>Time</th>" +
                      "    <th>Relative</th>" +
                      "  </tr>" +
                      "</table>";

        try {
            Document doc = Jsoup.parse(html, "", Parser.htmlParser());
            Element tableRow = doc.select("tr").first();

            assertNotNull("Parsed table row should not be null", tableRow);
            assertEquals("Row should contain 7 direct children, template content might not be parsed correctly", 7, tableRow.children().size());

        } catch (Exception e) {
            fail("Parsing should not throw an exception: " + e.getMessage());
        }
    }
}
