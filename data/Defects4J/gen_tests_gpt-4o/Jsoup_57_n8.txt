
import org.jsoup.Jsoup;
import org.jsoup.nodes.Attribute;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.junit.Test;

import java.util.Iterator;
import java.util.LinkedHashMap;
import java.util.Map;

import static org.junit.Assert.assertFalse;

public class RemoveIgnoreCaseTest {

    @Test
    public void testRemoveIgnoreCaseConcurrentModificationException() {
        String html = "<div id=\"test\" attr1=\"value1\" attr2=\"value2\"></div>";
        Document doc = Jsoup.parse(html);
        Element element = doc.select("div#test").first();
        
        try {
            // This should throw a ConcurrentModificationException if there's a bug
            element.removeAttr("attr1").removeAttr("attr2");
        } catch (ConcurrentModificationException e) {
            assertFalse("ConcurrentModificationException was thrown", true);
        }
    }
}

