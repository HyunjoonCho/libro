
import com.fasterxml.jackson.core.JsonProcessingException;
import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.annotation.JsonDeserialize;
import org.junit.Test;
import static org.junit.Assert.*;

public class JacksonNullDeserializationTest {

    static class StringArrayWrapper {
        @JsonDeserialize(as = String[].class)
        public String[] array;
    }

    @Test
    public void testNullDeserializationInStringArray() throws JsonProcessingException {
        ObjectMapper objectMapper = new ObjectMapper();

        // JSON representing a String array containing null
        String json = "{\"array\":null}";

        // Attempt to deserialize into StringArrayWrapper
        StringArrayWrapper result = objectMapper.readValue(json, StringArrayWrapper.class);

        // Assert that the deserialized object's array field is null
        assertNull("The deserialized String array should be null", result.array);
    }
}
