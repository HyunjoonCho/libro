script
// ==ClosureCompiler==
// @compilation_level SIMPLE_OPTIMIZATIONS
// @output_file_name default.js
// ==/ClosureCompiler==

function testFunctionArgumentsLength() {
    function foo(bar, baz) {
        return bar;
    }

    // Expected output length is 2, as the function has two parameters
    console.log("Expected function length: 2");
    console.log("Actual function length: " + foo.length);

    // Assert that the length of the function is still 2
    if (foo.length !== 2) {
        throw new Error(
            "Function arguments were optimized away. Expected length 2, but got " +
            foo.length
        );
    }

    console.log("Test passed: function length property is " + foo.length);
}

testFunctionArgumentsLength();
