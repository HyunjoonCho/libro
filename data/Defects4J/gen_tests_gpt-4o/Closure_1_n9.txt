public void testFunctionArgumentsNotOptimizedAway() {
    // This test assumes the JavaScript will be compiled and executed in a JavaScript environment.
    String script = "function foo(bar, baz) { return bar; } foo;";
    ScriptEngineManager manager = new ScriptEngineManager();
    ScriptEngine engine = manager.getEngineByName("JavaScript");
    try {
        Object function = engine.eval(script);
        int length = ((Invocable) engine).getInterface(function, Function.class).length();
        assertEquals(2, length);
    } catch (ScriptException e) {
        fail("Script execution failed: " + e.getMessage());
    }
}