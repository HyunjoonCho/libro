public void testCustomSerializerWithJsonValue() {
    ObjectMapper objectMapper = new ObjectMapper();
    SimpleModule module = new SimpleModule();
    module.addSerializer(TestClass.class, new CustomSerializer());
    objectMapper.registerModule(module);

    TestClass value = new TestClass();
    try {
        String jsonResult = objectMapper.writeValueAsString(value);
        assertEquals("\"Custom\"", jsonResult);
    } catch (JsonProcessingException e) {
        fail("Exception during serialization: " + e.getMessage());
    }
}

public static class TestClass {
    @JsonValue
    public String asJson() {
        return "JsonValue";
    }
}

public static class CustomSerializer extends JsonSerializer<TestClass> {
    @Override
    public void serialize(TestClass value, JsonGenerator gen, SerializerProvider serializers) throws IOException {
        gen.writeString("Custom");
    }
}