public void testTruncatedZipArchive() throws IOException {
    byte[] truncatedZipContent = new byte[] {
        80, 75, 3, 4, 20, 0, 8, 0, 8, 0, 0, 0, 33, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    };
    ByteArrayInputStream bais = new ByteArrayInputStream(truncatedZipContent);
    ZipArchiveInputStream zais = new ZipArchiveInputStream(bais);
    try {
        byte[] buffer = new byte[1024];
        while (zais.read(buffer) != -1) {
            // Keep reading until end of stream or error
        }
        fail("Expected IOException due to truncated ZIP file");
    } catch (IOException e) {
        assertEquals("Truncated ZIP file", e.getMessage());
    } finally {
        zais.close();
    }
}