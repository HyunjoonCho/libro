
import org.apache.commons.lang3.StringEscapeUtils;
import org.junit.Test;

import java.nio.CharBuffer;

import static org.junit.Assert.assertEquals;

public class LookupTranslatorTest {

    @Test
    public void testTranslateWithCharBuffer() {
        CharSequence cs1 = "1 < 2";
        CharSequence cs2 = CharBuffer.wrap("1 < 2".toCharArray());

        // Expected translation result
        String expected = "1 &lt; 2";

        // Test translation using a CharSequence backed by a String
        String result1 = StringEscapeUtils.ESCAPE_HTML4.translate(cs1);
        
        // Test translation using a CharSequence backed by a CharBuffer
        String result2 = StringEscapeUtils.ESCAPE_HTML4.translate(cs2);

        // Assert that both translations are equal and correct
        assertEquals("Translation using String-backed CharSequence failed", expected, result1);
        assertEquals("Translation using CharBuffer-backed CharSequence failed", expected, result2);
    }
}
