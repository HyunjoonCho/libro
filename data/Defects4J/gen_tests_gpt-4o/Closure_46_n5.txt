public void testClassCastExceptionDuringTypeCheck() {
    // Assuming you have a method to create a ProxyObjectType with a RecordType reference
    TypeCheck typeCheck = new TypeCheck(); // Assuming a TypeCheck class exists
    try {
        NamedType namedType = createNamedTypeReferencingRecordType(); // you would replace this with the actual method
        typeCheck.compile(namedType);
        fail("Expected a ClassCastException to be thrown");
    } catch (ClassCastException e) {
        // Expected exception, test passes
    }
}