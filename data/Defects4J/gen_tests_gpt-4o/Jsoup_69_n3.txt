public void testRemoveInputFromForm() throws IOException {
    String html = "<html><body><form><input name='alpha' value='1'><input name='beta' value='2'></form></body></html>";
    Document doc = Jsoup.parse(html);

    // Remove the input with name 'alpha'
    doc.select("input[name=alpha]").first().remove();

    FormElement form = (FormElement) doc.select("form").first();
    List<Connection.KeyVal> data = form.formData();

    // Ensure 'alpha' is no longer in the form data
    for (Connection.KeyVal keyVal : data) {
        assertNotEquals("alpha", keyVal.key());
    }
}