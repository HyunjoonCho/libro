
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.safety.Cleaner;
import org.jsoup.safety.Whitelist;
import org.junit.Test;

import static org.junit.Assert.*;

public class CleanerTest {

    @Test
    public void testCleanerWithFrameset() {
        // Create a sample HTML document containing a frameset
        String htmlWithFrameset = "<frameset><frame src='frame_a.htm'><frame src='frame_b.htm'></frameset>";

        try {
            // Parse the HTML document
            Document doc = Jsoup.parse(htmlWithFrameset);

            // Create a Cleaner instance with a basic whitelist
            Cleaner cleaner = new Cleaner(Whitelist.basic());

            // Attempt to clean the document
            Document cleanedDoc = cleaner.clean(doc);

            // In the case of a frameset, we expect an empty or null body without exceptions
            assertNotNull("Cleaned document should not be null", cleanedDoc);
            assertNull("Cleaned document body should be null for frameset", cleanedDoc.body());
        } catch (NullPointerException e) {
            fail("Cleaner should not throw NullPointerException when handling framesets");
        }
    }
}
