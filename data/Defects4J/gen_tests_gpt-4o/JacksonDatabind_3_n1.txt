
import com.fasterxml.jackson.databind.ObjectMapper;
import org.junit.Test;
import static org.junit.Assert.assertArrayEquals;

public class JacksonStringArrayNullTest {

    @Test
    public void testDeserializeNullInStringArray() throws Exception {
        // JSON containing a null value in a string array
        String jsonArray = "[\"foo\", null, \"bar\"]";
        
        // Expected behavior in versions prior to 2.4.0
        String[] expectedArray = new String[]{"foo", null, "bar"};
        
        // Create ObjectMapper instance
        ObjectMapper objectMapper = new ObjectMapper();
        
        // Deserialize JSON into a String array
        String[] resultArray = objectMapper.readValue(jsonArray, String[].class);
        
        // Assert that the deserialized array matches the expected array
        assertArrayEquals(expectedArray, resultArray);
    }
}
