
import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.module.SimpleModule;
import org.junit.jupiter.api.Test;

import java.util.Locale;

import static org.junit.jupiter.api.Assertions.assertEquals;

public class LocaleDeserializationTest {

    @Test
    public void testLocaleDeserializationWithDashSeparator() throws Exception {
        ObjectMapper mapper = new ObjectMapper();

        // Serializing a Locale with a dash separator according to RFC 5646
        String jsonLocaleWithDash = "\"en-US\"";

        // Deserializing the Locale, expecting it to handle the dash separator correctly
        Locale locale = mapper.readValue(jsonLocaleWithDash, Locale.class);

        // Validate the deserialized values
        assertEquals("en", locale.getLanguage());
        assertEquals("US", locale.getCountry());
    }
}
