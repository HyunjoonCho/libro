public void testGenericsSelfReferenceTypeVariable() {
    interface GenericsSelfReference<T extends GenericsSelfReference<T>> {
        T self();
    }

    GenericMetadataSupport genericMetadata = GenericMetadataSupport.inferFrom(GenericsSelfReference.class)
        .resolveGenericReturnType(Methods.firstNamedMethod("self", GenericsSelfReference.class));

    assertEquals(GenericsSelfReference.class, genericMetadata.rawType());
}