
import org.joda.time.Period;
import org.joda.time.format.ISOPeriodFormat;
import org.joda.time.format.PeriodFormatter;
import org.joda.time.format.PeriodFormatterBuilder;
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class PeriodFormatterTest {

    @Test
    public void testPeriodFormatterDifferentBehavior() {
        // Create a PeriodFormatter using ISOPeriodFormat.standard()
        PeriodFormatter pfmt1 = ISOPeriodFormat.standard();

        // Manually build a PeriodFormatter similar to ISOPeriodFormat.standard()
        PeriodFormatter pfmt2 = new PeriodFormatterBuilder()
            .appendLiteral("P")
            .appendYears()
            .appendSuffix("Y")
            .appendMonths()
            .appendSuffix("M")
            .appendWeeks()
            .appendSuffix("W")
            .appendDays()
            .appendSuffix("D")
            .appendSeparatorIfFieldsAfter("T")
            .appendHours()
            .appendSuffix("H")
            .appendMinutes()
            .appendSuffix("M")
            .appendSecondsWithOptionalMillis()
            .appendSuffix("S")
            .toFormatter();

        // Define a period string to parse
        String periodStr = "P1Y2M3W4DT5H6M7.123S";

        // Parse the period string using both formatters
        Period period1 = pfmt1.parsePeriod(periodStr);
        Period period2 = pfmt2.parsePeriod(periodStr);

        // Compare the parsed periods
        assertEquals("The parsed periods should be equal.", period1, period2);
    }
}
