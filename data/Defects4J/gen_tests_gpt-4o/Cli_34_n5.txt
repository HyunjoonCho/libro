
import org.apache.commons.cli.*;

import org.junit.Test;
import static org.junit.Assert.*;

public class CommandLineOptionTest {

    @Test
    public void testDefaultOptionTypeAsString() throws Exception {
        // Initialize Options
        Options options = new Options();
        // Add an option with a short flag 'f' and a long description 'file'
        options.addOption("f", "file", true, "file to process");

        // Command line arguments to parse
        String[] args = {"-f", "example.txt"};

        // Parse the options
        CommandLineParser parser = new DefaultParser();
        CommandLine cmd = parser.parse(options, args);

        // Test whether the parsed option value is non-null and correctly a String
        Object parsedValue = cmd.getParsedOptionValue("f");
        assertNotNull("Parsed option value should not be null", parsedValue);
        assertTrue("Parsed option value should be a String", parsedValue instanceof String);
        assertEquals("example.txt", parsedValue);
    }
}
