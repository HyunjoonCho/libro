public void testHelpFormatterWrapsIncorrectly() {
    HelpFormatter helpFormatter = new HelpFormatter();
    Options options = new Options();
    
    String longDescription = "This is a long description that is intended to be wrapped incorrectly "
            + "by the HelpFormatter due to the findWrapPos bug. The initial line will have correct "
            + "wrapping but subsequent lines will not.";
    
    options.addOption("d", "description", false, longDescription);

    StringWriter out = new StringWriter();
    PrintWriter pw = new PrintWriter(out);
    
    helpFormatter.printHelp(pw, 40, "commandlineapp", "Header", options, 2, 2, "Footer", true);
    pw.flush();
    
    String output = out.toString();
    String[] lines = output.split(System.lineSeparator());
    
    // Verify the length of each line
    for (int i = 1; i < lines.length; i++) {
        assertTrue("Line " + i + " is too long", lines[i].length() <= 40);
    }
}