public void testBase64InputStreamArrayIndexOutOfBoundsException() throws IOException {
    byte[] input = new byte[10921]; // Array larger than 10920 to trigger the error
    ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(input);
    Base64InputStream b64stream = new Base64InputStream(byteArrayInputStream, true, 0, null);

    int n = 0;
    try {
        while (b64stream.read() != -1) {
            n++;
        }
        fail("Expected ArrayIndexOutOfBoundsException was not thrown.");
    } catch (ArrayIndexOutOfBoundsException e) {
        assertEquals(10920, n); // Ensure the expected number of successful reads
        assertTrue(e.getMessage().contains("2"));
    } finally {
        b64stream.close();
    }
}