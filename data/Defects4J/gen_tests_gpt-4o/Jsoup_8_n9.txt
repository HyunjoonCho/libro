public void testToStringNPEForOrphans() {
    Element element = new Element("test");
    Parent parent = new Parent();
    parent.add(element);
    parent.remove(element);
    
    try {
        String result = element.toString();
        assertNotNull(result);
    } catch (NullPointerException e) {
        fail("toString() threw a NullPointerException for a detached element");
    }
}