public void testEbeMultiplyWithNaNAndInfinity() {
    double[] data1 = {1.0, 2.0, 0.0};
    double[] data2 = {Double.NaN, Double.POSITIVE_INFINITY, 0.0};
    RealVector vector1 = new OpenMapRealVector(data1);
    RealVector vector2 = new OpenMapRealVector(data2);

    RealVector result = vector1.ebeMultiply(vector2);

    assertTrue(Double.isNaN(result.getEntry(0)));
    assertTrue(Double.isInfinite(result.getEntry(1)));
    assertEquals(0.0, result.getEntry(2), 0.0);
}