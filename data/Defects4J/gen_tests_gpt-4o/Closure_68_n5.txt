public void testCrypticErrorMessageOnInvalidTypeFunctionAnnotation() throws Exception {
    String jsCode = "/**\n * @type function\n */\nvar callback;";
    CompilerOptions options = new CompilerOptions();
    TestErrorManager errorManager = new TestErrorManager();
    
    Compiler compiler = new Compiler();
    compiler.setErrorManager(errorManager);
    compiler.initOptions(options);
    
    SourceFile extern = SourceFile.fromCode("externs.js", "");
    SourceFile input = SourceFile.fromCode("test.js", jsCode);
    
    compiler.compile(extern, input, options);
    
    JSError[] warnings = errorManager.getWarnings();
    assertEquals(1, warnings.length);
    assertTrue(warnings[0].description.contains("expected '('"));
}