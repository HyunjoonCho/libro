public void testMaximumKeyLength() {
    StringBuilder longKey = new StringBuilder(262145);
    for (int i = 0; i < 262145; i++) {
        longKey.append('a');
    }
    String json = "{\"" + longKey.toString() + "\": \"value\"}";
    
    try {
        JsonFactory factory = new JsonFactory();
        JsonParser parser = factory.createParser(json);
        while (parser.nextToken() != null) {
            // Just iterate through tokens
        }
        fail("Expected an ArrayIndexOutOfBoundsException due to oversized key");
    } catch (ArrayIndexOutOfBoundsException e) {
        // Expected exception
    } catch (IOException e) {
        fail("IOException was not expected");
    }
}