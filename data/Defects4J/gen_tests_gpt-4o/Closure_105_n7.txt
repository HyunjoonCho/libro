script
function testArrayJoinMungedIncorrectly() {
    // Original function
    $.fn.hasClassOriginal = function (selector) {
        return (this.length > 0 ?
            !( ( ['', this[0].className, ''].join(' ') ).indexOf( ['', selector, ''].join(' ') ) == -1 )
            : false);
    };

    // Munged function
    $.fn.hasClassMunged = function (a) {
        return this.length > 0 ?
            ("" + this[0].className).indexOf("" + a) != -1 : false;
    };

    // Test setup
    $('body').append('<div id="testElement" class="test class"></div>');

    var $element = $('#testElement');

    // Test case 1: Check for 'test class'
    var originalHasClass = $element.hasClassOriginal('test class');
    var mungedHasClass = $element.hasClassMunged('test class');

    console.assert(originalHasClass === true, 'Original: Expected "test class" to be found');
    console.assert(mungedHasClass === true, 'Munged: Expected "test class" to be found');

    // Test case 2: Check for 'test'
    originalHasClass = $element.hasClassOriginal('test');
    mungedHasClass = $element.hasClassMunged('test');

    console.assert(originalHasClass === true, 'Original: Expected "test" to be found');
    console.assert(mungedHasClass === true, 'Munged: Expected "test" to be found');

    // Test case 3: Check for 'class'
    originalHasClass = $element.hasClassOriginal('class');
    mungedHasClass = $element.hasClassMunged('class');

    console.assert(originalHasClass === true, 'Original: Expected "class" to be found');
    console.assert(mungedHasClass === true, 'Munged: Expected "class" to be found');

    // Clean up
    $element.remove();
}

testArrayJoinMungedIncorrectly();
