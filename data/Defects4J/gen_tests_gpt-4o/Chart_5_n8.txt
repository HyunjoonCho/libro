
import static org.junit.Assert.*;
import org.jfree.data.xy.XYSeries;
import org.jfree.data.xy.XYDataItem;
import org.junit.Test;

public class XYSeriesTest {

    @Test
    public void testAddOrUpdateWithAllowDuplicateXValues() {
        // Create an XYSeries object with duplicates allowed
        XYSeries series = new XYSeries("Test Series", true, false);

        // Add initial data point
        series.add(1.0, 2.0);

        // Use addOrUpdate to add a data point with the same x-value
        // Currently, addOrUpdate does not correctly handle duplicates
        series.addOrUpdate(1.0, 3.0);

        // Assert the series size is 2 instead of 1 if duplicates are allowed
        // The correct behavior with duplicates allowed is to add the new point,
        // but without the fix, it replaces the existing point.
        assertEquals(2, series.getItemCount());

        // Verify both points exist with the correct values
        assertEquals(new XYDataItem(1.0, 2.0), series.getDataItem(0));
        assertEquals(new XYDataItem(1.0, 3.0), series.getDataItem(1));
    }
}
