public void testXmlEncodingCharsetDetection() {
    try {
        Document doc = Jsoup.connect("http://www.elacontecer.com.uy/rss/hoy.xml")
                            .parser(Parser.xmlParser())
                            .get();
        assertEquals(Charset.forName("ISO-8859-1"), doc.charset());
    } catch (IOException e) {
        fail("IOException occurred: " + e.getMessage());
    }
}