
import com.fasterxml.jackson.annotation.JsonTypeInfo;
import com.fasterxml.jackson.databind.ObjectMapper;
import org.junit.Test;

import static org.junit.Assert.assertEquals;

// Base class
class JsonSchema {
    public String name;

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }
}

// Subclass
@JsonTypeInfo(use = JsonTypeInfo.Id.CLASS, property = "@class", defaultImpl = JsonMapSchema.class)
class JsonMapSchema extends JsonSchema {
    // Other fields specific to JsonMapSchema
}

public class JsonDeserializationTest {

    @Test
    public void testDeserializationWithBaseClassField() throws Exception {
        String json = "{ \"@class\": \"<fully-qualified-class-name>.JsonMapSchema\", \"name\": \"FoodMart\" }";

        ObjectMapper objectMapper = new ObjectMapper();
        JsonSchema schema = objectMapper.readValue(json, JsonSchema.class);

        assertEquals("FoodMart", schema.getName());
    }
}
