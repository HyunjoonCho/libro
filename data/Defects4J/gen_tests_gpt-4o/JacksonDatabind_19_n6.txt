
import com.fasterxml.jackson.databind.ObjectMapper;
import org.junit.Test;
import java.util.Properties;
import static org.junit.Assert.assertEquals;

public class PropertiesSerializationTest {

    @Test
    public void testPropertiesSerialization() throws Exception {
        // Create and populate Properties
        Properties properties = new Properties();
        properties.put("key1", 123);
        properties.put("key2", true);
        properties.put("key3", 45.67);

        // Use Jackson ObjectMapper for serialization
        ObjectMapper mapper = new ObjectMapper();
        String json = mapper.writeValueAsString(properties);

        // Deserialize back to Properties
        Properties result = mapper.readValue(json, Properties.class);

        // Assert that all values are coerced to Strings
        assertEquals("123", result.get("key1"));
        assertEquals("true", result.get("key2"));
        assertEquals("45.67", result.get("key3"));
    }
}
