public void testTextAreaWhitespacePreservation() {
    String html = "<textarea>    Some   text with \n whitespace   </textarea>";
    Document doc = Jsoup.parse(html);
    Element textarea = doc.select("textarea").first();
    String text = textarea.wholeText();
    assertEquals("    Some   text with \n whitespace   ", text);
}