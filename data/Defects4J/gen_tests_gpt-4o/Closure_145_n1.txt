public void testLabeledLoopsBug() {
    String jsCode = "var i = 0;" +
                    "lab1: do {" +
                    "  lab2: do {" +
                    "    i++;" +
                    "    if (1) {" +
                    "      break lab2;" +
                    "    } else {" +
                    "      break lab1;" +
                    "    }" +
                    "  } while(false);" +
                    "} while(false);" +
                    "console.log(i);";
    Compiler compiler = new Compiler();
    CompilerOptions options = new CompilerOptions();
    compiler.compile(SourceFile.fromCode("externs.js", ""), SourceFile.fromCode("test.js", jsCode), options);
    String output = compiler.toSource();
    assertTrue(output.contains("var a=0;do{do{a++;break}while(0)}while(0);console.log(a)"));
}