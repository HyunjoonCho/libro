public void testLargeNumberOfWeights() {
    int largeNumberOfPoints = 41200;
    double[] observations = new double[largeNumberOfPoints];
    double[] weights = new double[largeNumberOfPoints];
    double[] initialGuess = new double[]{1.0, 1.0}; // Example initial guess

    // Fill observations with some example data
    for (int i = 0; i < largeNumberOfPoints; i++) {
        observations[i] = i;
        weights[i] = 1.0; // Uniform weights
    }

    PolynomialCurveFitter fitter = PolynomialCurveFitter.create(1); // Linear polynomial fitting

    try {
        fitter.fit(new WeightedObservedPoints(weights, observations).toList());
        fail("Expected an OutOfMemoryError or a similar issue due to large matrix creation");
    } catch (OutOfMemoryError e) {
        assertNotNull(e);
    }
}