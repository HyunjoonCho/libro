
import org.apache.commons.math3.analysis.UnivariateFunction;
import org.apache.commons.math3.analysis.solvers.BrentSolver;
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class BrentSolverTest {

    @Test
    public void testBrentSolverRootAtEndpoint() {
        UnivariateFunction function = new UnivariateFunction() {
            public double value(double x) {
                return x * x - 4; // Roots at x = -2 and x = 2
            }
        };

        BrentSolver solver = new BrentSolver();
        
        // Expecting root at -2
        double rootAtMin = solver.solve(100, function, -2, 1); // min is a root
        assertEquals(-2.0, rootAtMin, 1e-6);

        // Expecting root at 2
        double rootAtMax = solver.solve(100, function, 1, 2); // max is a root
        assertEquals(2.0, rootAtMax, 1e-6);
    }
}
