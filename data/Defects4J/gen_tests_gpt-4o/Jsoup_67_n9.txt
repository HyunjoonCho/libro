public void testDeeplyNestedPagesPerformance() {
    StringBuilder htmlBuilder = new StringBuilder("<a>");
    for (int i = 0; i < 10000; i++) {
        htmlBuilder.append("<div>");
    }
    for (int i = 0; i < 10000; i++) {
        htmlBuilder.append("</div>");
    }
    htmlBuilder.append("</a>");
    String deeplyNestedHtml = htmlBuilder.toString();

    long startTime = System.currentTimeMillis();
    org.jsoup.nodes.Document document = org.jsoup.Jsoup.parse(deeplyNestedHtml);
    long endTime = System.currentTimeMillis();

    long duration = endTime - startTime;
    assertTrue("Parsing took too long: " + duration + "ms", duration < 5000);
}