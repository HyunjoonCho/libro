
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class StringEscapeUtilsTest {

    @Test
    public void testEscapeJavaScript() {
        String input = "<script>alert('aaa');</script>";

        // Expected output when '/' is escaped to '\/'
        String expectedSpringOutput = "<script>alert(\\'aaa\\');<\\/script>";

        // Escape using Spring's JavaScriptUtils
        String springEscaped = org.springframework.web.util.JavaScriptUtils.javaScriptEscape(input);
        
        // Check if the Spring escape result matches the expected output
        assertEquals("Spring JS Escape did not match", expectedSpringOutput, springEscaped);

        // Escape using Apache Commons Lang StringEscapeUtils
        String apacheEscaped = org.apache.commons.text.StringEscapeUtils.escapeEcmaScript(input);
        
        // Apache StringEscapeUtils output does not escape '/'
        String expectedApacheOutput = "<script>alert(\\'aaa\\');</script>";

        // Check if the Apache escape result matches the expected output
        assertEquals("Apache Common Lang JS Escape did not match", expectedApacheOutput, apacheEscaped);
    }
}
