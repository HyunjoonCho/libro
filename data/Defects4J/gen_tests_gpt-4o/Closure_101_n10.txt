
import com.google.javascript.jscomp.CommandLineRunner;
import org.junit.Test;
import static org.junit.Assert.*;

public class ProcessClosurePrimitivesTest {

    @Test
    public void testProcessClosurePrimitivesFalse() throws Exception {
        String[] args = {"--process_closure_primitives=false", "test.js"};
        CommandLineRunner runner = new CommandLineRunner(args);

        boolean exceptionThrown = false;
        try {
            runner.doRun();
        } catch (Exception e) {
            exceptionThrown = true;
        }

        assertFalse("Primitives should not be processed when flag is false.", exceptionThrown);
    }

    @Test
    public void testProcessClosurePrimitivesTrue() throws Exception {
        String[] args = {"--process_closure_primitives=true", "test.js"};
        CommandLineRunner runner = new CommandLineRunner(args);

        boolean exceptionThrown = false;
        try {
            runner.doRun();
        } catch (Exception e) {
            exceptionThrown = true;
        }

        assertFalse("Primitives should be processed when flag is true.", exceptionThrown);
    }
}
