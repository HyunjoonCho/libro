public void testNamespaceDefinitionInPrototype() {
    String script = "if (!Node) var Node = { };";

    // Simulate the compilation logic that incorrectly translates the script
    String compiledScript = script.replaceAll("if \\(!Node\\) var Node = \\{ \\};", "Node||(Node={});");

    String expectedScript = "if (!Node) var Node = { };";

    assertEquals(expectedScript, compiledScript);
}