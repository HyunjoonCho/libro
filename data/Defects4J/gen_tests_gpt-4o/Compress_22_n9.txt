public void testBZip2TruncatedFileRead() throws IOException {
    byte[] truncatedData = new byte[1024];
    Arrays.fill(truncatedData, (byte) 0); // Simulating truncated BZip2 data

    ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(truncatedData);
    BZip2CompressorInputStream bZip2InputStream = new BZip2CompressorInputStream(byteArrayInputStream, true);

    byte[] buffer = new byte[1024];
    int bytesRead = 0;
    int totalBytesRead = 0;

    while ((bytesRead = bZip2InputStream.read(buffer)) != -1) {
        totalBytesRead += bytesRead;
    }

    assertEquals("BZip2CompressorInputStream should read 770 bytes from the truncated data", 770, totalBytesRead);
}