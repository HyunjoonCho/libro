public void testCreateArchiveInputStreamDetectsShortTextFileAsTar() throws Exception {
    String shortText = "This is a short text file that is less than 100 bytes.";
    ByteArrayInputStream in = new ByteArrayInputStream(shortText.getBytes(StandardCharsets.UTF_8));
    
    ArchiveStreamFactory factory = new ArchiveStreamFactory();
    try {
        ArchiveInputStream archiveInputStream = factory.createArchiveInputStream(in);
        // If it doesn't throw an exception, we fail the test
        fail("Expected ArchiveException to be thrown for short text file.");
    } catch (ArchiveException e) {
        // Expected behavior, so the test should pass
    }
}