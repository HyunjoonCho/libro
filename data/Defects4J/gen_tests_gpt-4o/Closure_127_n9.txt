
import javax.script.ScriptEngine;
import javax.script.ScriptEngineManager;
import javax.script.ScriptException;

public class FinallyBlockBreakTest {
    public static void main(String[] args) {
        try {
            // Setup Nashorn JavaScript engine
            ScriptEngineManager manager = new ScriptEngineManager();
            ScriptEngine engine = manager.getEngineByName("nashorn");

            // JavaScript code to test
            String script = 
                "var executed = false;" +
                "b: try {" +
                "    throw 'throw me';" +
                "} finally {" +
                "    /* fake catcher */;" +
                "    break b;" +
                "}" +
                "executed = true;" +
                "executed;";  // Check if 'executed' is true

            // Evaluate the script
            Object result = engine.eval(script);

            // Check the output and ensure it matches expectation
            assert (Boolean) result : "The finally block did not override the throw statement as expected.";
            System.out.println("Test passed: Break in finally block properly overrides throw.");

        } catch (ScriptException e) {
            System.err.println("Script execution failed: " + e.getMessage());
        }
    }
}
