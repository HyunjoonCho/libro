
package com.example;

import static org.junit.Assert.assertEquals;
import java.nio.charset.StandardCharsets;
import org.junit.Test;

public class UnicodePropertyNameTest {

    @Test
    public void testUnicodeCharacterInPropertyName() {
        // Given an input with a Unicode character in a property name
        String input = "var test={\"a\\u0004b\":\"c\"};";
        
        // Simulate a basic "compiler" process that simply returns the input as the output
        // In reality, this is where the faulty behavior would be triggered
        String output = simulateJavaScriptCompilation(input);
        
        // The expected output should retain the escaped Unicode character
        String expectedOutput = "var test={\"a\\u0004b\":\"c\"};";
        
        // Assert that the output is as expected
        assertEquals(expectedOutput, output);
    }

    // Simulates a simple compilation or transformation process
    private String simulateJavaScriptCompilation(String jsCode) {
        // Ideally, this would involve processing input and returning transformed code.
        // For the purposes of this test, to mimic the faulty behavior, keep the input as is.
        return new String(jsCode.getBytes(), StandardCharsets.UTF_8);
    }
}
