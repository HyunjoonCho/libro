
import org.apache.commons.jxpath.JXPathContext;
import org.junit.Test;

import static org.junit.Assert.assertEquals;

public class JXPathTrimmingTest {

    @Test
    public void testJXPathDoesNotTrimValues() {
        // Creating a simple XML-like structure
        SimpleNamespaceContext context = new SimpleNamespaceContext();
        context.setVariable("value", new String(" 1234 56 "));

        JXPathContext jxPathContext = JXPathContext.newContext(context);

        // Use JXPath to retrieve the value
        String result = (String) jxPathContext.getValue("$value");

        // Assert that the initial value with spaces is preserved
        assertEquals(" 1234 56 ", result);
    }

    private static class SimpleNamespaceContext {
        private String value;

        public void setVariable(String name, String value) {
            if ("value".equals(name)) {
                this.value = value;
            }
        }

        public String getValue(String name) {
            return "value".equals(name) ? value : null;
        }
    }
}
