
import org.apache.commons.lang.text.StrBuilder;
import org.junit.Test;
import static org.junit.Assert.*;

public class StrBuilderBugTest {

    @Test
    public void testDeleteAll_String() {
        StrBuilder sb = new StrBuilder("\n%BLAH%\nDo more stuff\neven more stuff\n%BLAH%\n");
        
        // This line is expected to throw ArrayIndexOutOfBoundsException based on the bug report.
        sb.deleteAll("\n%BLAH%");
        
        // If the bug is fixed, this assertion will hold true
        assertEquals("\nDo more stuff\neven more stuff\n", sb.toString());
    }

    @Test
    public void testReplaceAll_String_String() {
        StrBuilder sb = new StrBuilder("\n%BLAH%\nDo more stuff\neven more stuff\n%BLAH%\n");
        
        // This line is expected to throw ArrayIndexOutOfBoundsException based on the bug report.
        sb.replaceAll("\n%BLAH%", "");
        
        // If the bug is fixed, this assertion will hold true
        assertEquals("\nDo more stuff\neven more stuff\n", sb.toString());
    }
}
