public void testInvalidJscDeterministicTest() {
    String code = "var t = null;\n"
            + "window.test = function() {\n"
            + "  if (t != null) {\n"
            + "    t = null;\n"
            + "  }\n"
            + "  t = 1;\n"
            + "};";
    
    Compiler compiler = new Compiler();
    CompilerOptions options = new CompilerOptions();
    CompilationLevel.ADVANCED_OPTIMIZATIONS.setOptionsForCompilationLevel(options);
    
    Result result = compiler.compile(SourceFile.fromCode("externs.js", ""), 
                                     SourceFile.fromCode("input.js", code), 
                                     options);
    
    assertTrue("Code should compile without warnings", result.success);
    assertEquals("Expected no warnings", 0, compiler.getWarnings().length);
}