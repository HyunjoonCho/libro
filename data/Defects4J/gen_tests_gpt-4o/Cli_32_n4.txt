public void testStringIndexOutOfBoundsInFindWrapPos() {
    HelpFormatter helpFormatter = new HelpFormatter();
    String text = "This is a sample text that is intended to check the wrapping function.";
    int width = 10;
    int startPos = 5;

    // purposefully crafted to reach the error condition
    // ensure the while loop in findWrapPos gets text.length() potentially leading to exception
    int wrapPos = helpFormatter.findWrapPos(text, width, startPos);
    assertTrue("Wrap position should be within text length", wrapPos <= text.length());
}