
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.select.Elements;
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class JsoupMalformedHtmlTest {

    @Test
    public void testMissingTagEndHandling() {
        String malformedHtml = "<table><tr><td class=\"my-cell\" <div class=\"great-formatting\">100</div></td></tr></table>";

        // Parse the malformed HTML
        Document doc = Jsoup.parse(malformedHtml);

        // Attempt to select elements with the class "great-formatting"
        Elements elements = doc.select("div.great-formatting");

        // Check if the expected element is found
        assertEquals(1, elements.size());
        assertEquals("100", elements.text());
    }
}
