public void testTypeRefiningOfThisIssue() {
    try {
        com.google.javascript.jscomp.Compiler compiler = new com.google.javascript.jscomp.Compiler();
        String code = "goog.isFunction(this);";
        com.google.javascript.jscomp.CompilerOptions options = new com.google.javascript.jscomp.CompilerOptions();
        compiler.compile(com.google.common.collect.ImmutableList.of(), com.google.javascript.jscomp.SourceFile.fromCode("input.js", code), options);
        fail("Expected IllegalArgumentException not thrown");
    } catch (IllegalArgumentException e) {
        assertEquals("Node cannot be refined.", e.getMessage());
    }
}