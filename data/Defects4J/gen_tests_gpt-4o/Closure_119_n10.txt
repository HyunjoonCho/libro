public void testCatchWithUndefinedNameWarning() {
    String code = "try {" +
                  "var x = 5;" +
                  "}" +
                  "catch(e) {" +
                  "var s = 'FAIL' + e.name + ': ' + e.message;" +
                  "}";
                  
    CompilerOptions options = new CompilerOptions();
    CompilationLevel.ADVANCED_OPTIMIZATIONS.setOptionsForCompilationLevel(options);
    
    Compiler compiler = new Compiler();
    compiler.compile(SourceFile.fromCode("externs", ""), SourceFile.fromCode("test", code), options);
    
    List<JSError> warnings = compiler.getWarnings();
    assertTrue("Expected a warning about undefined name 'e'", 
               warnings.stream().anyMatch(warning -> warning.getDescription().contains("e is never defined")));
}