public void testCsvFormatNullStringNotEscaped() throws IOException {
    StringWriter writer = new StringWriter();
    CsvFormat format = CsvFormat.DEFAULT.withNullString("\\N").withEscapeChar('\\');
    CsvPrinter printer = new CsvPrinter(writer, format);

    printer.printRecord("value1", null, "value3");
    printer.close();

    String expected = "value1,\\N,value3" + System.lineSeparator();
    assertEquals(expected, writer.toString());
}