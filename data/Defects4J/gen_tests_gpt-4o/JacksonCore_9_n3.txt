
import com.fasterxml.jackson.core.JsonFactory;
import com.fasterxml.jackson.core.JsonParser;
import com.fasterxml.jackson.core.JsonToken;
import org.junit.Test;

import java.io.IOException;

import static org.junit.Assert.assertEquals;

public class JsonParserTest {

    @Test
    public void testGetValueAsStringWithFieldName() throws IOException {
        String json = "{\"fieldName\":\"value\"}";

        JsonFactory factory = new JsonFactory();
        JsonParser parser = factory.createParser(json);

        // Move to the first token, which should be the start object token
        parser.nextToken();

        // Move to the field name token
        assertEquals(JsonToken.FIELD_NAME, parser.nextToken());
        assertEquals("fieldName", parser.getValueAsString());

        parser.close();
    }
}
