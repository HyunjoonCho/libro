public void testNullHandlingInJXPathContext() {
    Map<String, Integer> map = new HashMap<String, Integer>();
    map.put("a", 1);
    map.put("b", null);
    map.put("c", 1);
    JXPathContext context = JXPathContext.newContext(map);

    assertTrue((Boolean) context.getValue("a != b"), "Expected 'a != b' to be true");
    assertFalse((Boolean) context.getValue("a != c"), "Expected 'a != c' to be false");
    assertFalse((Boolean) context.getValue("a = b"), "Expected 'a = b' to be false");
    assertTrue((Boolean) context.getValue("a = c"), "Expected 'a = c' to be true");
    assertTrue((Boolean) context.getValue("not(a = b)"), "Expected 'not(a = b)' to be true");
    assertFalse((Boolean) context.getValue("not(a = c)"), "Expected 'not(a = c)' to be false");
}