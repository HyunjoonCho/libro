
import org.apache.commons.jxpath.JXPathContext;
import org.junit.Test;
import java.util.HashMap;
import java.util.Map;

import static org.junit.Assert.*;

public class NullHandlingTest {

    @Test
    public void testNullHandlingInJXPath() {
        Map<String, Integer> m = new HashMap<>();
        m.put("a", 1);
        m.put("b", null);
        m.put("c", 1);
        JXPathContext context = JXPathContext.newContext(m);

        assertTrue("Expected 'a != b' to be true", (Boolean) context.getValue("a != b"));
        assertFalse("Expected 'a != c' to be false", (Boolean) context.getValue("a != c"));
        assertFalse("Expected 'a = b' to be false", (Boolean) context.getValue("a = b"));
        assertTrue("Expected 'a = c' to be true", (Boolean) context.getValue("a = c"));
        assertTrue("Expected 'not(a = b)' to be true", (Boolean) context.getValue("not(a = b)"));
        assertFalse("Expected 'not(a = c)' to be false", (Boolean) context.getValue("not(a = c)"));
    }
}
