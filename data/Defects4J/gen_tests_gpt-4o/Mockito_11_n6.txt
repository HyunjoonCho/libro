
import org.mockito.invocation.Invocation;
import org.mockito.verification.VerificationMode;

import java.util.List;

public class FirstInvocation implements VerificationMode {

    @Override
    public void verify(List<Invocation> invocations, InvocationMatcher wanted) {
        if (invocations.isEmpty()) {
            throw new AssertionError("No interactions with the mock.");
        }

        Invocation firstInvocation = invocations.get(0);
        if (!firstInvocation.equals(wanted.getInvocation())) {
            throw new AssertionError("The wanted invocation is not the first invocation.");
        }
    }

    @Override
    public boolean equals(Object obj) {
        return obj instanceof FirstInvocation;
    }

    @Override
    public int hashCode() {
        return 1; // Ensure consistent hash code
    }
}
