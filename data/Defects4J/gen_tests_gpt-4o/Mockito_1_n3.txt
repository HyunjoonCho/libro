public void testArgumentCaptorForVarargs() {
    List<String> mockList = mock(List.class);
    ArgumentCaptor<String> captor = ArgumentCaptor.forClass(String.class);

    // Simulating a varargs method call
    mockList.addAll(Arrays.asList("first", "second", "third"));

    // Capturing the arguments
    verify(mockList).addAll(captor.capture());

    // Check if the arguments captured match the expected values
    List<String> capturedArguments = captor.getAllValues();
    assertEquals(3, capturedArguments.size());
    assertEquals("first", capturedArguments.get(0));
    assertEquals("second", capturedArguments.get(1));
    assertEquals("third", capturedArguments.get(2));
}