public void testW3CDomHelperWithoutNamespaceDeclarations() {
    // Create a simple HTML with a custom tag without namespace declaration
    String html = "<html><head><title>Test</title></head>"
                + "<body><fb:like>Like Button</fb:like></body></html>";
    Document jsoupDoc = Jsoup.parse(html);

    W3CDom w3cDom = new W3CDom();
    try {
        org.w3c.dom.Document domDoc = w3cDom.fromJsoup(jsoupDoc);
        // If conversion did not throw an exception, the test should fail
        fail("Expected NAMESPACE_ERR due to missing namespace declarations.");
    } catch (DOMException e) {
        assertEquals(DOMException.NAMESPACE_ERR, e.code);
    }
}