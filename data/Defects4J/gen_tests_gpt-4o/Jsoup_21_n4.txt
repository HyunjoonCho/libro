
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.select.Elements;
import org.junit.Test;
import static org.junit.Assert.*;

public class SelectorTest {

    @Test
    public void testCommaInRegexSelector() {
        String html = "<div>123,456</div><li>789</li><li>012,345</li>";
        Document doc = Jsoup.parse(html);

        // Attempting to select elements with a regex containing a comma
        // The test checks when matching numbers that contain commas
        try {
            Elements elements = doc.select("div, li:matches([0-9,]+)");
            assertEquals(3, elements.size());
            assertTrue(elements.text().contains("123,456"));
            assertTrue(elements.text().contains("789"));
            assertTrue(elements.text().contains("012,345"));
        } catch (java.util.regex.PatternSyntaxException e) {
            fail("Unexpected PatternSyntaxException due to comma in regex.");
        }
    }
}
