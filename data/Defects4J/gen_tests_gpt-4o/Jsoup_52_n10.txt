
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.parser.Parser;

public class CharsetDetectionTest {

    @org.junit.Test
    public void testXmlEncodingCharsetDetection() {
        try {
            // Test case for bug with XML encoding charset detection
            final Document doc = Jsoup.connect("http://www.elacontecer.com.uy/rss/hoy.xml")
                                      .parser(Parser.xmlParser()).get();
            // Assert that the detected charset is ISO-8859-1
            assertEquals("ISO-8859-1", doc.charset().name());
        } catch (IOException e) {
            e.printStackTrace();
            fail("IOException thrown while fetching the document: " + e.getMessage());
        }
    }
}
