
import org.junit.Test;
import org.mockito.Mockito;

import static org.mockito.Mockito.spy;
import static org.mockito.Mockito.verify;

public class AbstractClassSpyTest {

    // Define an abstract class with an abstract method
    abstract class AbstractClass {
        public abstract void abstractMethod();

        public void callAbstractMethod() {
            abstractMethod();
        }
    }

    // Implement the abstract class
    class ConcreteClass extends AbstractClass {
        @Override
        public void abstractMethod() {
            System.out.println("Abstract method called");
        }
    }

    @Test
    public void testSpyingOnAbstractClass() {
        // Create a spy of the concrete class
        ConcreteClass concreteClass = spy(new ConcreteClass());

        // Call the method that calls the abstract method
        concreteClass.callAbstractMethod();

        // Verify that the abstract method is called
        verify(concreteClass).abstractMethod();
    }
}
