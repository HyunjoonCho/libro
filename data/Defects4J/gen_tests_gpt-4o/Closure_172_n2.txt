public void testTypeInferenceWithPrototypeProperty() {
    // Test for function f
    try {
        Function f = new Function() {
            public void apply(Object a) {
                a.prototype = "__proto";
            }
        };
        f.apply(new Object());
    } catch (Exception e) {
        fail("Function f should not throw an exception: " + e.getMessage());
    }

    // Test for function g
    try {
        Function g = new Function() {
            public void apply(Object a) {
                a.prototype = new Function() {
                    public void exampleMethod() {}
                };
            }
        };
        g.apply(new Object());
    } catch (Exception e) {
        fail("Function g should not throw an exception: " + e.getMessage());
    }
}