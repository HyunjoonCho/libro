public void testPolymorphicTypeLostWithJsonValue() throws IOException {
    ObjectMapper mapper = new ObjectMapper();
    mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);
    mapper.enableDefaultTyping();

    // Serializing the CommandAPDU object
    CommandAPDU commandAPDU = new CommandAPDU(new byte[] { 1, 2, 3, 4 });
    String json = mapper.writeValueAsString(commandAPDU);

    // Deserializing the JSON back to CommandAPDU object
    CommandAPDU deserializedCommandAPDU = mapper.readValue(json, CommandAPDU.class);

    // Ensure the object type is as expected after deserialization
    assertNotNull(deserializedCommandAPDU);
    assertArrayEquals(commandAPDU.getBytes(), deserializedCommandAPDU.getBytes());
}