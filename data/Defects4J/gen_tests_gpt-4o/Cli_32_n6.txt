
import org.apache.commons.cli.HelpFormatter;
import org.junit.Test;
import static org.junit.Assert.*;

public class HelpFormatterTest {

    @Test(expected = StringIndexOutOfBoundsException.class)
    public void testFindWrapPosException() {
        HelpFormatter formatter = new HelpFormatter();
        
        // The text will be short enough to cause the exception when wrapPos is checked
        String text = "This is a test string";
        int width = text.length(); // This sets wrapPos to be exactly the same as the text length
        
        // Find the wrap position, will throw StringIndexOutOfBoundsException
        int wrapPos = formatter.findWrapPos(text, width, 0);
        
        // This is just to ensure the expected exception is thrown
        fail("StringIndexOutOfBoundsException expected but not thrown. Wrap position found: " + wrapPos);
    }
}
