public void testLabeledLoopsAndBreaks() {
    String inputJs = 
        "var i = 0;" +
        "lab1: do{" +
        "  lab2: do{" +
        "    i++;" +
        "    if (1) {" +
        "      break lab2;" +
        "    } else {" +
        "      break lab1;" +
        "    }" +
        "  } while(false);" +
        "} while(false);" +
        "console.log(i);";
    
    CompilerOptions options = new CompilerOptions();
    options.setPrettyPrint(false); // Simulating the conditions of the bug
    CompilationLevel.SIMPLE_OPTIMIZATIONS.setOptionsForCompilationLevel(options);
    
    Compiler compiler = new Compiler();
    compiler.compile(SourceFile.fromCode("externs", ""), 
                     SourceFile.fromCode("input.js", inputJs), options);
    
    String outputJs = compiler.toSource();
    
    assertFalse("Output JS should not have syntax issues", outputJs.contains("do while"));
}