public void testClosureCompiledSwfobjectError() {
    String sourceCode = "function urlEncodeIfNecessary(s) {\n" +
                        " var regex = /[\\\\\"<>\\.;]/;\n" +
                        " var hasBadChars = regex.exec(s) != null;\n" +
                        " return hasBadChars && typeof encodeURIComponent != UNDEF ? encodeURIComponent(s) : s;\n" +
                        "}";
    String expected = "function Z(a){return /[\\\\\"<>\\.;]/.exec(a)!=null&&" +
                      "typeof encodeURIComponent!=j?encodeURIComponent(a):a}";
    String compiledCode = compileWithClosure(sourceCode);
    assertEquals(expected, compiledCode);
}

private String compileWithClosure(String sourceCode) {
    // Simulate the behavior of Closure Compiler and reproduce the error
    // This is just a placeholder and should be replaced with actual compilation logic
    return "function Z(a){return/[\"<>.;]/.exec(a)!=null&&typeof encodeURIComponent!=j?encodeURIComponent(a):a}";
}