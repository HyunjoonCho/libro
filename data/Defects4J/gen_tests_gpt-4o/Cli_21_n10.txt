public void testNegativeNumberArgumentHandling() {
    ArgumentBuilder aBuilder = new ArgumentBuilder();
    OptionBuilder oBuilder = new OptionBuilder();
    GroupBuilder gBuilder = new GroupBuilder();

    Argument numArg = aBuilder.withValidator(NumberValidator.getNumberInstance()).withMinimum(1).withMaximum(1).create();
    Option numOpt = oBuilder.withLongName("num").withArgument(numArg).create();
    Group options = gBuilder.withOption(numOpt).create();

    try {
        Parser parser = new Parser();
        parser.parse(options, new String[] {"--num", "-0.1"});
        fail("Expected an exception to be thrown for a negative number argument");
    } catch (UnexpectedArgumentException e) {
        assertEquals("Unexpected -0.1 while processing --num", e.getMessage());
    }
}