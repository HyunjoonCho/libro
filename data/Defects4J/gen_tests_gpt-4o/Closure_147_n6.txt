public void testGlobalThisWarning() {
    String code = "var NS = { \n" +
                  "    read: function() {\n" +
                  "        return this.foo;\n" +
                  "    },\n" +
                  "    write: function() {\n" +
                  "        this.foo = 123;\n" +
                  "    }\n" +
                  "};\n" +
                  "NS.write2 = function() {\n" +
                  "    this.foo = 123;\n" +
                  "};";
    
    List<String> warnings = MyJavaScriptCompiler.checkForWarnings(code);
    assertTrue(warnings.contains("JSC_USED_GLOBAL_THIS: dangerous use of the global this object"));
}