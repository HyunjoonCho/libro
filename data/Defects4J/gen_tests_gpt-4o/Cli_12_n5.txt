public void testPosixParserTargetOption() {
    Options options = new Options();
    String optionTarget = "t";
    String optionTargetLong = "target";
    Option generateTarget = new Option(optionTarget, optionTargetLong, true, "Generate files for the specified target machine");
    options.addOption(generateTarget);

    CommandLineParser parser = new PosixParser();
    String[] args = {"-target", "foobar.com"};
    
    try {
        CommandLine parsedLine = parser.parse(options, args);
        if (parsedLine.hasOption(optionTarget)) {
            fail("Expected 'arget', but got: " + parsedLine.getOptionValue(optionTarget));
        }
    } catch (ParseException e) {
        fail("Parser failed with exception: " + e.getMessage());
    }
}