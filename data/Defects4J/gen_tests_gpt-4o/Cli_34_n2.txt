
import org.apache.commons.cli.CommandLine;
import org.apache.commons.cli.DefaultParser;
import org.apache.commons.cli.Option;
import org.apache.commons.cli.Options;
import org.apache.commons.cli.ParseException;
import org.junit.Test;
import static org.junit.Assert.*;

public class CommandLineOptionTest {

    @Test
    public void testParsedOptionValueDefaultToString() throws ParseException {
        // Setup an option without explicitly setting the type
        Option option = new Option("t", "test", true, "Test option without explicit type");
        
        // Initialize Options and CommandLine
        Options options = new Options();
        options.addOption(option);

        // Parse the command line
        String[] args = {"-t", "exampleValue"};
        DefaultParser parser = new DefaultParser();
        CommandLine commandLine = parser.parse(options, args);

        // Problem: The expected behavior is for getParsedOptionValue to return the option's value as a String
        // But, as per the bug report, it returns null unless the type is explicitly set
        Object parsedValue = commandLine.getParsedOptionValue("t");

        // Expected the parsed value to be "exampleValue", instead of null
        assertEquals("exampleValue", parsedValue);
    }
}
