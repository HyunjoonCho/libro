public void testObjectIdAndTypeIdWithWrapper() throws Exception {
    ObjectMapper mapper = new ObjectMapper();

    String json = "{\"vehicle\":{\"type\":\"car\",\"id\":1,\"color\":\"red\",\"engine\":{\"type\":\"v6\"}}}";

    Vehicle result = mapper.readValue(json, Vehicle.class);

    assertNotNull(result);
    assertEquals("car", result.getType());
    assertEquals(1, result.getId().intValue());
    assertEquals("red", result.getColor());
    assertEquals("v6", result.getEngine().getType());
}