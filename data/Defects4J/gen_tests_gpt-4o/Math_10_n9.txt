
import org.apache.commons.math3.analysis.differentiation.DerivativeStructure;
import org.junit.Test;
import static org.junit.Assert.*;

public class DerivativeStructureAtan2Test {

    @Test
    public void testAtan2SpecialCases() {
        // Create a DerivativeStructure instance, derivative order doesn't matter for base value tests
        DerivativeStructure yZeroPos = new DerivativeStructure(1, 1, 0, 0.0);
        DerivativeStructure yZeroNeg = new DerivativeStructure(1, 1, 0, -0.0);
        DerivativeStructure xZeroPos = new DerivativeStructure(1, 1, 0, 0.0);
        DerivativeStructure xZeroNeg = new DerivativeStructure(1, 1, 0, -0.0);

        // Test for (0, 0)
        assertEquals(Math.atan2(0.0, 0.0), yZeroPos.atan2(xZeroPos).getValue(), 1e-10);
        assertEquals(Math.atan2(-0.0, 0.0), yZeroNeg.atan2(xZeroPos).getValue(), 1e-10);
        assertEquals(Math.atan2(0.0, -0.0), yZeroPos.atan2(xZeroNeg).getValue(), 1e-10);
        assertEquals(Math.atan2(-0.0, -0.0), yZeroNeg.atan2(xZeroNeg).getValue(), 1e-10);
    }
}
