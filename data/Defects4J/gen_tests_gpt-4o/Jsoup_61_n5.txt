
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.junit.Test;

import static org.junit.Assert.assertNotNull;
import static org.junit.Assert.assertNull;

public class JsoupCaseSensitivityTest {

    @Test
    public void testCaseSensitivityInClassSelector() {
        final String htmlStr = "<!DOCTYPE HTML PUBLIC '-//W3C//DTD HTML 4.01 Transitional//EN' 'http://www.w3.org/TR/html4/loose.dtd'>\n"
                + "<HTML>\n"
                + " <HEAD>\n"
                + " <FORM Method='POST' name='Form' Action='Action'>\n"
                + " <TABLE Class='Lst'>\n"
                + " <TR Class='Lst'>\n"
                + " <TH Class='Lst'>Header 1</TH>\n"
                + " <TH Class='Lst'>Header 2</TH>\n"
                + " <TH Class='Lst'>Header 3</TH>\n"
                + " </TR>\n"
                + " <TR Class='Lst1'>\n"
                + " <TD Class='Lst'>Cell 1</TD>\n"
                + " <TD Class='Lst'>Cell 2</TD>\n"
                + " <TD Class='Lst'>Cell 3</TD>\n"
                + " </TR>\n"
                + " </TABLE>\n"
                + " </FORM>\n"
                + " </BODY>\n"
                + "</HTML>";

        final Document htmlDoc = Jsoup.parse(htmlStr, "");

        // Selector that does not work due to case sensitivity
        final Element tableNotOk = htmlDoc.select("html > body > form table.Lst").first();
        // Selector that works
        final Element tableOk = htmlDoc.select("html > body > form table[class=Lst]").first();

        // Expecting tableNotOk to be null due to case sensitivity in CSS selector
        assertNull(tableNotOk);
        // Expecting tableOk to be found
        assertNotNull(tableOk);

        // Log the results (this is usually unnecessary in a test but included for demonstration)
        System.out.println("tableNotOk found: " + (tableNotOk != null));
        System.out.println("tableOk found: " + (tableOk != null));
    }
}
