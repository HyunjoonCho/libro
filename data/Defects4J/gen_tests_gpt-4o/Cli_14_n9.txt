public void testFileValidatorClassCastException() {
    DefaultOptionBuilder obuilder = new DefaultOptionBuilder();
    ArgumentBuilder abuilder = new ArgumentBuilder();
    GroupBuilder gbuilder = new GroupBuilder();

    DefaultOption fileNameOption = obuilder
        .withShortName("f")
        .withLongName("file-name")
        .withRequired(true)
        .withDescription("name of an existing file")
        .withArgument(abuilder
            .withName("file-name")
            .withValidator(FileValidator.getExistingFileInstance())
            .create())
        .create();

    Group options = gbuilder
        .withName("options")
        .withOption(fileNameOption)
        .create();

    Parser parser = new Parser();
    parser.setHelpTrigger("--help");
    parser.setGroup(options);

    String existingFilePath = new File("path-to-an-existing-file").getAbsolutePath();
    String[] args = {"--file-name", existingFilePath};

    try {
        CommandLine cl = parser.parseAndHelp(args);
        fail("Expected ClassCastException to be thrown");
    } catch (ClassCastException e) {
        // Expected exception
        assertEquals("java.io.File cannot be cast to java.lang.String", e.getMessage());
    }
}