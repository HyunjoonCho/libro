public void testArrayIndexOutOfBoundsOnBase64InputStream() throws IOException {
    byte[] largeByteArray = new byte[10921];
    Base64InputStream b64stream = new Base64InputStream(new ByteArrayInputStream(largeByteArray), true, 0, null);
    int readCounter = 0;
    
    try {
        while (b64stream.read() != -1) {
            readCounter++;
        }
    } catch (ArrayIndexOutOfBoundsException e) {
        assertEquals(10920, readCounter);
        throw e;
    }
}