
import org.apache.commons.math3.stat.inference.MannWhitneyUTest;
import org.junit.Test;
import static org.junit.Assert.*;

public class MannWhitneyUTestOverflowTest {

    @Test
    public void testMannWhitneyUOverflow() {
        // Create large data sets to trigger overflow
        double[] sample1 = new double[1500];
        double[] sample2 = new double[1500];
        
        // Initialize the data sets with arbitrary large values to increase the risk of integer overflow
        for (int i = 0; i < 1500; i++) {
            sample1[i] = i * 1.0;
            sample2[i] = (i + 1000) * 1.0;
        }
        
        // Perform Mann-Whitney U Test
        MannWhitneyUTest mannWhitneyUTest = new MannWhitneyUTest();
        double pValue = mannWhitneyUTest.mannWhitneyUTest(sample1, sample2);

        // Check that the result is a valid p-value (0 <= p-value <= 1)
        assertTrue("The p-value should not be NaN", !Double.isNaN(pValue));
        assertTrue("The p-value should be between 0 and 1", pValue >= 0.0 && pValue <= 1.0);
    }
}
