
import org.apache.commons.csv.CSVFormat;
import org.apache.commons.csv.CSVPrinter;
import org.junit.Test;

import java.io.IOException;
import java.io.StringWriter;

public class CSVFormatTest {

    @Test(expected = IllegalArgumentException.class)
    public void testHeaderArrayWithDuplicateEntries() throws IOException {
        String[] header = {"name", "age", "name"}; // Duplicate "name"
        CSVFormat format = CSVFormat.DEFAULT.withHeader(header);

        // Should throw an IllegalArgumentException due to duplicate header entries
        StringWriter out = new StringWriter();
        CSVPrinter printer = new CSVPrinter(out, format);
    }
}
