
import org.junit.Test;
import org.mockito.Mockito;
import org.mockito.stubbing.Answer;

import static org.mockito.Mockito.*;

public class ClassCastExceptionTest {

    public interface SampleService {
        String getResponse();
    }

    @Test(expected = ClassCastException.class)
    public void testClassCastExceptionOnVerifyZeroInteractions() {
        Answer<Object> defaultAnswer = invocation -> {
            if (invocation.getMethod().getReturnType() == String.class) {
                return "default";
            }
            return RETURNS_DEFAULTS.answer(invocation);
        };

        SampleService mockService = mock(SampleService.class, defaultAnswer);

        // Interacting with the mock
        mockService.getResponse();

        // This should trigger the ClassCastException
        verifyZeroInteractions(mockService);
    }
}
