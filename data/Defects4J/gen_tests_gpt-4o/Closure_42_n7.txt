
import org.junit.Test;
import static org.junit.Assert.*;

public class WhitespaceCompressionTest {

    // Dummy JavaScript compression function to simulate the behavior.
    // Replace this with the actual function you are testing.
    private String compressJavaScript(String code) {
        // Simulated compression logic
        return code.replace("for each", "for");
    }

    @Test
    public void testWhitespaceCompressionPreservesEachKeyword() {
        String originalCode = "contactcenter.screenpop.updatePopStatus = function(stamp, status) {" +
                              "for each ( var curTiming in this.timeLog.timings ) {" +
                              "if ( curTiming.callId == stamp ) {" +
                              "curTiming.flag = status;" +
                              "break;" +
                              "}" +
                              "}" +
                              "};";

        String compressedCode = compressJavaScript(originalCode);

        String expectedCompressedCode = "contactcenter.screenpop.updatePopStatus=function(stamp,status){" +
                                        "for each(var curTiming in this.timeLog.timings){" +
                                        "if(curTiming.callId==stamp){curTiming.flag=status;break}" +
                                        "}};";

        assertEquals(expectedCompressedCode, compressedCode);
    }
}
