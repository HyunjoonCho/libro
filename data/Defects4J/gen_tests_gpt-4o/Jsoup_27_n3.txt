
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.junit.Test;

import java.nio.charset.UnsupportedCharsetException;

import static org.junit.Assert.*;

public class InvalidCharsetTest {

    @Test
    public void testInvalidCharsetHandling() {
        // Simulate a HTTP response with an invalid charset header
        String htmlContent = "<html><head><meta charset=\"UFT8\"></head><body>This is a test</body></html>";

        try {
            Document doc = Jsoup.parse(htmlContent, "http://example.com/");
            // If parsing is successful, ensure that the content is not null and contains expected text
            assertNotNull(doc);
            assertTrue(doc.body().text().contains("This is a test"));
        } catch (UnsupportedCharsetException e) {
            fail("UnsupportedCharsetException should not be thrown");
        }
        
    }
}
