public void testHelpFormatterSetArgName() {
    Options options = new Options();
    OptionBuilder.withArgName("customArg");
    OptionBuilder.hasArgs(1);
    Option opt = OptionBuilder.create("test");
    options.addOption(opt);

    HelpFormatter formatter = new HelpFormatter();
    formatter.setArgName("actualArgName");

    StringWriter out = new StringWriter();
    PrintWriter pw = new PrintWriter(out);
    formatter.printHelp(pw, 80, "command", "header", options, 2, 2, "footer");

    String helpOutput = out.toString();
    assertTrue("ArgName was not set correctly in the output", helpOutput.contains("actualArgName"));
}