
import org.apache.commons.cli.*;

import org.junit.jupiter.api.Test;
import static org.junit.jupiter.api.Assertions.assertTrue;

public class HelpFormatterTest {

    @Test
    public void testSetArgNameHasNoEffect() {
        // Create an option with an argument
        Option option = Option.builder("t")
                .hasArg()
                .desc("test option")
                .build();

        // Create an options instance and add the option
        Options options = new Options();
        options.addOption(option);

        // Create a HelpFormatter instance
        HelpFormatter formatter = new HelpFormatter();

        // Set custom argument name
        formatter.setArgName("customArgName");

        // Capture the output of the formatter
        StringBuilder out = new StringBuilder();
        formatter.printHelp(new java.io.PrintWriter(out), 80, "test", null, options, 2, 2, null, true);

        // Verify that the default 'arg' is printed despite setting a custom arg name
        assertTrue(out.toString().contains("arg"), "Expected 'arg' to be in the output, indicating the default argument name was used.");
    }
}
