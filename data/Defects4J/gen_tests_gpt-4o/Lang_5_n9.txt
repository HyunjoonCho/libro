
import java.util.Locale;
import org.apache.commons.lang3.LocaleUtils;
import org.junit.Test;
import static org.junit.Assert.*;

public class LocaleUtilsTest {

    @Test
    public void testToLocaleWithLeadingUnderscore() {
        // Test with string that starts with an underscore indicating missing language
        Locale locale = LocaleUtils.toLocale("_FR");
        assertEquals("", locale.getLanguage());
        assertEquals("FR", locale.getCountry());

        // Test with string "fr__P" that should be recognized as 
        // language: "fr", country: "", variant: "P"
        locale = LocaleUtils.toLocale("fr__P");
        assertEquals("fr", locale.getLanguage());
        assertEquals("", locale.getCountry());
        assertEquals("P", locale.getVariant());
    }
}
