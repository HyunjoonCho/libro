
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.junit.Assert;
import org.junit.Test;

public class TableRowAppendTest {

    @Test
    public void testAppendTableRow() {
        // Initial HTML with an existing table
        String initialHtml = "<html><body><table id='myTable'><tr><td>Existing Row</td></tr></table></body></html>";
        
        // Parse the HTML
        Document doc = Jsoup.parse(initialHtml);
        
        // Select the existing table element
        Element table = doc.selectFirst("#myTable");
        
        // Append a new table row element to the existing table
        table.append("<tr><td>New Row</td></tr>");
        
        // Verify the structure
        int rowCount = table.select("tr").size();
        
        // Ensure the new row was added to the existing table
        Assert.assertEquals("The new row should be appended to the existing table", 2, rowCount);
        
        // Verify the new row is not wrapped in its own table
        String tableHtml = table.outerHtml();
        Assert.assertTrue("The new row should not be wrapped in a new table", 
            !tableHtml.trim().equals("<table><tr><td>New Row</td></tr></table>")
        );
    }
}
