public void testJscompFlagPrecedence() {
    CompilerOptions options = new CompilerOptions();
    
    // Applying precedence: error -> warning -> off
    List<String> compilerFlags = Arrays.asList("--jscomp_error", "checkVars", "--jscomp_warning", "checkVars", "--jscomp_off", "checkVars");
      
    Compiler.setCommandLineOptions(options, compilerFlags.toArray(new String[0]));
    assertEquals(DiagnosticGroups.getDefaultSuppressionLevel(DiagnosticGroups.CHECK_VARIABLES, options), CheckLevel.OFF);

    // Flip order for precedence: off -> warning -> error
    compilerFlags = Arrays.asList("--jscomp_off", "checkVars", "--jscomp_warning", "checkVars", "--jscomp_error", "checkVars");
       
    Compiler.setCommandLineOptions(options, compilerFlags.toArray(new String[0]));
    assertEquals(DiagnosticGroups.getDefaultSuppressionLevel(DiagnosticGroups.CHECK_VARIABLES, options), CheckLevel.ERROR);
}