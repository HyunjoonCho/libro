public void testDeleteKeyOrder() {
    Map<String, String> customData = new HashMap<>();
    customData.put("key", "value");

    class TestClass {
        String testRemoveKey(String key) {
            Map<String, String> dataSlot = customData;
            String retval = dataSlot != null ? dataSlot.get(key) : null;
            boolean hadKey = dataSlot != null && dataSlot.containsKey(key);

            if (dataSlot != null) {
                dataSlot.remove(key);
            }

            return hadKey ? retval : null;
        }
    }

    TestClass testInstance = new TestClass();
    assertEquals("value", testInstance.testRemoveKey("key"));
    assertFalse(customData.containsKey("key"));
}