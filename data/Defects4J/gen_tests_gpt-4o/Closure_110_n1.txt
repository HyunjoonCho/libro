public void testPrivateTopLevelFunctionInGoogScope() {
    CompilerOptions options = new CompilerOptions();
    options.setWarningLevel(DiagnosticGroup.forType(DiagnosticType.WARNING), CheckLevel.WARNING);

    String code = "goog.scope(function() { /* @private */ function test() {} });";
    Result result = compile(code, options);

    assertFalse("Expected no errors or warnings.", result.hasErrors() || result.hasWarnings());
}