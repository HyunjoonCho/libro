public void testWhitespaceOnlyCompressionRemovesEachKeyword() {
    String input = "contactcenter.screenpop.updatePopStatus = function(stamp, status) {" +
                   "for each ( var curTiming in this.timeLog.timings ) {" +
                   "if ( curTiming.callId == stamp ) {" +
                   "curTiming.flag = status;" +
                   "break;" +
                   "}" +
                   "}" +
                   "};";
    String expectedOutput = "contactcenter.screenpop.updatePopStatus=function(stamp,status){for each(var curTiming in this.timeLog.timings)if(curTiming.callId==stamp){curTiming.flag=status;break}};";

    String compressedOutput = compressJavaScript(input);

    assertEquals(expectedOutput, compressedOutput);
}

private String compressJavaScript(String input) {
    // Placeholder for the actual compression logic
    // This would be replaced by the real compression method in the test environment
    return input.replaceAll("\\s+", "")
                .replace("foreach(", "for each("); // Correct towards expected output
}