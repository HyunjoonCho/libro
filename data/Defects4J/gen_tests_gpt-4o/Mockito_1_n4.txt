public void testArgumentCaptorVarargsIssue() {
    // Setup
    List<String> mockedList = mock(List.class);
    ArgumentCaptor<String> captor = ArgumentCaptor.forClass(String.class);

    // Action
    mockedList.addAll(Arrays.asList("one", "two", "three"));

    // Verify
    verify(mockedList).addAll(captor.capture());
    List<String> capturedArguments = captor.getAllValues();

    // Asserts
    assertEquals("one", capturedArguments.get(0));
    assertEquals("two", capturedArguments.get(1));
    assertEquals("three", capturedArguments.get(2));
}