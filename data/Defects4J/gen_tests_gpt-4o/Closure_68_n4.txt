
import com.google.javascript.jscomp.*;
import com.google.javascript.rhino.Node;
import org.junit.Test;
import static org.junit.Assert.*;

public class InvalidTypeAnnotationTest {

    @Test
    public void testInvalidTypeAnnotationWarning() {
        String jsCode = "/**\n" +
                        " * @type function\n" +
                        " */\n" +
                        "var callback;";
        
        Compiler compiler = new Compiler();
        CompilerOptions options = new CompilerOptions();
        options.setWarningLevel(DiagnosticGroups.ALL, CheckLevel.WARNING);
        compiler.initOptions(options);

        JsAst ast = new JsAst(SourceFile.fromCode("test.js", jsCode));
        
        // Compile JSSourceFile into AST
        Node root = compiler.parse(ast);
        
        // Verify the error message
        JSError[] warnings = compiler.getWarnings();
        assertEquals(1, warnings.length);
        assertTrue(warnings[0].getDescription().contains("expected '('"));
    }
}
