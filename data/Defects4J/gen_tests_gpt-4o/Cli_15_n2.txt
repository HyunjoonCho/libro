public void testSingleOptionWithDefaults() throws Exception {
    String defaultValue1 = "100";
    String defaultValue2 = "1000";

    final DefaultOptionBuilder obuilder = new DefaultOptionBuilder();
    final ArgumentBuilder abuilder = new ArgumentBuilder();
    final GroupBuilder gbuilder = new GroupBuilder();

    DefaultOption bOption = obuilder.withShortName("b")
            .withLongName("b")
            .withArgument(abuilder.withName("b")
                .withMinimum(0)
                .withMaximum(2)
                .withDefault(defaultValue1)
                .withDefault(defaultValue2)
                .create())
            .create();

    Group options = gbuilder
            .withName("options")
            .withOption(bOption)
            .create();

    Parser parser = new Parser();
    parser.setHelpTrigger("--help");
    parser.setGroup(options);

    // Case with a single argument, expecting it to pick the first argument and the second default
    String enteredValue1 = "1";
    String[] args = new String[]{"-b", enteredValue1};

    CommandLine cl = parser.parse(args);
    CommandLine cmd = cl;

    assertNotNull(cmd);

    List<?> b = cmd.getValues("-b");
    // Check that the single entered value and one default are considered
    assertEquals("[" + enteredValue1 + ", " + defaultValue2 + "]", b.toString());
}