
import org.joda.time.Period;
import org.joda.time.format.PeriodFormatter;
import org.joda.time.format.PeriodFormatterBuilder;
import org.joda.time.format.ISOPeriodFormat;
import static org.junit.Assert.assertEquals;

public class PeriodFormatterTest {

    @org.junit.Test
    public void testIssue64() {
        // Create a period of 1 year, 2 months, 3 weeks, 4 days,
        // 5 hours, 6 minutes, and 7 seconds
        Period period = new Period()
                .withYears(1)
                .withMonths(2)
                .withWeeks(3)
                .withDays(4)
                .withHours(5)
                .withMinutes(6)
                .withSeconds(7);

        // Formatter using PeriodFormatterBuilder
        PeriodFormatter pfmtbuilder1 = new PeriodFormatterBuilder()
                .appendLiteral("P")
                .appendYears().appendSuffix("Y")
                .appendMonths().appendSuffix("M")
                .appendWeeks().appendSuffix("W")
                .appendDays().appendSuffix("D")
                .appendSeparatorIfFieldsAfter("T")
                .appendHours().appendSuffix("H")
                .appendMinutes().appendSuffix("M")
                .appendSecondsWithOptionalMillis().appendSuffix("S")
                .toFormatter();

        // Formatter using ISOPeriodFormat.standard()
        PeriodFormatter pfmt2 = new PeriodFormatterBuilder()
                .append(ISOPeriodFormat.standard())
                .toFormatter();

        // Format the period using both formatters and compare results
        String formattedWithBuilder = pfmtbuilder1.print(period);
        String formattedWithISOPeriod = pfmt2.print(period);

        assertEquals("Period formatting using custom builder should match ISO standard format",
                formattedWithBuilder, formattedWithISOPeriod);
    }
}
