public void testCpioUnexpectedEOF() throws IOException {
    File input = new File("cmdcreated.cpio"); // Ensure this file is in your test resources
    InputStream in = new FileInputStream(input);
    CpioArchiveInputStream cin = new CpioArchiveInputStream(in);

    try {
        CpioArchiveEntry entry = cin.getNextCPIOEntry();
        assertNotNull("EOFException was thrown before reading any entries", entry);

        if (entry != null) {
            File target = new File("output_directory", entry.getName()); // Replace "output_directory" with your temp directory
            OutputStream out = new FileOutputStream(target);
            IOUtils.copy(cin, out); // Should copy from 'cin' instead of 'in' for the actual entry data
            out.close();
        }
    } catch (EOFException e) {
        fail("Unexpected EOFException: " + e.getMessage());
    } finally {
        cin.close();
    }
}