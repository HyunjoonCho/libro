public void testSwitchedOrderDeleteKeyAndInStatements() {
    Map<String, String> customData = new HashMap<>();
    customData.put("key", "value");

    Function<String, String> testRemoveKey = (key) -> {
        Map<String, String> dataSlot = customData;
        String retval = dataSlot != null ? dataSlot.get(key) : null;
        boolean hadKey = dataSlot != null && dataSlot.containsKey(key);

        if (dataSlot != null) {
            dataSlot.remove(key);
        }

        return hadKey ? retval : null;
    };

    assertEquals("value", testRemoveKey.apply("key")); // Expecting "value"
    assertFalse(customData.containsKey("key")); // Expecting false
}