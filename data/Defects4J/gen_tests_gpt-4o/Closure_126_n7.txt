
import org.mozilla.javascript.*;

public class BreakInFinallyTest {

    public static void main(String[] args) {
        // Create a new Rhino JavaScript context
        Context context = Context.enter();
        
        try {
            // Initialize a standard JavaScript environment
            Scriptable scope = context.initStandardObjects();

            // Define a script to execute which contains the try-finally with a break
            String script = "" +
                "var output = ''; " +
                "b: try { " +
                "  throw 'throw me'; " +
                "} finally { " +
                "  /* fake catcher */ ; " +
                "  break b; " +
                "} " +
                "output = 'ok then...';" +
                "output;";
            
            // Execute the script
            Object result = context.evaluateString(scope, script, "TestScript", 1, null);

            // Retrieve the result from the JavaScript execution
            String resultStr = Context.toString(result);
            
            // Assert the result to check if the output is as expected
            if ("ok then...".equals(resultStr)) {
                System.out.println("Test passed: " + resultStr);
            } else {
                System.out.println("Test failed: " + resultStr);
            }
            
        } finally {
            Context.exit(); // Exit the context
        }
    }
}
