public void testIllegalArgumentExceptionReadingCpio() throws Exception {
    File cpioFile = new File("path/to/test.cpio");
    assertThrows(IllegalArgumentException.class, () -> {
        try (InputStream in = new FileInputStream(cpioFile)) {
            ArchiveInputStream cpio = new ArchiveStreamFactory().createArchiveInputStream("cpio", in);
            while (cpio.getNextEntry() != null) {
                // Reading entries
            }
        }
    });
}