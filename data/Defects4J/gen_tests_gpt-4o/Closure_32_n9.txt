
import static org.junit.Assert.assertEquals;
import org.junit.Test;

public class WhitespacePreserveTest {

    @Test
    public void testPreserveLeadingWhitespace() {
        // Example comment block with leading whitespace
        String comment = "/**\n" +
                         " * @preserve\n" +
                         "\n" +
                         " This\n" +
                         "  was\n" +
                         "   ASCII\n" +
                         "    Art\n" +
                         "\n" +
                         "*/";

        // Method that is supposed to preserve formatting
        String preserved = preserveWhitespace(comment);

        // Expected output with preserved whitespace
        String expected = "/*\n" +
                          " This\n" +
                          "  was\n" +
                          "   ASCII\n" +
                          "    Art\n" +
                          "*/";

        // Check that the preserved output matches expected output
        assertEquals(expected, preserved);
    }

    /**
     * Mock method to represent the whitespace preservation functionality
     */
    private String preserveWhitespace(String comment) {
        // Simulated faulty preservation logic that discards leading spaces
        return comment.replace("/**", "/*").replace("*/", "*/").replace("*", "").strip();
    }
}
