
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.junit.Test;

import static org.junit.Assert.assertNotNull;

public class JsoupDeepNestingTest {

    @Test
    public void testDeeplyNestedHtmlParsingPerformance() {
        // Create a deeply nested HTML structure
        StringBuilder html = new StringBuilder("<div>");
        int depth = 1000; // Depth of nesting for this test
        for (int i = 0; i < depth; i++) {
            html.append("<div>");
        }
        for (int i = 0; i < depth; i++) {
            html.append("</div>");
        }

        html.append("</div>");

        // Parse the deeply nested HTML
        long startTime = System.currentTimeMillis();
        Document doc = Jsoup.parse(html.toString());
        long elapsedTime = System.currentTimeMillis() - startTime;

        // Validate and print results
        assertNotNull(doc);
        System.out.println("Elapsed time for parsing deeply nested HTML: " + elapsedTime + "ms");
    }
}
