public void testWriteStringWhenFieldNameExpected() {
    JsonFactory jsonFactory = new JsonFactory();
    try (JsonGenerator jsonGenerator = jsonFactory.createGenerator(new StringWriter())) {
        jsonGenerator.writeStartObject();
        try {
            jsonGenerator.writeString("value");
            fail("Expected IllegalStateException due to writeString() called before writeFieldName()");
        } catch (IllegalStateException e) {
            // expected exception
        }
        jsonGenerator.writeEndObject();
    } catch (IOException e) {
        fail("IOException was not expected during test execution.");
    }
}