
import com.fasterxml.jackson.core.type.TypeReference;
import com.fasterxml.jackson.databind.ObjectMapper;
import org.junit.Test;

import java.util.Map;

import static org.junit.Assert.assertEquals;

public class CharSequenceKeyDeserializerTest {

    @Test
    public void testCharSequenceKeyDeserialization() throws Exception {
        ObjectMapper objectMapper = new ObjectMapper();
        String json = "{\"key1\":\"value1\", \"key2\":\"value2\"}";

        // Attempting to deserialize the JSON object into a Map with CharSequence keys
        Map<CharSequence, String> map = objectMapper.readValue(json,
                new TypeReference<Map<CharSequence, String>>() {});

        // The test should verify that the contents of the map match the expected values
        assertEquals(2, map.size());
        assertEquals("value1", map.get("key1"));
        assertEquals("value2", map.get("key2"));
    }
}
