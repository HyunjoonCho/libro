public void testVarianceEvaluateWithWeightsAndLength() {
    double[] values = {2.0, 2.0, 2.0, 2.0, 8.0};
    double[] weights = {1.0, 1.0, 1.0, 1.0, 1.0}; 
    int begin = 0;
    int length = 4; 
    double mean = 2.0;
    
    Variance variance = new Variance();
    double result = variance.evaluate(values, weights, mean, begin, length);
    
    // Asserting that it calculates variance based only on the first 4 elements
    // The expected variance for the first four numbers (all 2s) should be 0
    assertEquals(0.0, result, 1e-9);
}