
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.junit.Assert;
import org.junit.Test;

public class JsoupTitleTest {

    @Test
    public void testTitleFormatting() throws Exception {
        // Sample URI where the issue was observed
        String uri = "http://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/nimbus.html";
        
        // Fetch the document using Jsoup
        Document doc = Jsoup.connect(uri).get();
        
        // Get the title from the document
        String originalTitle = doc.title();
        
        // Expected title after removing redundant spaces and newlines
        String expectedTitle = "Nimbus Look and Feel (The Javaâ„¢ Tutorials > Creating a GUI With JFC/Swing > Modifying the Look and Feel)";

        // Normalize the original title by removing newlines and redundant spaces
        String normalizedTitle = originalTitle.replaceAll("\\s+", " ").trim();

        // Assert that the normalized title matches the expected title
        Assert.assertEquals(expectedTitle, normalizedTitle);

        // Optionally, print the titles to see the difference
        System.out.println("Original Title: " + originalTitle);
        System.out.println("Normalized Title: " + normalizedTitle);
    }
}
