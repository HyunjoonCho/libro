
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class InlineIfOptimizationTest {

    // Helper methods to track which branch is executed
    private String a() {
        return "a() executed";
    }

    private String b() {
        return "b() executed";
    }

    @Test
    public void testTrueEqualsNull() {
        String result = (true == null ? a() : b());
        assertEquals("b() executed", result);
    }

    @Test
    public void testTrueEqualsFalse() {
        String result = (true == false ? a() : b());
        assertEquals("b() executed", result);
    }

    @Test
    public void testSumFunctionWithTrue() {
        int sum = sum(true, 1);
        assertEquals(3, sum);
    }

    private int sum(boolean a, int b) {
        return (a == true ? 2 : (a ? 1 : 0)) + b;
    }
}
