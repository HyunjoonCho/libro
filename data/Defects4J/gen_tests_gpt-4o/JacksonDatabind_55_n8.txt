
import com.fasterxml.jackson.annotation.JsonProperty;
import com.fasterxml.jackson.core.JsonProcessingException;
import com.fasterxml.jackson.databind.ObjectMapper;
import org.junit.Test;

import java.util.EnumMap;

import static org.junit.Assert.assertEquals;

public class EnumMapJsonPropertyTest {

    enum Status {
        @JsonProperty("active_status")
        ACTIVE,
        
        @JsonProperty("inactive_status")
        INACTIVE
    }

    @Test
    public void testEnumMapSerialization() throws JsonProcessingException {
        EnumMap<Status, String> statusMap = new EnumMap<>(Status.class);
        statusMap.put(Status.ACTIVE, "This is active");
        statusMap.put(Status.INACTIVE, "This is inactive");

        ObjectMapper objectMapper = new ObjectMapper();
        String jsonResult = objectMapper.writeValueAsString(statusMap);

        // Expected JSON should use @JsonProperty values
        String expectedJson = "{\"active_status\":\"This is active\",\"inactive_status\":\"This is inactive\"}";
        
        // The assertion will fail if the @JsonProperty names are not used for keys
        assertEquals(expectedJson, jsonResult);
    }
}
