public void testFastDateFormatLocaleChange() {
    // Store the default locale
    Locale defaultLocale = Locale.getDefault();

    try {
        // Set the locale to US
        Locale.setDefault(Locale.US);
        
        // Obtain a FastDateFormat instance with a default locale
        FastDateFormat dateFormatUS = FastDateFormat.getDateInstance(FastDateFormat.SHORT);

        // Change the default locale to France
        Locale.setDefault(Locale.FRANCE);

        // Obtain another FastDateFormat instance, should ideally reflect FR locale
        FastDateFormat dateFormatFR = FastDateFormat.getDateInstance(FastDateFormat.SHORT);

        // If the implementation is correct, these should be different due to locale change
        assertNotEquals(dateFormatUS.format(new Date()), dateFormatFR.format(new Date()));
    } finally {
        // Restore the default locale
        Locale.setDefault(defaultLocale);
    }
}