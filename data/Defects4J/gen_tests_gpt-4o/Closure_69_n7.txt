script
// Mock implementation to simulate goog.graphics.Path class
function Path() {
  this.currentPosition = { x: 0, y: 0 };
}

Path.prototype.moveTo = function(x, y) {
  this.currentPosition.x = x;
  this.currentPosition.y = y;
  console.log("Moved to (" + x + ", " + y + ")");
};

Path.prototype.lineTo = function(x, y) {
  this.currentPosition.x = x;
  this.currentPosition.y = y;
  console.log("Line to (" + x + ", " + y + ")");
};

function demo() {
  var path = new Path();
  var points = [[1, 1], [2, 2]];

  for (var i = 0; i < points.length; i++) {
    // This is the problematic line where the context ('this') is lost
    // The function reference does not maintain the binding to the 'path' instance
    (i == 0 ? path.moveTo : path.lineTo)(points[i][0], points[i][1]);
  }
}

demo();

/**
 * Expected output:
 * "Moved to (1, 1)"
 * "Line to (2, 2)"
 *
 * Actual (incorrect) behavior if not handled:
 * Error due to 'this' not being bound correctly in function
 * calls when used in the ternary operation.
 */
