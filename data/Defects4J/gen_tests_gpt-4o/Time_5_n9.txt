
import org.joda.time.DateTime;
import org.joda.time.DurationFieldType;
import org.joda.time.Period;
import org.joda.time.PeriodType;
import org.junit.Test;

public class PeriodTypeTest {

    @Test(expected = UnsupportedOperationException.class)
    public void testPeriodTypeWithoutYearThrowsException() {
        DateTime startDate = new DateTime(2023, 1, 1, 0, 0);
        DateTime endDate = new DateTime(2023, 3, 1, 0, 0);

        PeriodType customPeriodType = PeriodType.forFields(
                new DurationFieldType[]{DurationFieldType.months(), DurationFieldType.weeks()}
        );

        // This should throw UnsupportedOperationException
        Period p = new Period(startDate, endDate, customPeriodType).normalizedStandard(customPeriodType);
        p.getMonths();
    }
}
