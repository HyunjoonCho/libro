public void testLongDirectoryNameInTarArchive() throws IOException {
    File tempFile = File.createTempFile("test", ".tar");
    tempFile.deleteOnExit();
    
    try (TarArchiveOutputStream tarOutput = new TarArchiveOutputStream(new FileOutputStream(tempFile))) {
        String longDirName = "a".repeat(101);
        TarArchiveEntry entry = new TarArchiveEntry(longDirName + "/");
        tarOutput.putArchiveEntry(entry);
        tarOutput.closeArchiveEntry();
    } catch (IOException e) {
        fail("IOException thrown when adding a directory with a long name: " + e.getMessage());
    }
    
    // Clean up
    tempFile.delete();
}