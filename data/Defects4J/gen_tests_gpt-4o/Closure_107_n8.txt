public void testVariableNamePrefixWithMsg() {
    String jsCode = "var MSG_foo='bar';";
    Compiler compiler = new Compiler();
    CompilerOptions options = new CompilerOptions();
    CompilationLevel.ADVANCED_OPTIMIZATIONS.setOptionsForCompilationLevel(options);
    Result result = compiler.compile(SourceFile.fromCode("externs.js", ""), SourceFile.fromCode("test.js", jsCode), options);
    assertFalse(result.success);
    assertTrue(result.errors.length > 0);
    assertEquals("message not initialized using goog.getMsg", result.errors[0].description);
}