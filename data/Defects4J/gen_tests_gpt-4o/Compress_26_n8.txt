public void testIOUtilsSkipWithCipherInputStream() throws Exception {
    byte[] data = new byte[1024];
    for (int i = 0; i < data.length; i++) {
        data[i] = (byte) i;
    }
    
    ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(data);
    
    SecretKeySpec key = new SecretKeySpec("1234567812345678".getBytes(), "AES");
    Cipher cipher = Cipher.getInstance("AES");
    cipher.init(Cipher.ENCRYPT_MODE, key);
    
    CipherInputStream cipherInputStream = new CipherInputStream(byteArrayInputStream, cipher);
    
    // Trying to skip more bytes than the internal buffer for CipherInputStream
    long bytesToSkip = 50;
    long skippedBytes = IOUtils.skip(cipherInputStream, bytesToSkip);
    
    assertEquals(bytesToSkip, skippedBytes);
}