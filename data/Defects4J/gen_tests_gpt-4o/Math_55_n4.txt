
import static org.junit.jupiter.api.Assertions.assertEquals;

import org.apache.commons.math3.geometry.euclidean.threed.Vector3D;
import org.junit.jupiter.api.Test;

public class Vector3DTest {

    @Test
    public void testCrossProductCancellation() {
        // Initialize vectors that are nearly colinear
        Vector3D v1 = new Vector3D(9070467121.0, 4535233560.0, 1);
        Vector3D v2 = new Vector3D(9070467123.0, 4535233561.0, 1);

        // Compute the cross product
        Vector3D crossProduct = Vector3D.crossProduct(v1, v2);

        // Check that the cross product is as expected
        assertEquals(-1.0, crossProduct.getX(), 1e-10);
        assertEquals(2.0, crossProduct.getY(), 1e-10);
        assertEquals(1.0, crossProduct.getZ(), 1e-10);
    }
}
