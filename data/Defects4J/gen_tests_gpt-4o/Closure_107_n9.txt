
import com.google.javascript.jscomp.CommandLineRunner;
import com.google.javascript.jscomp.CompilerOptions;
import com.google.javascript.jscomp.SourceFile;
import org.junit.Test;
import static org.junit.Assert.*;

import java.util.List;

public class ClosureCompilerTest {

    @Test
    public void testVariableNamesPrefixedWithMSG() {
        String code = "var MSG_foo='bar';";

        CompilerOptions options = new CompilerOptions();
        options.setCompilationLevel(CompilerOptions.CompilationLevel.ADVANCED_OPTIMIZATIONS);

        com.google.javascript.jscomp.Compiler compiler = new com.google.javascript.jscomp.Compiler();
        
        // Execute the compilation
        compiler.compile(
                List.of(SourceFile.fromCode("externs", "")),  // Externs file, typically for externs specification
                List.of(SourceFile.fromCode("input", code)),  // Source code input for the test
                options
        );

        // Check for errors
        assertTrue("Compilation should have errors due to MSG_ prefix.", compiler.hasErrors());
    }
}
