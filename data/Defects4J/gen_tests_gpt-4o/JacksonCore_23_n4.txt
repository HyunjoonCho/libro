public void testDefaultPrettyPrinterSubclassCreateInstance() {
    class CustomPrettyPrinter extends DefaultPrettyPrinter {}
    
    CustomPrettyPrinter customPrettyPrinter = new CustomPrettyPrinter();
    try {
        DefaultPrettyPrinter instance = customPrettyPrinter.createInstance();
        fail("Expected an IllegalStateException if called on a subclass, but got instance: " + instance.getClass());
    } catch (IllegalStateException e) {
        // Expected exception
    }
}