public void testArgumentsScopePreservation() {
    class Test {
        public void execute() {
            Object[] args = new Object[]{1, 2, 3};
            Runnable r = () -> {
                Object[] capturedArgs = args; // Capture args variable
                new Thread(() -> {
                    assertArrayEquals(new Object[]{1, 2, 3}, capturedArgs);
                }).start();
            };
            r.run();
        }
    }

    new Test().execute();
}