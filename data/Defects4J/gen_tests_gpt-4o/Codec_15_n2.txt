
import org.apache.commons.codec.language.Soundex;
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class SoundexTest {

    @Test
    public void testSoundexHwRule() {
        Soundex soundex = new Soundex();

        // Expect "TEST" to encode to "T230" according to Soundex rules.
        // 'T' is kept, 'E' is not encoded, 'S' is mapped to 2, 
        // 'T' is mapped to 3.
        // The bug here would not encode the second 'T' correctly if the
        // rule is applied incorrectly.

        // Test case with 'T-H-W' pattern:
        String encoded1 = soundex.encode("TEHT"); // Incorrectly encoded if the rule misfires.
        assertEquals("T230", encoded1);

        // Additional test case to illustrate:
        String encoded2 = soundex.encode("THWT"); // Should also encode correctly to T230
        assertEquals("T230", encoded2);
    }
}
