
import javax.script.ScriptEngine;
import javax.script.ScriptEngineManager;
import javax.script.ScriptException;
import org.junit.Test;
import static org.junit.Assert.*;

public class GoogScopeTest {

    @Test
    public void testGoogScopeWithFunctionDeclaration() {
        String scriptWithFunctionDeclaration = 
                "goog.scope(function() { " +
                "   function x() {} " +
                "});";

        assertThrows(ScriptException.class, () -> executeJavaScript(scriptWithFunctionDeclaration));
    }

    @Test
    public void testGoogScopeWithVariableAssignment() {
        String scriptWithVariableAssignment = 
                "goog.scope(function() { " +
                "   var x = function(){}; " +
                "});";

        assertThrows(ScriptException.class, () -> executeJavaScript(scriptWithVariableAssignment));
    }

    private void executeJavaScript(String script) throws ScriptException {
        ScriptEngineManager manager = new ScriptEngineManager();
        ScriptEngine engine = manager.getEngineByName("nashorn"); // or another JS engine
        engine.eval(script);
    }
}
