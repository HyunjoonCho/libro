
import org.apache.commons.lang3.time.FastDateFormat;
import org.junit.Test;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.Locale;
import static org.junit.Assert.assertEquals;

public class DateFormatTest {

    @Test
    public void testYearFormattingWithFastDateFormatAndSimpleDateFormat() {
        // Create a Calendar instance set to a specific date
        Calendar calendar = Calendar.getInstance();
        calendar.set(2003, Calendar.JUNE, 26); // June 26, 2003
        Date date = calendar.getTime();

        // Pattern using 'Y' to test year formatting
        String pattern = "YYY";

        // Format date using FastDateFormat
        FastDateFormat fastDateFormat = FastDateFormat.getInstance(pattern, Locale.US);
        String fastFormattedDate = fastDateFormat.format(date);

        // Format date using SimpleDateFormat
        SimpleDateFormat simpleDateFormat = new SimpleDateFormat(pattern, Locale.US);
        String simpleFormattedDate = simpleDateFormat.format(date);

        // Assert that both formats are the same
        assertEquals(simpleFormattedDate, fastFormattedDate);

        // Check the expected output based on Java 7+ behavior
        assertEquals("2003", simpleFormattedDate);
        assertEquals("2003", fastFormattedDate);
    }
}
