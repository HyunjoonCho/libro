public void testUnexpectedTypedCoverage() throws Exception {
    String jsCode = "function Example(element) { this.appendElement = function appendElement(ns, name) { var e = element.ownerDocument.createElementNS(ns, name); element.appendChild(e); }; } window['Example'] = Example;";
    Compiler compiler = new Compiler();
    CompilerOptions options = new CompilerOptions();
    CompilationLevel.SIMPLE_OPTIMIZATIONS.setOptionsForCompilationLevel(options);
    WarningLevel.DEFAULT.setOptionsForWarningLevel(options);
    options.setCheckTypes(true);
    options.setSummaryDetailLevel(3);
    
    Result result = compiler.compile(SourceFile.fromCode("externs.js", ""), SourceFile.fromCode("input.js", jsCode), options);
    
    assertEquals("Expected 100% typed coverage", 100.0, compiler.getTypedPercent(), 0.1);
    assertTrue("Should not have any errors", result.success);
}