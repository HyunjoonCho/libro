public void testBOBYQAOptimizerInterpolationPoints() {
    int dim = 3;  // Example, can be any dimensionality for the problem
    MultivariateFunction func = new SphereFunction();
    GoalType goal = GoalType.MINIMIZE;
    double[] startPoint = new double[dim];
    Arrays.fill(startPoint, 1.0);

    // Setting up boundaries (optional, can be null)
    double[] lowerBound = new double[dim];
    double[] upperBound = new double[dim];
    Arrays.fill(lowerBound, -100.0);
    Arrays.fill(upperBound, 100.0);

    // Increasing the number of interpolation points beyond 2 * dim + 1
    BOBYQAOptimizer optim = new BOBYQAOptimizer(2 * dim + 2);

    try {
        PointValuePair result = optim.optimize(100000, func, goal, startPoint, lowerBound, upperBound);
        fail("Expected an exception due to too many interpolation points, but optimization completed with: " + result);
    } catch (Exception e) {
        // Expected failure due to incorrect number of interpolation points
        assertTrue(e.getMessage().contains("interpolation points"));
    }
}