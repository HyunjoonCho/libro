public void testNaNAsBigDecimalThrowsException() throws IOException {
    String json = "[NaN]";
    JsonFactory jsonFactory = JsonFactory.builder()
        .enable(JsonParser.Feature.ALLOW_NON_NUMERIC_NUMBERS)
        .build();
    JsonParser parser = jsonFactory.createParser(json);
    
    parser.nextToken(); // Start array
    parser.nextToken(); // NaN

    try {
        parser.getDecimalValue();
        fail("Expected NumberFormatException");
    } catch (NumberFormatException e) {
        // Expected exception, test passes
    } catch (NullPointerException e) {
        fail("Expected NumberFormatException, but got NullPointerException");
    } finally {
        parser.close();
    }
}