public void testConvenientSpyingOnAbstractClasses() {
    abstract class MockAccountService implements AccountService {
        @Override
        public void getAccount(String id, AsyncCallback<UserAccount> callback) {
            callback.onSuccess(getAccount(id));
        }

        abstract UserAccount getAccount(String id);
    }

    MockAccountService accountService = Mockito.mock(MockAccountService.class);
    UserAccount userAccount = Mockito.mock(UserAccount.class);

    Mockito.when(accountService.getAccount("id")).thenReturn(userAccount);

    AsyncCallback<UserAccount> callback = Mockito.mock(AsyncCallback.class);
    accountService.getAccount("id", callback);

    Mockito.verify(callback).onSuccess(userAccount);
}