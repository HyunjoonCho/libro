
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.junit.Test;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertTrue;

public class JsoupMalformedTreeTest {

    @Test
    public void testSingleBodyElement() {
        String htmlContent = "yourHtmlContentHere"; // Replace with actual HTML content
        Document document = Jsoup.parse(htmlContent);

        // Check the number of body elements
        Element htmlElement = document.selectFirst("html");
        long bodyCount = htmlElement.children().stream().filter(child -> child.tagName().equals("body")).count();
        assertEquals("There should be exactly one body element under the html element.", 1, bodyCount);

        // Alternatively, using selectors more directly
        assertEquals("There should be exactly one body element in the document.", 1, document.select("body").size());
        
        // Check that the body is a direct child of html
        Element bodyElement = document.selectFirst("body");
        assertTrue("Body should be a direct child of html.", bodyElement.parent().tagName().equals("html"));
    }
}
