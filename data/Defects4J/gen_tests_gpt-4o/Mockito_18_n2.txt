
import static org.junit.Assert.*;
import static org.mockito.Mockito.*;

import java.util.Iterator;

import org.junit.Test;

public class MockitoIterableTest {

    @Test
    public void testMockingIterableReturnsEmptyIterable() {
        Iterable<String> mockedIterable = mock(Iterable.class, RETURNS_DEFAULTS);

        // Expect the mocked Iterable to return an empty Iterable, not null.
        // However, as per the bug report, it is returning null in beta-8.
        Iterator<String> iterator = mockedIterable.iterator();
        // Assert that retrieving the iterator on the mocked iterable does not return null
        assertNotNull("Expected iterator on mocked iterable should not be null", iterator);
        // However, the iterator should have no elements
        assertFalse("Expected iterator should have no elements", iterator.hasNext());
    }
}
