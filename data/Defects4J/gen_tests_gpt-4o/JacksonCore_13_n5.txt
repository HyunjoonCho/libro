public void testQuoteFieldNamesToggle() throws IOException {
    StringWriter writer = new StringWriter();
    JsonFactory factory = new JsonFactory();
    JsonGenerator generator = factory.createGenerator(writer);

    generator.configure(JsonGenerator.Feature.QUOTE_FIELD_NAMES, false);
    generator.writeStartObject();
    generator.writeFieldName("field");
    generator.writeString("value");
    generator.writeEndObject();
    generator.close();

    String expected = "{field:\"value\"}";
    assertEquals(expected, writer.toString());
    
    writer = new StringWriter();
    generator = factory.createGenerator(writer);

    generator.configure(JsonGenerator.Feature.QUOTE_FIELD_NAMES, true);
    generator.writeStartObject();
    generator.writeFieldName("field");
    generator.writeString("value");
    generator.writeEndObject();
    generator.close();

    expected = "{\"field\":\"value\"}";
    assertEquals(expected, writer.toString());
}