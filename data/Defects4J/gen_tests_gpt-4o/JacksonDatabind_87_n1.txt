
import com.fasterxml.jackson.databind.ObjectMapper;

import java.util.Date;
import java.util.TimeZone;

import org.junit.jupiter.api.Test;
import static org.junit.jupiter.api.Assertions.assertEquals;

public class StdDateFormatTest {

    @Test
    public void testDateDeserializationWithCustomTimeZone() throws Exception {
        ObjectMapper mapper = new ObjectMapper();
        mapper.setTimeZone(TimeZone.getTimeZone("GMT+2"));

        Date date = mapper.readValue("\"1970-01-01T00:00:00.000\"", Date.class);

        // Expect the date to be deserialized with the GMT+2 timezone
        // This assertion should fail in Jackson 2.8.9 or later if the issue is not fixed
        assertEquals("Thu Jan 01 02:00:00 GMT+02:00 1970", date.toString());
    }
}
