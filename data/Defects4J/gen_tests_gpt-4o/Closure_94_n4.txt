public void testClosureCompilerDefineAnnotation() {
    String jsCode = "/** @define {string} */\n"
                  + "var CONSTANT = \"some very long string name that I want to wrap \" +\n"
                  + "\"and so break using a + since I don't want to \" +\n"
                  + "\"introduce a newline into the string.\";";

    Compiler compiler = new Compiler();
    CompilerOptions options = new CompilerOptions();
    options.setDefineReplacements(ImmutableMap.of("CONSTANT", "some very long string name that I want to wrap and so break using a + since I don't want to introduce a newline into the string."));
    
    compiler.compile(SourceFile.fromCode("externs.js", ""), SourceFile.fromCode("input.js", jsCode), options);

    assertTrue(compiler.getErrors().length == 0);
}