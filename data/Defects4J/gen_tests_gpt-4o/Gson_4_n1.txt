public void testJsonReaderWriterForRFC7159() {
    String jsonNumber = "123";
    JsonReader reader = new JsonReader(new StringReader(jsonNumber));
    try {
        reader.beginArray();
        fail("Should have thrown IllegalStateException");
    } catch (IllegalStateException e) {
        // Expected exception
    } finally {
        reader.close();
    }

    JsonWriter writer = new JsonWriter(new StringWriter());
    try {
        writer.beginArray();
        writer.value(123);
        writer.endArray();
        fail("Should have thrown IllegalStateException");
    } catch (IllegalStateException e) {
        // Expected exception
    } finally {
        try {
            writer.close();
        } catch (IOException e) {
            fail("IOException should not be thrown");
        }
    }
}