public void testNumberOverflow() throws Exception {
    doTestUnescapeEntity("&#12345678;", "&#12345678;");
    doTestUnescapeEntity("x&#12345678;y", "x&#12345678;y");
    doTestUnescapeEntity("&#x12345678;", "&#x12345678;");
    doTestUnescapeEntity("x&#x12345678;y", "x&#x12345678;y");
}

private void doTestUnescapeEntity(String input, String expected) {
    String result = unescapeXml(input);
    assertEquals(expected, result);
}

private String unescapeXml(String input) {
    // Simulating the potential faulty behavior of unescapeXml from a library
    // Replace it with the actual implementation when running the test in the library context
    if (input.matches(".*&#(?:x[0-9a-fA-F]+|[0-9]+);.*")) {
        return input; // Pretend it does nothing for invalid references
    }
    // Actual unescaping logic would go here
    return input; // For simulation purposes only
}