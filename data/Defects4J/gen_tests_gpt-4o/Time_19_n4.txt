
import org.junit.Test;
import org.joda.time.DateTime;
import org.joda.time.DateTimeZone;

import static org.junit.Assert.assertEquals;

public class DateTimeTest {

    @Test
    public void testInconsistentDSTInterpretation() {
        DateTime britishDate = new DateTime(2011, 10, 30, 1, 59, 0, 0, DateTimeZone.forID("Europe/London"));
        DateTime norwDate = new DateTime(2011, 10, 30, 2, 59, 0, 0, DateTimeZone.forID("Europe/Oslo"));
        DateTime finnishDate = new DateTime(2011, 10, 30, 3, 59, 0, 0, DateTimeZone.forID("Europe/Helsinki"));

        // Printing for visual confirmation of the issue
        System.out.println(britishDate);
        System.out.println(norwDate);
        System.out.println(finnishDate);

        // Assert that they represent the same point in time
        assertEquals(britishDate.getMillis(), norwDate.minusHours(1).getMillis());
        assertEquals(britishDate.getMillis(), finnishDate.minusHours(2).getMillis());
    }
}
