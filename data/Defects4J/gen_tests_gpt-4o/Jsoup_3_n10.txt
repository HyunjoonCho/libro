public void testAppendTableRow() {
    StringBuilder htmlBuilder = new StringBuilder("<table><tbody></tbody></table>");
    String tableRow = "<tr><td>Row</td></tr>";
    int insertIndex = htmlBuilder.indexOf("</tbody>");
    htmlBuilder.insert(insertIndex, tableRow);
    
    String resultHtml = htmlBuilder.toString();
    
    int firstTableIndex = resultHtml.indexOf("<table>");
    int firstTrIndex = resultHtml.indexOf("<tr>");
    
    assertTrue(firstTrIndex > firstTableIndex);
    assertFalse(resultHtml.contains("<table><tr>"));
}