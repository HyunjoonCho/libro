public void testEventHandlingIncompleteReinitialization() {
    EventManager eventManager = new EventManager();
    
    Event event1 = new Event("event1");
    Event event2 = new Event("event2");

    // This listener accepts event1 triggering reinitialization
    eventManager.addEventListener(event1, new EventListener() {
        @Override
        public void onEvent(Event e) {
            eventManager.reinitializeState();
        }
    });

    // This listener is for event2, which fails due to incomplete reinitialization
    eventManager.addEventListener(event2, new EventListener() {
        @Override
        public void onEvent(Event e) {
            // Expected behavior: successfully handled
            // Current faulty behavior: unable to handle
            assertTrue("Event2 listener should be called after reinitialization", eventManager.isStateReady());
        }
    });

    // Simulate both events occurring in the same step
    eventManager.triggerEvent(event1);
    eventManager.triggerEvent(event2);
}