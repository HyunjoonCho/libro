public void testBadVariableInliningInClosure() throws InterruptedException {
    JsTestRunner runner = new JsTestRunner();
    runner.loadScript("testFile.js");
    // Redirect console output to capture it
    ByteArrayOutputStream outContent = new ByteArrayOutputStream();
    System.setOut(new PrintStream(outContent));
    
    runner.evaluateScript("foo();");
    
    // Waiting to ensure all setTimeout functions execute
    Thread.sleep(100);

    String expectedOutput = "1\n2\n3\n4\n5\n";
    assertEquals(expectedOutput, outContent.toString());
}