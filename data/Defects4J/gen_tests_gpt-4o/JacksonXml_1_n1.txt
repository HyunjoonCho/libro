public void testDeserializationOfNestedNonWrappedListsWithEmptyInnerList() throws Exception {
    String json = "{\"records\":[{\"fields\":[]},{\"fields\":[{\"name\":\"field1\"}]}]}";

    ObjectMapper mapper = new ObjectMapper();
    Definition definition = mapper.readValue(json, Definition.class);

    assertNotNull(definition);
    assertEquals(2, definition.getRecords().size());
    assertNotNull(definition.getRecords().get(0).getFields());
    assertEquals(0, definition.getRecords().get(0).getFields().size());
    assertEquals(1, definition.getRecords().get(1).getFields().size());
    assertEquals("field1", definition.getRecords().get(1).getFields().get(0).getName());
}