public void testEscapeXMLWithSupplementaryCharacters() throws IOException {
    // U+1D11E is a supplementary musical symbol, represented by a surrogate pair in UTF-16
    String input = "\uD834\uDD1E"; // ùÑû
    StringWriter writer = new StringWriter();
    StringEscapeUtils.escapeXml(writer, input);

    assertEquals("&#119070;", writer.toString()); // 119070 is the decimal code point for U+1D11E
}