
import org.apache.commons.math.linear.RealMatrix;
import org.apache.commons.math.linear.RealMatrixImpl;
import org.junit.Test;
import static org.junit.Assert.*;

public class RealMatrixImplTest {

    @Test
    public void testOperateWithNonSquareMatrix() {
        // Define a non-square matrix (e.g., 2 rows, 3 columns)
        double[][] matrixData = {
            {1, 2, 3},
            {4, 5, 6}
        };
        RealMatrix matrix = new RealMatrixImpl(matrixData);

        // Define a vector to operate with (same length as the number of columns in the matrix)
        double[] vector = {7, 8, 9};

        // Perform the operation
        double[] result = matrix.operate(vector);

        // Check that the resulting vector has the same length as the number of rows in the matrix
        assertEquals(2, result.length);

        // Check the computed values for correctness
        assertEquals(1*7 + 2*8 + 3*9, result[0], 1e-9);
        assertEquals(4*7 + 5*8 + 6*9, result[1], 1e-9);
    }
}
