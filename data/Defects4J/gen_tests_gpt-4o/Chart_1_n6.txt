@Test
public void testGetLegendItemsNPE() {
    AbstractCategoryItemRenderer renderer = new AbstractCategoryItemRenderer() {
        @Override
        public int getPassCount() {
            return 1;
        }
    };
    
    CategoryPlot plot = new CategoryPlot();
    renderer.setPlot(plot);

    try {
        renderer.getLegendItems();
        fail("Expected NullPointerException");
    } catch (NullPointerException e) {
        // expected NPE due to dataset being null
    }
}