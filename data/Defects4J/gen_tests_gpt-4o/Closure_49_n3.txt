public void testFunctionAssignmentWithSameVariableName() {
    String inputJs = "var foo = function bar(){ var bar; alert(bar); };";
    CompilerOptions options = new CompilerOptions();
    CompilationLevel.SIMPLE_OPTIMIZATIONS.setOptionsForCompilationLevel(options);
    Compiler compiler = new Compiler();
    compiler.compile(SourceFile.fromCode("externs", ""), SourceFile.fromCode("input", inputJs), options);
    
    String expectedOutputJs = "var foo=function(){alert(void 0)};";
    String actualOutputJs = compiler.toSource();
    
    assertEquals(expectedOutputJs, actualOutputJs);
}