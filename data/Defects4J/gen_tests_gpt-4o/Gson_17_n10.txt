
import com.google.gson.Gson;
import com.google.gson.GsonBuilder;
import org.junit.Test;
import java.util.Date;
import static org.junit.Assert.assertNull;

public class GsonDateNullabilityTest {

    private static class TestObject {
        Date date;

        TestObject(Date date) {
            this.date = date;
        }
    }

    @Test
    public void testDateSerializationAndDeserializationWithNulls() {
        Gson gson = new GsonBuilder().create();
        TestObject testObject = new TestObject(null);

        // Serialize
        String json = gson.toJson(testObject);
        System.out.println("Serialized JSON: " + json);

        // Deserialize
        TestObject deserializedObject = gson.fromJson(json, TestObject.class);
        System.out.println("Deserialized Date: " + deserializedObject.date);

        // Assert that the deserialized object maintains a null date
        assertNull("Date should be null after deserialization", deserializedObject.date);
    }
}
