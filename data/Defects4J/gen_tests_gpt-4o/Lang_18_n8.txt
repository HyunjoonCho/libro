
import org.apache.commons.lang3.time.FastDateFormat;
import org.junit.Test;

import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;

import static org.junit.Assert.assertEquals;

public class FastDateFormatTest {

    @Test
    public void testYearFormatConsistency() {
        // Set up a specific date
        Calendar calendar = Calendar.getInstance();
        calendar.set(2003, Calendar.JANUARY, 1);
        Date date = calendar.getTime();

        // Create formatters
        SimpleDateFormat simpleDateFormat = new SimpleDateFormat("YYY");
        FastDateFormat fastDateFormat = FastDateFormat.getInstance("YYY");

        // Expected results according to Java 7's behavior
        String expectedYearFormat = "2003";

        // Check if both formats produce the same result
        assertEquals("SimpleDateFormat should produce '2003' for pattern 'YYY'", 
                     expectedYearFormat, simpleDateFormat.format(date));
        assertEquals("FastDateFormat should produce '2003' for pattern 'YYY'", 
                     expectedYearFormat, fastDateFormat.format(date));
    }
}
