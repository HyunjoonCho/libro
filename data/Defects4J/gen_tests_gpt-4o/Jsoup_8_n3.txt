
import org.junit.Test;
import static org.junit.Assert.*;

public class OrphanElementTest {

    private static class Element {
        private String value;
        private Element parent;

        public Element(String value) {
            this.value = value;
        }

        public void remove() {
            this.parent = null;
        }

        public void reAdd(Element parent) {
            this.parent = parent;
        }

        @Override
        public String toString() {
            return parent != null ? "Element{" + "value='" + value + '\'' + '}' : "Orphan Element";
        }
    }

    @Test
    public void testOrphanElementToString() {
        Element parent = new Element("parent");
        Element child = new Element("child");
        child.reAdd(parent);

        child.remove(); // Making the element an orphan

        try {
            String result = child.toString();
            assertEquals("Orphan Element", result);
        } catch (NullPointerException e) {
            fail("toString method should not throw NullPointerException for orphan elements");
        }
    }
}
