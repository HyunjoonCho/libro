public void testVariableNamesWithMSG_Prefix() {
    String codeWithMSGPrefix = "var MSG_foo='bar';";
    try {
        Compiler compiler = new Compiler();
        CompilerOptions options = new CompilerOptions();
        CompilationLevel.ADVANCED_OPTIMIZATIONS.setOptionsForCompilationLevel(options);
        SourceFile input = SourceFile.fromCode("input.js", codeWithMSGPrefix);
        compiler.compile(SourceFile.fromCode("externs.js", ""), input, options);
        fail("Expected an error related to MSG_ variable names during compilation.");
    } catch (RuntimeException e) {
        assertTrue(e.getMessage().contains("message not initialized using goog.getMsg"));
    }
}