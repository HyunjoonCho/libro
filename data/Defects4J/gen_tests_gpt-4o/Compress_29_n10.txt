public void testArchiveStreamFactoryEncoding() throws Exception {
    ArchiveStreamFactory factory = new ArchiveStreamFactory();

    // Test with ArjArchiveInputStream
    InputStream arjInputStream = factory.createArchiveInputStream(
        ArchiveStreamFactory.ARJ, 
        new ByteArrayInputStream(new byte[0]), 
        "UTF-8"
    );
    assertTrue(arjInputStream instanceof ArjArchiveInputStream);
    assertEquals("UTF-8", ((ArjArchiveInputStream) arjInputStream).getEncoding());

    // Test with CpioArchiveInputStream
    InputStream cpioInputStream = factory.createArchiveInputStream(
        ArchiveStreamFactory.CPIO, 
        new ByteArrayInputStream(new byte[0]), 
        "UTF-8"
    );
    assertTrue(cpioInputStream instanceof CpioArchiveInputStream);
    assertEquals("UTF-8", ((CpioArchiveInputStream) cpioInputStream).getEncoding());

    // Test with DumpArchiveInputStream
    InputStream dumpInputStream = factory.createArchiveInputStream(
        ArchiveStreamFactory.DUMP, 
        new ByteArrayInputStream(new byte[0]), 
        "UTF-8"
    );
    assertTrue(dumpInputStream instanceof DumpArchiveInputStream);
    assertEquals("UTF-8", ((DumpArchiveInputStream) dumpInputStream).getEncoding());

    // Test with JarArchiveInputStream
    InputStream jarInputStream = factory.createArchiveInputStream(
        ArchiveStreamFactory.JAR, 
        new ByteArrayInputStream(new byte[0]), 
        "UTF-8"
    );
    assertTrue(jarInputStream instanceof JarArchiveInputStream);
    assertEquals("UTF-8", ((JarArchiveInputStream) jarInputStream).getEncoding());

    // Test with JarArchiveOutputStream
    OutputStream jarOutputStream = factory.createArchiveOutputStream(
        ArchiveStreamFactory.JAR, 
        new ByteArrayOutputStream(), 
        "UTF-8"
    );
    assertTrue(jarOutputStream instanceof JarArchiveOutputStream);
    assertEquals("UTF-8", ((JarArchiveOutputStream) jarOutputStream).getEncoding());
}