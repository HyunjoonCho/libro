public void testDeeplyNestedElementsPerformance() {
    long startTime = System.currentTimeMillis();
    org.jsoup.nodes.Document doc = org.jsoup.Jsoup.parse(generateDeeplyNestedHtml(10000));
    long duration = System.currentTimeMillis() - startTime;
    assertTrue("Parsing took too long: " + duration + "ms", duration < 5000);
}

private String generateDeeplyNestedHtml(int depth) {
    StringBuilder html = new StringBuilder();
    for (int i = 0; i < depth; i++) {
        html.append("<div>");
    }
    for (int i = 0; i < depth; i++) {
        html.append("</div>");
    }
    return html.toString();
}