
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.junit.Test;

public class JsoupDeepNestingTest {

    @Test(timeout = 5000) // Set a timeout of 5 seconds to catch performance issues.
    public void testDeeplyNestedHtmlParsing() {
        // Create a deeply nested HTML string
        StringBuilder html = new StringBuilder();
        int depth = 10000; // Adjust depth to simulate deep nesting

        html.append("<html><body>");

        for (int i = 0; i < depth; i++) {
            html.append("<div>");
        }

        for (int i = 0; i < depth; i++) {
            html.append("</div>");
        }

        html.append("</body></html>");

        // Parse the deeply nested HTML document
        Document doc = Jsoup.parse(html.toString());

        // You can add assertions here if needed to verify the expected outcomes
        // For example: assertNotNull(doc);
    }
}
