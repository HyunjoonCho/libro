
import org.apache.commons.compress.archivers.tar.TarArchiveEntry;
import org.apache.commons.compress.archivers.tar.TarUtils;
import org.junit.Test;

import java.nio.charset.StandardCharsets;

import static org.junit.Assert.assertEquals;

public class TarUtilsTest {

    @Test
    public void testParseNameWithSpecialCharacters() {
        byte[] nameBuffer = "0302-0601-3±±±F06±W220±ZB±LALALA±±±±±±±±±±CAN±±DC±±±04±060302±MOE.model"
                .getBytes(StandardCharsets.ISO_8859_1);

        String expectedName = "0302-0601-3±±±F06±W220±ZB±LALALA±±±±±±±±±±CAN±±DC±±±04±060302±MOE.model";
        
        // Simulate use of TarUtils.parseName via TarArchiveEntry
        TarArchiveEntry entry = new TarArchiveEntry("");
        
        // This is generally what the actual parsing function would look like using parseName
        String parsedName = TarUtils.parseName(nameBuffer, 0, nameBuffer.length);

        assertEquals(expectedName, parsedName);
    }
}
