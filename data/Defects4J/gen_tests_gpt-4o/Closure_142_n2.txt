html
<!DOCTYPE html>
<html>
<head>
    <title>IE Array Sort Issue Test</title>
    <script type="text/javascript">
        // Original source code
        function sortArraysOriginal() {
            var threshold = 300; // Adjust this to the threshold value that causes the issue
            var arrays = [];

            for (var i = 0; i < threshold; i++) {
                arrays.push([Math.random(), i]);
            }

            // Sort arrays: Using a slice to generate local copies
            arrays.sort(function(a, b) {
                var aCopy = a.slice();
                var bCopy = b.slice();
                return aCopy[0] - bCopy[0];
            });

            return arrays;
        }

        // Closure compiled source code equivalent
        function sortArraysClosure() {
            var threshold = 300;
            var arrays = [];

            for (var i = 0; i < threshold; i++) {
                arrays.push([Math.random(), i]);
            }

            // Sort arrays: Direct modification of array elements (to simulate Closure compilation)
            arrays.sort(function(a, b) {
                return a[0] - b[0];
            });

            return arrays;
        }

        function testSortBehavior() {
            var originalResult = sortArraysOriginal();
            var closureResult = sortArraysClosure();

            // Output a portion of sorted arrays for comparison (or just the first element)
            document.getElementById('original').textContent = originalResult[0].join(", ");
            document.getElementById('closure').textContent = closureResult[0].join(", ");
        }
    </script>
</head>
<body onload="testSortBehavior()">
    <h1>IE Array Sort Issue Test</h1>
    <div>
        <h2>Original Source Output (Expected)</h2>
        <pre id="original"></pre>
    </div>
    <div>
        <h2>Closure Compiled Output</h2>
        <pre id="closure"></pre>
    </div>
</body>
</html>
