public void testHelpFormatterWrapsIncorrectly() {
    String longDescription = "This is a long description that should be wrapped properly by the HelpFormatter. "
            + "Notice how the subsequent lines exceed the width if not handled correctly.";

    HelpFormatter helpFormatter = new HelpFormatter();
    Options options = new Options();
    options.addOption("d", "description", true, longDescription);

    // Capture the output of the HelpFormatter
    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();
    PrintWriter writer = new PrintWriter(outputStream);

    helpFormatter.printHelp(writer, 40, "commandline", "header", options, HelpFormatter.DEFAULT_LEFT_PAD, 
        HelpFormatter.DEFAULT_DESC_PAD, "footer", true);
    writer.flush();

    String output = outputStream.toString();

    // Check if all lines of the description do not exceed the specified width
    String[] lines = output.split("\\r?\\n");
    for (String line : lines) {
        assertTrue("Line exceeds the defined width: " + line, line.length() <= 40);
    }
}