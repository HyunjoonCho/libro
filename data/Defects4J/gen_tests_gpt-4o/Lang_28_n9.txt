public void testEscapeXmlWithSupplementaryCharacters() throws IOException {
    String input = "Test \uD83D\uDE00 Example"; // "ðŸ˜€" is a supplementary character
    String expectedEscaped = "Test &#128512; Example"; // &#128512; is the decimal code for "ðŸ˜€"

    StringWriter writer = new StringWriter();
    StringEscapeUtils.escapeXml(writer, input);
    String result = writer.toString();

    assertEquals(expectedEscaped, result);
}