public void testVehicleTypeHierarchyAdapter() {
    GsonBuilder builder = new GsonBuilder();
    builder.registerTypeHierarchyAdapter(Vehicle.class, new VehicleTypeAdapter());
    Gson gson = builder.create();
    
    String json = "{\"type\":\"Truck\",\"wheels\":6}";

    try {
        Car car = gson.fromJson(json, Car.class);
        fail("Expected JsonParseException due to incorrect type decoding");
    } catch (JsonParseException e) {
        assertTrue(e.getMessage().contains("Expected Car but got Truck"));
    }
}