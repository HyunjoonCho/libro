
import org.apache.commons.codec.binary.Base64;
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class Base64Test {

    @Test
    public void testInstanceEncodeNoChunkingAndNoCRLF() throws Exception {
        // Prepare test data
        Base64 encoder = new Base64();
        String input = "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa";
        byte[] inputData = input.getBytes("UTF-8");

        // Expected output without line breaks or internal CRLF
        String expectedOutput = "YWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhY" +
                "WFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYQ==";

        // Perform encoding with instance encoder
        byte[] encodedData = encoder.encode(inputData);
        String actualOutput = new String(encodedData, "UTF-8");

        // Verify the output
        assertEquals("The instance encoder should not chunk the output or add CRLF.", expectedOutput, actualOutput);
    }
}
