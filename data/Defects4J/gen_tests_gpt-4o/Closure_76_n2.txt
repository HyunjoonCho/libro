
import static org.junit.Assert.*;
import org.junit.Test;

public class AssignmentConditionTest {

    // Mock echo function to replicate the behavior
    private boolean echo(boolean value) {
        return value;
    }

    // Original function as described in the bug report
    public Boolean reductionOriginal() {
        Boolean a, b;
        if (echo(b = true) || echo(b = false))
            a = b;
        else
            a = null;
        return a;
    }

    // Compiled-like version to simulate the issue
    public Boolean reductionCompiled() {
        Boolean a;
        return echo(true) || echo(a = false) ? a : null;
    }

    @Test
    public void testReductionOriginal() {
        // Original should return "true"
        assertEquals(Boolean.TRUE, reductionOriginal());
    }

    @Test
    public void testReductionCompiled() {
        // Simulates the compiled issue, should also return "true", but fails
        assertEquals(Boolean.TRUE, reductionCompiled());
    }
}
