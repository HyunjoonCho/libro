
import org.junit.jupiter.api.Test;
import java.io.*;

import static org.junit.jupiter.api.Assertions.assertNotNull;

public class SomethingTest {

    static class Ruleform implements Serializable {
        private static final long serialVersionUID = 1L;
        private String name;

        public Ruleform(String name) {
            this.name = name;
        }

        public String getName() {
            return name;
        }
    }

    static class Something implements Serializable {
        private static final long serialVersionUID = 1L;

        private Ruleform ruleform;

        public <T extends Ruleform> T getEntity() {
            return (T) ruleform;
        }

        public <T extends Ruleform> void setEntity(T entity) {
            this.ruleform = entity;
        }
    }

    @Test
    public void testSerializationDeserialization() throws IOException, ClassNotFoundException {
        // Create instance and set entity
        Something original = new Something();
        original.setEntity(new Ruleform("Test Ruleform"));

        // Serialize the object
        ByteArrayOutputStream byteOutStream = new ByteArrayOutputStream();
        ObjectOutputStream out = new ObjectOutputStream(byteOutStream);
        out.writeObject(original);

        // Deserialize the object
        ByteArrayInputStream byteInStream = new ByteArrayInputStream(byteOutStream.toByteArray());
        ObjectInputStream in = new ObjectInputStream(byteInStream);
        Something deserialized = (Something) in.readObject();

        // Ensure the deserialized entity is not null and has the correct values
        Ruleform deserializedEntity = deserialized.getEntity();
        assertNotNull(deserializedEntity);
        assertNotNull(deserializedEntity.getName());
    }
}
