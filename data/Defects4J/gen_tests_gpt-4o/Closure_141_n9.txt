
import org.junit.Test;
import static org.junit.Assert.*;

import javax.script.ScriptEngine;
import javax.script.ScriptEngineManager;
import javax.script.ScriptException;

public class JavaScriptSideEffectsTest {

    @Test
    public void testFunctionSideEffects() {
        ScriptEngineManager manager = new ScriptEngineManager();
        ScriptEngine engine = manager.getEngineByName("JavaScript");
        
        try {
            // This is the code under test
            Object result = engine.eval("(Math.sin || Math.cos)(0)");
            
            // We expect the output to be the result of calling Math.sin or Math.cos with 0
            double expectedSin = Math.sin(0);
            double expectedCos = Math.cos(0);
            
            // Check if result is either Math.sin(0) or Math.cos(0)
            boolean isExpectedResult = (expectedSin == (double) result) || (expectedCos == (double) result);
            assertTrue("The result should be either the output of Math.sin(0) or Math.cos(0)", isExpectedResult);
            
        } catch (ScriptException e) {
            fail("Script execution should not fail. Error: " + e.getMessage());
        }
    }
}
