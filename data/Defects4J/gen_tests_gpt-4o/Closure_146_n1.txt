public void testBadTypeInference() {
    // Define a mock function 'g' which should accept a string
    String mockGFunction(int x) {
        return "Called with mockGFunction: " + x;
    }

    // Define a mock function 'f' which has logic similar to the bug description
    void f(Object x) {
        if (x != null) {
            assertEquals("Called with mockGFunction: " + x, mockGFunction((String) x));
        }
    }

    // Testing the function 'f' with different inputs
    try {
        f(null); // should not proceed to call g
    } catch (ClassCastException e) {
        fail("Type inference failed: " + e.getMessage());
    }
}