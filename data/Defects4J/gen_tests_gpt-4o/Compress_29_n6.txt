public void testArchiveStreamFactoryEncoding() {
    ArchiveStreamFactory factory = new ArchiveStreamFactory();
    InputStream nullInputStream = new ByteArrayInputStream(new byte[0]);

    try {
        factory.createArchiveInputStream("arj", nullInputStream, "UTF-8");
        fail("Expected IllegalArgumentException for ARJ input stream");
    } catch (IllegalArgumentException e) {
        assertTrue(e.getMessage().contains("ARJ does not support encoding"));
    }

    try {
        factory.createArchiveInputStream("cpio", nullInputStream, "UTF-8");
        fail("Expected IllegalArgumentException for CPIO input stream");
    } catch (IllegalArgumentException e) {
        assertTrue(e.getMessage().contains("CPIO does not support encoding"));
    }

    try {
        factory.createArchiveInputStream("dump", nullInputStream, "UTF-8");
        fail("Expected IllegalArgumentException for DUMP input stream");
    } catch (IllegalArgumentException e) {
        assertTrue(e.getMessage().contains("DUMP does not support encoding"));
    }

    try {
        factory.createArchiveInputStream("jar", nullInputStream, "UTF-8");
    } catch (Exception e) {
        fail("JAR input stream should not throw an exception: " + e.getMessage());
    }

    try {
        factory.createArchiveOutputStream("jar", new ByteArrayOutputStream(), "UTF-8");
    } catch (Exception e) {
        fail("JAR output stream should not throw an exception: " + e.getMessage());
    }
}