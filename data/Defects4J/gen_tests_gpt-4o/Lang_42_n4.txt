public void testEscapeHtmlHandlesUnicodeAboveFFFFCorrectly() throws Exception {
    byte[] data = new byte[]{(byte)0xF0, (byte)0x9D, (byte)0x8D, (byte)0xA2};
    String input = new String(data, "UTF8");
    String expectedOutput = "&#119650;";
    String actualOutput = StringEscapeUtils.escapeHtml(input);
    assertEquals(expectedOutput, actualOutput);
}