public void testPreserveWhitespaceInTextarea() {
    String html = "<textarea>    Sample text with   extra   spaces.\n    New line.</textarea>";
    Document doc = Jsoup.parse(html);
    Element textarea = doc.selectFirst("textarea");
    String text = textarea.wholeText();
    assertEquals("    Sample text with   extra   spaces.\n    New line.", text);
}