public void testCustomDeserializerWithParentObjectUpdate() throws IOException {
    ObjectMapper mapper = new ObjectMapper();
    SimpleModule module = new SimpleModule();
    module.addDeserializer(DataA.class, new DataADeserializer());
    mapper.registerModule(module);

    DataB originalDataB = new DataB();
    originalDataB.da.i = 11;
    originalDataB.k = 13;
    String jsonString = mapper.writeValueAsString(originalDataB);
    JsonNode jsonNode = mapper.valueToTree(originalDataB);

    // update parent with JsonNode
    DataB dataToUpdate = new DataB();
    assertEquals(1, dataToUpdate.da.i);
    assertEquals(3, dataToUpdate.k);

    // This part reproduces the failure
    try {
        mapper.readerForUpdating(dataToUpdate).readValue(jsonNode);
        fail("Expected UnrecognizedPropertyException");
    } catch (UnrecognizedPropertyException e) {
        assertTrue(e.getMessage().contains("Unrecognized field \"i\""));
    }
}