public void testExternalPropertyEnumDeserialization() throws IOException {
    String json = "{ \"kind\": \"CONTACT\", \"to\": { \"name\": \"Foo\" } }";
    
    ObjectMapper mapper = new ObjectMapper();
    mapper.registerModule(new KotlinModule());
    mapper.registerSubtypes(new NamedType(ContactInvite.class, "CONTACT"));
    
    Invite invite = mapper.readValue(json, Invite.class);
    
    assertNotNull(invite);
    assertEquals(Kind.CONTACT, invite.getKind());
    assertEquals("Foo", ((ContactInvite) invite).getTo().getName());
}