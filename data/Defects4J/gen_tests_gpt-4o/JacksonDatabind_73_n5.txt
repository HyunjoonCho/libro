
import com.fasterxml.jackson.annotation.JsonProperty;
import com.fasterxml.jackson.databind.ObjectMapper;
import org.junit.Test;
import static org.junit.Assert.*;

public class TestPojoTest {

    public static class TestPojo {
        private String firstName;
        private String lastName;

        @JsonProperty(access = JsonProperty.Access.READ_ONLY)
        public String getFullName() {
            return firstName + " " + lastName;
        }

        public String getFirstName() {
            return firstName;
        }

        public void setFirstName(String firstName) {
            this.firstName = firstName;
        }

        public String getLastName() {
            return lastName;
        }

        public void setLastName(String lastName) {
            this.lastName = lastName;
        }
    }

    @Test
    public void testReadOnlyJsonProperty() throws Exception {
        ObjectMapper mapper = new ObjectMapper();
        String jsonInput = "{\"firstName\": \"John\", \"lastName\": \"Doe\", \"fullName\": \"Should Not Update\"}";

        TestPojo pojo = mapper.readerFor(TestPojo.class).readValue(jsonInput);

        assertEquals("John", pojo.getFirstName());
        assertEquals("Doe", pojo.getLastName());
        assertEquals("John Doe", pojo.getFullName());

        // Ensure that the "fullName" property in JSON input does not affect the actual "fullName" computation
        assertNotEquals("Should Not Update", pojo.getFullName());
    }
}
