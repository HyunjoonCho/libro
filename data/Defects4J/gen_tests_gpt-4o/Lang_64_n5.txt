
import org.apache.commons.lang.enums.ValuedEnum;
import static org.junit.Assert.*;
import org.junit.Test;

public class ValuedEnumTest {

    @Test
    public void testCompareToDifferentSubclass() {
        ValuedEnum first = new FirstEnum("FIRST", 1);
        ValuedEnum second = new SecondEnum("SECOND", 1);

        try {
            int result = first.compareTo(second);
            fail("Expected ClassCastException or incorrect comparison for different subclasses with the same value.");
        } catch (ClassCastException e) {
            // Expected behavior: ClassCastException for comparing different subclasses
        } catch (AssertionError e) {
            // If no exception but incorrect comparison, further investigation is needed
            assertNotEquals("Expected different subclasses to not be considered equal", 0, first.compareTo(second));
        }
    }

    private static class FirstEnum extends ValuedEnum {
        protected FirstEnum(String name, int value) {
            super(name, value);
        }
    }

    private static class SecondEnum extends ValuedEnum {
        protected SecondEnum(String name, int value) {
            super(name, value);
        }
    }
}
