
import com.google.javascript.jscomp.CommandLineRunner;
import org.junit.Test;

public class CompilerCrashTest {

    @Test(expected = RuntimeException.class)
    public void testGoogProvideWithNonString() {
        String[] args = {
            "--js", "input.js" // Assuming 'input.js' contains the problematic code below
        };
        
        String sourceCode = "goog.provide(mine.Spike);"; // The problematic code
        try {
            CommandLineRunner runner = new CommandLineRunner(args);
            runner.setInputConfig("input.js", sourceCode);
            runner.doRun();
        } catch (RuntimeException e) {
            if (e.getMessage().contains("INTERNAL COMPILER ERROR")) {
                throw e; // Rethrow the exception to satisfy the test case expectation
            }
        }
    }
}
