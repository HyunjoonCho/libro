
import org.junit.Test;
import org.mozilla.javascript.Context;
import org.mozilla.javascript.Scriptable;
import org.mozilla.javascript.EvaluatorException;

import static org.junit.Assert.*;

public class RhinoParserTest {

    @Test
    public void testQuotedPropertyName() {
        try {
            Context context = Context.enter();
            Scriptable scope = context.initStandardObjects();

            // Attempt to execute the script with a quoted property name in a getter
            String script = "var obj = { get 'x'() { return 1; } };";
            context.evaluateString(scope, script, "testScript", 1, null);

        } catch (EvaluatorException e) {
            fail("Quoted property name should not cause a parse error: " + e.getMessage());
        } finally {
            Context.exit();
        }
    }

    @Test
    public void testNumericPropertyName() {
        try {
            Context context = Context.enter();
            Scriptable scope = context.initStandardObjects();

            // Attempt to execute the script with a numeric property name in a getter
            String script = "var obj = { get 1() { return 1; } };";
            context.evaluateString(scope, script, "testScript", 1, null);

        } catch (EvaluatorException e) {
            fail("Numeric property name should not cause a parse error: " + e.getMessage());
        } finally {
            Context.exit();
        }
    }
}
