public void testManageClosureDependenciesWithWhitespaceOnly() {
    CompilerOptions options = new CompilerOptions();
    options.setCompilationLevel(CompilationLevel.WHITESPACE_ONLY);
    options.setManageClosureDependencies(true);

    SourceFile input = SourceFile.fromCode("input.js", "goog.require('example'); var a = function() {};");

    Compiler compiler = new Compiler();
    Result result = compiler.compile(Collections.emptyList(), Collections.singletonList(input), options);

    assertTrue("Dependencies should be managed even at WHITESPACE_ONLY level", result.success);
    assertTrue("Output should be empty as no code includes 'example'", compiler.toSource().isEmpty());
}