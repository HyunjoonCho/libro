
import static org.junit.Assert.assertEquals;

import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Date;

import org.apache.commons.lang3.time.FastDateFormat;
import org.junit.Test;

public class FastDateFormatTest {

    @Test
    public void testYearFormattingWithYPattern() throws ParseException {
        // Define the date to be formatted
        SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");
        Date date = sdf.parse("2003-01-01");

        // Format using SimpleDateFormat with 'Y' pattern (Java 7 behavior)
        SimpleDateFormat simpleDateFormat = new SimpleDateFormat("Y");
        String formattedSimpleDate = simpleDateFormat.format(date);

        // Format using FastDateFormat with 'Y' pattern
        FastDateFormat fastDateFormat = FastDateFormat.getInstance("Y");
        String formattedFastDate = fastDateFormat.format(date);

        // Assertion to compare the outputs: FastDateFormat should mimic the behavior of SimpleDateFormat in Java 7
        assertEquals("FastDateFormat and SimpleDateFormat should format 'Y' pattern the same in year context", 
                     formattedSimpleDate, formattedFastDate);
    }

    @Test
    public void testYearFormattingWithYYYPAttern() throws ParseException {
        // Define the date to be formatted
        SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");
        Date date = sdf.parse("2003-01-01");

        // Format using SimpleDateFormat with 'YYY' pattern (Java 7 behavior)
        SimpleDateFormat simpleDateFormat = new SimpleDateFormat("YYY");
        String formattedSimpleDate = simpleDateFormat.format(date);

        // Format using FastDateFormat with 'YYY' pattern
        FastDateFormat fastDateFormat = FastDateFormat.getInstance("YYY");
        String formattedFastDate = fastDateFormat.format(date);

        // Assertion to compare the outputs: FastDateFormat should mimic the behavior of SimpleDateFormat in Java 7
        assertEquals("FastDateFormat and SimpleDateFormat should format 'YYY' pattern the same in year context", 
                     formattedSimpleDate, formattedFastDate);
    }
}
