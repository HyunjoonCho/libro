public void testTypeCheckerWithFunctionInFunction() {
    // Define the scenario with ns.a defined inside an anonymous function
    String script = 
        "var ns = {};\n" +
        "(function() {\n" +
        "    /** @param {string=} b */\n" +
        "    ns.a = function(b) {}\n" +
        "})();\n" +
        "\n" +
        "function d() {\n" +
        "    ns.a();\n" +
        "    ns.a(123);\n" +
        "}";

    // Assume `compile` is a method to compile the code with VERBOSE warning level
    // and `checkWarnings` is a method to assert if the expected warnings are as expected
    WarningHandler warningHandler = compile(script, WarningLevel.VERBOSE);
    checkWarnings(warningHandler, 
                  "expected warning for call ns.a(123)", 
                  "No warning for calling with incorrect type");
}