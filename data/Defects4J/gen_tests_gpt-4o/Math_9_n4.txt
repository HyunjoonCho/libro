
import org.apache.commons.math3.geometry.euclidean.threed.Line;
import org.apache.commons.math3.geometry.euclidean.threed.Vector3D;
import org.junit.Test;

import static org.junit.Assert.assertEquals;

public class LineRevertTest {

    @Test
    public void testLineRevertPrecision() {
        // Original line with a precise direction
        Vector3D point = new Vector3D(1e9, 1e9, 1e9);
        Vector3D direction = new Vector3D(1, 1, 1);
        Line line = new Line(point, direction, 1e-10);

        // Revert the line
        line.revert();

        // Check precision of the reverted line's direction
        Vector3D expectedDirection = direction.negate();
        Vector3D actualDirection = line.getDirection();

        assertEquals(expectedDirection.getX(), actualDirection.getX(), 1e-10);
        assertEquals(expectedDirection.getY(), actualDirection.getY(), 1e-10);
        assertEquals(expectedDirection.getZ(), actualDirection.getZ(), 1e-10);
    }
}
