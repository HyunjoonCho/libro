
import org.apache.commons.cli.HelpFormatter;
import org.junit.Test;

import static org.junit.Assert.*;

public class HelpFormatterTest {

    @Test(expected = StringIndexOutOfBoundsException.class)
    public void testFindWrapPosOutOfBounds() {
        HelpFormatter helpFormatter = new HelpFormatter();

        String text = "This is a sample text that is long enough to require wrapping.";
        int wrapPos = 15;
        int startPos = text.length(); // Set startPos equal to text length to force the edge case

        // This should trigger the StringIndexOutOfBoundsException according to the bug report
        helpFormatter.findWrapPos(text, wrapPos, startPos);
    }
}
