
import com.fasterxml.jackson.dataformat.xml.XmlFactory;
import com.fasterxml.jackson.dataformat.xml.XmlMapper;
import com.fasterxml.jackson.dataformat.xml.XmlParser;
import com.fasterxml.jackson.dataformat.xml.deser.FromXmlParser;
import com.fasterxml.jackson.databind.JsonNode;
import org.junit.Test;
import java.io.IOException;
import static org.junit.Assert.*;

public class FromXmlParserTest {

    @Test
    public void testNextTextValueForAttributes() throws IOException {
        String xml = "<root attribute=\"value\">text</root>";
        XmlFactory factory = new XmlFactory();
        XmlMapper mapper = new XmlMapper(factory);

        try (FromXmlParser parser = (FromXmlParser) mapper.getFactory().createParser(xml)) {
            assertTrue(parser.nextToken().isStructStart());  // Start of root element
            assertEquals("value", parser.nextTextValue());   // Next text value should be attribute's value
            assertEquals("text", parser.nextTextValue());    // Next text value should be element text
        }
    }
}
