public void testAnonymousObjectTypeInference() {
    try {
        ScriptEngine engine = new ScriptEngineManager().getEngineByName("nashorn");
        engine.eval("/**\n" + 
                    " * @param {{prop1: string, prop2: (number|undefined)}} parry\n" +
                    " * @constructor\n" +
                    " */\n" +
                    "function callz(parry) {\n" +
                    " if (parry.prop2 && parry.prop2 < 5) alert('alright!');\n" +
                    " alert(parry.prop1);\n" +
                    "}\n" +
                    "new callz({prop1: 'hi'});");
        fail("Expected a script exception due to missing 'prop2'");
    } catch (ScriptException e) {
        assertTrue(e.getMessage().contains("found : {prop1: string}\nrequired: {prop1: string, prop2: (number|undefined)}"));
    }
}