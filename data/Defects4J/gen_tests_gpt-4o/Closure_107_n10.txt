public void testVariableNameWithPrefixMSG() {
    String jsCode = "var MSG_foo='bar';";
    CompilationLevel level = CompilationLevel.ADVANCED_OPTIMIZATIONS;
    CompilerOptions options = new CompilerOptions();
    level.setOptionsForCompilationLevel(options);

    Compiler compiler = new Compiler();
    SourceFile input = SourceFile.fromCode("input.js", jsCode);
    Result result = compiler.compile(Collections.emptyList(), Collections.singletonList(input), options);

    assertFalse(result.success);
    assertTrue(compiler.getErrors()[0].getDescription().contains("message not initialized using goog.getMsg"));
}