
import org.junit.Test;
import static org.junit.Assert.*;

public class IfStatementBugTest {

    @Test
    public void testIfStatement() {
        int[][] es = new int[2][2];
        es[0][0] = 1; // Setting this to 1 to satisfy the if condition

        int esi = 1; // Initial index

        // Original code snippet
        if (es[--esi][es[esi + 1]] == 1) {
            es[esi] = 0;
        } else {
            es[esi] = 1;
        }

        // Expected and incorrect transformation outputs
        int incorrectTransformationResult = es[esi] = (1 == es[--esi][es[esi + 1]] ? 0 : 1);
        int correctTransformationResult = es[--esi] = (1 == es[esi][es[esi + 1]] ? 0 : 1);

        // Validating the incorrect transformation with the expected correct behavior
        assertEquals(correctTransformationResult, es[esi]); // This fails if the transformation is incorrect
    }
}
