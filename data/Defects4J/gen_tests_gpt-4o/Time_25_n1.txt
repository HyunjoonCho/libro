
import static org.junit.Assert.assertEquals;

import org.joda.time.DateTime;
import org.joda.time.DateTimeZone;
import org.junit.Test;

public class DateTimeZoneTest {

    @Test
    public void testDSTTransitionOffset() {
        DateTimeZone zone = DateTimeZone.forID("America/Los_Angeles");

        // During the DST transition
        DateTime when1 = new DateTime(2009, 11, 1, 0, 30, 0, 0, zone);
        DateTime when2 = new DateTime(2009, 11, 1, 1, 30, 0, 0, zone);
        DateTime when3 = new DateTime(2009, 11, 1, 2, 30, 0, 0, zone);

        // when1 should be -07:00 (PDT)
        assertEquals("-07:00", when1.toString().substring(19));

        // when2 is ambiguous due to DST ending, should be -08:00 (PST)
        assertEquals("-08:00", when2.toString().substring(19));

        // when3 should be -08:00 (PST)
        assertEquals("-08:00", when3.toString().substring(19));
    }
}
