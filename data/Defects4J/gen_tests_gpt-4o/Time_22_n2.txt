public void testDurationToPeriodWithTimeZone() {
    // Set default timezone to GMT
    DateTimeZone.setDefault(DateTimeZone.forID("Etc/GMT"));
    Duration aDuration = new Duration(
        DateTimeConstants.MILLIS_PER_HOUR * 30 +
        DateTimeConstants.MILLIS_PER_MINUTE * 50 +
        DateTimeConstants.MILLIS_PER_SECOND * 14
    );
    Period periodGMT = aDuration.toPeriod();
    assertEquals(1, periodGMT.getDays());
    assertEquals(6, periodGMT.getHours());
    assertEquals(50, periodGMT.getMinutes());
    assertEquals(14, periodGMT.getSeconds());
    
    // Set default timezone to America/Chicago
    DateTimeZone.setDefault(DateTimeZone.forID("America/Chicago"));
    Period periodChicago = aDuration.toPeriod();
    assertEquals(30, periodChicago.getHours());
    assertEquals(50, periodChicago.getMinutes());
    assertEquals(14, periodChicago.getSeconds());
}