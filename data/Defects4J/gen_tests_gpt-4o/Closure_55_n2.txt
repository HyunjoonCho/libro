
import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.CompilerOptions;
import com.google.javascript.jscomp.JSSourceFile;
import com.google.javascript.jscomp.Result;
import org.junit.Test;

import static org.junit.Assert.assertFalse;

public class GetterCompilationTest {

    @Test
    public void testGetterCompilation() {
        Compiler compiler = new Compiler();
        CompilerOptions options = new CompilerOptions();

        // JavaScript code with a getter that triggers the bug
        String jsCode = "var obj = { get name() { return 'test'; } };";

        // Compile the JavaScript code
        Result result = compiler.compile(
            JSSourceFile.fromCode("externs.js", ""), // Externs required by the compiler
            JSSourceFile.fromCode("test.js", jsCode),
            options
        );

        // Ensure that there are errors indicating the bug
        assertFalse("Expected compilation to fail due to a known bug", result.success);
    }
}
