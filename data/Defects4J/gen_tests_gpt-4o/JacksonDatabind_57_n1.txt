public void testObjectReaderReadValuesUsesOffsetAndLength() {
    byte[] fullInput = new byte[] {1, 2, 3, 4, 5};
    byte[] expectedData = new byte[] {2, 3, 4};

    ObjectReader reader = new ObjectMapper().readerFor(byte[].class);
    InputStream byteArrayInputStream = new ByteArrayInputStream(fullInput, 1, 3);

    try {
        byte[] result = reader.readValue(byteArrayInputStream);
        assertArrayEquals(expectedData, result);
    } catch (IOException e) {
        fail("IOException was thrown: " + e.getMessage());
    }
}