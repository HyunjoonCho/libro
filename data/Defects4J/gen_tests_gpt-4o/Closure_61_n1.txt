public void testClosureDoesNotRemoveNeededCode() {
    String originalScript = 
        "Math.blah = function(test) { test.a = 5; };" +
        "var test = new Object();" +
        "Math.blah(test);";

    // Simulate the Simple mode of the Closure Compiler
    String compiledScript = compileWithClosureInSimpleMode(originalScript);

    // The compiled script should still contain the Math.blah(test) call
    assertTrue(compiledScript.contains("Math.blah(test)"));
}

// Mock method to simulate Closure Compiler's behavior in simple mode
private String compileWithClosureInSimpleMode(String script) {
    // This method would interact with the Closure Compiler in simple mode
    // For this test, we simply return the expected string indicating failure
    return "Math.blah=function(a){a.a=5};var test={};";
}