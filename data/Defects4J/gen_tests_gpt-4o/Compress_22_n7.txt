public void testBZip2CompressorInputStreamTruncated() throws IOException {
    // Truncated BZ2 data (mock data for testing purposes)
    byte[] truncatedBz2Data = {/* some specific bz2 truncated data */};
    
    // Expected byte count that CPython's bz2 implementation reads
    int expectedBytes = 770;
    
    // Actual reading using BZip2CompressorInputStream
    ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(truncatedBz2Data);
    BZip2CompressorInputStream bZip2InputStream = new BZip2CompressorInputStream(byteArrayInputStream, true);
    
    byte[] buffer = new byte[1024];
    int bytesRead = 0;
    int totalBytesRead = 0;
    
    while ((bytesRead = bZip2InputStream.read(buffer)) != -1) {
        totalBytesRead += bytesRead;
    }
    
    assertEquals("BZip2CompressorInputStream should read 770 bytes from truncated file", expectedBytes, totalBytesRead);
}