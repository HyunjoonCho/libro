
import org.apache.commons.jxpath.JXPathContext;
import org.junit.Test;

import java.util.HashMap;
import java.util.Map;

import static org.junit.Assert.*;

public class NullHandlingTest {

    @Test
    public void testNullHandlingWithJXPath() {
        Map<String, Integer> map = new HashMap<>();
        map.put("a", 1);
        map.put("b", null);
        map.put("c", 1);
        JXPathContext context = JXPathContext.newContext(map);

        // Test that 'a != b' should be true
        assertTrue("Expected 'a != b' to be true", (Boolean) context.getValue("a != b"));

        // Test that 'a != c' should be false
        assertFalse("Expected 'a != c' to be false", (Boolean) context.getValue("a != c"));

        // Test that 'a = b' should be false
        assertFalse("Expected 'a = b' to be false", (Boolean) context.getValue("a = b"));

        // Test that 'a = c' should be true
        assertTrue("Expected 'a = c' to be true", (Boolean) context.getValue("a = c"));

        // Test that 'not(a = b)' should be true
        assertTrue("Expected 'not(a = b)' to be true", (Boolean) context.getValue("not(a = b)"));

        // Test that 'not(a = c)' should be false
        assertFalse("Expected 'not(a = c)' to be false", (Boolean) context.getValue("not(a = c)"));
    }
}
