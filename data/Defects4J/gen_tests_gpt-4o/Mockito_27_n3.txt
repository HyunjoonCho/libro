
import org.junit.Test;
import org.mockito.Mockito;

public class ExceptionStubbingTest {

    @Test(expected = IllegalArgumentException.class)
    public void testStubbingMultipleExceptions() {
        // Create a mock object
        Object mockObject = Mockito.mock(Object.class);
        
        // Stub the method to throw a RuntimeException
        Mockito.when(mockObject.toString()).thenThrow(RuntimeException.class);
        
        // Attempt to stub the method again to throw a different exception
        // According to the bug report, this line will actually cause a RuntimeException to be thrown,
        // instead of correctly stubbing with IllegalArgumentException as intended.
        Mockito.when(mockObject.toString()).thenThrow(IllegalArgumentException.class);
        
        // Invoke the method, expecting an IllegalArgumentException
        mockObject.toString(); // This should throw IllegalArgumentException according to the bug report, but throws RuntimeException
    }
}
