public void testJsoupCleanStackOverflowError() {
    StringBuilder html = new StringBuilder();
    html.append("<div>");
    for (int i = 0; i < 24205; i++) {
        html.append("<wbr>");
    }
    html.append("</div>");

    try {
        Whitelist whitelist = Whitelist.basic();
        org.jsoup.nodes.Document dirtyDoc = org.jsoup.Jsoup.parseBodyFragment(html.toString());
        Cleaner cleaner = new Cleaner(whitelist);
        org.jsoup.nodes.Document cleanDoc = cleaner.clean(dirtyDoc);
        fail("Expected StackOverflowError not thrown");
    } catch (StackOverflowError e) {
        // expected
    }
}