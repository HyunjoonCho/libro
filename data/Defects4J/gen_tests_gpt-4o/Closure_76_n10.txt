public void testAssignmentsWithinConditions() {
    boolean resultOriginal = reductionOriginal();
    boolean resultCompiled = reductionCompiled();
    assertEquals(true, resultOriginal);
    assertEquals(true, resultCompiled);
}

private boolean reductionOriginal() {
    boolean a;
    boolean b;
    if (echo(b = true) || echo(b = false)) {
        a = b;
    } else {
        a = false;
    }
    return a;
}

private boolean reductionCompiled() {
    boolean a;
    if (echo(true) || echo(a = false)) {
        return a;
    } else {
        return false;
    }
}

private boolean echo(boolean value) {
    return value;
}