
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.jsoup.nodes.TextNode;
import org.jsoup.select.Elements;
import org.junit.Test;
import static org.junit.Assert.*;

public class JsoupJapaneseTagTest {

    @Test
    public void testJapaneseXmlParsing() {
        // XML string with Japanese tag names and values
        String xml = "<進捗推移グラフ>" +
                     "<開始予定凡例名 表示状態=\"0\" 線色=\"00CED1\">&#9312;&#35373;&#35336; &#38283;&#22987;&#20104;&#23450;</開始予定凡例名>" +
                     "</進捗推移グラフ>";

        // Parse the XML with Jsoup
        Document doc = Jsoup.parse(xml, "", org.jsoup.parser.Parser.xmlParser());
        
        // Get all elements
        Elements elements = doc.getAllElements();

        // We expect 2 elements: the root and the child element
        assertEquals(2, elements.size());

        // Check the root element
        Element rootElement = elements.get(0);
        assertEquals("進捗推移グラフ", rootElement.tagName());

        // Check the child element
        Element childElement = elements.get(1);
        assertEquals("開始予定凡例名", childElement.tagName());

        // Verify attributes
        assertEquals("0", childElement.attr("表示状態"));
        assertEquals("00CED1", childElement.attr("線色"));

        // Check the text content of the child element
        for (TextNode textNode : childElement.textNodes()) {
            String textContent = textNode.text();
            assertEquals("①" + "設定 開始予定", textContent);
        }
    }
}

