public void testCpioReportsUnexpectedEOF() {
    File input = getFile("cmdcreated.cpio");
    try (InputStream in = new FileInputStream(input);
         CpioArchiveInputStream cin = new CpioArchiveInputStream(in)) {

        CpioArchiveEntry entry = null;
      
        while ((entry = (CpioArchiveEntry) cin.getNextCPIOEntry()) != null) {
            // Attempt to extract files
            File target = new File("target_directory", entry.getName());
            try (OutputStream out = new FileOutputStream(target)) {
                IOUtils.copy(cin, out);
            }
        }
    } catch (EOFException e) {
        fail("Unexpected EOFException: " + e.getMessage());
    } catch (IOException e) {
        fail("IOException occurred: " + e.getMessage());
    }
}