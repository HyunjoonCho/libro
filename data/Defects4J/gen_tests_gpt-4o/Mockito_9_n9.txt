
import static org.junit.Assert.*;
import static org.mockito.Mockito.*;

import org.junit.Test;

public class AbstractClassSpyTest {
    
    abstract class AbstractClass {
        public String callAbstractMethod() {
            return concreteMethod();
        }
        
        protected abstract String concreteMethod();
    }

    @Test
    public void testSpyOnAbstractClass() {
        // Create a spy for the abstract class
        AbstractClass spy = spy(AbstractClass.class);

        // Define behavior for the abstract method
        doReturn("Mocked Response").when(spy).concreteMethod();
        
        // Call the concrete method which invokes the abstract method
        String result = spy.callAbstractMethod();

        // Verify the behavior
        assertEquals("Mocked Response", result);

        // Verify that the abstract method was called
        verify(spy).concreteMethod();
    }
}
