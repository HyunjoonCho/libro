public void testWrongTypeNameReportedOnMissingPropertyError() {
    Compiler compiler = new Compiler();
    CompilerOptions options = new CompilerOptions();
    options.setWarningLevel(DiagnosticGroup.forName("unusedPrivateMembers"), CheckLevel.WARNING);
    String code = "/**\n" +
                  " * @constructor\n" +
                  " */\n" +
                  "function C2() {}\n" +
                  "/**\n" +
                  " * @constructor\n" +
                  " */\n" +
                  "function C3(c2) {\n" +
                  " /**\n" +
                  "  * @type {C2}\n" +
                  "  * @private\n" +
                  "  */\n" +
                  " this.c2_;\n" +
                  " use(this.c2_.prop);\n" +
                  "}\n";
    compiler.compile(SourceFile.fromCode("externs", ""), SourceFile.fromCode("test", code), options);
    JSError[] errors = compiler.getWarnings();
    assertEquals(1, errors.length);
    assertTrue(errors[0].description.contains("Property prop never defined on C2"));
}