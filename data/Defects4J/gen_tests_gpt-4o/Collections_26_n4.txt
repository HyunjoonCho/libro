public void testMultiKeySubclassDeserialization() throws IOException, ClassNotFoundException {
    class MultiKey2<A, B> extends MultiKey {
        private static final long serialVersionUID = 1928896152249821416L;

        public MultiKey2(A key1, B key2) {
            super(key1, key2);
        }
    }

    MultiKey2<String, String> originalKey = new MultiKey2<>("key1", "key2");
    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    ObjectOutputStream oos = new ObjectOutputStream(bos);
    oos.writeObject(originalKey);
    oos.close();

    ObjectInputStream ois = new ObjectInputStream(new ByteArrayInputStream(bos.toByteArray()));
    MultiKey2<String, String> deserializedKey = (MultiKey2<String, String>) ois.readObject();

    assertEquals("hashCode does not match after deserialization", originalKey.hashCode(), deserializedKey.hashCode());
}