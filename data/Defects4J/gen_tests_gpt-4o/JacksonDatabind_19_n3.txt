
import com.fasterxml.jackson.databind.ObjectMapper;
import org.junit.Test;

import java.util.Properties;

import static org.junit.Assert.assertEquals;

public class PropertiesSerializationTest {

    @Test
    public void testPropertiesSerialization() throws Exception {
        ObjectMapper objectMapper = new ObjectMapper();
        Properties props = new Properties();
        props.put("key1", "value1");
        props.put("key2", 100); // Non-String value

        // Serialize to JSON
        String json = objectMapper.writeValueAsString(props);

        // Deserialize back to Properties
        Properties resultProps = objectMapper.readValue(json, Properties.class);

        // Check if the non-String value was coerced to String and correctly deserialized
        assertEquals("value1", resultProps.getProperty("key1"));
        assertEquals("100", resultProps.getProperty("key2"));
    }
}
