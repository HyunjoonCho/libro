public void testSuperNotReplaced() {
    String originalJs = "function Bar() {} Bar.prototype.method = function($super) { return $super; };";
    Compiler compiler = new Compiler();
    CompilerOptions options = new CompilerOptions();
    CompilationLevel.ADVANCED_OPTIMIZATIONS.setOptionsForCompilationLevel(options);
    compiler.compile(SourceFile.fromCode("externs.js", ""), SourceFile.fromCode("test.js", originalJs), options);
    String compiledCode = compiler.toSource();
    assertFalse("Compiled code should not replace $super", compiledCode.contains("$super$$"));
}