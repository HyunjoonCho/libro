public void testBigDecimalOutOfMemoryError() {
    try {
        ObjectMapper mapper = new ObjectMapper().enable(JsonGenerator.Feature.WRITE_BIGDECIMAL_AS_PLAIN);
        mapper.writeValueAsString(new java.math.BigDecimal("9.223372E+1010671858"));
        fail("Expected OutOfMemoryError not thrown");
    } catch (OutOfMemoryError e) {
        assertTrue(e.getMessage().contains("Java heap space"));
    }
}