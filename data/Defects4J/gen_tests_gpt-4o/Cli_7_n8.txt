public void testRequiredOptions() {
    CommandLineParser parser = new DefaultParser();
    Options options = new Options();
    
    options.addOption("h", false, "help");
    options.addOption("c", true, "config");

    CommandLine cmd = parser.parse(options, new String[]{"-c", "myConfig"});
    assertTrue("Option -c should be present", cmd.hasOption("c"));
    assertFalse("Option -h should not be present", cmd.hasOption("h"));
    
    assertEquals("myConfig", cmd.getOptionValue("c"));
}