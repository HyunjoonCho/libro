public void testDefaultPrettyPrinterCreateInstanceWithSubclass() {
    DefaultPrettyPrinter subclassInstance = new DefaultPrettyPrinter() {
        // Subclass without overriding createInstance()
    };
    try {
        DefaultPrettyPrinter newInstance = subclassInstance.createInstance();
        fail("Expected a failure when calling createInstance() on a subclass of DefaultPrettyPrinter without overriding");
    } catch (IllegalStateException e) {
        assertEquals("Subclasses must override createInstance() method to avoid creation of incorrect instance type.", e.getMessage());
    }
}