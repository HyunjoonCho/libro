
import static org.junit.Assert.assertArrayEquals;
import org.apache.commons.compress.archivers.tar.TarUtils;
import org.junit.Test;

public class TarUtilsTest {

    @Test
    public void testFormatLongOctalOrBinaryBytes() {
        byte[] buffer = new byte[8];
        long valueToTest = 127; // A small value example that can fit in 9 bytes

        // Format with formatLongOctalOrBinaryBytes
        TarUtils.formatLongOctalOrBinaryBytes(valueToTest, buffer, 0, buffer.length);

        // Manually formatting with formatLongBinary since length < 9
        byte[] expectedBuffer = new byte[8];
        TarUtils.formatLongBinary(valueToTest, expectedBuffer, 0, expectedBuffer.length);

        assertArrayEquals("The formatted bytes should match the expected binary format.", expectedBuffer, buffer);
    }
}
