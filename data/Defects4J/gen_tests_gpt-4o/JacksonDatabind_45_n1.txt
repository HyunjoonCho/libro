public void testExplicitShapeNumberPrecedence() {
    ObjectMapper mapper = new ObjectMapper();
    mapper.enable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);
    mapper.setLocale(Locale.UK);
    
    SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");
    Date date = sdf.parse("2021-12-25");
    
    class TestClass {
        @JsonFormat(shape = JsonFormat.Shape.NUMBER)
        public Date date = date;
    }

    String result = mapper.writeValueAsString(new TestClass());
    assertTrue(result.contains(String.valueOf(date.getTime())));
}