public void testTreeTraversingParserBase64Variant() throws IOException {
    String base64Url = "AQIDBA=="; // Base64 URL variant encoding for {1, 2, 3, 4}
    StringNode textNode = new TextNode(base64Url);

    JsonNodeFactory nodeFactory = JsonNodeFactory.instance;
    ObjectNode rootNode = nodeFactory.objectNode();
    rootNode.set("binary", textNode);

    TreeTraversingParser parser = new TreeTraversingParser(rootNode);
    parser.nextToken(); // Start object
    parser.nextToken(); // Move to "binary" field

    Base64Variant base64Variant = Base64Variants.MODIFIED_FOR_URL;
    byte[] expected = new Base64Decoder(base64Variant).decode(base64Url);

    parser.setCodec(new ObjectMapper());
    byte[] result = parser.getBinaryValue(base64Variant);

    assertArrayEquals(expected, result);
}