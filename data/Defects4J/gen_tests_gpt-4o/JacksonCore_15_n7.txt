public void testAllowMultipleMatchesInFilteringParserDelegate() throws IOException {
    String json = "{\"name\":\"Alice\",\"age\":30,\"city\":\"Wonderland\",\"age\":25}";

    JsonParser parser = new JsonFactory().createParser(new StringReader(json));
    TokenFilter filter = new TokenFilter() {
        @Override
        public TokenFilter includeProperty(String name) {
            return "age".equals(name) ? TokenFilter.INCLUDE_ALL : null;
        }
    };

    FilteringParserDelegate delegate = new FilteringParserDelegate(
        parser, filter, false, false);

    List<Integer> ages = new ArrayList<>();
    while (delegate.nextToken() != null) {
        if (delegate.currentToken() == JsonToken.VALUE_NUMBER_INT) {
            ages.add(delegate.getIntValue());
        }
    }

    assertEquals(1, ages.size());
}