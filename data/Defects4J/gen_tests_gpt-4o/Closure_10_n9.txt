public void testTernaryOperatorWithMixedTypes() {
    String compiledCode = compileWithClosureCompiler("var a = (Math.random() > 0.5 ? '1' : 2) + 3 + 4;");
    assertFalse("Compiled code uses mixed type incorrectly", compiledCode.contains("(0.5 < Math.random() ? 1 : 2) + 7"));
}