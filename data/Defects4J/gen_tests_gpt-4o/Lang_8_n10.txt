
import org.apache.commons.lang3.time.FastDateFormat;
import org.junit.Test;

import java.util.Calendar;
import java.util.TimeZone;

import static org.junit.Assert.assertEquals;

public class FastDateFormatTest {

    @Test
    public void testTimeZoneFormattingWithCalendar() {
        // Prepare a calendar instance with a specified timezone
        TimeZone easternTimeZone = TimeZone.getTimeZone("US/Eastern");
        Calendar calendar = Calendar.getInstance(easternTimeZone);
        calendar.set(2023, Calendar.OCTOBER, 15, 10, 0, 0); // arbitrary date and time

        // Format the calendar using FastDateFormat with pattern including time and timezone
        FastDateFormat fastDateFormat = FastDateFormat.getInstance("h:mma z");

        // Format the calendar instance
        String formattedDate = fastDateFormat.format(calendar);

        // Assert the formatted timezone part to match with the specified calendar timezone
        // The time should be 10:00 AM Eastern Time, ensuring the 'z' reflects the specified timezone
        assertEquals("10:00AM EDT", formattedDate);
    }
}
