public void testReproducibleCrashWithSwitch() {
    String jsCode = "function a(b) {\n" +
                    "  switch (b.v) {\n" +
                    "    case 'SWITCH':\n" +
                    "      if (b.i >= 0) {\n" +
                    "        return b.o;\n" +
                    "      } else {\n" +
                    "        return undefined;\n" +
                    "      }\n" +
                    "      break;\n" +
                    "  }\n" +
                    "}";
    try {
        // Assuming compileJavaScript is a utility method to compile JS
        compileJavaScript(jsCode);
        fail("Expected RuntimeException to be thrown");
    } catch (RuntimeException e) {
        assertTrue(e.getMessage().contains("INTERNAL COMPILER ERROR"));
    }
}