
import static org.junit.Assert.fail;

import org.junit.Test;
import org.mozilla.javascript.Context;
import org.mozilla.javascript.Scriptable;
import org.mozilla.javascript.EvaluatorException;

public class RhinoParserTest {
    
    @Test
    public void testNumbersAndQuotedPropertyNames() {
        Context context = Context.enter();
        context.setLanguageVersion(Context.VERSION_ES5);

        try {
            Scriptable scope = context.initStandardObjects();
            
            // Test with quoted property name
            String scriptWithQuotedPropertyName = "var x = { get 'x'() { return 1 } };";
            try {
                context.compileString(scriptWithQuotedPropertyName, "scriptWithQuotedPropertyName", 1, null);
            } catch (EvaluatorException e) {
                fail("Parsing quoted property name should not throw an exception: " + e.getMessage());
            }

            // Test with numeric property name
            String scriptWithNumericPropertyName = "var x = { get 1() { return 1 } };";
            try {
                context.compileString(scriptWithNumericPropertyName, "scriptWithNumericPropertyName", 1, null);
            } catch (EvaluatorException e) {
                fail("Parsing numeric property name should not throw an exception: " + e.getMessage());
            }
            
        } finally {
            Context.exit();
        }
    }
}
