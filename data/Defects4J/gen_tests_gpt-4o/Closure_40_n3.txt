public void testSmartNameRemovalCrash() {
    try {
        String javascriptCode = 
            "var goog = {};\n" +
            "goog.inherits = function(x, y) {};\n" +
            "var ns = {};\n" +
            "/** @constructor */ ns.PageSelectionModel = function(){};\n" +
            "/** @constructor */ \n" +
            "ns.PageSelectionModel.FooEvent = function() {};\n" +
            "/** @constructor */ \n" +
            "ns.PageSelectionModel.SelectEvent = function() {};\n" +
            "goog.inherits(ns.PageSelectionModel.ChangeEvent, ns.PageSelectionModel.FooEvent);";

        // Assuming there's a compile method in the testing framework to perform the compilation
        compileJavaScript(javascriptCode);
        fail("Expected a compiler crash, but none occurred.");
    } catch (IllegalStateException e) {
        // Expected exception due to the compiler crash
    }
}