script
// ==ClosureCompiler==
// @compilation_level ADVANCED_OPTIMIZATIONS
// ==/ClosureCompiler==

goog.provide('Foo');
goog.provide('Bar');

/** @constructor */
Foo = function() {};

/**
 * @param {number} a
 * @param {number} b
 * @return {number}
 */
Foo.prototype.add = function(a, b) {
    return a + b;
};

/**
 * @param {number} a
 * @param {number} b
 * @return {number}
 */
Foo.prototype.sub = goog.abstractMethod;

/**
 * @constructor
 * @extends {Foo}
 */
Bar = function() {
    goog.base(this);
};
goog.inherits(Bar, Foo);

/** @inheritDoc */
Bar.prototype.add = function(one) {
    return one;
};

/** @inheritDoc */
Bar.prototype.sub = function(one) {
    return one;
};

var foo = /** @type {Foo} */ (new Bar());
console.log(foo.add(3, 4)); // This should log 3 in advanced mode due to optimizations, but we expect it to be 7.

var bar = new Bar();
// THIS PRODUCES JSC_WRONG_ARGUMENT_COUNT warning
console.log(bar.add(3, 4)); // In reality, only this statement gets the warning
