
import static org.junit.Assert.assertArrayEquals;

public class IfStatementBugTest {

    // Simulates the behavior of the 'es' array and logic described in the bug report.
    private void processArray(int[][] es, int initialIndex) {
        int esi = initialIndex;
        if (es[--esi][es[esi + 1]] == 1) {
            es[esi] = new int[]{0};
        } else {
            es[esi] = new int[]{1};
        }
    }

    // Tests the bug behavior, comparing expected vs. actual outcomes.
    @org.junit.Test
    public void testIfStatementBug() {
        int[][] es = new int[10][10];
        es[4][1] = 1;  // Setup condition for the if statement to be true

        int expectedEsiIndex = 3; // As per corrected logic, --esi should apply here
        int[] expectedResult = new int[]{0};

        // Process the array with the faulty logic as per bug report
        processArray(es, 4);

        // Assert that the corrected index has the expected result
        assertArrayEquals(expectedResult, es[expectedEsiIndex]);
    }
}
