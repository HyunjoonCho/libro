public void testArchiveOutputStreamFinishMethod() throws IOException {
    ArchiveOutputStream archiveOutputStream = new ConcreteArchiveOutputStream();
    
    byte[] data = "test data".getBytes(StandardCharsets.UTF_8);
    ArchiveEntry entry = new ConcreteArchiveEntry("testEntry", data.length);
    
    archiveOutputStream.putArchiveEntry(entry);
    archiveOutputStream.write(data);
    archiveOutputStream.closeArchiveEntry();
    
    // Calling finish method directly, which should not be publicly accessible.
    archiveOutputStream.finish();
    
    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();
    archiveOutputStream.writeTo(outputStream);
    
    byte[] result = outputStream.toByteArray();
    
    assertFalse(result.length == data.length);
}