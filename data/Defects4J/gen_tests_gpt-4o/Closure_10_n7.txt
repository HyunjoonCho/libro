public void testTernaryOperatorTypeMixing() {
    String script = "var a = (Math.random() > 0.5 ? '1' : 2) + 3 + 4;";
    Result result = compileScript(script);

    String compiledCode = result.generatedCode;
    
    assertTrue("Unexpected compilation output", 
        compiledCode.contains("var a = " + ('1' + 3 + 4)) ||
        compiledCode.contains("var a = '134'"));
}