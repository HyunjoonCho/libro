public void testPrimitiveAndWrapperRefinement() {
    ObjectMapper mapper = new ObjectMapper();
    SimpleModule module = new SimpleModule();
    module.addAbstractTypeMapping(int.class, Integer.class);
    mapper.registerModule(module);

    String json = "123";
    try {
        Integer value = mapper.readValue(json, Integer.class);
        assertEquals((Integer) 123, value);
    } catch (IOException e) {
        fail("Deserialization failed with exception: " + e.getMessage());
    }
}