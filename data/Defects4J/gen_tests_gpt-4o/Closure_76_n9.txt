public void testAssignmentInCondition() {
    // Define a mock echo function for testing
    java.util.function.Function<Boolean, Boolean> echo = b -> b;

    // Original function behavior
    class Original {
        public Boolean reduction() {
            Boolean a, b;
            if (echo.apply(b = true) || echo.apply(b = false)) {
                a = b;
            } else {
                a = null;
            }
            return a;
        }
    }

    // Compiled function behavior
    class Compiled {
        public Boolean reduction() {
            Boolean a;
            return echo.apply(true) || echo.apply(a = false) ? a : null;
        }
    }

    Original original = new Original();
    Compiled compiled = new Compiled();
    
    // Check that both return the expected value
    assertEquals(Boolean.TRUE, original.reduction());
    assertEquals(Boolean.TRUE, compiled.reduction());
}