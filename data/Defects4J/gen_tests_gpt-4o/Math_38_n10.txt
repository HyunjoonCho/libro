public void testBOBYQAOptimizerInterpolationPoints() {
    int dim = 5;
    MultivariateFunction func = new MultivariateFunction() {
        public double value(double[] point) {
            return point[0] * point[0] + point[1] * point[1];
        }
    };
    GoalType goal = GoalType.MINIMIZE;
    double[] startPoint = new double[] { 1, 1 };
    double[][] boundaries = new double[][] { { -1, -1 }, { 1, 1 } };
    int maxEvaluations = 1000;

    try {
        BOBYQAOptimizer optim = new BOBYQAOptimizer(2 * dim + 2);
        optim.optimize(maxEvaluations, func, goal, startPoint, boundaries[0], boundaries[1]);
        fail("Expected an exception due to incorrect number of interpolation points.");
    } catch (MathIllegalArgumentException | MathIllegalStateException e) {
        // Expected behavior, test passes if this exception is thrown
        assertTrue(e.getMessage().contains("interpolation points"));
    }
}