public void testArgumentCaptorWithVarargs() {
    SomeService mockService = mock(SomeService.class);
    ArgumentCaptor<String> captor = ArgumentCaptor.forClass(String.class);

    mockService.someMethod("arg1", "arg2", "arg3");

    verify(mockService).someMethod(captor.capture());
    List<String> capturedArgs = captor.getAllValues();
    
    assertEquals(3, capturedArgs.size());
    assertEquals("arg1", capturedArgs.get(0));
    assertEquals("arg2", capturedArgs.get(1));
    assertEquals("arg3", capturedArgs.get(2));
}