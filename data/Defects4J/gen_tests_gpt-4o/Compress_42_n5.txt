
import org.apache.commons.compress.archivers.zip.ZipFile;
import org.apache.commons.compress.archivers.zip.ZipArchiveEntry;
import org.junit.Test;
import java.io.File;
import java.io.IOException;
import static org.junit.Assert.assertFalse;

public class ZipFileTest {

    @Test
    public void testIsUnixSymlink() throws IOException {
        // Assume invalid-entry.jar is in the resources directory of the project
        File jarFile = new File("src/test/resources/invalid-entry.jar");

        try (ZipFile zipFile = new ZipFile(jarFile)) {
            ZipArchiveEntry entryMetaInf = zipFile.getEntry("META-INF/");
            ZipArchiveEntry entryMetaInfMaven = zipFile.getEntry("META-INF/maven/");

            // Check if the symlink flag is set correctly
            assertFalse("META-INF/ should not be a symlink", entryMetaInf.isUnixSymlink());
            assertFalse("META-INF/maven/ should not be a symlink", entryMetaInfMaven.isUnixSymlink());
        }
    }
}
