public void testExternalTypeIdDeserializationWithTypeIdBeforePojo() throws IOException {
    String json = "{\"type\":\"myType\",\"data\":{\"name\":\"test\"}}";

    ObjectMapper mapper = new ObjectMapper();
    mapper.registerModule(new SimpleModule().addDeserializer(MyPojo.class, new MyPojoDeserializer()));

    MyContainer container = mapper.readValue(json, MyContainer.class);
    assertNotNull(container);
    assertEquals("myType", container.getType());
    assertNotNull(container.getData());
    assertEquals("test", container.getData().getName());
}