public void testArrayIndexOutOfBoundsExceptionBase64InputStream() {
    byte[] input = new byte[10920]; // Create a sizable input
    Arrays.fill(input, (byte) 'a');
    ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(input);
    Base64InputStream base64InputStream = new Base64InputStream(byteArrayInputStream, true, 0, null);
    
    int n = 0;
    try {
        while (base64InputStream.read() != -1) {
            n++;
        }
        fail("Expected ArrayIndexOutOfBoundsException after 10920 reads");
    } catch (ArrayIndexOutOfBoundsException e) {
        assertEquals(10920, n);
    } catch (IOException e) {
        fail("Unexpected IOException: " + e.getMessage());
    }
}