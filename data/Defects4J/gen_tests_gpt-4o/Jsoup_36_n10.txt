public void testRobustCharsetDetection() {
    String html = "<html lang=\"en-US\">"
                + "<head>"
                + "<meta charset=\"UTF-8\">"
                + "<meta http-equiv=\"Content-Type\" content=\"text/html; \">"
                + "</head>";
    
    try {
        Document doc = Jsoup.parse(html);
        assertNotNull(doc);
    } catch (IllegalCharsetNameException e) {
        fail("Charset detection failed due to an IllegalCharsetNameException");
    }
}