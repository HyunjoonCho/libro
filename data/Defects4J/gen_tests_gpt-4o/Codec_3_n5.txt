
import org.apache.commons.codec.language.DoubleMetaphone;
import org.junit.Test;

import static org.junit.Assert.assertEquals;

public class DoubleMetaphoneBugTest {

    private final DoubleMetaphone doubleMetaphone = new DoubleMetaphone();

    @Test
    public void testAlternativeEncodingAngier() {
        doubleMetaphone.setUseAlternate(true);
        String metaphone = doubleMetaphone.doubleMetaphone("Angier", true);
        assertEquals("ANJR", metaphone);
    }

    @Test
    public void testAlternativeEncodingRogier() {
        doubleMetaphone.setUseAlternate(true);
        String metaphone = doubleMetaphone.doubleMetaphone("Rogier", true);
        assertEquals("RJR", metaphone);
    }

    @Test
    public void testAlternativeEncodingCabrillo() {
        doubleMetaphone.setUseAlternate(true);
        String metaphone = doubleMetaphone.doubleMetaphone("Cabrillo", true);
        assertEquals("KPR", metaphone);
    }

    @Test
    public void testAlternativeEncodingGallegos() {
        doubleMetaphone.setUseAlternate(true);
        String metaphone = doubleMetaphone.doubleMetaphone("Gallegos", true);
        assertEquals("KKS", metaphone);
    }
}
