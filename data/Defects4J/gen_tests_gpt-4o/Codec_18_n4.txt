
import org.apache.commons.lang3.StringUtils;
import org.junit.Test;
import static org.junit.Assert.*;

public class StringUtilsEqualsTest {

    @Test(expected = StringIndexOutOfBoundsException.class)
    public void testEqualsDifferentLengthCharSequences() {
        CharSequence cs1 = "hello";         // Length 5
        CharSequence cs2 = "hello world";    // Length 11
        
        // This should not throw a StringIndexOutOfBoundsException, but due to the bug it does.
        StringUtils.equals(cs1, cs2);
    }

    /**
     * To ensure this test works correctly, we assume the bug is fixed and that
     * the method should return false instead of throwing an exception.
     * In case of the implementation being correct, adjust the expected behavior.
     */
    @Test
    public void testEqualsDifferentLengthCharSequencesFixed() {
        CharSequence cs1 = "hello";         // Length 5
        CharSequence cs2 = "hello world";    // Length 11

        // This is the expected result if the bug is fixed.
        assertFalse(StringUtils.equals(cs1, cs2));
    }
}
