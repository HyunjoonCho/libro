
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.jsoup.select.Elements;
import org.junit.Test;
import java.util.regex.PatternSyntaxException;

import static org.junit.Assert.*;

public class SelectorParsingTest {

    @Test
    public void testSelectorWithCommasInRegex() {
        // Test input that causes PatternSyntaxException
        try {
            String html = "<div>123</div><li>456,789</li><li>1011</li>";
            Document doc = Jsoup.parse(html);
            Elements elements = doc.select("div, li:matches([0-9,]+)");

            // Verify that the correct number of elements are selected
            assertEquals(2, elements.size());
            for (Element element : elements) {
                assertTrue(element.text().matches("[0-9,]+"));
            }
        } catch (PatternSyntaxException e) {
            fail("PatternSyntaxException occurred due to comma handling in regex: " + e.getMessage());
        }
    }
}
