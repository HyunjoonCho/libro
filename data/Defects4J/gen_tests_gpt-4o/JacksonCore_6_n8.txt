
import static org.junit.Assert.*;
import org.junit.Test;

import com.fasterxml.jackson.core.JsonPointer;

public class JsonPointerTest {

    @Test
    public void testInvalidJsonPointerIndex() {
        // Create a JsonPointer instance with "00"
        JsonPointer pointer = JsonPointer.compile("/00");

        // Check if it is incorrectly considered an array index
        // Even though "00" could be parsed as 0, it should be treated as a property name
        // The "assertNull" should pass, because "/00" should not be treated as an array index
        // and should not dereference from an array at index 0.
        assertNull(pointer.getMatchingIndex());
        
        // Additionally, we should ensure it matches the property name "00" instead
        String jsonString = "{\"00\": \"value\"}";
        JsonNode node = new ObjectMapper().readTree(jsonString);
        JsonNode matchedNode = node.at(pointer);
        
        assertNotNull(matchedNode);
        assertEquals("value", matchedNode.asText());
    }
}
