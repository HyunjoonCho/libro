@Test
public void testStrBuilderLengthVsSize() {
    StrBuilder strBuilder = new StrBuilder();
    strBuilder.append("Hello");
    
    // Artificially increase buffer size to simulate the issue
    strBuilder.ensureCapacity(100);

    int expectedSize = strBuilder.size();
    int bufferLength = strBuilder.buffer.length;

    // The size should reflect the number of characters, not the buffer length.
    assertEquals(expectedSize, strBuilder.length());

    // The buffer length should be equal or greater than the size due to capacity.
    assertTrue(bufferLength >= expectedSize);
}