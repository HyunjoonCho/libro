
import static org.junit.Assert.assertEquals;

import org.apache.commons.lang3.text.StrBuilder;
import org.junit.Test;

public class StrBuilderTest {

    @Test
    public void testAppendWithBufferLength() {
        StrBuilder strBuilder = new StrBuilder();
        strBuilder.append("Apache");

        // Direct access to thisBuf.length (simulating bug before using size)
        int erroneousLength = strBuilder.toString().toCharArray().length;
        
        // Correct length should use size (or length() method of StrBuilder)
        int correctLength = strBuilder.length();

        // Assuming erroneousLength was used where size should have been used:
        assertEquals("Using buffer's length directly led to incorrect behavior", correctLength, erroneousLength);
    }
}
