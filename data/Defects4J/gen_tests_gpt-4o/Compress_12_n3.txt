public void testTarArchiveInputStreamExceptionHandling() {
    byte[] corruptData = new byte[] {0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, (byte) 0xFF};
    ByteArrayInputStream bais = new ByteArrayInputStream(corruptData);
    TarArchiveInputStream tais = new TarArchiveInputStream(bais);
    try {
        tais.getNextTarEntry();
        fail("Expected an IOException due to corrupt tar input data");
    } catch (IOException e) {
        // Expected exception
    } catch (IllegalArgumentException e) {
        fail("Expected IOException, but got IllegalArgumentException instead");
    } finally {
        try {
            tais.close();
        } catch (IOException e) {
            // Ignore close exception
        }
    }
}