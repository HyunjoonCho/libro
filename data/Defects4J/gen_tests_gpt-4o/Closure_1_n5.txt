public void testFunctionArgumentsNotOptimizedAway() {
    String originalFunction = "function foo(bar, baz) { return bar; }";
    String compiledFunction = "function foo(a){return a}";
    
    int originalLength = getFunctionLength(originalFunction);
    int compiledLength = getFunctionLength(compiledFunction);
    
    assertEquals(2, originalLength);
    assertNotEquals(originalLength, compiledLength);
}

private int getFunctionLength(String functionCode) {
    String[] params = functionCode.substring(
                          functionCode.indexOf('(') + 1, 
                          functionCode.indexOf(')')
                      ).split(",");
    return params.length;
}