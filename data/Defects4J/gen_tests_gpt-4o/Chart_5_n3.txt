
import static org.junit.Assert.*;
import org.jfree.data.xy.XYSeries;
import org.jfree.data.xy.XYDataItem;
import org.junit.Test;

public class XYSeriesTest {

    @Test
    public void testAddOrUpdateWithDuplicateXValues() {
        XYSeries series = new XYSeries("Test Series", true, false); // allowDuplicateXValues set to true

        // Add an item to the series
        series.add(1.0, 5.0);
        assertEquals(1, series.getItemCount());

        // Add or update with the same x-value
        series.addOrUpdate(1.0, 10.0);
        assertEquals(2, series.getItemCount());

        XYDataItem firstItem = series.getDataItem(0);
        XYDataItem secondItem = series.getDataItem(1);

        // Verify that the first item is unchanged and the second item is correct
        assertEquals(1.0, firstItem.getXValue(), 0.0);
        assertEquals(5.0, firstItem.getYValue(), 0.0);

        assertEquals(1.0, secondItem.getXValue(), 0.0);
        assertEquals(10.0, secondItem.getYValue(), 0.0);
    }
}
