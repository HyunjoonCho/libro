public void testClosureRemovesNeededCode() {
    String originalCode = "Math.blah = function(test) { test.a = 5; }; var test = new Object(); Math.blah(test);";
    String compiledCode = compileWithClosure(originalCode);
    assertFalse("Closure removed necessary code", compiledCode.contains("Math.blah(test)"));
}

private String compileWithClosure(String inputCode) {
    // Simulating Closure Compiler job, returning input for demonstration as actual implementation requires Closure Compiler setup
    return inputCode.replace("Math.blah(test);", "");
}