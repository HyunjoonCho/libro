
import org.junit.Test;
import java.io.ByteArrayOutputStream;
import java.io.PrintStream;

import static org.junit.Assert.assertFalse;

public class CommandLineUtilityTest {

    @Test
    public void testSuppressGlobalThisWarning() {
        // Set up the output stream to capture the command line output
        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();
        System.setOut(new PrintStream(outputStream));

        // Simulate running the command with flags
        String[] args = new String[]{"--warning_level", "VERBOSE", "--jscomp_off", 
                                     "globalThis", "--jscomp_off", "nonStandardJsDocs"};
        CommandLineUtility.run(args);

        // Get the output
        String output = outputStream.toString();

        // Check that the globalThis warning is not in the output
        assertFalse("globalThis warning should be suppressed but was not", output.contains("globalThis warning"));

        // (Optionally reset System.out if future tests might rely on standard output)
        System.setOut(System.out);
    }
}
