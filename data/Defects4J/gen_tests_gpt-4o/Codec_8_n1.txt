public void testBase64InputStreamArrayIndexOutOfBounds() {
    byte[] input = new byte[10920];
    for (int i = 0; i < input.length; i++) {
        input[i] = (byte) (i % 256);
    }
    
    try (Base64InputStream b64stream = new Base64InputStream(new ByteArrayInputStream(input), true, 0, null)) {
        int n = 0;
        try {
            while (b64stream.read() != -1) {
                n++;
            }
        } catch (ArrayIndexOutOfBoundsException e) {
            assertEquals(10920, n);
            throw e;
        }
    } catch (IOException e) {
        fail("Test failed due to IOException: " + e.getMessage());
    }
}