public void testMissingPropertiesFromBaseClassWithRecursiveTypes() throws JsonProcessingException {
    ObjectMapper mapper = new ObjectMapper();
    Sub sub = new Sub();
    String json = mapper.writeValueAsString(sub);
    assertTrue(json.contains("\"base\":1"));
    assertTrue(json.contains("\"sub\":2"));
}

@JsonIgnoreProperties(ignoreUnknown = true)
static class Base implements IFace<Sub> {
    @JsonProperty
    int base = 1;
}

@JsonIgnoreProperties(ignoreUnknown = true)
static class Sub extends Base {
    @JsonProperty
    int sub = 2;
}

interface IFace<T> {}