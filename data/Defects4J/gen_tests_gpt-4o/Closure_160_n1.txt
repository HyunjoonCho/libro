sh
#!/bin/bash

# Path to the Closure Compiler JAR file
COMPILER_JAR="path/to/closure-compiler-v20211006.jar"

# JavaScript test file
TEST_JS="test.js"

# Create the test.js file with the provided content
echo "foo = {};" > $TEST_JS
echo "foo.bar = function() { alert(this.baz); };" >> $TEST_JS

echo ""
echo "Running with no warnings:"
java -jar $COMPILER_JAR --js $TEST_JS

echo ""
echo "Running with VERBOSE warnings:"
java -jar $COMPILER_JAR --js $TEST_JS --warning_level VERBOSE

echo ""
echo "Running with globalThis warning:"
java -jar $COMPILER_JAR --js $TEST_JS --jscomp_warning globalThis

echo ""
echo "Running with checkVars warning (should show an error but doesn't):"
java -jar $COMPILER_JAR --js $TEST_JS --jscomp_warning checkVars

echo ""
echo "Running with undefinedVars warning (should show an error but doesn't):"
java -jar $COMPILER_JAR --js $TEST_JS --jscomp_warning undefinedVars

# Clean up the test file
rm $TEST_JS
