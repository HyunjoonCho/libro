public void testConditionalTypeErrorInFunction() {
    // Function simulating the incorrect behavior in Java for testing purposes
    @SuppressWarnings("unchecked")
    Map<String, Object> func(Boolean a, Boolean b) {
        Map<String, Object> results = null;
        if (a) {
            results = new HashMap<>();
            results.put("prop1", new HashMap<String, Integer>() {{ put("a", 3); }});
        }
        if (b) {
            if (results == null) {
                results = new HashMap<>();
            }
            results.put("prop2", "prop2");
        } else {
            if (results == null) {
                results = new HashMap<>();
            }
            results.put("prop3", "prop3");
        }
        return results;
    }
    
    // Test assertion to simulate the JavaScript behavior
    Map<String, Object> expected = new HashMap<>();
    expected.put("prop3", "prop3");
    
    Assertions.assertEquals(expected, func(false, false));
}