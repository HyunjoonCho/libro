
import org.apache.commons.compress.archivers.ArchiveException;
import org.apache.commons.compress.archivers.ArchiveInputStream;
import org.apache.commons.compress.archivers.ArchiveStreamFactory;
import org.junit.Test;

import java.io.FileInputStream;
import java.io.IOException;
import java.io.InputStream;

import static org.junit.Assert.*;

public class ArchiveStreamFactoryTest {

    @Test
    public void testNonTarFileDetection() {
        try {
            // Replace with a path to a local AIFF file
            InputStream input = new FileInputStream("path/to/testAIFF.aif");
            ArchiveStreamFactory factory = new ArchiveStreamFactory();

            ArchiveInputStream archiveInput = null;
            try {
                archiveInput = factory.createArchiveInputStream(input);
            } catch (ArchiveException e) {
                // Expected exception since the file is not a tar archive
                e.printStackTrace();
            }

            assertNull("The AIFF file should not be detected as a tar archive", archiveInput);

        } catch (IOException e) {
            fail("Test encountered an IOException: " + e.getMessage());
        }
    }
}
