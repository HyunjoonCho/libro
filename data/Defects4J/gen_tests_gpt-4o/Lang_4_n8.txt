
import org.apache.commons.lang3.StringEscapeUtils;
import java.nio.CharBuffer;

public class LookupTranslatorTest {

    public void testCharSequenceLookup() {
        CharSequence cs1 = "1 < 2";
        CharSequence cs2 = CharBuffer.wrap("1 < 2".toCharArray());

        String result1 = StringEscapeUtils.ESCAPE_HTML4.translate(cs1);
        String result2 = StringEscapeUtils.ESCAPE_HTML4.translate(cs2);

        // Expected: both should produce the same output with HTML escaping
        assertEquals("1 &lt; 2", result1);
        assertEquals("1 &lt; 2", result2); // This will fail with the initial bug
    }
}
