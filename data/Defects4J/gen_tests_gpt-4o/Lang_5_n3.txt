@Test
public void testToLocale_withLeadingUnderscore() {
    // Case where language is missing and the string starts with an underscore
    try {
        Locale locale = LocaleUtils.toLocale("_FR");
        assertEquals("FR", locale.getCountry());
        assertNull(locale.getLanguage());
    } catch (IllegalArgumentException e) {
        fail("LocaleUtils.toLocale failed to parse string with leading underscore for missing language");
    }
}

@Test
public void testToLocale_withEmptyLanguageAndVariant() {
    // Case with empty language and variant provided (e.g., "fr__P")
    Locale locale = LocaleUtils.toLocale("fr__P");
    assertEquals("fr", locale.getLanguage());
    assertEquals("", locale.getCountry());
    assertEquals("P", locale.getVariant());
}