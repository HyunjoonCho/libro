
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.junit.Test;

import java.nio.charset.IllegalCharsetNameException;

import static org.junit.Assert.fail;

public class JsoupCharsetTest {

    @Test
    public void testCharsetDetection() {
        String htmlContent = "<html lang=\"en-US\">\n" +
                             "<head>\n" +
                             "    <meta charset=\"UTF-8\">\n" +
                             "    <meta http-equiv=\"Content-Type\" content=\"text/html; \"/>\n" +
                             "</head>\n" +
                             "<body>\n" +
                             "<p>Test content</p>\n" +
                             "</body>\n" +
                             "</html>";

        try {
            Document doc = Jsoup.parse(htmlContent);
            // If no exception is thrown, the test succeeds.
        } catch (IllegalCharsetNameException e) {
            fail("Jsoup should not throw IllegalCharsetNameException: " + e.getMessage());
        }
    }
}
