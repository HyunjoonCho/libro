public void testTagWithAttributeRegexFailsWithCombinator() {
    String html = "<div><table class='x y'></table></div>";
    boolean exceptionThrown = false;
    try {
        Jsoup.parse(html).select("div table[class~=x|y]");
    } catch (Selector.SelectorParseException e) {
        exceptionThrown = true;
    }
    assertTrue(exceptionThrown);

    exceptionThrown = false;
    try {
        Jsoup.parse(html).select("div > table[class~=x|y]");
    } catch (Selector.SelectorParseException e) {
        exceptionThrown = true;
    }
    assertTrue(exceptionThrown);

    exceptionThrown = false;
    try {
        Jsoup.parse(html).select("div + table[class~=x|y]");
    } catch (Selector.SelectorParseException e) {
        exceptionThrown = true;
    }
    assertTrue(exceptionThrown);

    exceptionThrown = false;
    try {
        Jsoup.parse(html).select("div ~ table[class~=x|y]");
    } catch (Selector.SelectorParseException e) {
        exceptionThrown = true;
    }
    assertTrue(exceptionThrown);

    // Ensure the non-failing case works
    exceptionThrown = false;
    try {
        Jsoup.parse(html).select("div, table[class~=x|y]");
    } catch (Selector.SelectorParseException e) {
        exceptionThrown = true;
    }
    assertFalse(exceptionThrown);
}