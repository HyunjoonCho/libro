public void testParseFromLocalFileDataException() throws IOException {
    byte[] zipContent = new byte[] {
        // Central directory header for a local entry with 'ux' field followed by 'UT' field
        'P', 'K', 1, 2, // Central file header signature
        20, 0, // Version made by
        20, 0, // Version needed to extract
        0, 0, // General purpose bit flag
        0, 0, // Compression method
        0, 0, 0, 0, // File last modification time and date
        0, 0, 0, 0, // CRC-32
        0, 0, 0, 0, // Compressed size
        0, 0, 0, 0, // Uncompressed size
        0, 0, // File name length
        13, 0, // Extra field length
        'U', 'T', 5, 0, // 'UT' field
        7, -112, -108, 51, 'U', 'x', 0, 0 // 0-sized 'ux' field
    };
    String name = "TR_01.ZIP";
    Tika tika = new Tika();
    try {
        tika.detect(zipContent, name);
        fail("Expected ArrayIndexOutOfBoundsException");
    } catch (ArrayIndexOutOfBoundsException e) {
        // Expected exception
        assertEquals("13", e.getMessage());
    }
}