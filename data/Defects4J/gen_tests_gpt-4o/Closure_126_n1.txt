
import javax.script.*;

public class BreakInFinallyTest {

    public static void main(String[] args) {
        ScriptEngine engine = new ScriptEngineManager().getEngineByName("nashorn");
        
        String script = 
            "b: try { " +
            "    throw 'throw me'; " +
            "} finally { " +
            "    console.log('Breaking in finally'); " +
            "    break b; " +
            "}; console.log('ok then...');";

        try {
            engine.eval(script);
        } catch (ScriptException e) {
            e.printStackTrace();
        }
    }
}
