public void testVersionFlag() throws Exception {
    ProcessBuilder processBuilder = new ProcessBuilder("java", "-jar", "compiler.jar", "--version");
    processBuilder.redirectErrorStream(true);
    Process process = processBuilder.start();
    String output;
    try (BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()))) {
        output = reader.lines().collect(Collectors.joining("\n"));
    }
    process.waitFor();
    
    assertTrue("Output should contain 'Version:'", output.contains("Version:"));
    assertTrue("Output should not contain 'requires operand'", !output.contains("requires operand"));
}