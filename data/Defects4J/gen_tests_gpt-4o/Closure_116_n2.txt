bash
#!/bin/bash

# Define the input JavaScript file
echo 'window["anchor"] = function (obj, modifiesProp) {
  return (function (saved) {
    return modifiesProp(obj) + saved;
  })(obj["prop"]);
}' > input.js

# Define the externs file for `window` object
echo 'var window;' > window.js

# Compile the JavaScript with Closure Compiler
java -jar path/to/closure-compiler.jar \
  --compilation_level ADVANCED_OPTIMIZATIONS \
  --warning_level VERBOSE \
  --externs window.js \
  --js input.js \
  --js_output_file output.js

# Display the output
echo "Compiled output:"
cat output.js

# Expected output should be:
# window.anchor=function(a,b){var saved=a.prop;return b(a)+saved;}
