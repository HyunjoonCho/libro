
import org.junit.Before;
import org.junit.Test;
import static org.junit.Assert.assertEquals;
import my.json.JsonParser;  // Replace with actual import
import my.json.JsonWriter; // Replace with actual import

public class JsonParserWriterRFC7159Test {

    private JsonParser jsonParser;
    private JsonWriter jsonWriter;

    @Before
    public void setUp() {
        // Initialize the parser and writer you're using
        jsonParser = new JsonParser();
        jsonWriter = new JsonWriter();
    }

    @Test
    public void testParseTopLevelString() {
        String jsonString = "\"Hello, World!\"";
        String result = jsonParser.parse(jsonString).getAsString();
        assertEquals("Hello, World!", result);
    }

    @Test
    public void testParseTopLevelNumber() {
        String jsonString = "42";
        Number result = jsonParser.parse(jsonString).getAsNumber();
        assertEquals(42, result.intValue());
    }

    @Test
    public void testParseTopLevelArray() {
        String jsonString = "[1, 2, 3]";
        int[] result = jsonParser.parse(jsonString).getAsArray();
        assertArrayEquals(new int[] {1, 2, 3}, result);
    }

    @Test
    public void testParseTopLevelBoolean() {
        String jsonString = "true";
        Boolean result = jsonParser.parse(jsonString).getAsBoolean();
        assertEquals(true, result);
    }

    @Test
    public void testParseTopLevelNull() {
        String jsonString = "null";
        Object result = jsonParser.parse(jsonString).getAsObject();
        assertEquals(null, result);
    }

    @Test
    public void testRoundTripTopLevelNumber() {
        Number initial = 42;
        String jsonString = jsonWriter.write(initial);
        Number result = jsonParser.parse(jsonString).getAsNumber();
        assertEquals(initial, result);
    }
    
    // Add tests for additional top-level value types as needed.
}
