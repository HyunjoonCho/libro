
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.safety.Cleaner;
import org.jsoup.safety.Safelist;
import org.junit.Test;

import static org.junit.Assert.fail;

public class CleanerTest {

    @Test
    public void testNullPointerExceptionOnFrameset() {
        // Step 1: Create a frameset HTML document
        String framesetHtml = "<frameset><frame src=\"frame_a.htm\"><frame src=\"frame_b.htm\"></frameset>";

        // Step 2: Parse the HTML
        Document document = Jsoup.parse(framesetHtml);

        // Step 3: Create a Cleaner instance with a basic Safelist
        Cleaner cleaner = new Cleaner(Safelist.basic());

        try {
            // Step 4: Call the clean method
            cleaner.clean(document);
            fail("Expected NullPointerException to be thrown");
        } catch (NullPointerException e) {
            // Expected outcome
            System.out.println("NullPointerException caught as expected.");
        }
    }
}
