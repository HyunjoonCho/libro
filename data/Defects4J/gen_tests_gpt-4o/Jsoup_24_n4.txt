
import org.junit.Test;
import static org.junit.Assert.*;
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;

public class HtmlParserTest {

    @Test
    public void testScriptTagParsing() {
        String htmlInput = 
            "<HTML>\n" + 
            "<body>\n" + 
            " <div>\n" + 
            "  <script language=\"JavaScript1.1\"> \n" + 
            "    document.write('</scr' + 'ipt>');\n" + 
            "  </script>\n" + 
            " </div>\n" + 
            "</body>\n" + 
            "</HTML>";

        Document document = Jsoup.parse(htmlInput);
        String parsedHtml = document.toString();

        String expectedOutput = 
            "<html>\n" + 
            " <head></head>\n" + 
            " <body> \n" + 
            "  <div> \n" + 
            "   <script language=\"JavaScript1.1\"> \n" + 
            "    document.write('</scr' + 'ipt>');\n" + 
            "   </script> \n" + 
            "  </div> \n" + 
            " </body>\n" + 
            "</html>";

        assertTrue("The parsed HTML should correctly retain the JavaScript content", parsedHtml.contains("document.write('</scr' + 'ipt>');"));
    }
}
