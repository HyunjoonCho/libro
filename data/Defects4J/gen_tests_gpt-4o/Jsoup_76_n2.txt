
import static org.junit.Assert.assertEquals;
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.TextNode;
import org.junit.Test;

public class JsoupPreTextAreaNewlineTest {

    @Test
    public void testPreElementWithLeadingNewlineHandling() {
        Document doc = Jsoup.parse("<pre>\nabc  def</pre>");
        TextNode textNode = (TextNode) doc.select("pre").get(0).childNode(0);

        String actualText = textNode.text();
        String expectedText = "abc  def";
        assertEquals(expectedText, actualText);
    }

    @Test
    public void testGetWholeTextShouldTrimLeadingNewlineInPre() {
        Document doc = Jsoup.parse("<pre>\nabc  def</pre>");
        TextNode textNode = (TextNode) doc.select("pre").get(0).childNode(0);

        String actualWholeText = textNode.getWholeText();
        String expectedWholeText = "abc  def";
        assertEquals(expectedWholeText, actualWholeText);
    }

    @Test
    public void testGetWholeTextWithMultipleLeadingNewlinesInPre() {
        Document doc = Jsoup.parse("<pre>\n\nabc  def</pre>");
        TextNode textNode = (TextNode) doc.select("pre").get(0).childNode(0);

        String actualWholeTextMultipleNewlines = textNode.getWholeText();
        String expectedWholeTextMultipleNewlines = "\nabc  def";
        assertEquals(expectedWholeTextMultipleNewlines, actualWholeTextMultipleNewlines);
    }
}
