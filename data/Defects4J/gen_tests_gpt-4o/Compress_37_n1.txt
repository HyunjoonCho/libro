public void testParsePaxHeadersWithEmptyLine() throws IOException {
    // Simulate a PAX header with an empty line at the end
    String paxHeader = "30 path=some/file.txt\n30 uid=1000\n30 gid=1000\n\n";
    byte[] paxHeaderBytes = paxHeader.getBytes(StandardCharsets.UTF_8);
    
    ByteArrayInputStream bais = new ByteArrayInputStream(paxHeaderBytes);
    TarArchiveInputStream tarInput = new TarArchiveInputStream(bais);
    
    try {
        Map<String, String> headers = tarInput.parsePaxHeaders(paxHeaderBytes, 0, paxHeaderBytes.length);
        assertNotNull(headers);
    } catch (NegativeArraySizeException e) {
        fail("Encountered NegativeArraySizeException when parsing PAX headers with an empty line.");
    }
}