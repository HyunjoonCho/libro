public void testLastWarningOrErrorTruncation() throws IOException {
    // This assumes there is a method available to simulate the Java compiler call
    String compilerOutput = simulateJavaCompiler("test.js");

    // Expected output for the errors, including the caret and line information
    String expectedOutput = "test.js:1: ERROR - variable foo is undefined\n" +
                            "alert(foo);\n" +
                            " ^\n" +
                            "\n" +
                            "test.js:2: ERROR - variable bar is undefined\n" +
                            "alert(bar);\n" +
                            " ^\n" +
                            "\n" +
                            "2 error(s), 0 warning(s)\n";
                            
    assertEquals(expectedOutput, compilerOutput);
}