public void testTrueFalseReplacement() {
    String input = "function some_function() {"
                 + "  var a, b;"
                 + "  any_expression && (b = external_ref, a = function () {"
                 + "    return b();"
                 + "  });"
                 + "  return {"
                 + "    method1: function () {"
                 + "      a && a();"
                 + "      return true;"
                 + "    },"
                 + "    method2: function () {"
                 + "      return false;"
                 + "    }"
                 + "  };"
                 + "}";

    String expectedOutput = "function some_function() {"
                          + "  var a, b;"
                          + "  any_expression && (b = external_ref, a = function () {"
                          + "    return b()"
                          + "  });"
                          + "  return {"
                          + "    method1: function () {"
                          + "      a && a();"
                          + "      return !0"
                          + "    },"
                          + "    method2: function () {"
                          + "      return !1"
                          + "    }"
                          + "  };"
                          + "}";

    String output = compileJavaScript(input); // Assume this function compiles the JS code
    assertEquals(expectedOutput, output);
}