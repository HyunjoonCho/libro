
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.select.Elements;
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class JsoupParsingTest {
    
    @Test
    public void testMissingTagEnd() {
        // Simulate the malformed HTML with a missing '>'
        String html = "<td class=\"my-cell\"\n"
                    + "   <div class=\"great-formatting\">100</div>\n"
                    + "</td>";

        // Parse the document using Jsoup
        Document doc = Jsoup.parse(html);

        // Attempt to select elements with the class "great-formatting"
        Elements divElements = doc.select("div.great-formatting");

        // Expected behavior: Jsoup should ideally recover from this error and find one element
        // Current behavior: The element will not be correctly parsed due to the missing '>'.
        assertEquals("Jsoup fails to parse the element due to the missing tag end '>", 0, divElements.size());
    }
}
