public void testCustomSerializerPrecedenceWithJsonValue() throws JsonProcessingException {
    ObjectMapper mapper = new ObjectMapper();
    SimpleModule module = new SimpleModule();
    module.addSerializer(CustomPojo.class, new CustomPojoSerializer());
    mapper.registerModule(module);

    String result = mapper.writeValueAsString(new CustomPojo("test"));
    assertEquals("\"custom-serializer:test\"", result);
}

static class CustomPojo {
    private String value;

    public CustomPojo(String value) {
        this.value = value;
    }

    @JsonValue
    public String getValue() {
        return value;
    }
}

static class CustomPojoSerializer extends JsonSerializer<CustomPojo> {
    @Override
    public void serialize(CustomPojo customPojo, JsonGenerator jsonGenerator, SerializerProvider serializerProvider)
            throws IOException {
        jsonGenerator.writeString("custom-serializer:" + customPojo.getValue());
    }
}