
import com.fasterxml.jackson.annotation.JsonCreator;
import com.fasterxml.jackson.annotation.JsonProperty;
import com.fasterxml.jackson.databind.ObjectMapper;
import org.junit.Test;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.fail;

public class TestEnumDeserialization {

    public enum TestEnum {
        @JsonProperty("value1")
        VALUE_ONE
    }

    @Test
    public void testEnumDeserializationUsingJsonProperty() {
        ObjectMapper objectMapper = new ObjectMapper();
        String json = "\"value1\"";

        try {
            TestEnum result = objectMapper.readValue(json, TestEnum.class);
            assertEquals(TestEnum.VALUE_ONE, result);
        } catch (Exception e) {
            e.printStackTrace();
            fail("Deserialization should have succeeded but failed with an exception.");
        }
    }
}
