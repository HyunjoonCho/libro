public void testFactorial() {
    for (int i = 1; i <= 20; i++) {
        long expected;
        switch (i) {
            case 17: expected = 355687428096000L; break;
            case 18: expected = 6402373705728000L; break;
            case 19: expected = 121645100408832000L; break;
            case 20: expected = 2432902008176640000L; break;
            default: expected = expectedFactorial(i);
        }
        assertEquals(expected, MathUtils.factorial(i));
    }
}

private long expectedFactorial(int n) {
    long result = 1;
    for (int i = 2; i <= n; i++) {
        result *= i;
    }
    return result;
}