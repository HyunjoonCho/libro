
import org.apache.commons.math3.fitting.PolynomialCurveFitter;
import org.apache.commons.math3.fitting.WeightedObservedPoints;
import org.junit.Test;

public class LargeWeightTest {

    @Test(expected = OutOfMemoryError.class)
    public void testLargeNumberOfWeights() {
        // Create a large number of observed points
        WeightedObservedPoints points = new WeightedObservedPoints();
        int numberOfPoints = 41200;
        for (int i = 0; i < numberOfPoints; i++) {
            // Adding arbitrary points
            points.add(1.0, i, i);
        }

        // Attempt to fit a polynomial curve with a large number of points
        PolynomialCurveFitter fitter = PolynomialCurveFitter.create(2); // Quadratic fit
        fitter.fit(points.toList());
    }
}
