public void testJacksonXmlRootElementMalfunction() throws Exception {
    @JacksonXmlRootElement(localName = "myname")
    class XMLTest { }

    final ObjectMapper xmlMapper = new XmlMapper();
    final ObjectMapper noAnnotationsXmlMapper = xmlMapper.copy()
            .configure(MapperFeature.USE_ANNOTATIONS, false)
            .configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);

    // Test the case without annotations
    String withoutAnnotations = noAnnotationsXmlMapper.writeValueAsString(new XMLTest());
    assertTrue(withoutAnnotations.contains("<XMLTest/>"));

    // Test the case with annotations
    String withAnnotations = xmlMapper.writeValueAsString(new XMLTest());
    assertTrue(withAnnotations.contains("<myname/>"));
}