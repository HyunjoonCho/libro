
import static org.junit.Assert.assertEquals;

import com.fasterxml.jackson.annotation.JsonInclude;
import com.fasterxml.jackson.databind.ObjectMapper;
import org.junit.Test;

class TestEntity {
    @JsonInclude(JsonInclude.Include.NON_EMPTY)
    private Integer intField;

    @JsonInclude(JsonInclude.Include.NON_EMPTY)
    private String stringField;

    public TestEntity() {}

    public TestEntity(Integer intField, String stringField) {
        this.intField = intField;
        this.stringField = stringField;
    }

    public Integer getIntField() {
        return intField;
    }

    public void setIntField(Integer intField) {
        this.intField = intField;
    }

    public String getStringField() {
        return stringField;
    }

    public void setStringField(String stringField) {
        this.stringField = stringField;
    }
}

public class NonEmptySerializationTest {
    private final ObjectMapper objectMapper = new ObjectMapper();

    @Test
    public void testNonEmptyExclusion() throws Exception {
        TestEntity entity = new TestEntity(0, "");

        String result = objectMapper.writeValueAsString(entity);

        assertEquals("{}", result);
    }
}
