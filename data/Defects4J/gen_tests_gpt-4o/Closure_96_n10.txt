public void testVarArgsTypeCheck() {
    CompilerOptions options = new CompilerOptions();
    CompilationLevel.SIMPLE_OPTIMIZATIONS.setOptionsForCompilationLevel(options);
    WarningLevel.VERBOSE.setOptionsForWarningLevel(options);

    SourceFile extern = SourceFile.fromCode("externs.js", "");
    SourceFile input = SourceFile.fromCode("input.js",
        "/**\n" +
        " * @param {...string} var_args\n" +
        " */\n" +
        "function foo(var_args) { return arguments.length; }\n" +
        "foo('hello');\n" +
        "foo(123);\n" +
        "foo('hello', 123);\n");

    List<SourceFile> externs = Collections.singletonList(extern);
    List<SourceFile> inputs = Collections.singletonList(input);

    Compiler compiler = new Compiler();
    compiler.compile(externs, inputs, options);

    assertTrue("Expected warning about type mismatch", compiler.getWarningCount() > 0);
}