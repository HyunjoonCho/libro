
import org.junit.Test;
import org.mockito.Mockito;

import static org.mockito.Mockito.*;

public class MockitoAfterNegativeTest {

    @Test
    public void testMockitoAfterWithNegativeTimePeriod() {
        Runnable runnable = mock(Runnable.class);

        // Verify that the method has never been called - should pass
        verify(runnable, never()).run(); 

        // Verify that the method has never been called with a delay of 1000ms - should pass
        verify(runnable, after(1000).never()).run(); 

        // Verify that the method is called at least once with a negative delay - should fail, but passes incorrectly
        // This highlights the issue described in the bug report
        verify(runnable, after(-1000).atLeastOnce()).run(); 
    }
}
