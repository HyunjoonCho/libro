
import com.fasterxml.jackson.databind.ObjectMapper;
import org.junit.Test;

import static org.junit.Assert.assertArrayEquals;
import static org.junit.Assert.assertNull;

public class JacksonStringArrayDeserializationTest {

    @Test
    public void testDeserializeStringArrayWithNull() throws Exception {
        String json = "[\"first\", null, \"second\"]";
        
        ObjectMapper objectMapper = new ObjectMapper();
        
        // Attempt to deserialize the JSON array into a String array
        String[] result = objectMapper.readValue(json, String[].class);

        // Expected result
        String[] expected = {"first", null, "second"};

        // Check if the deserialized result matches the expected array
        assertArrayEquals(expected, result);

        // Additionally, check individual elements
        assertNull(result[1]);
    }
}
