public void testCpioUnexpectedEOF() throws IOException {
    File input = getFile("cmdcreated.cpio");
    InputStream in = new FileInputStream(input);
    CpioArchiveInputStream cin = new CpioArchiveInputStream(in);

    try {
        CpioArchiveEntry entry;
        while ((entry = (CpioArchiveEntry) cin.getNextEntry()) != null) {
            // Just attempting to read the entries to reproduce the EOFException
            assertNotNull(entry);
        }
    } catch (EOFException e) {
        fail("Unexpected EOFException occurred: " + e.getMessage());
    } finally {
        cin.close();
    }
}