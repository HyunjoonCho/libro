public void testBase64InputStreamRead() throws IOException {
    byte[] data = Base64.getEncoder().encode("abc".getBytes());
    ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(data);
    Base64InputStream base64InputStream = new Base64InputStream(byteArrayInputStream, true);
    byte[] buffer = new byte[4];

    int bytesRead = base64InputStream.read(buffer);
    assertEquals(3, bytesRead);
    
    bytesRead = base64InputStream.read(buffer);
    assertEquals(-1, bytesRead);
}