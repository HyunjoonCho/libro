public void testNextTextValueForAttributes() throws Exception {
    String xml = "<root attr=\"value\">text</root>";
    FromXMLParser parser = new XmlMapper().createParser(xml);

    parser.nextToken(); // START_OBJECT (root)
    parser.nextToken(); // FIELD_NAME (attr)

    assertEquals(JsonToken.VALUE_STRING, parser.nextTextValue());
    assertEquals("value", parser.getText());
}