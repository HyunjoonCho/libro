
import com.fasterxml.jackson.dataformat.xml.XmlMapper;
import com.fasterxml.jackson.dataformat.xml.XmlFactory;
import com.fasterxml.jackson.dataformat.xml.deser.FromXmlParser;
import com.fasterxml.jackson.core.JsonToken;
import org.junit.Test;
import static org.junit.Assert.*;

import java.io.IOException;

public class FromXMLParserTest {

    @Test
    public void testNextTextValueForAttributes() throws IOException {
        String xml = "<root attribute=\"value\"></root>";

        XmlFactory factory = new XmlFactory();
        XmlMapper mapper = new XmlMapper(factory);
        
        try (FromXmlParser parser = (FromXmlParser) factory.createParser(xml)) {
            String attributeValue = null;
            while (parser.nextToken() != null) {
                if (JsonToken.VALUE_STRING.equals(parser.getCurrentToken())) {
                    // nextTextValue should handle attribute text correctly
                    attributeValue = parser.nextTextValue();
                }
            }
            assertEquals("value", attributeValue);
        }
    }
}
