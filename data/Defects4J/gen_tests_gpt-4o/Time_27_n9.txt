
import org.joda.time.Period;
import org.joda.time.format.PeriodFormatter;
import org.joda.time.format.PeriodFormatterBuilder;
import org.joda.time.format.ISOPeriodFormat;
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class PeriodFormatterTest {

    @Test
    public void testPeriodFormatterBuilderVsISOPeriodFormat() {
        // PeriodFormatter built using ISOPeriodFormat.standard()
        PeriodFormatter isoFormatter = ISOPeriodFormat.standard();

        // PeriodFormatter constructed manually
        PeriodFormatter customFormatter = new PeriodFormatterBuilder()
            .appendLiteral("P")
            .appendYears().appendSuffix("Y")
            .appendMonths().appendSuffix("M")
            .appendWeeks().appendSuffix("W")
            .appendDays().appendSuffix("D")
            .appendSeparatorIfFieldsAfter("T")
            .appendHours().appendSuffix("H")
            .appendMinutes().appendSuffix("M")
            .appendSecondsWithOptionalMillis().appendSuffix("S")
            .toFormatter();

        // Example period to format
        Period period = new Period().withYears(2).withMonths(3).withWeeks(1).withDays(4).withHours(5).withMinutes(6).withSeconds(7).withMillis(890);

        String isoFormatted = isoFormatter.print(period);
        String customFormatted = customFormatter.print(period);

        // Assert that both formats produce the same result
        assertEquals("The formatted strings should match", isoFormatted, customFormatted);
    }
}
