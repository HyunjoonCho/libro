public void testResponseHeaderWithDuplicateTuples() {
    Map<String, List<String>> responseHeaders = new HashMap<>();
    responseHeaders.put("X-Powered-By", Arrays.asList("PHP/5.2.8", "ASP.NET"));
    
    Map<String, String> processedHeaders = processResponseHeaders(responseHeaders);
    
    assertEquals("PHP/5.2.8 ASP.NET", processedHeaders.get("X-Powered-By"));
}

private Map<String, String> processResponseHeaders(Map<String, List<String>> resHeaders) {
    Map<String, String> headerMap = new HashMap<>();
    for (Map.Entry<String, List<String>> entry : resHeaders.entrySet()) {
        String name = entry.getKey();
        if (name == null) continue;
        
        List<String> values = entry.getValue();
        if (!values.isEmpty()) {
            StringBuilder val = new StringBuilder();
            for (String str : values) {
                val.append(str).append(" ");
            }
            headerMap.put(name, val.toString().trim());
        }
    }
    return headerMap;
}