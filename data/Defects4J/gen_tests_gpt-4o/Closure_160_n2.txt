public void testCheckVarsWarning() throws Exception {
    Process process = Runtime.getRuntime().exec("java -jar compiler.jar --js test.js --jscomp_warning checkVars");
    BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));
    String output = reader.lines().collect(Collectors.joining("\n"));
    assertFalse(output.contains("variable foo is undefined"));
}

public void testUndefinedVarsWarning() throws Exception {
    Process process = Runtime.getRuntime().exec("java -jar compiler.jar --js test.js --jscomp_warning undefinedVars");
    BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));
    String output = reader.lines().collect(Collectors.joining("\n"));
    assertFalse(output.contains("variable foo is undefined"));
}