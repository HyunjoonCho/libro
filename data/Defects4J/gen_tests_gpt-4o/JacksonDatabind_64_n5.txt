
import com.fasterxml.jackson.annotation.JsonInclude;
import com.fasterxml.jackson.core.JsonProcessingException;
import com.fasterxml.jackson.databind.ObjectMapper;
import org.junit.jupiter.api.Test;
import static org.junit.jupiter.api.Assertions.assertFalse;

public class JsonIncludeNonDefaultTest {

    @JsonInclude(JsonInclude.Include.NON_DEFAULT)
    static class MyBean {
        public String name = null; // default null value
        public int age = 0; // default value of 0
    }

    @Test
    public void testJsonIncludeNonDefault() throws JsonProcessingException {
        ObjectMapper objectMapper = new ObjectMapper();
        MyBean myBean = new MyBean(); // name is null, age is 0
        String jsonString = objectMapper.writeValueAsString(myBean);

        // Assert that 'name' does not appear in the JSON output
        // because its default 'null' value should be excluded.
        assertFalse(jsonString.contains("name"));
    }
}
