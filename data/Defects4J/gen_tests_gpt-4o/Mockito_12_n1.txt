public void testArgumentCaptorWithVarargs() {
    // Create a mock object
    SomeService mockService = mock(SomeService.class);

    // Use ArgumentCaptor with varargs
    ArgumentCaptor<String> captor = ArgumentCaptor.forClass(String.class);

    // Call method with varargs on mock
    mockService.performAction("arg1", "arg2", "arg3");

    // Verify and capture arguments
    verify(mockService).performAction(captor.capture(), captor.capture(), captor.capture());

    // Assert captured arguments
    List<String> capturedArgs = captor.getAllValues();
    assertEquals("arg1", capturedArgs.get(0));
    assertEquals("arg2", capturedArgs.get(1));
    assertEquals("arg3", capturedArgs.get(2));
}