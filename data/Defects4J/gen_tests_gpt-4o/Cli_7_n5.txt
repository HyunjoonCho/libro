public void testRequiredOptions() {
    CommandLineParser parser = new PosixParser();
    Options options = new Options();
    options.addOption("h", false, "help");
    options.addOption("c", true, "config");

    CommandLine line = parser.parse(options, new String[] {"-h"});
    assertTrue("Help option should be present", line.hasOption("h"));
    
    line = parser.parse(options, new String[] {"-c", "someArg"});
    assertFalse("Help option should not be present", line.hasOption("h"));
    assertTrue("Config option should be present", line.hasOption("c"));
    assertEquals("someArg", line.getOptionValue("c"));
}