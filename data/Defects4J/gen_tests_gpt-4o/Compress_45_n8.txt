public void testTarUtilsFormatLongOctalOrBinaryBytes() {
    long value = 123456789L;
    byte[] buffer = new byte[100];
    int offset = 0;
    int length = 8;

    TarUtils.formatLongOctalOrBinaryBytes(value, buffer, offset, length);

    // Since the method should use formatLongBinary for length < 9,
    // we need to check if the buffer contains the correct binary representation.
    // Expected result is 64-bit binary encoding of the input value.
    BigInteger expected = BigInteger.valueOf(value);
    byte[] expectedBytes = expected.toByteArray();
    
    assertTrue(Arrays.equals(Arrays.copyOf(expectedBytes, length), Arrays.copyOfRange(buffer, offset, offset + length)));
}