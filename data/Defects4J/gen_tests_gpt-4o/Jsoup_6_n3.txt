
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.junit.Test;

import static org.junit.Assert.*;

public class JsoupBugTest {

    @Test
    public void testStringIndexOutOfBoundsWhileParsing() {
        try {
            // Attempt to parse the problematic URL
            Document document = Jsoup.connect("http://news.yahoo.com/s/nm/20100831/bs_nm/us_gm_china").get();

            // If no exception occurs, the test should pass.
            assertNotNull(document);
        } catch (StringIndexOutOfBoundsException e) {
            fail("StringIndexOutOfBoundsException occurred: " + e.getMessage());
        } catch (Exception e) {
            // Catch other exceptions to ensure the root cause is identified
            e.printStackTrace();
            fail("An unexpected exception occurred: " + e.getMessage());
        }
    }
}
