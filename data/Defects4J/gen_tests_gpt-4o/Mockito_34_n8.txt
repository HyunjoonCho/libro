
import org.junit.Test;

import java.io.IOException;
import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.Paths;
import java.util.jar.JarEntry;
import java.util.jar.JarFile;
import static org.junit.Assert.assertFalse;

public class JarContentTest {

    @Test
    public void testJarDoesNotContainJavaFiles() throws IOException {
        // Replace this with the path to your binary JAR file
        Path jarPath = Paths.get("path/to/mockito-core.jar");
        assertFalse("JAR file does not exist", Files.notExists(jarPath));

        try (JarFile jarFile = new JarFile(jarPath.toFile())) {
            jarFile.stream()
                   .map(JarEntry::getName)
                   .filter(name -> name.endsWith(".java"))
                   .forEach(javaFileName -> {
                       throw new AssertionError("JAR contains source file: " + javaFileName);
                   });
        }
    }
}
