
import org.jsoup.Jsoup;
import org.junit.Test;
import java.nio.charset.Charset;

public class InvalidCharsetTest {

    @Test
    public void testInvalidCharsetHandling() {
        // Simulate a response with an invalid charset (e.g., "UFT8" instead of "UTF8")
        String invalidCharsetHtml = "<html>"
                + "<head>"
                + "<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UFT8\">"
                + "</head>"
                + "<body>"
                + "<p>This is a test.</p>"
                + "</body>"
                + "</html>";
        
        try {
            // Attempt to parse the HTML with Jsoup
            Jsoup.parse(invalidCharsetHtml, "http://example.com");
            // If we reach here, Jsoup handled the invalid charset without an exception
            System.out.println("Test passed: Invalid charset was handled gracefully.");
        } catch (UnsupportedCharsetException e) {
            // Catch the UnsupportedCharsetException to show test failure
            System.err.println("Test failed: UnsupportedCharsetException was thrown.");
            e.printStackTrace();
        }
    }
}
