public void testBase64InputStreamRead() throws IOException {
    byte[] encodedData = "SGVsbG8=".getBytes(); // "Hello" encoded to Base64
    ByteArrayInputStream bais = new ByteArrayInputStream(encodedData);
    Base64InputStream base64InputStream = new Base64InputStream(bais, true);
    byte[] buffer = new byte[1024];
    int bytesRead = 0;
    int totalBytesRead = 0;
    
    while ((bytesRead = base64InputStream.read(buffer)) != -1) {
        totalBytesRead += bytesRead;
    }
    
    // Ensure that the last read does not return 0 incorrectly
    assertTrue("Base64InputStream returned 0 bytes at the end of stream", totalBytesRead > 0);
    base64InputStream.close();
}