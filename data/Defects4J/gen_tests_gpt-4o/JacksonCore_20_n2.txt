public void testWriteEmbeddedObjectWithByteArray() throws IOException {
    JsonFactory factory = new JsonFactory();
    StringWriter writer = new StringWriter();
    JsonGenerator generator = factory.createGenerator(writer);

    byte[] data = new byte[]{1, 2, 3, 4};
    generator.writeStartObject();
    try {
        generator.writeFieldName("binaryData");
        generator.writeEmbeddedObject(data);
        fail("Expected an UnsupportedOperationException to be thrown");
    } catch (UnsupportedOperationException e) {
        // Expected exception
    } finally {
        generator.close();
    }
}