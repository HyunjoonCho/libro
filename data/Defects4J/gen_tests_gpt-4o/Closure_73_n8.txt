
import static org.junit.Assert.assertEquals;

import com.google.javascript.jscomp.*;

import org.junit.Test;

public class ClosureCompilerTest {

    @Test
    public void testCodepointU007fOutput() {
        // Set up the compiler
        Compiler compiler = new Compiler();

        // Create compiler options
        CompilerOptions options = new CompilerOptions();

        // Define the JS input to test
        String jsInput = "alert('\\x7f');";

        // Compile the source code
        SourceFile input = SourceFile.fromCode("test.js", jsInput);
        Result result = compiler.compile(SourceFile.fromCode("externs.js", ""), input, options);

        // Get the compiled output
        String compiledOutput = compiler.toSource();

        // Assert that the compiled output is as expected, with the character escaped
        assertEquals("alert(\"\\x7f\");", compiledOutput);
    }
}
