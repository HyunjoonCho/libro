public void testCMAESOptimizerBounds() {
    CMAESOptimizer optimizer = new CMAESOptimizer(
        10000, 1e-9, true, 10, 0, new Well19937c(), false, new CMAESOptimizer.Sigma(new double[]{1.0, 1.0}), 0, 100);
    PointValuePair result = optimizer.optimize(
        new MaxEval(1000),
        new ObjectiveFunction(point -> {
            double sum = 0;
            for (double x : point) {
                sum += x * x;
            }
            return sum;
        }),
        GoalType.MINIMIZE,
        new InitialGuess(new double[]{2.0, 2.0}),
        new SimpleBounds(new double[]{-1.0, -1.0}, new double[]{1.0, 1.0})
    );
    double[] bestPoint = result.getPoint();
    assertTrue("x out of bounds: " + bestPoint[0], bestPoint[0] >= -1.0 && bestPoint[0] <= 1.0);
    assertTrue("y out of bounds: " + bestPoint[1], bestPoint[1] >= -1.0 && bestPoint[1] <= 1.0);
}