
import org.apache.commons.lang.RandomStringUtils;
import org.junit.Test;

import java.util.Random;

public class RandomStringUtilsTest {

    @Test(expected = ArrayIndexOutOfBoundsException.class)
    public void testRandomStringArrayIndexOutOfBounds() {
        int count = 10; // Arbitrary count of characters to generate
        int start = 0;  // Start of the range
        int end = 0;    // End of the range, same as start, causing the issue
        boolean letters = false; // Don't include letters
        boolean numbers = false; // Don't include numbers
        char[] universe = {};    // Empty universe which should lead to an error
        Random random = new Random();

        // This should throw ArrayIndexOutOfBoundsException based on the bug report
        RandomStringUtils.random(count, start, end, letters, numbers, universe, random);
    }
}
