
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.junit.Test;

import static org.junit.Assert.*;

public class JsoupDoctypeTest {

    @Test
    public void testEmptyDoctype() {
        try {
            // Attempt to parse a document with an empty DOCTYPE
            Document doc = Jsoup.parse("<!DOCTYPE>");
            // If no exception is thrown, let's check the generated HTML
            String htmlOutput = doc.outerHtml();
            // Validate that the generated HTML is correctly formed
            assertFalse("Doctype misshaped in output HTML", htmlOutput.contains("<!DOCTYPE <"));
            assertTrue("Doctype should be present in output HTML", htmlOutput.contains("<!DOCTYPE>"));
        } catch (IllegalArgumentException e) {
            // Fail the test if an IllegalArgumentException is thrown, which is the reported bug
            fail("Parsing <!DOCTYPE> should not throw IllegalArgumentException: " + e.getMessage());
        }
    }
}
