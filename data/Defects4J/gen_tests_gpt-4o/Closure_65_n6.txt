
import static org.junit.Assert.assertEquals;
import javax.script.ScriptEngine;
import javax.script.ScriptEngineManager;
import javax.script.ScriptException;

import org.junit.Test;

public class StringEscapeTest {

    @Test
    public void testNullByteEscaping() throws ScriptException {
        ScriptEngineManager manager = new ScriptEngineManager();
        ScriptEngine engine = manager.getEngineByName("JavaScript");

        // JS script equivalent to the steps provided in the bug report
        String script = "var x = \"\\u00003\"; if (x.length < 2) { 'fail'; } else { 'win'; }";

        // Evaluating the script using JavaScript engine
        Object result = engine.eval(script);

        // Verify the expected output is "win"
        assertEquals("win", result);
    }
}
