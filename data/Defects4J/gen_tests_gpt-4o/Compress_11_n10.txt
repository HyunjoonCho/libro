public void testCreateArchiveInputStreamShortTextFileDetection() throws Exception {
    String shortTextFileContent = "This is a short text file.";
    InputStream inputStream = new ByteArrayInputStream(shortTextFileContent.getBytes());

    try {
        ArchiveStreamFactory factory = new ArchiveStreamFactory();
        ArchiveInputStream archiveInputStream = factory.createArchiveInputStream(inputStream);

        // If no exception is thrown, we should check the type to ensure it's not misidentified as a TAR
        assertFalse("Input stream should not be identified as TAR archive", archiveInputStream instanceof TarArchiveInputStream);
    } catch (ArchiveException e) {
        // Expected outcome is an exception to be thrown, indicating it is not an archive
        assertEquals("The provided file is not a recognized archive type", e.getMessage());
    }
}