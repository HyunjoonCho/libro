
import org.junit.jupiter.api.Test;
import org.springframework.http.HttpEntity;
import org.springframework.http.HttpMethod;
import org.springframework.http.ResponseEntity;
import org.springframework.web.client.RestTemplate;

import java.net.URI;
import java.net.URISyntaxException;

public class ReflectiveAccessWarningTest {

    @Test
    public void testIllegalReflectiveAccessWarning() throws URISyntaxException {
        RestTemplate restTemplate = new RestTemplate();
        String requestUrl = "https://httpbin.org/patch"; // Using httpbin.org for testing
        Object dto = new Object(); // Replace with real DTO if available

        try {
            ResponseEntity<Void> response = restTemplate.exchange(
                    new URI(requestUrl),
                    HttpMethod.PATCH,
                    new HttpEntity<>(dto),
                    Void.class
            );
            
            System.out.println("Response status: " + response.getStatusCode());
        } catch (Exception e) {
            e.printStackTrace();
        }
        
        // Manually verify console output for the reflective access warning
    }
}
