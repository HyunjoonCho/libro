public void testIllegalReflectiveAccessWarning() {
    MockRestServiceServer server = MockRestServiceServer.createServer(getRestTemplate());
    server.expect(ExpectedCount.once(), requestTo("/test"))
          .andExpect(method(HttpMethod.PATCH))
          .andRespond(withSuccess());

    ResponseEntity<Void> response = getRestTemplate().exchange(
        "/test",
        HttpMethod.PATCH,
        new HttpEntity<>(null, new HttpHeaders()),
        Void.class
    );

    assertEquals(HttpStatus.OK, response.getStatusCode());
    server.verify();
}