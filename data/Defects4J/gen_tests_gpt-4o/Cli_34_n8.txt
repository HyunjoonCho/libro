
import static org.junit.Assert.*;
import org.apache.commons.cli.*;

import org.junit.Test;

public class CommandLineTest {

    @Test
    public void testStringAsDefaultOptionType() {
        // Set up the Options
        Options options = new Options();
        options.addOption("name", true, "User's name");
        
        // Prepare the command line parser
        CommandLineParser parser = new DefaultParser();
        String[] args = {"--name", "John"};

        try {
            CommandLine cmd = parser.parse(options, args);
            
            // Fetch the parsed option value
            Object parsedValue = cmd.getParsedOptionValue("name");
            
            // Bug: parsedValue should be "John" as a String by default, but it returns null
            assertNotNull("Parsed option value should not be null", parsedValue);
            assertTrue("Parsed option value should be a String", parsedValue instanceof String);
            assertEquals("John", parsedValue);

        } catch (ParseException e) {
            fail("Parsing failed: " + e.getMessage());
        }
    }
}
