public void testAssignmentsWithinConditions() {
    assertEquals("true", reductionOriginal());
    assertEquals("true", reductionCompiled());
}

private String reductionOriginal() {
    Boolean result;
    Boolean b;
    if (echo(b = true) || echo(b = false))
        result = b;
    else
        result = null;

    return result != null ? result.toString() : "undefined";
}

private String reductionCompiled() {
    Boolean result;
    Boolean a;
    return echo(true) || echo(a = false) ? a == null ? "undefined" : a.toString() : "undefined";
}

private boolean echo(Boolean b) {
    return b;
}