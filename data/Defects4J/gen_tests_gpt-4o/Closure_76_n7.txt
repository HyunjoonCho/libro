script
// Define the echo function used in the test case, which simply returns the passed value.
function echo(val) {
    return val;
}

// Original function as described in the bug report.
function originalReduction() {
    var a, b;
    if (echo(b = true) || echo(b = false))
        a = b;
    else
        a = null;
    return a;
}

// Compiled function from bug report (simulating the compiled code).
function compiledReduction() {
    var a;
    return echo(true) || echo(a = false) ? a : null;
}

// Test case to compare the outputs of the original and compiled functions.
function testReduction() {
    const originalResult = originalReduction();
    const compiledResult = compiledReduction();
    
    console.log("Original Result: ", originalResult); // Should print 'true'
    console.log("Compiled Result: ", compiledResult); // Should also print 'true'

    if (originalResult === compiledResult && originalResult === true) {
        console.log("Test Passed: Both functions return the expected 'true' value.");
    } else {
        console.error("Test Failed: The results are not as expected.");
        console.error("Original Result:", originalResult);
        console.error("Compiled Result:", compiledResult);
    }
}

// Run the test case.
testReduction();
