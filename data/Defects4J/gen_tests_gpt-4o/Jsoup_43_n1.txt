public void testUnexpectedBehaviorInElementSiblingIndex() {
    String html = "<table>" +
                  "<tr><td>Cell1</td><td>Cell2</td></tr>" +
                  "<tr><td>Cell3</td><td>Cell4</td></tr>" +
                  "<tr><td>Cell1</td><td>Cell2</td></tr>" +
                  "<tr><td>Cell5</td><td>Cell6</td></tr>" +
                  "<tr><td>Cell1</td><td>Cell2</td></tr>" +
                  "</table>";
    Document doc = Jsoup.parse(html);
    Elements rows = doc.select("tr");

    Element myElem = rows.get(2); // <tr><td>Cell1</td><td>Cell2</td></tr>
    int n = myElem.elementSiblingIndex();

    // Expecting that myElem.parent().children().get(n) returns a reference to myElem
    assertTrue(myElem.parent().children().get(n) == myElem);

    // However, it only guarantees that the elements are equal in content but not in identity
    assertTrue(myElem.parent().children().get(n).equals(myElem));
}