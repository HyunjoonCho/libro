@Test
public void testMemoryLeakDueToThreadLocal() throws Exception {
    // Step 1: Simulate invoking ToStringStyle in a way that initializes the ThreadLocal
    String result = new org.apache.commons.lang3.builder.ToStringBuilder(this, org.apache.commons.lang3.builder.ToStringStyle.DEFAULT_STYLE)
        .append("memoryLeakTest", "value")
        .toString();
    
    // Step 2: Attempt to trigger garbage collection and detect any memory leaks
    WeakReference<ThreadLocal<?>> threadLocalWeakReference = 
        new WeakReference<>(org.apache.commons.lang3.builder.ToStringStyle.getThreadLocal());
    
    result = null;  // clear strong reference

    System.gc();
    System.runFinalization();
    
    // Step 3: Assert that the ThreadLocal has been garbage collected and no leaks remain
    assertNull("ThreadLocal should have been garbage collected", threadLocalWeakReference.get());
}