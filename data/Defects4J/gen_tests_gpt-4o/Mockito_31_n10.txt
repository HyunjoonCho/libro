
import org.junit.Test;
import static org.junit.Assert.*;

import java.io.File;

public class PathSeparatorTest {

    @Test
    public void testPathSeparatorHandlingOnWindows() {
        // Simulate the path issue on Windows
        File root = new File("C:\\mockito-project\\src");
        File file = new File("C:\\mockito-project\\src\\org\\mockito\\configuration\\MockitoConfiguration.java");

        // Incorrect handling that assumes '/' separator
        String incorrectResult = file.getAbsolutePath().substring(root.getAbsolutePath().length() + 1).replace('/', '.');

        // Expected correct handling for Windows using '\\' separator
        String correctResult = file.getAbsolutePath().substring(root.getAbsolutePath().length() + 1).replace('\\', '.');

        // Assert the incorrect handling leads to unexpected results
        assertFalse(incorrectResult.equals(correctResult));

        // Better solution: use File.separator to work on both Unix and Windows
        String crossPlatformResult = file.getAbsolutePath().substring(root.getAbsolutePath().length() + 1)
                                         .replace(File.separatorChar, '.');

        // Assert that correct results using separator handling are consistent
        assertEquals(correctResult, crossPlatformResult);
    }
}
