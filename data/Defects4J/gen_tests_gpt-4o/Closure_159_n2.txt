public void testClosureCompilerFunctionRenaming() {
    String code = "function preload_check_all() { /* function implementation */ } preload_check_all();";
    CompilerOptions options = new CompilerOptions();
    CompilationLevel.SIMPLE_OPTIMIZATIONS.setOptionsForCompilationLevel(options);
    Compiler compiler = new Compiler();
    compiler.compile(SourceFile.fromCode("externs.js", ""), SourceFile.fromCode("input.js", code), options);
    String compiledCode = compiler.toSource();
    
    // Check that both the definition and the call of the function have been renamed consistently
    assertTrue("Function name should be renamed consistently", 
               compiledCode.contains("a()") && !compiledCode.contains("preload_check_all()"));
}