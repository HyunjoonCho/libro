
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.junit.Test;

import java.nio.charset.UnsupportedCharsetException;

import static org.junit.Assert.assertNotNull;

public class JsoupCharsetTest {

    @Test
    public void testInvalidCharsetHandling() {
        String htmlContent = "<html><head><meta charset='UFT8'></head><body>Test</body></html>";
        String baseUri = "http://example.com";

        try {
            // This should throw an UnsupportedCharsetException due to the invalid charset "UFT8"
            Document doc = Jsoup.parse(htmlContent, baseUri);
            assertNotNull("Document should be parsed even with an invalid charset", doc);
        } catch (UnsupportedCharsetException e) {
            // Catching exception to illustrate the bug; but with the proposed fix, this shouldn't be thrown.
            throw new AssertionError("UnsupportedCharsetException should not be thrown", e);
        }
    }
}
