
import org.apache.commons.cli.Option;
import org.apache.commons.cli.OptionGroup;
import org.junit.Test;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertNull;

public class OptionGroupTest {

    @Test
    public void testOptionGroupWithLongNameOnly() {
        // Create an option with only a long name
        Option optionA = Option.builder()
                .longOpt("optionA")
                .desc("An option with only a long name")
                .build();

        Option optionB = Option.builder("b")
                .longOpt("optionB")
                .desc("An option with both short and long names")
                .build();
        
        // Create an OptionGroup and add options to it
        OptionGroup group = new OptionGroup();
        group.addOption(optionA);
        group.addOption(optionB);

        // Attempt to select the option with long name only
        group.setSelected(optionA);

        // Assert that the selected option is set correctly
        assertEquals("optionA", group.getSelected());
        
        // Now assert the Option with a short name
        group.setSelected(optionB);
        assertEquals("b", group.getSelected());
        
        // Ensure that setting a long only option works after the short name
        group.setSelected(optionA);
        assertEquals("optionA", group.getSelected());        
    }
}
