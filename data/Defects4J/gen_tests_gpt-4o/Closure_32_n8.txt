
import static org.junit.Assert.assertEquals;
import org.junit.Test;

public class PreserveWhitespaceTest {

    // Mock method to simulate processing of preserved comments as described in the bug report.
    private String processPreservedComment(String comment) {
        // This is a simplified placeholder for the actual bug behavior
        // In the real scenario, this would be the code that is causing the issue described.
        // For this test, we assume it removes leading whitespace incorrectly.
        String[] lines = comment.split("\n");
        StringBuilder result = new StringBuilder("/*\n");
        for (String line : lines) {
            // Simulates the incorrect removal of leading whitespace
            result.append(line.trim()).append("\n");
        }
        result.append("*/");
        return result.toString();
    }

    @Test
    public void testPreserveWhitespaceInComment() {
        // Input comment with leading whitespace
        String input = "/**\n" +
                       " * @preserve\n" +
                       "\n" +
                       "    This\n" +
                       "    was\n" +
                       "    ASCII\n" +
                       "    Art\n" +
                       "\n" +
                       "*/";

        // Expected output with preserved whitespace
        String expected = "/*\n" +
                          "    This\n" +
                          "    was\n" +
                          "    ASCII\n" +
                          "    Art\n" +
                          "*/";

        // Running test case
        String result = processPreservedComment(input);

        // Assert that the processing result matches the expected outcome
        assertEquals(expected, result);
    }
}
