public void testUnbalancedSelectorFailure() {
    String html = "<html><body><div class='card-content2'><a class='subtitle' title='MySubTitle:)'>Link</a></div><a class='title' title='MyTitle : ]'>Another Link</a></body></html>";
    Document doc = Jsoup.parse(html);
    try {
        doc.select("div.card-content2:has(a.subtitle[title= MySubTitle:)])");
        fail("Expected SelectorParseException due to unbalanced parentheses and brackets");
    } catch (Selector.SelectorParseException e) {
        // Expected exception
    }
    try {
        doc.select("a.title[title=MyTitle :] ]");
        fail("Expected SelectorParseException due to unbalanced brackets");
    } catch (Selector.SelectorParseException e) {
        // Expected exception
    }
}