
import org.apache.commons.jxpath.JXPathContext;
import org.junit.Test;
import java.util.HashMap;
import java.util.Map;

import static org.junit.Assert.*;

public class JXPathNullHandlingTest {

    @Test
    public void testNullComparison() {
        Map<String, Integer> map = new HashMap<>();
        map.put("a", 1);
        map.put("b", null);
        map.put("c", 1);

        JXPathContext context = JXPathContext.newContext(map);

        assertTrue("a != b should be true", (Boolean) context.getValue("a != b"));
        assertFalse("a != c should be false", (Boolean) context.getValue("a != c"));
        assertFalse("a = b should be false", (Boolean) context.getValue("a = b"));
        assertTrue("a = c should be true", (Boolean) context.getValue("a = c"));
        assertTrue("not(a = b) should be true", (Boolean) context.getValue("not(a = b)"));
        assertFalse("not(a = c) should be false", (Boolean) context.getValue("not(a = c)"));
    }
}
