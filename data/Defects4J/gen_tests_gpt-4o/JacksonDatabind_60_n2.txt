public void testJsonValuePolymorphicTypeLost() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);
    mapper.enableDefaultTyping();
    
    byte[] apduData = { 1, 2, 3, 4, 5 };
    CommandAPDU original = new CommandAPDU(apduData);
    
    String json = mapper.writeValueAsString(original);
    CommandAPDU deserialized = mapper.readValue(json, CommandAPDU.class);
    
    assertArrayEquals(original.getBytes(), deserialized.getBytes());
    assertTrue(deserialized instanceof CommandAPDU); // This checks polymorphic type retention
}