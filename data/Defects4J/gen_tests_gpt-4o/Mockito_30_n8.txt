
import org.junit.Test;
import org.mockito.Mockito;
import org.mockito.internal.util.DefaultMockingDetails;
import org.mockitointegration.NoJUnitDependenciesTest;

import java.lang.reflect.Method;
import java.util.List;
import java.util.Observer;

import static org.junit.Assert.assertFalse;

public class MockitoWindowsTest {

    @Test
    public void testShouldGetExtraInterfaces() {
        Object mock = Mockito.mock(Bar.class, Mockito.withSettings().extraInterfaces(List.class, Observer.class));
        DefaultMockingDetails details = new DefaultMockingDetails(mock);
        assertFalse(details.getExtraInterfaces().isEmpty());
    }

    // Mock class for `Bar`
    static class Bar {
    }

    @Test
    public void testNoJUnitDependencies() {
        String className = "org.mockito.internal.progress.TimesTest";
        try {
            Method checkDependency = NoJUnitDependenciesTest.class.getDeclaredMethod("checkDependency", String.class);
            checkDependency.setAccessible(true);
            checkDependency.invoke(null, className);
        } catch (Exception e) {
            throw new AssertionError("'" + className + "' has some dependency to JUnit", e);
        }
    }
}
