
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.junit.Test;

import java.io.IOException;

import static org.junit.Assert.assertEquals;

public class CharsetDetectionTest {

    @Test
    public void testCharsetDetection() {
        String htmlContent = "<html lang=\"en-US\">" +
                             "<head>" +
                             "    <meta charset=\"UTF-8\">" +
                             "    <meta http-equiv=\"Content-Type\" content=\"text/html; \" />" +
                             "</head>" +
                             "<body>" +
                             "    <p>Sample Content</p>" +
                             "</body>" +
                             "</html>";

        try {
            Document doc = Jsoup.parse(htmlContent);
            assertEquals("Sample Content", doc.selectFirst("p").text());
        } catch (IllegalCharsetNameException e) {
            fail("Jsoup should handle the charset more robustly and not throw IllegalCharsetNameException");
        }
    }
}
