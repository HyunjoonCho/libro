public void testTarArchiveInputStreamUnexpectedEOF() throws IOException {
    String archivePath = "path/to/corrupted/test.tar.bz2"; // Update with correct path to the test file
    try (TarArchiveInputStream input = new TarArchiveInputStream(
            new BZip2CompressorInputStream(new FileInputStream(archivePath), true))) {
        ArchiveEntry nextEntry = input.getNextEntry();
        while (nextEntry != null) {
            String outputPath = "/tmp/" + nextEntry.getName(); // Adjust output path as needed
            try (OutputStream out = new FileOutputStream(outputPath)) {
                ByteStreams.copy(input, out);
            }
            nextEntry = input.getNextEntry();
        }
        fail("Expected an IOException due to unexpected EOF was not thrown.");
    } catch (IOException e) {
        // Expected exception due to corrupted tar should be thrown
    }
}