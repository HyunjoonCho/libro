public void testJsonParserSequenceSkipsToken() throws IOException {
    String json1 = "{\"key1\":\"value1\"}";
    String json2 = "{\"key2\":\"value2\"}";
    
    JsonFactory jsonFactory = new JsonFactory();
    JsonParser parser1 = jsonFactory.createParser(json1);
    JsonParser parser2 = jsonFactory.createParser(json2);
    
    JsonParserSequence sequence = JsonParserSequence.createFlattened(parser1, parser2);
    
    // Move parser1 to the end
    while (sequence.nextToken() != JsonToken.END_OBJECT) {
        // Do nothing, just consume tokens
    }
    
    // Now parser2 should be active and the first token should not be skipped
    assertEquals(JsonToken.START_OBJECT, sequence.nextToken()); // START_OBJECT for parser2
    assertEquals(JsonToken.FIELD_NAME, sequence.nextToken()); // FIELD_NAME "key2"
    assertEquals("key2", sequence.getCurrentName());
    assertEquals(JsonToken.VALUE_STRING, sequence.nextToken()); // VALUE_STRING "value2"
    assertEquals("value2", sequence.getText());
    assertEquals(JsonToken.END_OBJECT, sequence.nextToken()); // END_OBJECT for parser2
}