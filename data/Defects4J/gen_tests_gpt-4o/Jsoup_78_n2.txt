
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.junit.Test;

import java.io.ByteArrayInputStream;
import java.io.IOException;
import java.nio.charset.StandardCharsets;

import static org.junit.Assert.assertThrows;

public class JsoupTest {

    @Test
    public void testUnderlyingInputStreamReturnedZeroBytes() {
        // Simulating an empty input stream
        ByteArrayInputStream emptyStream = new ByteArrayInputStream(new byte[0]);

        assertThrows(IOException.class, () -> {
            // Attempt to parse the empty input stream
            Document doc = Jsoup.parse(emptyStream, StandardCharsets.UTF_8.name(), "http://example.com");
        });
    }
}
