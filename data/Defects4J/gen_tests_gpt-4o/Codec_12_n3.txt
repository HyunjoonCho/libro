
import org.apache.commons.codec.binary.Base64InputStream;
import org.junit.Test;
import java.io.ByteArrayInputStream;
import java.io.IOException;
import java.io.InputStream;

import static org.junit.Assert.assertEquals;

public class Base64InputStreamTest {

    @Test
    public void testSkip() throws IOException {
        InputStream ins = new ByteArrayInputStream("AAAA////".getBytes("ISO-8859-1"));
        Base64InputStream instance = new Base64InputStream(ins);
        
        long skippedBytes = instance.skip(3L); // should skip 3 decoded bytes, i.e., 4 encoded characters
        assertEquals(3L, skippedBytes);
        
        int nextByte = instance.read();
        assertEquals(255, nextByte); // should read 255, the next byte after the skipped ones
    }
}
