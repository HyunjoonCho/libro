public void testBigFractionDoubleValueWithLargeNumeratorOrDenominator() {
    BigInteger largeNumber = new BigInteger("1".repeat(309)); // A 309-digit number
    BigInteger withinDoubleRange = BigInteger.valueOf(1);

    BigFraction fractionWithLargeNumerator = new BigFraction(largeNumber, withinDoubleRange);
    assertNotEquals(Double.NaN, fractionWithLargeNumerator.doubleValue(), 0);

    BigFraction fractionWithLargeDenominator = new BigFraction(withinDoubleRange, largeNumber);
    assertNotEquals(Double.NaN, fractionWithLargeDenominator.doubleValue(), 0);
}