public void testGammaDistributionSerialization() throws Exception {
    GammaDistribution original = new GammaDistribution(2.0, 2.0);
    original.reseedRandomGenerator(42);

    // Serialize the original distribution
    ByteArrayOutputStream byteOutStream = new ByteArrayOutputStream();
    ObjectOutputStream outStream = new ObjectOutputStream(byteOutStream);
    outStream.writeObject(original);
    outStream.close();

    // Deserialize to create a cloned distribution
    ByteArrayInputStream byteInStream = new ByteArrayInputStream(byteOutStream.toByteArray());
    ObjectInputStream inStream = new ObjectInputStream(byteInStream);
    GammaDistribution cloned = (GammaDistribution) inStream.readObject();
    inStream.close();

    // Check if the cloned distribution produces the same samples
    original.reseedRandomGenerator(42);
    cloned.reseedRandomGenerator(42);

    for (int i = 0; i < 10; i++) {
        assertEquals(original.sample(), cloned.sample(), 1e-9);
    }
}