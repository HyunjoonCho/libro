public void testNamespaceHandlingForAttributes() {
    String xmlContent = "<ElementA A:myAttr=\"Mytype\" xmlns:A=\"http://example.com\" xmlns:B=\"http://example.com\"><B:ElementB>MY VALUE</B:ElementB></ElementA>";
    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
    factory.setNamespaceAware(true);
    try {
        DocumentBuilder builder = factory.newDocumentBuilder();
        Document document = builder.parse(new InputSource(new StringReader(xmlContent)));
        
        XPathFactory xpathFactory = XPathFactory.newInstance();
        XPath xpath = xpathFactory.newXPath();
        
        // Register namespace context
        NamespaceContext ctx = new NamespaceContext() {
            public String getNamespaceURI(String prefix) {
                if (prefix.equals("A")) return "http://example.com";
                if (prefix.equals("B")) return "http://example.com";
                return XMLConstants.NULL_NS_URI;
            }

            public Iterator getPrefixes(String val) {
                return null;
            }

            public String getPrefix(String uri) {
                return null;
            }
        };
        
        xpath.setNamespaceContext(ctx);
        
        String expression = "/ElementA/@A:myAttr";
        String result = (String) xpath.evaluate(expression, document, XPathConstants.STRING);
        
        assertEquals("Mytype", result);
    } catch (Exception e) {
        fail("Exception should not occur: " + e.getMessage());
    }
}