
import org.joda.time.DateTime;
import org.joda.time.format.DateTimeFormatter;
import org.joda.time.format.DateTimeFormat;
import org.joda.time.MutableDateTime;
import static org.junit.Assert.assertEquals;

public class DateTimeFormatterIssueTest {

    public void testParseIntoWithoutYearInFormat() {
        // Prepare DateTimeFormatter without year in the pattern
        DateTimeFormatter formatter = DateTimeFormat.forPattern("MM-dd");
        
        // Define a reference date with the year we expect the parsed result to have
        DateTime referenceDate = new DateTime(2023, 5, 10, 0, 0);
        
        // Create a MutableDateTime based on the reference date
        MutableDateTime parsedDate = new MutableDateTime(referenceDate);
        
        // Parse the date string into the MutableDateTime
        String inputDate = "04-15"; // expecting it to adapt the year from referenceDate
        formatter.parseInto(parsedDate, inputDate, 0);
        
        // Verify that the parsed date corresponds to the correct year and the month-day from input
        assertEquals(2023, parsedDate.getYear());
        assertEquals(4, parsedDate.getMonthOfYear());
        assertEquals(15, parsedDate.getDayOfMonth());
    }
}
