
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Node;
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class JsoupPreTextAreaTest {

    @Test
    public void testPreTagNewlineHandling() {
        Document doc = Jsoup.parse("<pre>\nabc  def</pre>");
        Node preNode = doc.select("pre").get(0).childNodes().get(0);

        // Test text()
        String expectedText = "abc  def";
        String actualText = preNode.text();
        assertEquals("Newline after <pre> should be removed in text()", expectedText, actualText);

        // Test getWholeText()
        String expectedWholeText = "abc  def";
        String actualWholeText = preNode.getWholeText();
        assertEquals("Newline after <pre> should be removed in getWholeText()", expectedWholeText, actualWholeText);
    }

    @Test
    public void testMultipleNewlinesPreTagNewlineHandling() {
        Document doc = Jsoup.parse("<pre>\n\nabc  def</pre>");
        Node preNode = doc.select("pre").get(0).childNodes().get(0);

        // Test getWholeText()
        String expectedWholeTextMultipleNewlines = "\nabc  def";
        String actualWholeTextMultipleNewlines = preNode.getWholeText();
        assertEquals("First newline after <pre> should be removed in getWholeText() for multiple newlines", expectedWholeTextMultipleNewlines, actualWholeTextMultipleNewlines);
    }
}
