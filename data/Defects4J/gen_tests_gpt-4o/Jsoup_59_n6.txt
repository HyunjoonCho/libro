
import org.jsoup.Jsoup;
import org.jsoup.safety.Safelist;
import org.junit.Test;

import static org.junit.Assert.fail;

public class JsoupCleanTest {

    @Test
    public void testCleanWithControlCharacterThrowsException() {
        String problematicString = "<a/>\u0008>";

        try {
            // Attempt to clean the problematic string
            Jsoup.clean(problematicString, Safelist.basic());
            fail("Expected IllegalArgumentException due to control character");
        } catch (IllegalArgumentException e) {
            // Check the exception message to ensure it's the specific error
            String expectedMessage = "String must not be empty";
            if (!e.getMessage().contains(expectedMessage)) {
                fail("Expected exception message to contain: " + expectedMessage);
            }
        }
    }
}
