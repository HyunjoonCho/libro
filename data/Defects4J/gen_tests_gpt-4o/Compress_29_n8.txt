public void testArchiveStreamFactoryEncoding() throws ArchiveException, IOException {
    ArchiveStreamFactory factory = new ArchiveStreamFactory();

    // Test for ArjArchiveInputStream
    ByteArrayInputStream arjInput = new ByteArrayInputStream(new byte[0]);
    ArjArchiveInputStream arjStream = 
        (ArjArchiveInputStream) factory.createArchiveInputStream("arj", arjInput, "UTF-8");
    assertEquals("UTF-8", arjStream.getEncoding());
    arjStream.close();

    // Test for CpioArchiveInputStream
    ByteArrayInputStream cpioInput = new ByteArrayInputStream(new byte[0]);
    CpioArchiveInputStream cpioStream = 
        (CpioArchiveInputStream) factory.createArchiveInputStream("cpio", cpioInput, "UTF-8");
    assertEquals("UTF-8", cpioStream.getEncoding());
    cpioStream.close();

    // Test for DumpArchiveInputStream
    ByteArrayInputStream dumpInput = new ByteArrayInputStream(new byte[0]);
    DumpArchiveInputStream dumpStream = 
        (DumpArchiveInputStream) factory.createArchiveInputStream("dump", dumpInput, "UTF-8");
    assertEquals("UTF-8", dumpStream.getEncoding());
    dumpStream.close();

    // Test for JarArchiveInputStream
    ByteArrayInputStream jarInput = new ByteArrayInputStream(new byte[0]);
    JarArchiveInputStream jarStream = 
        (JarArchiveInputStream) factory.createArchiveInputStream("jar", jarInput, "UTF-8");
    assertEquals("UTF-8", jarStream.getEncoding());
    jarStream.close();

    // Test for JarArchiveOutputStream
    ByteArrayOutputStream jarOutput = new ByteArrayOutputStream();
    JarArchiveOutputStream jarOutStream = 
        (JarArchiveOutputStream) factory.createArchiveOutputStream("jar", jarOutput, "UTF-8");
    assertEquals("UTF-8", jarOutStream.getEncoding());
    jarOutStream.close();
}