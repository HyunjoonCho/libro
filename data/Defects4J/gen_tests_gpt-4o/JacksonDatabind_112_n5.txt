public void testStringCollectionDeserializerWithCustomCollection() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    String json = "{\"strings\":[\"one\",\"two\",\"three\"]}";
    
    try {
        CustomContainer container = mapper.readValue(json, CustomContainer.class);
        fail("Expected an exception due to missing no-argument constructor");
    } catch (JsonMappingException e) {
        assertTrue(e.getMessage().contains("Cannot construct instance"));
    }
}

static class CustomContainer {
    private final CustomStringCollection strings;

    @JsonCreator
    public CustomContainer(@JsonProperty("strings") CustomStringCollection strings) {
        this.strings = strings;
    }

    public CustomStringCollection getStrings() {
        return strings;
    }
}

static class CustomStringCollection extends AbstractList<String> {
    private final List<String> strings;

    CustomStringCollection(List<String> strings) {
        this.strings = Collections.unmodifiableList(new ArrayList<>(strings));
    }

    @Override
    public String get(int index) {
        return strings.get(index);
    }

    @Override
    public int size() {
        return strings.size();
    }
}