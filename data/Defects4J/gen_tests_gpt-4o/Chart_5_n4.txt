
import org.jfree.data.xy.XYSeries;
import org.jfree.data.xy.XYDataItem;
import org.junit.Test;
import static org.junit.Assert.*;

public class XYSeriesTest {

    @Test
    public void testAddOrUpdateWithDuplicateXValuesAllowed() {
        // Create an XYSeries with duplicate X values allowed
        XYSeries series = new XYSeries("Test Series", true); // 'true' allows duplicate X values

        // Add some data
        series.add(1.0, 5.0);
        series.add(1.0, 10.0); // Duplicate X value

        // Use addOrUpdate
        series.addOrUpdate(1.0, 15.0); // This should add another point because duplicates are allowed

        // Validate that there are 3 entries in the series
        assertEquals(3, series.getItemCount());

        // Validate that the first X value is as expected
        XYDataItem item1 = series.getDataItem(0);
        assertEquals(1.0, item1.getXValue(), 0.0001);
        assertEquals(5.0, item1.getYValue(), 0.0001);

        // Validate that the second X value is as expected
        XYDataItem item2 = series.getDataItem(1);
        assertEquals(1.0, item2.getXValue(), 0.0001);
        assertEquals(10.0, item2.getYValue(), 0.0001);

        // Validate that the third (new) data point is correctly added
        XYDataItem item3 = series.getDataItem(2);
        assertEquals(1.0, item3.getXValue(), 0.0001);
        assertEquals(15.0, item3.getYValue(), 0.0001);
    }
}
