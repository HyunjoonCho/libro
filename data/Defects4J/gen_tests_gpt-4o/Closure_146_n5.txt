script
// ==ClosureCompiler==
// @compilation_level ADVANCED_OPTIMIZATIONS
// @output_file_name default.js
// ==/ClosureCompiler==

/** @param {string} x */
function g(x) {}

/** @param {undefined} x */
function f(x) {
  if (x !== undefined) { // Use !== to avoid type coercion issues
    g(x);
  }
}

// Test case to reproduce the issue
function testBadTypeInference() {
  try {
    f(undefined); // Call f with undefined to ensure no warning
  } catch (e) {
    fail("The function threw an exception: " + e);
  }
}

// Unit test assertion
function fail(message) {
  throw new Error(message);
}

// Execute the test
testBadTypeInference();
