public void testToXMLGeneratorWriteBinaryWithInputStream() throws IOException {
    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();
    ToXMLGenerator toXmlGenerator = new XmlFactory().createGenerator(outputStream, JsonEncoding.UTF8);

    InputStream inputStream = new ByteArrayInputStream("test data".getBytes(StandardCharsets.UTF_8));
    Base64Variant base64Variant = Base64Variants.getDefaultVariant();

    try {
        toXmlGenerator.writeBinary(base64Variant, inputStream, -1);
        fail("Expected UnsupportedOperationException to be thrown");
    } catch (UnsupportedOperationException e) {
        // Expected exception
        assertTrue(e.getMessage().contains("writeBinary(InputStream) not supported"));
    }
}