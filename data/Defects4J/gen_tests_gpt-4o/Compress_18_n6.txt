public void testLongDirectoryNameInTarArchive() {
    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();
    TarArchiveOutputStream tarOutput = new TarArchiveOutputStream(byteArrayOutputStream);

    try {
        // Create a directory name longer than 100 bytes
        String longDirectoryName = "./PaxHeaders.X/layers/openstreetmap__osm.disy.net/.tiles/1.0.0/openstreetmap__osm.disy.net/default/".repeat(2);

        TarArchiveEntry entry = new TarArchiveEntry(longDirectoryName + "/");
        entry.setSize(0);
        tarOutput.putArchiveEntry(entry);
        tarOutput.closeArchiveEntry();
        tarOutput.finish();
    } catch (IOException e) {
        fail("Unexpected IOException: " + e.getMessage());
    } finally {
        try {
            tarOutput.close();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}