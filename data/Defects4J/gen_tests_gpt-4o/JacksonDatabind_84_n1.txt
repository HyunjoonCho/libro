public void testSerializationWithBaseAndSubClass() throws JsonProcessingException {
    ObjectMapper objectMapper = new ObjectMapper();

    // Create an instance of Base first
    Base baseInstance = new Base();
    Sub subInstance = new Sub();

    // Register the Sub class and its hierarchy in the TypeFactory
    objectMapper.getTypeFactory().constructParametricType(IFace.class, Sub.class);

    String jsonResult = objectMapper.writeValueAsString(subInstance);

    // Check that both 'base' and 'sub' properties are present in the serialized output
    assertEquals("{\"base\":1,\"sub\":2}", jsonResult);
}