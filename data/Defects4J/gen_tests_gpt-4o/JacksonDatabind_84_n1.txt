
import com.fasterxml.jackson.annotation.JsonProperty;
import com.fasterxml.jackson.core.JsonProcessingException;
import com.fasterxml.jackson.databind.ObjectMapper;
import org.junit.jupiter.api.Test;

import static org.junit.jupiter.api.Assertions.assertEquals;

// Define the base class implementing the interface
class Base implements IFace<Sub> {
    @JsonProperty
    int base = 1;
}

// Sub class with its own properties
class Sub extends Base {
    @JsonProperty
    int sub = 2;
}

// Interface definition
interface IFace<T> {}

// Test class
public class RecursiveTypeSerializationTest {

    @Test
    public void testSubClassSerialization() throws JsonProcessingException {
        ObjectMapper objectMapper = new ObjectMapper();
        
        // Create an instance of Sub
        Sub subInstance = new Sub();
        
        // Serialize instance
        String jsonString = objectMapper.writeValueAsString(subInstance);
        
        // Expected JSON should include properties from both Base and Sub classes
        String expectedJson = "{\"base\":1,\"sub\":2}";
        
        // Verify the JSON output
        assertEquals(expectedJson, jsonString);
    }
}
