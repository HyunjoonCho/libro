public void testTernaryOperatorWithMixedTypes() {
    String originalJs = "var a = (Math.random() > 0.5 ? '1' : 2) + 3 + 4;";
    String expectedJs = "var a = (Math.random() > 0.5 ? '1' : 2) + 3 + 4;";
    CompilerOptions options = new CompilerOptions();
    CompilationLevel.SIMPLE_OPTIMIZATIONS.setOptionsForCompilationLevel(options);

    Compiler compiler = new Compiler();
    compiler.compile(SourceFile.fromCode("externs.js", ""), SourceFile.fromCode("input.js", originalJs), options);

    String compiledJs = compiler.toSource();
    assertEquals(expectedJs, compiledJs);
}