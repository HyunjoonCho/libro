public void testHelpFormatterFooterLeadingWhitespace() {
    HelpFormatter formatter = new HelpFormatter();
    Options options = new Options();
    String footer = "line1:\n line2:\n";
    StringWriter out = new StringWriter();
    PrintWriter pw = new PrintWriter(out);

    formatter.printHelp(pw, 80, "command", "header", options, 1, 3, footer, true);

    pw.flush();
    String result = out.toString();
    
    assertTrue("Footer does not maintain leading whitespace", result.contains("line2:") && !result.contains("\n line2:"));
}