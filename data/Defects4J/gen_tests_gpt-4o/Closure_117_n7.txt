public void testWrongTypeNameReportedOnMissingPropertyError() {
    String jsCode = ""
        + "/**"
        + " * @constructor"
        + " */"
        + "function C2() {}"
        + "/**"
        + " * @constructor"
        + " */"
        + "function C3(c2) {"
        + "  /**"
        + "   * @type {C2}" 
        + "   * @private"
        + "   */"
        + "  this.c2_ = c2;"
        + "  use(this.c2_.prop);"
        + "}"
        + "function use(x) {}";
    
    TestErrorReporter errorReporter = new TestErrorReporter(null, new String[] {
        "Property prop never defined on C3.c2_"
    });
    
    Compiler compiler = new Compiler(errorReporter);
    CompilerOptions options = new CompilerOptions();
    options.setCheckTypes(true);
    
    SourceFile input = SourceFile.fromCode("testcode", jsCode);
    Result result = compiler.compile(SourceFile.fromCode("externs", ""), input, options);

    assertFalse(result.success);
    assertEquals("Property prop never defined on C2", errorReporter.getWarnings()[0].description);
}