public void testLocaleChangeAffectsFastDateFormat() {
    Locale defaultLocale = Locale.getDefault();
    try {
        // Set default locale to US and get a FastDateFormat instance
        Locale.setDefault(Locale.US);
        FastDateFormat formatUS = FastDateFormat.getDateInstance(FastDateFormat.SHORT);

        // Change default locale to France
        Locale.setDefault(Locale.FRANCE);
        FastDateFormat formatFR = FastDateFormat.getDateInstance(FastDateFormat.SHORT);

        // Format a sample date and assert the locale affected the format
        Date sampleDate = new Date(0); // Epoch start, Jan 1, 1970
        String formattedUS = formatUS.format(sampleDate);
        String formattedFR = formatFR.format(sampleDate);

        // The two formats should be different if locale change affects formatting
        assertNotEquals("Locale change did not affect date format", formattedUS, formattedFR);
    } finally {
        // Restore default locale
        Locale.setDefault(defaultLocale);
    }
}