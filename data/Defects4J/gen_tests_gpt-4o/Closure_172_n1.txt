public void testTypeOfPrototypeProperty() {
    try {
        Compiler compiler = new Compiler();
        compiler.compile(
            CompilerTestCase.EXTERNS,
            "function f(a) { a.prototype = '__proto'; }" +
            "function g(a) { a.prototype = function(){}; }",
            CompilerTestCase.DEFAULT_OPTIONS
        );
        for (JSError error : compiler.getWarnings()) {
            if (error.getDescription().contains("assignment to property prototype of Object")) {
                fail("Expected no warnings about prototype assignment, but got: " + error.getDescription());
            }
        }
    } catch(Exception e) {
        fail("Exception during test execution: " + e.getMessage());
    }
}