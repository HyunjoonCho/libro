public void testOverzealousArgumentsOptimisation() {
    ScriptEngineManager manager = new ScriptEngineManager();
    ScriptEngine engine = manager.getEngineByName("nashorn");
    try {
        engine.eval(
            "function callWithTemp(callback) {" +
            "  var f = callback;" +
            "  arguments[0] = this;" +
            "  return f.apply(this, arguments);" +
            "};" +
            "function callWithoutTemp(a) {" +
            "  arguments[0] = this;" +
            "  return a.apply(this, arguments);" +
            "};" +
            "var resultWithTemp = callWithTemp(function(a) { return a; }.bind('original'), 'argument');" +
            "var resultWithoutTemp = callWithoutTemp(function(a) { return a; }.bind('original'), 'argument');" +
            "resultWithTemp + ',' + resultWithoutTemp;"
        );
        
        String resultWithTemp = (String) engine.get("resultWithTemp");
        String resultWithoutTemp = (String) engine.get("resultWithoutTemp");

        assertEquals("original", resultWithTemp);
        assertEquals("argument", resultWithoutTemp);
    } catch (ScriptException e) {
        fail("JavaScript execution failed: " + e.getMessage());
    }
}