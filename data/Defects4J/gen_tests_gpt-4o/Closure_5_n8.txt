script
function testDeleteStatement() {
    // The function to simulate the original JavaScript before compiling
    function originalFunction(arg) {
        var foo = {};
        foo.bar = arg;
        console.log(foo.bar); // Expected output: 'testValue'

        delete foo.bar;
        console.log(foo.bar); // Expected output: undefined
    }

    // Simulated compiled version of the function as described in the bug report
    function compiledFunction(a) {
        console.log(a); // Expected output: 'testValue'

        // The 'delete a' statement is ineffective here since 'a' is not an object property
        delete a; 
        console.log(a); // Expected output in the bug report: 'testValue' (buggy behavior)
    }

    const testValue = 'testValue';

    // Capture the console output for comparison
    const captureConsoleOutput = (func) => {
        const output = [];
        const originalConsoleLog = console.log;
        console.log = (...args) => output.push(...args);
        
        func(testValue);

        console.log = originalConsoleLog;
        return output;
    };

    // Compare the expected and actual output
    const expectedOutput = captureConsoleOutput(originalFunction);
    const actualOutput = captureConsoleOutput(compiledFunction);

    console.assert(
        JSON.stringify(expectedOutput) === JSON.stringify(actualOutput),
        `Test failed. Expected: ${expectedOutput}, Got: ${actualOutput}`
    );

    console.log('Test completed.');
}

// Run the test
testDeleteStatement();
