public void testCrypticErrorMessageOnInvalidTypeFunctionAnnotation() {
    String jsCode = "/**\n * @type function\n */\nvar callback;";
    try {
        Compiler compiler = new Compiler();
        CompilerOptions options = new CompilerOptions();
        SourceFile input = SourceFile.fromCode("test.js", jsCode);
        SourceFile extern = SourceFile.fromCode("externs.js", "");
        
        compiler.compile(extern, input, options);
    } catch (Exception e) {
        fail("Compilation failed unexpectedly");
    }
    JSError[] warnings = compiler.getWarnings();
    assertEquals(1, warnings.length);
    assertTrue(warnings[0].getDescription().contains("expected '(' at @type"));
}