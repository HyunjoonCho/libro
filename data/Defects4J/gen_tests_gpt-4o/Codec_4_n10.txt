
import org.apache.commons.codec.binary.Base64;
import org.junit.Test;
import static org.junit.Assert.*;

public class Base64Test {

    @Test
    public void testBase64InstanceEncode() throws Exception {
        String input = "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa";
        byte[] inputBytes = input.getBytes("UTF-8");

        Base64 base64 = new Base64();

        // Using the static encodeBase64 method
        byte[] staticEncoded = Base64.encodeBase64(inputBytes);

        // Using the instance encode method
        byte[] instanceEncoded = base64.encode(inputBytes);

        // Assert that encoded outputs are different due to line chunking and CRLF
        assertNotEquals(new String(staticEncoded, "UTF-8"), new String(instanceEncoded, "UTF-8"));

        // Assert that the instance encoded output contains CRLF
        assertTrue(new String(instanceEncoded, "UTF-8").contains("\r\n"));
    }
}
