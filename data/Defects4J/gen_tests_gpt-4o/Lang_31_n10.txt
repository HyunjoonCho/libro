
import static org.junit.Assert.assertEquals;
import org.apache.commons.lang3.StringUtils;
import org.junit.Test;

public class StringUtilsUnicodeTest {

    private static final String CHAR_U20000 = "\uD840\uDC00";
    private static final String CHAR_U20001 = "\uD840\uDC01";

    @Test
    public void testStringContainsAnyWithUnicodeSupplementaryChars() {
        // Test the indexOf behavior from the JRE
        assertEquals(-1, CHAR_U20000.indexOf(CHAR_U20001));

        // Test StringUtils.containsAny - these are the failing cases
        assertEquals(false, StringUtils.containsAny(CHAR_U20000, CHAR_U20001));
        assertEquals(false, StringUtils.containsAny(CHAR_U20001, CHAR_U20000));

        // Test StringUtils.contains - these are expected to pass
        assertEquals(true, StringUtils.contains(CHAR_U20000 + CHAR_U20001, CHAR_U20000));
        assertEquals(true, StringUtils.contains(CHAR_U20000 + CHAR_U20001, CHAR_U20001));
        assertEquals(true, StringUtils.contains(CHAR_U20000, CHAR_U20000));
        assertEquals(false, StringUtils.contains(CHAR_U20000, CHAR_U20001));
    }
}
