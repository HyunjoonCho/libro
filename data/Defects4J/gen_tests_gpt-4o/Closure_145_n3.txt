public void testLabeledLoopBreak() {
    String jsCode = "var i = 0;" +
                    "lab1: do {" +
                    "  lab2: do {" +
                    "    i++;" +
                    "    if (1) {" +
                    "      break lab2;" +
                    "    } else {" +
                    "      break lab1;" +
                    "    }" +
                    "  } while(false);" +
                    "} while(false);" +
                    "console.log(i);";

    Compiler compiler = new Compiler();
    CompilerOptions options = new CompilerOptions();
    CompilationLevel.SIMPLE_OPTIMIZATIONS.setOptionsForCompilationLevel(options);
    compiler.compile(SourceFile.fromCode("externs.js", ""), SourceFile.fromCode("test.js", jsCode), options);
    
    String output = compiler.toSource();
    assertTrue(output.contains("{"));
}