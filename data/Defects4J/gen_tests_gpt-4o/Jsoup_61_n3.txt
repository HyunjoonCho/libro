
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.junit.Test;

import static org.junit.Assert.assertNotNull;
import static org.junit.Assert.assertNull;

public class JsoupCaseSensitivityTest {

    @Test
    public void testCssClassCaseSensitivity() {
        final String htmlStr =
                "<!DOCTYPE HTML PUBLIC '-//W3C//DTD HTML 4.01 Transitional//EN' 'http://www.w3.org/TR/html4/loose.dtd'>\n" +
                "<HTML>\n" +
                " <HEAD>\n" +
                " <FORM Method='POST' name='Form' Action='Action'>\n" +
                " <TABLE Class='Lst'>\n" +
                " <TR Class='Lst'>\n" +
                " <TH Class='Lst'>Header 1</TH>\n" +
                " <TH Class='Lst'>Header 2</TH>\n" +
                " <TH Class='Lst'>Header 3</TH>\n" +
                " </TR>\n" +
                " <TR Class='Lst1'>\n" +
                " <TD Class='Lst'>Cell 1</TD>\n" +
                " <TD Class='Lst'>Cell 2</TD>\n" +
                " <TD Class='Lst'>Cell 3</TD>\n" +
                " </TR>\n" +
                " </TABLE>\n" +
                " </FORM>\n" +
                " </BODY>\n" +
                "</HTML>";

        Document htmlDoc = Jsoup.parse(htmlStr);

        // Selector with assumed case insensitivity
        Element tableNotOk = htmlDoc.select("html > body > form table.Lst").first();
        // Selector using attribute value matching
        Element tableOk = htmlDoc.select("html > body > form table[class=Lst]").first();

        // Expected behavior: Element should be found with both selectors.
        assertNull("The selector 'html > body > form table.Lst' should return null due to case sensitivity.", tableNotOk);
        assertNotNull("The selector 'html > body > form table[class=Lst]' should find the element.", tableOk);
    }
}
