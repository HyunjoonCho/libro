public void testFunctionArgumentsNotOptimizedAway() throws Exception {
    String originalCode = "function foo(bar, baz) { return bar; } alert(foo.length);";
    String expectedOutput = "function foo(bar,baz){return bar;}alert(foo.length);";

    Compiler compiler = new Compiler();
    CompilerOptions options = new CompilerOptions();
    CompilationLevel.SIMPLE_OPTIMIZATIONS.setOptionsForCompilationLevel(options);

    SourceFile extern = SourceFile.fromCode("externs.js", "");
    SourceFile input = SourceFile.fromCode("test.js", originalCode);

    Result result = compiler.compile(extern, input, options);

    assertEquals(expectedOutput, compiler.toSource());
}