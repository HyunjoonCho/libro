
import org.apache.commons.jxpath.JXPathContext;
import org.junit.Test;
import java.util.HashMap;
import java.util.Map;

import static org.junit.Assert.*;

public class JXPathNullHandlingTest {

    @Test
    public void testNullHandlingInJXPath() {
        Map<String, Integer> map = new HashMap<>();
        map.put("a", 1);
        map.put("b", null);
        map.put("c", 1);

        JXPathContext context = JXPathContext.newContext(map);

        // Test cases as per the bug report
        assertTrue((Boolean) context.getValue("a != b")); // Should be true
        assertFalse((Boolean) context.getValue("a != c")); // Should be false
        
        assertFalse((Boolean) context.getValue("a = b")); // Should be false
        assertTrue((Boolean) context.getValue("a = c")); // Should be true
        
        assertTrue((Boolean) context.getValue("not(a = b)")); // Should be true
        assertFalse((Boolean) context.getValue("not(a = c)")); // Should be false
    }
}
