public void testJsonStreamContextDifference() throws IOException {
    ObjectMapper objectMapper = new ObjectMapper();

    // Data setup
    Map<String, Object> data = new HashMap<>();
    Map<String, Object> nestedData = new HashMap<>();
    nestedData.put("key", "value");
    data.put("nested", nestedData);

    // JSON writing
    StringWriter writer = new StringWriter();
    JsonGenerator generator = objectMapper.getFactory().createGenerator(writer);
    generator.writeStartObject();
    generator.writeObjectField("nested", nestedData);
    generator.writeEndObject();
    generator.close();
    
    String jsonWritten = writer.toString();

    // JSON converting
    JsonNode node = objectMapper.valueToTree(data);
    String jsonConverted = objectMapper.writeValueAsString(node);

    // Test failure scenario
    assertFalse(jsonWritten.equals(jsonConverted));
}