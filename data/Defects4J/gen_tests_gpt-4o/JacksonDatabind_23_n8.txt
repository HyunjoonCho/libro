public void testJacksonNonEmptyExclusion() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    mapper.setSerializationInclusion(JsonInclude.Include.NON_EMPTY);

    TestObject obj = new TestObject();
    obj.setIntValue(0);
    obj.setStringValue("");

    String result = mapper.writeValueAsString(obj);
    assertFalse(result.contains("intValue"));
    assertFalse(result.contains("stringValue"));
}

static class TestObject {
    private int intValue;
    private String stringValue;

    public int getIntValue() {
        return intValue;
    }

    public void setIntValue(int intValue) {
        this.intValue = intValue;
    }

    public String getStringValue() {
        return stringValue;
    }

    public void setStringValue(String stringValue) {
        this.stringValue = stringValue;
    }
}