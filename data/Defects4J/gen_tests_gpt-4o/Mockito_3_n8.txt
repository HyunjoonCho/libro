
import static org.junit.Assert.*;
import static org.mockito.ArgumentMatchers.*;
import static org.mockito.Mockito.*;

import java.util.List;

import org.junit.Test;
import org.mockito.ArgumentCaptor;

public class ArgumentCaptorVarargsTest {

    public interface SampleService {
        void performAction(String... args);
    }

    @Test
    public void testArgumentCaptorWithVarargs() {
        // Arrange
        SampleService mockService = mock(SampleService.class);
        ArgumentCaptor<String> captor = ArgumentCaptor.forClass(String.class);

        // Act
        mockService.performAction("arg1", "arg2", "arg3");

        // Assert
        verify(mockService).performAction(captor.capture());
        List<String> capturedArguments = captor.getAllValues();

        assertEquals(3, capturedArguments.size());
        assertEquals("arg1", capturedArguments.get(0));
        assertEquals("arg2", capturedArguments.get(1));
        assertEquals("arg3", capturedArguments.get(2));
    }
}
