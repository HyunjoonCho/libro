
import com.google.gson.Gson;
import com.google.gson.GsonBuilder;
import org.junit.Test;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertNull;

public class DefaultDateTypeAdapterTest {

    @Test
    public void testNullDateSerialization() {
        Gson gson = new GsonBuilder().create();
        
        // Object with null Date field for serialization
        TestObject obj = new TestObject();
        obj.date = null;

        // Serialize object to JSON
        String json = gson.toJson(obj);

        // Expected JSON: The date field should be null in the JSON string
        assertEquals("{\"date\":null}", json);
    }

    @Test
    public void testNullDateDeserialization() {
        Gson gson = new GsonBuilder().create();

        // JSON string with null date
        String json = "{\"date\":null}";

        // Deserialize JSON string to object
        TestObject obj = gson.fromJson(json, TestObject.class);

        // Assert that the date field is still null after deserialization
        assertNull(obj.date);
    }

    private static class TestObject {
        Date date;
    }
}
