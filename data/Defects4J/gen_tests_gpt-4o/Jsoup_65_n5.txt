
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.parser.Parser;
import org.jsoup.select.Elements;
import org.jsoup.nodes.Element;
import org.junit.Test;

import static org.junit.Assert.*;

public class JsoupTemplateTagTest {

    @Test
    public void testTemplateInsideTr() {
        String html = "<table>" + 
                      "<tr>" +
                      "<th></th>" +
                      "<th>Name</th>" +
                      "<template is=\"dom-if\" if=\"{{smoothingEnabled}}\">" +
                      "<th>Smoothed</th>" +
                      "</template>" +
                      "<th>Value</th>" +
                      "<th>Step</th>" +
                      "<th>Time</th>" +
                      "<th>Relative</th>" +
                      "</tr>" +
                      "</table>";

        try {
            Document doc = Jsoup.parse(html, "", Parser.htmlParser());
            Elements templates = doc.select("template");
            Element templateElement = templates.first();

            assertNotNull("Template element should not be null", templateElement);
            assertEquals("template", templateElement.tagName());
        } catch (Exception e) {
            fail("Parsing failed with exception: " + e.getMessage());
        }
    }
}
