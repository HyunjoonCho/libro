public void testNextTextValueForAttributes() throws IOException {
    String xml = "<root attr='value'>text</root>";
    XmlMapper xmlMapper = new XmlMapper();
    FromXmlParser parser = xmlMapper.getFactory().createParser(xml);

    JsonToken token = parser.nextToken(); // START_OBJECT
    token = parser.nextToken(); // FIELD_NAME
    assertEquals(JsonToken.FIELD_NAME, token);
    parser.nextToken(); // VALUE_STRING
    assertEquals("value", parser.nextTextValue()); // should return attribute value "value", not null
}