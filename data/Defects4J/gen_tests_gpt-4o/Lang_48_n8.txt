
import org.apache.commons.lang3.builder.EqualsBuilder;
import java.math.BigDecimal;
import org.junit.Test;
import static org.junit.Assert.assertFalse;
import static org.junit.Assert.assertTrue;

public class EqualsBuilderBigDecimalTest {

    @Test
    public void testBigDecimalEquals() {
        BigDecimal bd1 = new BigDecimal("1.0");
        BigDecimal bd2 = new BigDecimal("1.00");

        // With default EqualsBuilder, this will return false:
        boolean equalsUsingEqualsMethod = new EqualsBuilder()
                                           .append(bd1, bd2)
                                           .isEquals();
        assertFalse("EqualsBuilder incorrectly considers 1.0 and 1.00 as equal using equals method", equalsUsingEqualsMethod);

        // Correct behavior should use compareTo():
        boolean equalsUsingCompareTo = (bd1.compareTo(bd2) == 0);
        assertTrue("BigDecimals 1.0 and 1.00 should be considered equal using compareTo", equalsUsingCompareTo);
    }
}
