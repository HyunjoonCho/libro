
import org.apache.commons.codec.binary.Base64;
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class Base64EncodingTest {

    @Test
    public void testBase64InstanceEncoding() {
        Base64 base64Instance = new Base64();

        String input = "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa";
        byte[] inputBytes = input.getBytes();

        // This is the expected result without line breaks
        String expectedEncoded = "YWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYQ==";

        byte[] encodedBytes = base64Instance.encode(inputBytes);

        // Converting encoded bytes to a string
        String actualEncoded = new String(encodedBytes);

        // Assert that the actual encoded string matches the expected encoded string
        // Note: we don't expect a line break or CRLF in the non-chunked output
        assertEquals(expectedEncoded, actualEncoded);
    }
}
