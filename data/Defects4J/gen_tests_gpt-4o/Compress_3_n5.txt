public void testArchiveOutputStreamFinishMethod() {
    ArchiveOutputStream archiveOutputStream = new SomeArchiveOutputStreamImplementation(System.out);
    archiveOutputStream.finish();
    try {
        byte[] data = "test data".getBytes();
        archiveOutputStream.write(data);
        fail("Expected IOException due to premature finish call");
    } catch (IOException e) {
        // Expected exception due to calling finish() prematurely
        assertTrue(e.getMessage().contains("Cannot write to finished archive"));
    }
}