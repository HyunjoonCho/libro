public void testSwitchedOrderOfDeleteKeyAndKeyIn() {
    Map<String, String> customData = new HashMap<>();
    customData.put("key", "value");

    // Emulate function logic
    String key = "key";
    Map<String, String> dataSlot = customData;
    String retval = dataSlot != null && dataSlot.containsKey(key) ? dataSlot.get(key) : null;
    boolean hadKey = dataSlot != null && dataSlot.containsKey(key);
    if (dataSlot != null) {
        dataSlot.remove(key);
    }

    // Verify behavior before delete
    assertTrue("Expected 'key' to be present before deletion", hadKey);
    assertEquals("Expected return value to be 'value'", "value", retval);

    // Check result after deletion
    assertFalse("Expected 'key' to be absent after deletion", customData.containsKey("key"));
}