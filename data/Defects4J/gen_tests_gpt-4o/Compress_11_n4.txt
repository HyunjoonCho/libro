public void testCreateArchiveInputStreamWithShortTextFile() throws Exception {
    String shortText = "This is a short text file with less than 100 bytes.";
    ByteArrayInputStream input = new ByteArrayInputStream(shortText.getBytes());
    ArchiveStreamFactory factory = new ArchiveStreamFactory();
    try {
        factory.createArchiveInputStream(input);
        fail("Expected ArchiveException due to incorrect detection as tar archive");
    } catch (ArchiveException e) {
        assertTrue(e.getMessage().contains("No Archiver found"));
    }
}