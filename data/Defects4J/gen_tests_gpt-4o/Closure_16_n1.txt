public void testJSCompilerTypedefResolution() {
    try {
        String code = "goog.provide('a.b.c');\n" +
                      "\n" +
                      "goog.scope(function() {\n" +
                      "var b = a.b;\n" +
                      "var c = b.c;\n" +
                      "\n" +
                      "/** @typedef {string} */\n" +
                      "c.MyType;\n" +
                      "\n" +
                      "/** @param {c.MyType} x The variable. */\n" +
                      "c.myFunc = function(x) {};\n" +
                      "\n" +
                      "});";

        // Assuming there's a method to compile JS with JSCompiler
        compileJSCode(code);
        fail("Expected a compilation error due to unresolved typedef.");
    } catch (CompilationErrorException e) {
        assertTrue(e.getMessage().contains("typedef"));
    }
}