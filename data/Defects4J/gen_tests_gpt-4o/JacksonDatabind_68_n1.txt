public void testAcceptSingleValueAsArray() throws IOException {
    String json = "[{\"message\":\"messageHere\"}]";
    ObjectMapper om = new ObjectMapper();
    om.configure(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY, true);
    try {
        om.readValue(json, A.class);
        fail("Expected InputMismatchException to be thrown");
    } catch (InputMismatchException e) {
        assertTrue(e.getMessage().contains("Can not construct instance"));
    }
}