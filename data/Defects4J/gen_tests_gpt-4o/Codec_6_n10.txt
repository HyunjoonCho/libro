public void testBase64InputStreamMultipleOfThree() throws IOException {
    byte[] encoded = Base64.getEncoder().encode("abc".getBytes()); // "abc" is 3 bytes long
    ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(encoded);
    Base64InputStream base64InputStream = new Base64InputStream(byteArrayInputStream, true);
    InputStreamReader reader = new InputStreamReader(base64InputStream);
    
    char[] buffer = new char[4];
    int bytesRead = reader.read(buffer);
    while (bytesRead != -1) {
        bytesRead = reader.read(buffer);
    }
    
    assertTrue("Expected end of stream indicated by -1", bytesRead == -1);
}