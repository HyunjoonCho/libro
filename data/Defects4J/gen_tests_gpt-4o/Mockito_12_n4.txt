public void testArgumentCaptorWithVarargs() {
    List<String> mockList = mock(ArrayList.class);
    ArgumentCaptor<String> captor = ArgumentCaptor.forClass(String.class);
    
    mockList.addAll(Arrays.asList("one", "two", "three"));
    
    verify(mockList).addAll(captor.capture());
    
    assertArrayEquals(new String[]{"one", "two", "three"}, captor.getAllValues().toArray());
}