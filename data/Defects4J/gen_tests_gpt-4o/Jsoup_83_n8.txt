
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.junit.Test;

import static org.junit.Assert.*;

public class JsoupMissingTagTest {

    @Test
    public void testMissingClosingTagHandled() {
        String html = "<td class=\"my-cell\"\n" +
                      "   <div class=\"great-formatting\">100</div>\n" +
                      "</td>";

        // Parse the malformed HTML
        Document document = Jsoup.parse(html);

        // Try to select the div element with class "great-formatting"
        Element div = document.selectFirst("div.great-formatting");

        // The test should ensure that the div is correctly parsed despite the missing '>' in the td tag
        assertNotNull("The div.great-formatting should be present in the parsed document", div);
        assertEquals("100", div.text());
    }
}
