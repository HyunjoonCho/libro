public void testJniErrorWithGson() {
    String json = "{"
        + "\"feedItemChannel\":\"mdldsrgXN1\","
        + "\"estimatedData\":{"
        + "\"feedTopic\":\"Testing\","
        + "\"feedComments\":2,"
        + "\"createdBy\":\"KXTQtpfBSW\","
        + "\"feedQuestion\":\"Test Question \","
        + "\"feedDesc\":\"Test \""
        + "},"
        + "\"hashedObjects\":{},"
        + "\"isDeleted\":false,"
        + "\"isDeletingEventually\":0,"
        + "\"mutex\":{},"
        + "\"operationSetQueue\":[{}],"
        + "\"saveEvent\":{"
        + "\"callbacks\":[]"
        + "},"
        + "\"state\":{"
        + "\"className\":\"FeedItem\","
        + "\"createdAt\":1458798818385,"
        + "\"isComplete\":true,"
        + "\"objectId\":\"mdldsrgXN1\","
        + "\"serverData\":{"
        + "\"feedTopic\":\"TestTopic\","
        + "\"createdBy\":\"KXTQtpfBSW\","
        + "\"feedComments\":2,"
        + "\"feedQuestion\":\"Test Question \","
        + "\"feedDesc\":\"Test \""
        + "},"
        + "\"updatedAt\":1458803553636"
        + "},"
        + "\"taskQueue\":{"
        + "\"lock\":{"
        + "\"sync\":{"
        + "\"state\":0"
        + "}"
        + "}"
        + "}"
        + "}";

    class FeedItem {
        String feedItemChannel;
        Map<String, Object> estimatedData;
        boolean isDeleted;
        int isDeletingEventually;
        Map<String, Object> mutex;
        List<Map<String, Object>> operationSetQueue;
        Map<String, Object> saveEvent;
        Map<String, Object> state;
        Map<String, Object> taskQueue;
    }

    Gson gson = new Gson();
    try {
        FeedItem item = gson.fromJson(json, FeedItem.class);
        // The test should reproduce the crash, if it doesn't, the test should reflect a failure
        fail("Expected JNI DETECTED ERROR IN APPLICATION but the code executed without failure.");
    } catch (RuntimeException e) {
        // We expect a RuntimeException due to the JNI error handling
        assertTrue(e.getMessage().contains("JNI DETECTED ERROR IN APPLICATION"));
    }
}