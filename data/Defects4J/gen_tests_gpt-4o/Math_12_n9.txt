public void testGammaDistributionSerialization() throws Exception {
    GammaDistribution originalDistribution = new GammaDistribution(2.0, 2.0);
    GammaDistribution clonedDistribution = (GammaDistribution) serializeAndDeserialize(originalDistribution);

    assertNotNull(clonedDistribution);
    
    originalDistribution.reseedRandomGenerator(12345L);
    clonedDistribution.reseedRandomGenerator(12345L);

    double originalSample = originalDistribution.sample();
    double clonedSample = clonedDistribution.sample();

    assertEquals(originalSample, clonedSample, 0.00001);
}

private Object serializeAndDeserialize(Object object) throws IOException, ClassNotFoundException {
    try (ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();
         ObjectOutputStream objectOutputStream = new ObjectOutputStream(byteArrayOutputStream)) {
        objectOutputStream.writeObject(object);
        objectOutputStream.flush();
        try (ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(byteArrayOutputStream.toByteArray());
             ObjectInputStream objectInputStream = new ObjectInputStream(byteArrayInputStream)) {
            return objectInputStream.readObject();
        }
    }
}