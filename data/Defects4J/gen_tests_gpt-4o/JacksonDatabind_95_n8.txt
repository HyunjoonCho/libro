
import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.type.TypeFactory;
import org.junit.Test;

public class TypeFactoryTest {

    @Test(expected = NullPointerException.class)
    public void testConstructFromCanonicalWithUnparameterizedGeneric() {
        // Jackson ObjectMapper initialization
        ObjectMapper objectMapper = new ObjectMapper();
        TypeFactory typeFactory = objectMapper.getTypeFactory();

        // Unparameterized generic canonical string
        String returnType = "java.util.List";

        // This should throw NullPointerException in version 2.8.7
        typeFactory.constructFromCanonical(returnType);
    }
}
