
import static org.junit.Assert.assertEquals;

import java.util.ArrayList;

import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.junit.Test;

public class ElementTest {

    @Test
    public void mustCorrectlyMoveChildrenInsideOneParentElement() {
        Document doc = new Document("");
        Element body = doc.appendElement("body");
        body.appendElement("div1");
        body.appendElement("div2");
        Element div3 = body.appendElement("div3");
        Element div4 = body.appendElement("div4");

        ArrayList<Element> toMove = new ArrayList<Element>() {
            {
                add(div3);
                add(div4);
            }
        };

        // Attempt to move the elements div3 and div4 to the start of the body
        body.insertChildren(0, toMove);

        // Convert the document to a string and remove whitespace for comparison
        String result = doc.toString().replaceAll("\\s+", "");
        
        // Verify that the elements are in the correct order
        assertEquals("<body><div3></div3><div4></div4><div1></div1><div2></div2></body>", result);
    }
}
