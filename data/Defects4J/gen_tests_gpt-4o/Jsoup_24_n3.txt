
import static org.junit.Assert.assertTrue;
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.junit.Test;

public class HtmlParsingTest {

    @Test
    public void testScriptParsingIssue() {
        String inputHtml = "<HTML>\n"
                + "<body>\n"
                + " <div>\n"
                + "  <script language=\"JavaScript1.1\"> \n"
                + "    document.write('</scr' + 'ipt>');\n"
                + "  </script>\n"
                + " </div>\n"
                + "</body>\n"
                + "</HTML>";

        // Parse the HTML using Jsoup
        Document doc = Jsoup.parse(inputHtml);

        // Extract the script element content
        Element scriptElement = doc.selectFirst("script");
        String scriptContent = scriptElement.html().trim();

        // Expected script content
        String expectedScriptContent = "document.write('</scr' + 'ipt>');";

        // Assert that the script content is as expected
        assertTrue("Script content should match expected content", scriptContent.contains(expectedScriptContent));
    }
}
