public void testMissingTypeChecksForPolymorphicTypeIds() {
    ObjectMapper mapper = new ObjectMapper();
    mapper.enableDefaultTyping(ObjectMapper.DefaultTyping.OBJECT_AND_NON_CONCRETE, JsonTypeInfo.As.PROPERTY);
    mapper.registerSubtypes(MyIntegerEnum.class);

    String json = "[\"java.util.EnumMap<MyIntegerEnum,java.lang.String>\",{\"ONE\":\"value\"}]";
    
    assertThrows(JsonMappingException.class, () -> {
        mapper.readValue(json, Object.class);
    });
}

public static enum MyIntegerEnum {
    ONE, TWO;
}