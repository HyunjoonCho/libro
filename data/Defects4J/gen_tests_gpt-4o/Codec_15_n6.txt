
import org.apache.commons.codec.language.Soundex;
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class SoundexBugTest {

    @Test
    public void testSoundexHWRule() {
        Soundex soundex = new Soundex();
        
        // Test case designed based on the bug description
        // "BHWB" should map to "B100" because the second 'B' should not be encoded
        // "B" -> 1, "H" -> ignored, "W" -> ignored, "B" -> ignored due to 'BHWB' sequence
        assertEquals("B100", soundex.soundex("BHWB"));
        
        // Additional test case
        // "BHB" should also map to "B100" because the second 'B' should not be encoded
        // due to 'BH' sequence
        assertEquals("B100", soundex.soundex("BHB"));

        // Verify correct functionality for non-bug example
        // "BMB" should map to "B510" because the second 'B' should be encoded
        assertEquals("B510", soundex.soundex("BMB"));
    }
}
