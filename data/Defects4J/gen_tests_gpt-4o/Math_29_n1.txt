public void testEbeMultiplyWithNaNAndInfinity() {
    double[] data1 = {1.0, 2.0, Double.NaN, 4.0, Double.POSITIVE_INFINITY};
    double[] data2 = {10.0, Double.NEGATIVE_INFINITY, 3.0, Double.NaN, 1.0};

    RealVector v1 = new OpenMapRealVector(data1);
    RealVector v2 = new OpenMapRealVector(data2);

    RealVector result = v1.ebeMultiply(v2);

    assertEquals(Double.NaN, result.getEntry(2), 0);
    assertEquals(Double.NaN, result.getEntry(3), 0);
    assertEquals(Double.POSITIVE_INFINITY, result.getEntry(4), 0);
}

public void testEbeDivideWithNaNAndInfinity() {
    double[] data1 = {1.0, 2.0, Double.NaN, 4.0, Double.POSITIVE_INFINITY};
    double[] data2 = {10.0, Double.NEGATIVE_INFINITY, 3.0, Double.NaN, 2.0};

    RealVector v1 = new OpenMapRealVector(data1);
    RealVector v2 = new OpenMapRealVector(data2);

    RealVector result = v1.ebeDivide(v2);

    assertEquals(Double.NaN, result.getEntry(2), 0);
    assertEquals(Double.NaN, result.getEntry(3), 0);
    assertEquals(Double.POSITIVE_INFINITY, result.getEntry(4), 0);
}