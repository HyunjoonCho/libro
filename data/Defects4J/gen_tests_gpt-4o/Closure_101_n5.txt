public void testProcessClosurePrimitivesFlag() {
    CommandLineRunner runner = new CommandLineRunner(new String[] {
        "--process_closure_primitives", "false",
        "--js", "test.js",
        "--js_output_file", "output.js"
    });

    // Simulate running the file compilation
    runner.run();

    String output = new String(Files.readAllBytes(Paths.get("output.js")), StandardCharsets.UTF_8);
   
    assertTrue("The goog.provide/require should not be processed.", output.contains("goog.provide") || output.contains("goog.require"));

    runner = new CommandLineRunner(new String[] {
        "--process_closure_primitives", "true",
        "--js", "test.js",
        "--js_output_file", "output.js"
    });

    // Simulate running the file compilation
    runner.run();

    output = new String(Files.readAllBytes(Paths.get("output.js")), StandardCharsets.UTF_8);

    assertFalse("The goog.provide/require should be processed.", output.contains("goog.provide") || output.contains("goog.require"));
}