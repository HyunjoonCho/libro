public void testIssue983() {
    AbstractCategoryItemRenderer renderer = new AbstractCategoryItemRenderer() {};
    CategoryPlot plot = new CategoryPlot();
    renderer.setPlot(plot);

    LegendItemCollection legendItems = renderer.getLegendItems();
    assertNotNull(legendItems);
    // Ensure the legendItem result is empty, as the dataset was null
    assertEquals(0, legendItems.getItemCount());
}