
import com.fasterxml.jackson.dataformat.xml.XmlMapper;
import com.fasterxml.jackson.dataformat.xml.ser.ToXmlGenerator;
import org.junit.jupiter.api.Test;
import static org.junit.jupiter.api.Assertions.*;

public class XmlSerializerProviderTest {

    @Test
    public void testWithRootNameConfigForNull() throws Exception {
        XmlMapper xmlMapper = new XmlMapper();
        
        // Configure with a specific root name
        XmlMapper configuredMapper = (XmlMapper) xmlMapper.copy()
            .setDefaultUseWrapper(false)
            .withRootName("CustomRoot");

        // Serialize a null object
        String result = configuredMapper.writeValueAsString(null);

        // Check if the result uses the configured root name
        String expectedRootElement = "<CustomRoot/>";
        assertEquals(expectedRootElement, result.trim(), "The root element name should be 'CustomRoot'");
    }
}
