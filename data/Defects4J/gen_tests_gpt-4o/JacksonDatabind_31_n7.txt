public void testJsonStreamContextDifference() throws IOException {
    ObjectMapper objectMapper = new ObjectMapper();
    ObjectNode testNode = objectMapper.createObjectNode();
    testNode.put("key", "value");

    // Using writeValueAsString
    JsonGenerator jsonGenerator = objectMapper.getFactory().createGenerator(new StringWriter());
    jsonGenerator.writeTree(testNode);
    JsonStreamContext writeContext = jsonGenerator.getOutputContext().getParent();

    // Using convertValue
    Object result = objectMapper.convertValue(testNode, Object.class);
    JsonStreamContext convertContext = objectMapper.getFactory().createGenerator(new StringWriter()).getOutputContext().getParent();

    // Check if contexts are built the same way
    assertNotEquals(writeContext.toString(), convertContext.toString());
}