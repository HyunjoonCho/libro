public void testSuperNotRenamed() {
    String originalJavaScript = "function Example() {" +
            "  var test = function($super, arg) {" +
            "    return $super(arg);" +
            "  };" +
            "}";

    Compiler compiler = new Compiler();
    CompilerOptions options = new CompilerOptions();
    CompilationLevel.ADVANCED_OPTIMIZATIONS.setOptionsForCompilationLevel(options);

    SourceFile extern = SourceFile.fromCode("externs.js", "");
    SourceFile input = SourceFile.fromCode("input.js", originalJavaScript);
    CompilationResult result = compiler.compile(extern, input, options);

    String outputJavaScript = compiler.toSource();

    assertTrue("The variable $super should not be renamed.",
               outputJavaScript.contains("$super"));
}