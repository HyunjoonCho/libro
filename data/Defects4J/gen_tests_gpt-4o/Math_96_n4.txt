
import org.apache.commons.math.complex.Complex;
import org.apache.commons.math.complex.ComplexFormat;
import org.junit.Test;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertTrue;

public class ComplexNumberBugTest {
    
    @Test
    public void testMultiplicationAndEqualityOfComplexNumbers() {
        ComplexFormat formatter = new ComplexFormat();
        Complex c1 = new Complex(0, 1);
        Complex c2 = new Complex(-1, 0);

        // Multiply (0 + 1i) with (-1 + 0i)
        Complex result = c1.multiply(c2);
        Complex expected = new Complex(0, -1);
        
        // Output the formatted result to visually inspect the issue
        System.out.println("res: " + formatter.format(result));
        System.out.println("comp: " + formatter.format(expected));

        // Asserting that the formatted strings are equal for visual confirmation
        assertEquals("0 - 1i", formatter.format(result));
        assertEquals("0 - 1i", formatter.format(expected));
        
        // Proper numerical equality check considering â€“0.0 is numerically equal to 0.0
        assertTrue("Result should equal expected", result.equals(expected));
    }
}
