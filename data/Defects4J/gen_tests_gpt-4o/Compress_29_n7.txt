public void testArchiveStreamFactoryEncodingIssue() throws Exception {
    final String encoding = "UTF-8";
    
    // Define dummy input and output streams for initialization
    InputStream dummyInput = new ByteArrayInputStream(new byte[0]);
    OutputStream dummyOutput = new ByteArrayOutputStream();
    
    ArchiveStreamFactory factory = new ArchiveStreamFactory();

    ArjArchiveInputStream arjStream = (ArjArchiveInputStream) factory.createArchiveInputStream(
            ArchiveStreamFactory.ARJ, dummyInput, encoding);
    assertEquals("Encoding should match for ArjArchiveInputStream", encoding, arjStream.getEncoding());

    CpioArchiveInputStream cpioStream = (CpioArchiveInputStream) factory.createArchiveInputStream(
            ArchiveStreamFactory.CPIO, dummyInput, encoding);
    assertEquals("Encoding should match for CpioArchiveInputStream", encoding, cpioStream.getEncoding());

    DumpArchiveInputStream dumpStream = (DumpArchiveInputStream) factory.createArchiveInputStream(
            ArchiveStreamFactory.DUMP, dummyInput, encoding);
    assertEquals("Encoding should match for DumpArchiveInputStream", encoding, dumpStream.getEncoding());

    JarArchiveInputStream jarInputStream = (JarArchiveInputStream) factory.createArchiveInputStream(
            ArchiveStreamFactory.JAR, dummyInput, encoding);
    assertEquals("Encoding should match for JarArchiveInputStream", encoding, jarInputStream.getEncoding());

    JarArchiveOutputStream jarOutputStream = (JarArchiveOutputStream) factory.createArchiveOutputStream(
            ArchiveStreamFactory.JAR, dummyOutput, encoding);
    assertEquals("Encoding should match for JarArchiveOutputStream", encoding, jarOutputStream.getEncoding());
}