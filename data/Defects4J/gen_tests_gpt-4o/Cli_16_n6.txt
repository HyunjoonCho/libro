public void testGroupMinimumAndMaximumConstraints() {
    // Construct options
    Option optionA = new Option("a", "optionA");
    Option optionB = new Option("b", "optionB");

    // Construct groups
    OptionGroup groupA = new OptionGroup();
    groupA.addOption(optionA);

    OptionGroup groupB = new OptionGroup();
    groupB.addOption(optionB);
    groupB.addOptionGroup(groupA);
    groupB.setMinimum(1);
    groupB.setMaximum(1);

    // Construct command line parser
    CommandLineParser parser = new DefaultParser();

    // Arguments that should satisfy the constraints of groupB, as groupA is part of it
    String[] args = {"-a"};

    try {
        CommandLine cmd = parser.parse(OptionsBuilder.options().addOptionGroup(groupB).build(), args);
        assertTrue(cmd.hasOption("a"));
    } catch (ParseException e) {
        fail("Expected to parse correctly without exception, but an exception was thrown: " + e.getMessage());
    }
}