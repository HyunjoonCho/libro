public void testJniErrorWithGson() {
    String json = "{"
        + "\"feedItemChannel\":\"mdldsrgXN1\","
        + "\"estimatedData\":{"
        + "\"feedTopic\":\"Testing\","
        + "\"feedComments\":2,"
        + "\"createdBy\":\"KXTQtpfBSW\","
        + "\"feedQuestion\":\"Test Question \","
        + "\"feedDesc\":\"Test \""
        + "},"
        + "\"hashedObjects\":{},"
        + "\"isDeleted\":false,"
        + "\"isDeletingEventually\":0,"
        + "\"mutex\":{},"
        + "\"operationSetQueue\":[{}],"
        + "\"saveEvent\":{\"callbacks\":[]},"
        + "\"state\":{"
        + "\"className\":\"FeedItem\","
        + "\"createdAt\":1458798818385,"
        + "\"isComplete\":true,"
        + "\"objectId\":\"mdldsrgXN1\","
        + "\"serverData\":{"
        + "\"feedTopic\":\"TestTopic\","
        + "\"createdBy\":\"KXTQtpfBSW\","
        + "\"feedComments\":2,"
        + "\"feedQuestion\":\"Test Question \","
        + "\"feedDesc\":\"Test \""
        + "},"
        + "\"updatedAt\":1458803553636"
        + "},"
        + "\"taskQueue\":{"
        + "\"lock\":{"
        + "\"sync\":{"
        + "\"state\":0"
        + "}"
        + "}"
        + "}"
        + "}";

    Gson gson = new Gson();
    try {
        FeedItem item = gson.fromJson(json, FeedItem.class);
        fail("Expected an exception due to JNI error, but did not get one.");
    } catch (Exception e) {
        assertTrue(e.getMessage().contains("JNI DETECTED ERROR IN APPLICATION"));
    }
}