
import org.apache.commons.math3.analysis.UnivariateFunction;
import org.apache.commons.math3.analysis.solvers.BrentSolver;
import org.apache.commons.math3.exception.NoBracketingException;
import org.junit.Test;

import static org.junit.Assert.assertThrows;

public class BrentSolverTest {

    @Test
    public void testBrentSolverWithInitialGuessHavingWrongSign() {
        BrentSolver solver = new BrentSolver();

        UnivariateFunction function = x -> x * x - 2; // Root is at sqrt(2), which is approximately 1.414

        double min = 0;
        double max = 2;
        double initial = 3; // Incorrect initial guess

        // Expecting NoBracketingException or IllegalArgumentException because initial guess leads to same sign values
        assertThrows(IllegalArgumentException.class, () -> solver.solve(100, function, min, max, initial));
    }
}
