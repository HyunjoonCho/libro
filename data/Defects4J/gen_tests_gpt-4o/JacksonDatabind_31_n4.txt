public void testJsonStreamContextDifference() {
    ObjectMapper mapper = new ObjectMapper();

    // Sample JSON to convert and write
    Map<String, Object> sampleMap = new HashMap<>();
    sampleMap.put("key", "value");

    // Convert the map to JSON node and write it
    JsonNode node = mapper.convertValue(sampleMap, JsonNode.class);
    StringWriter writer = new StringWriter();
    JsonGenerator generator = mapper.getFactory().createGenerator(writer);

    try {
        // Observe JsonStreamContext for convertValue
        JsonStreamContext convertContext = node.get(JsonStreamContext.class);
        
        // Writing node to generator to observe writeContext
        generator.writeTree(node);
        JsonStreamContext writeContext = generator.getOutputContext();

        // Assert error: convertContext and writeContext are not the same
        assertNotEquals(convertContext.getClass().getName(), writeContext.getClass().getName());
    } catch (IOException e) {
        fail("Exception during JSON processing: " + e.getMessage());
    }
}