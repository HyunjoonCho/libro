
import static org.junit.Assert.assertNull;
import org.junit.Test;
import javax.script.*;

public class DeleteStatementTest {
  
    @Test
    public void testDeleteStatement() throws ScriptException {
        // Using Java's ScriptEngine to run the JavaScript function
        ScriptEngine engine = new ScriptEngineManager().getEngineByName("nashorn");
        
        // JavaScript code to reproduce the behavior
        engine.eval("(function() {" +
                    "    var foo = {};" +
                    "    foo.bar = 'test';" +
                    "    var beforeDelete = foo.bar;" +
                    "    delete foo.bar;" + // Simulating the bug where delete is interpreted incorrectly
                    "    var afterDelete = foo.bar;" +
                    "    print('Before delete: ' + beforeDelete);" +
                    "    print('After delete: ' + afterDelete);" +
                    "})();");
        
        // Expected behavior in case the delete works:
        assertNull(engine.eval("foo.bar"));
    }
}
