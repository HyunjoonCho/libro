
import org.apache.commons.math4.legacy.stat.descriptive.moment.Variance;
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class VarianceTest {

    @Test
    public void testVarianceEvaluateWithLengthParameter() {
        double[] values = {1.0, 2.0, 3.0, 4.0, 5.0};
        double[] weights = {1.0, 1.0, 1.0, 1.0, 1.0};
        double mean = 2.0; // Mean of the first two elements
        int begin = 0;
        int length = 2; // Only consider the first two elements

        Variance variance = new Variance();
        double result = variance.evaluate(values, weights, mean, begin, length);

        // Variance of {1.0, 2.0} is 0.25
        assertEquals(0.25, result, 1e-9);
    }
}
