
import org.junit.Test;
import static org.junit.Assert.*;

public class TypeCheckTest {

    class C2 {
        // No properties defined
    }

    class C3 {
        private C2 c2_;

        public C3(C2 c2) {
            this.c2_ = c2;
        }

        public void use(Object obj) {
            // Simulating the use of a property
        }

        public void testPropertyAccess() {
            // This line simulates a property access on C2 not being correctly recognized
            use(this.c2_.getClass().getField("prop"));
        }
    }

    @Test
    public void testIncorrectTypeNameInError() {
        try {
            C2 c2 = new C2();
            C3 c3 = new C3(c2);
            c3.testPropertyAccess();
            fail("Expected NoSuchFieldException");
        } catch (NoSuchFieldException e) {
            String expectedMessage = "Property prop never defined on C2";
            assertTrue("Error message should refer to C2", e.getMessage().contains(expectedMessage));
        }
    }
}
