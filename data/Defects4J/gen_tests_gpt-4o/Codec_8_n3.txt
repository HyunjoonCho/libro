public void testArrayIndexOutOfBoundsInBase64InputStream() {
    byte[] input = new byte[10921];
    InputStream in = new ByteArrayInputStream(input);
    Base64InputStream b64stream = new Base64InputStream(in, true, 0, null);
    int n = 0;
    
    try {
        while (b64stream.read() != -1) {
            n++;
        }
    } catch (ArrayIndexOutOfBoundsException e) {
        fail("ArrayIndexOutOfBoundsException at read count: " + n);
    } catch (IOException e) {
        fail("IOException occurred: " + e.getMessage());
    } finally {
        try {
            b64stream.close();
        } catch (IOException e) {
            // Ignore close exception
        }
    }
}