
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.safety.Whitelist;
import org.junit.Test;

import static org.junit.Assert.assertTrue;

public class HtmlCleanupTest {

    @Test
    public void testCidReferencePreservation() {
        String htmlInput = "<html><body><img src=\"cid:12345\"></body></html>";
        
        // Sanitize using standard Jsoup Whitelist
        Document sanitized = Jsoup.clean(htmlInput, Whitelist.basicWithImages());
        
        // Verify that cid reference is preserved correctly
        String sanitizedHtml = sanitized.toString();
        assertTrue("CID reference should be preserved", sanitizedHtml.contains("cid:12345"));
    }
}
