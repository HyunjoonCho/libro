public void testPosixParserWithStopAtNonOption() {
    Options options = new Options();
    options.addOption("a", false, "option a");
    options.addOption(Option.builder("b").hasArg().desc("option b").build());

    CommandLineParser parser = new PosixParser();
    String[] args = new String[]{"--zop", "-abfoo"};

    CommandLine cmd = parser.parse(options, args, true);

    assertFalse(cmd.hasOption("a"));
    assertFalse(cmd.hasOption("b"));
    assertArrayEquals(new String[]{"--zop", "-abfoo"}, cmd.getArgs());
}