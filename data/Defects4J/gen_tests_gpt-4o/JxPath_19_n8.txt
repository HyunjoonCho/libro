public void testIteratePointersWithMultiplePrefixes() {
    String xml = "<a:doc xmlns:a=\"ns\">" +
                 " <a:elem />" +
                 " <b:elem xmlns:b=\"ns\" />" +
                 "</a:doc>";
    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
    DocumentBuilder builder;
    Document doc;
    try {
        builder = factory.newDocumentBuilder();
        doc = builder.parse(new ByteArrayInputStream(xml.getBytes()));
    } catch (Exception e) {
        throw new RuntimeException("Failed to parse XML", e);
    }

    JXPathContext context = JXPathContext.newContext(doc);
    List<String> elements = new ArrayList<>();
    for (Pointer pointer : context.iteratePointers("//elem")) {
        elements.add(((Element) pointer.getNode()).getTagName());
    }

    // We expect to find two elements in the 'ns' namespace regardless of their prefixes
    assertEquals(2, elements.size());
    assertTrue(elements.contains("a:elem"));
    assertTrue(elements.contains("b:elem"));
}