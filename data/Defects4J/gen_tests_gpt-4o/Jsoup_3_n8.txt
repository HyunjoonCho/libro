
import org.junit.Test;
import static org.junit.Assert.*;
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;

public class TableRowAppendTest {

    @Test
    public void testAppendTableRow() {
        // Create an HTML fragment with an existing table
        String html = "<table><tbody id='myTable'><tr><td>Existing Row</td></tr></tbody></table>";
        Document doc = Jsoup.parse(html);

        // Select the existing table element
        Element tableBody = doc.getElementById("myTable");
        
        // Create a new table row
        Element newRow = new Element("tr").append("<td>New Row</td>");

        // Append the new row to the existing table
        tableBody.appendChild(newRow);

        // Verify the new row is correctly appended without additional wrapping tables
        assertEquals(2, tableBody.children().size());
        assertEquals("Existing Row", tableBody.child(0).text());
        assertEquals("New Row", tableBody.child(1).text());

        // Verify that the entire document does not contain multiple tables due to the append
        assertEquals(1, doc.select("table").size());
    }
}
