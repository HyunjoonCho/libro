
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.DocumentType;
import org.junit.Test;
import static org.junit.Assert.assertTrue;

public class DocumentTypeTest {

    @Test
    public void testMissingQuoteInOuterHtmlHead() {
        // Create a document with a DOCTYPE declaration
        Document doc = Jsoup.parse("<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"><html></html>");
        
        // Extract the doctype
        DocumentType doctype = (DocumentType) doc.childNode(0);

        // Get the outer HTML representation of the doctype
        String outerHtmlHead = doctype.outerHtml();

        // Check if the SYSTEM ID is properly quoted
        // This is where we expect the bug: the SYSTEM ID might be missing a closing quote
        assertTrue("The SYSTEM ID should be enclosed in quotes", outerHtmlHead.contains("\"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\""));
        
        // (Optional) Output the result for manual confirmation
        System.out.println("Outer HTML: " + outerHtmlHead);
    }
}
