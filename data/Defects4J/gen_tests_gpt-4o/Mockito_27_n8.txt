
import org.junit.Test;
import org.mockito.Mockito;
import static org.mockito.Mockito.doThrow;
import static org.mockito.Mockito.when;

public class MockitoExceptionTest {

    @Test(expected = IllegalArgumentException.class)
    public void testThrowException() {
        // Create a mock object
        Object o = Mockito.mock(Object.class);

        // Stub method to throw RuntimeException
        when(o.toString()).thenThrow(RuntimeException.class);

        try {
            o.toString();
        } catch (RuntimeException e) {
            // Ignore the first exception to test the second one
        }

        // Stub method again to throw IllegalArgumentException
        when(o.toString()).thenThrow(IllegalArgumentException.class);

        // This should now throw IllegalArgumentException
        o.toString();
    }
}
