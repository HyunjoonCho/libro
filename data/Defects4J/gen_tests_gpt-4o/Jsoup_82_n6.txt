public void testUnsupportedCharset() throws IOException {
    String html = "<html><meta charset=\"ISO-2022-CN\"/></html>";

    try {
        Document doc = Jsoup.parse(new ByteArrayInputStream(html.getBytes()), null, "");
        fail("Expected UnsupportedOperationException was not thrown");
    } catch (UnsupportedOperationException e) {
        // Expected exception was thrown
        assertTrue(e.getMessage().contains("ISO2022_CN"));
    }
}