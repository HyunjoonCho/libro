
import com.google.javascript.jscomp.CommandLineRunner;

public class LabeledLoopClosureCompilerTest {
    public static void main(String[] args) {
        String jsCode = "var i = 0; \n" +
                        "lab1: do{ \n" +
                        " lab2: do{ \n" +
                        " i++; \n" +
                        " if (1) { \n" +
                        " break lab2; \n" +
                        " } else { \n" +
                        " break lab1; \n" +
                        " } \n" +
                        " } while(false); \n" +
                        "} while(false); \n" +
                        "console.log(i);";
        
        String[] compilerArgs = {
            "--js", "-",
            "--js_output_file", "out.js"
        };

        CommandLineRunner runner = new CommandLineRunner(compilerArgs);
        runner.setPrintSourceAfterEachPass(true);

        int result = runner.doRun();
        
        if (result != 0) {
            System.out.println("Compilation failed.");
        } else {
            System.out.println("Compilation succeeded. Check generated output file.");
        }
    }
}
