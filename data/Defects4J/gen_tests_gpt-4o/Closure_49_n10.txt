public void testFunctionAssignmentWithVariableNameConflict() {
    String inputJs = "var foo = function bar() { var bar; alert(bar); };";
    String expectedOutputJs = "var foo = function() { alert(void 0); };";

    CompilerOptions options = new CompilerOptions();
    options.setOptimizationLevel(CompilationLevel.SIMPLE_OPTIMIZATIONS);
    
    Compiler compiler = new Compiler();
    Result result = compiler.compile(
        CommandLineRunner.getDefaultExterns(), 
        ImmutableList.of(SourceFile.fromCode("input.js", inputJs)), 
        options
    );

    String outputJs = compiler.toSource();
    assertEquals(expectedOutputJs, outputJs);
}