public void testPolymorphicTypeLostWithJsonValue() throws Exception {
    byte[] testData = {0, 1, 2, 3, 4};

    CommandAPDU original = new CommandAPDU(testData);

    ObjectMapper mapper = new ObjectMapper();
    mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);
    mapper.enableDefaultTyping();

    // Serialize the original object to JSON
    String json = mapper.writeValueAsString(original);
    
    // Deserialize the JSON back into a CommandAPDU object
    CommandAPDU deserialized = (CommandAPDU) mapper.readValue(json, CommandAPDU.class);

    // Verify that the deserialized object is equal to the original object
    assertArrayEquals(original.getBytes(), deserialized.getBytes());
}