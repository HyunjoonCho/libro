public void testClassifyCommaOperatorExpressions() {
    // Case 1: Warn for 1 as non-rightmost is free of side effects
    String expression1 = "(1, 2, 42)";
    String transformed1 = transformExpression(expression1);
    assertEquals("(1, 3)", transformed1);
    // Expect a warning for 1 being non-rightmost with no side effects

    // Case 2: Do not warn for bar() as it has potential side effects
    String expression2 = "(bar(), 2, 42)";
    String transformed2 = transformExpression(expression2);
    assertEquals("(bar(), 3)", transformed2);
    // No warning expected

    // Case 3: Warn for the first elements (1 and 4) of inner sequences
    String expression3 = "((1, 2, 3), (4, 5, 42))";
    String transformed3 = transformExpression(expression3);
    assertEquals("(1, 4, 42)", transformed3);
    // Expect warnings for both 1 and 4 being non-rightmost
}