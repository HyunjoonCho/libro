public void testWrongTypeNameOnMissingProperty() {
    // Mock the use function to avoid any external dependency
    UseFunction useFunction = Mockito.mock(UseFunction.class);

    // Create an instance of C2
    C2 c2 = new C2();

    // Create an instance of C3 passing in C2 instance
    C3 c3 = new C3(c2);

    // Try using the property, which should trigger the error
    try {
        useFunction.use(c3.c2_.prop);
        fail("Expected an exception due to missing property definition.");
    } catch (PropertyNotDefinedException e) {
        assertEquals("Property prop never defined on C2", e.getMessage());
    }
}