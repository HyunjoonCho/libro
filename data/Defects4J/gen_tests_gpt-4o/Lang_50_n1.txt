public void testFastDateFormatWithLocaleChange() {
    Locale defaultLocale = Locale.getDefault();
    try {
        // Set the default locale to US
        Locale.setDefault(Locale.US);
        
        // Get a date instance with default locale (US)
        FastDateFormat dateFormatUS = FastDateFormat.getDateInstance(FastDateFormat.SHORT, null);
        String formattedDateUS = dateFormatUS.format(new Date(0)); // Fixed date for consistency

        // Change the default locale to FRANCE
        Locale.setDefault(Locale.FRANCE);
        
        // Get a date instance again with default locale (FRANCE)
        FastDateFormat dateFormatFR = FastDateFormat.getDateInstance(FastDateFormat.SHORT, null);
        String formattedDateFR = dateFormatFR.format(new Date(0));

        // The two should not be the same, as the locale has changed
        assertNotEquals(formattedDateUS, formattedDateFR);
    } finally {
        // Restore the default locale
        Locale.setDefault(defaultLocale);
    }
}