public void testGetChiSquare() {
    AbstractLeastSquares leastSquares = new AbstractLeastSquares();
    double[] residuals = {1.0, 2.0, 3.0};
    double[] weights = {0.5, 0.5, 0.5};

    leastSquares.setResiduals(residuals);
    leastSquares.setResidualsWeights(weights);
  
    // Assuming getChiSquare should be calculated as sum(weights[i] * residuals[i] * residuals[i])
    double expectedChiSquare = 0.5 * (1.0 * 1.0) + 0.5 * (2.0 * 2.0) + 0.5 * (3.0 * 3.0);

    assertEquals(expectedChiSquare, leastSquares.getChiSquare(), 1e-9);
}