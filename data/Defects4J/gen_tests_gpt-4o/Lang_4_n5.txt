
import java.nio.CharBuffer;
import org.apache.commons.lang3.StringEscapeUtils;
import static org.junit.Assert.assertEquals;
import org.junit.Test;

public class LookupTranslatorTest {
    
    @Test
    public void testEscapeHtml4WithDifferentCharSequence() {
        CharSequence cs1 = "1 < 2";
        CharSequence cs2 = CharBuffer.wrap("1 < 2".toCharArray());

        // Using String as CharSequence
        String resultWithString = StringEscapeUtils.ESCAPE_HTML4.translate(cs1);
        assertEquals("1 &lt; 2", resultWithString);

        // Using CharBuffer as CharSequence, which currently fails
        String resultWithCharBuffer = StringEscapeUtils.ESCAPE_HTML4.translate(cs2);
        assertEquals("1 &lt; 2", resultWithCharBuffer); // This assertion will fail as per given bug
    }
}
