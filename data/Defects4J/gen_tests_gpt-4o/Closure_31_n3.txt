public void testManageClosureDependenciesWithWhitespaceOnly() {
    CompilerOptions options = new CompilerOptions();
    options.setCompilationLevel(CompilationLevel.WHITESPACE_ONLY);
    options.setManageClosureDependencies(true);
    
    List<SourceFile> inputs = ImmutableList.of(SourceFile.fromCode("test.js",
        "goog.provide('example');\n" +
        "goog.require('dependency');\n" +
        "var example = function() { return dependency(); };"));

    List<SourceFile> externs = ImmutableList.of();

    Compiler compiler = new Compiler();
    compiler.compile(externs, inputs, options);
    
    String expectedOutput = "var example = function() { return dependency(); };";
    assertEquals(expectedOutput, compiler.toSource());
}