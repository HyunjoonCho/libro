public void testJXPathContextIteratePointersWithMultiplePrefixes() {
    String xml = "<a:doc xmlns:a=\"ns\">" +
                 "  <a:elem />" +
                 "  <b:elem xmlns:b=\"ns\" />" +
                 "</a:doc>";
    
    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
    DocumentBuilder builder;
    Document document = null;
    try {
        builder = factory.newDocumentBuilder();
        document = builder.parse(new ByteArrayInputStream(xml.getBytes()));
    } catch (Exception e) {
        fail("Exception during XML parsing: " + e.getMessage());
    }
    
    JXPathContext context = JXPathContext.newContext(document);
    Iterator<?> pointers = context.iteratePointers("//elem");
    int count = 0;
    while (pointers.hasNext()) {
        pointers.next();
        count++;
    }
    
    assertEquals("Incorrect number of elements iterated", 2, count);
}