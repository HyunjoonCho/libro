
import org.apache.commons.math3.util.Pair;
import org.apache.commons.math3.distribution.EnumeratedDistribution;

import java.util.ArrayList;
import java.util.List;

public class DiscreteDistributionTest {

    public void testSampleWithSubClassType() {
        List<Pair<Object, Double>> list = new ArrayList<Pair<Object, Double>>();
        
        // First element is an anonymous subclass of Object
        list.add(new Pair<Object, Double>(new Object() {}, 0.0));
        
        // Second element is a generic Object
        list.add(new Pair<Object, Double>(new Object(), 1.0));

        try {
            EnumeratedDistribution<Object> distribution = new EnumeratedDistribution<>(list);
            Object[] samples = distribution.sample(1);

            // Check if we got the right number of samples
            assertEquals(1, samples.length);
        } catch (Exception e) {
            e.printStackTrace();
            fail("Exception occurred during sampling: " + e.getMessage());
        }
    }
}
