@Test
public void testAddOrUpdateWithDuplicateXValuesAllowed() {
    XYSeries series = new XYSeries("Test Series", true);

    // Add some initial data
    series.add(1.0, 5.0);
    series.add(2.0, 5.5);

    // Allow duplicates and try to add duplicate X value
    series.setAllowDuplicateXValues(true);
    series.addOrUpdate(1.0, 6.0);  // Should add another item instead of updating

    // Verify that the duplicate was added
    assertEquals(3, series.getItemCount());
    assertEquals(5.0, series.getY(0).doubleValue(), 0.01);
    assertEquals(6.0, series.getY(1).doubleValue(), 0.01);
    assertEquals(5.5, series.getY(2).doubleValue(), 0.01);
}