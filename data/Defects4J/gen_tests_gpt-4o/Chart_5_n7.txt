
import org.jfree.data.xy.XYSeries;
import org.jfree.data.xy.XYDataItem;
import org.junit.Test;
import static org.junit.Assert.*;

public class XYSeriesTest {

    @Test
    public void testAddOrUpdateAllowsDuplicates() {
        // Initialize the XYSeries with duplicate X values allowed
        XYSeries series = new XYSeries("Test Series", true, false);

        // Add a data item
        series.add(1.0, 2.0);

        // Add or update a new item with the same X value
        series.addOrUpdate(1.0, 3.0);

        // Expecting two entries because duplicates are allowed
        assertEquals(2, series.getItemCount());

        // Check the data items to ensure both values are present
        XYDataItem item1 = series.getDataItem(0);
        XYDataItem item2 = series.getDataItem(1);
        
        assertEquals(1.0, item1.getXValue(), 0.0001);
        assertEquals(2.0, item1.getYValue(), 0.0001);
        assertEquals(1.0, item2.getXValue(), 0.0001);
        assertEquals(3.0, item2.getYValue(), 0.0001);
    }

}
