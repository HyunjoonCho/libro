
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.junit.Test;
import static org.junit.Assert.*;

public class MalformedHtmlTest {

    @Test
    public void testMalformedHtmlTree() {
        // This is a simplified HTML example with two body tags
        String html = "<html><head><title>Test</title></head>"
                      + "<body><p>First body</p></body>"
                      + "<body><p>Second body</p></body>"
                      + "</html>";

        Document document = Jsoup.parse(html);

        // Validate that the parsed document has exactly one body element
        Element htmlElement = document.child(0);
        assertNotNull("HTML element should not be null", htmlElement);
        
        // Verify that only one body element exists as a direct child of HTML
        Elements bodyElements = htmlElement.getElementsByTag("body");
        assertEquals("There should be only one body element", 1, bodyElements.size());

        // Optionally, you can print or check the contents of the body to verify behavior
        System.out.println(document.body());
    }
}
