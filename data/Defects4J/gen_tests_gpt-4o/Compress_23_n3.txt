
import org.apache.commons.compress.archivers.sevenz.SevenZFile;
import org.apache.commons.compress.archivers.ArchiveException;
import org.apache.commons.compress.archivers.ArchiveStreamFactory;
import org.apache.commons.compress.utils.IOUtils;

import java.io.File;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.OutputStream;

public class SevenZipErrorTest {

    public static void main(String[] args) {
        try {
            // The path to your test 7z file, ensure this file exists with the described condition
            String arcName = "path/to/your/test.7z"; // Update this to the path of your 7z file

            // Attempt to open the 7z file and catch the exception
            SevenZFile input = new SevenZFile(new File(arcName));
            System.out.println("File opened successfully!");

            // Remember to close the SevenZFile
            input.close();
        } catch (org.tukaani.xz.UnsupportedOptionsException e) {
            // Output the specific exception we are testing for
            System.out.println("Caught exception: " + e.getMessage());
        } catch (IOException e) {
            // Handle other IO exceptions
            e.printStackTrace();
        }
    }
}
