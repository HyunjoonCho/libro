
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.jsoup.select.Elements;
import org.junit.Test;

import static org.junit.Assert.assertEquals;

public class ElementsAttributeTest {

    @Test
    public void testAbsAttributePrefix() {
        String html = "<html><body>" +
                      "<a href='https://example.com/page.html'>Link</a>" +
                      "<a href='/relative-path/page.html'>Relative Link</a>" +
                      "</body></html>";

        Document doc = Jsoup.parse(html);
        Elements links = doc.select("a");

        // Attempt to get the absolute href using the 'abs:' prefix
        for (Element link : links) {
            if (link.hasAttr("href")) {
                String absHref = link.attr("abs:href");
                System.out.println("Absolute href: " + absHref);
            }
        }

        // Test the absolute URL retrieval for both links
        assertEquals("https://example.com/page.html", links.get(0).attr("abs:href"));
        assertEquals("https://example.com/relative-path/page.html", links.get(1).attr("abs:href"));
    }
}
