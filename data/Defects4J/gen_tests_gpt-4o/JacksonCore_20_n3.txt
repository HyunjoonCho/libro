public void testWriteEmbeddedObjectWithByteArray() throws IOException {
    JsonFactory factory = new JsonFactory();
    StringWriter writer = new StringWriter();
    JsonGenerator generator = factory.createGenerator(writer);

    byte[] data = {1, 2, 3, 4};

    try {
        generator.writeEmbeddedObject(data);
        generator.close();
        // Check if the output is not empty, meaning the byte array was handled
        assertFalse(writer.toString().isEmpty());
    } catch (UnsupportedOperationException e) {
        fail("writeEmbeddedObject should support byte arrays");
    }
}