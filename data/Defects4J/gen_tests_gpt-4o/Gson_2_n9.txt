public void testTypeHierarchyAdapterDecoding() {
    GsonBuilder builder = new GsonBuilder();
    builder.registerTypeHierarchyAdapter(Vehicle.class, new VehicleAdapter());
    Gson gson = builder.create();

    String truckJson = "{\"type\":\"Truck\",\"loadCapacity\":1000}";
    
    try {
        Car car = gson.fromJson(truckJson, Car.class);
        fail("Expected a JsonSyntaxException for decoding Truck as Car");
    } catch (JsonSyntaxException e) {
        assertTrue(e.getMessage().contains("Vehicle type mismatch"));
    }
}