public void testIOUtilsSkipWithCipherInputStream() throws Exception {
    byte[] data = new byte[64];
    SecureRandom random = new SecureRandom();
    random.nextBytes(data);

    SecretKeySpec keySpec = new SecretKeySpec(new byte[16], "AES");
    Cipher cipher = Cipher.getInstance("AES/ECB/PKCS5Padding");
    cipher.init(Cipher.ENCRYPT_MODE, keySpec);

    ByteArrayOutputStream baos = new ByteArrayOutputStream();
    CipherOutputStream cos = new CipherOutputStream(baos, cipher);
    cos.write(data);
    cos.close();

    byte[] encryptedData = baos.toByteArray();
    ByteArrayInputStream bais = new ByteArrayInputStream(encryptedData);
    CipherInputStream cis = new CipherInputStream(bais, cipher);

    long toSkip = 10;
    long skipped = IOUtils.skip(cis, toSkip);
    
    assertEquals("The number of bytes skipped should be 10.", toSkip, skipped);
}