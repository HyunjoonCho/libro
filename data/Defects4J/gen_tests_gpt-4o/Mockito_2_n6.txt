
import static org.mockito.Mockito.*;

import org.junit.Test;

public class MockitoAfterNegativeTest {

    @Test
    public void testMockitoAfterWithNegativeTimePeriod() {
        Runnable runnable = mock(Runnable.class);
        
        // This should fail since 'run' was never called
        verify(runnable, never()).run(); // passes as expected

        // This should pass after waiting 1000 milliseconds (1 second)
        verify(runnable, after(1000).never()).run(); // passes as expected

        // This is where the issue is: it should not pass with a negative period
        try {
            verify(runnable, after(-1000).atLeastOnce()).run(); // expectation: should fail
            fail("Verification should not pass with a negative time period.");
        } catch (Exception e) {
            System.out.println("Caught expected exception: " + e.getMessage());
        }
    }
    
    private void fail(String message) {
        throw new AssertionError(message);
    }
}
