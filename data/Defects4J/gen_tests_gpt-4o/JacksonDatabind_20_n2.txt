
import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.PropertyNamingStrategies;
import com.fasterxml.jackson.databind.node.ObjectNode;
import org.junit.jupiter.api.Test;
import static org.junit.jupiter.api.Assertions.*;

public class TestPropertyNamingStrategyIssue {

    public static class ClassWithObjectNodeField {
        public String id;
        public ObjectNode json;
    }

    @Test
    public void testPropertyNamingStrategyIssue() throws Exception {
        ObjectMapper mapper = new ObjectMapper();
        mapper.setPropertyNamingStrategy(PropertyNamingStrategies.LOWER_CASE);
        
        String jsonInput = "{ \"id\": \"1\", \"json\": { \"foo\": \"bar\", \"baz\": \"bing\" } }";
        
        // Attempt to deserialize
        ClassWithObjectNodeField deserialized = 
                mapper.readValue(jsonInput, ClassWithObjectNodeField.class);

        // Assertions to verify deserialization was successful
        assertNotNull(deserialized);
        assertEquals("1", deserialized.id);
        
        assertNotNull(deserialized.json);
        assertEquals("bar", deserialized.json.get("foo").asText());
        assertEquals("bing", deserialized.json.get("baz").asText());
    }
}
