public void testArgumentCaptorWithVarargs() {
    List mockList = mock(List.class);
    ArgumentCaptor<Object> captor = ArgumentCaptor.forClass(Object.class);
    
    doNothing().when(mockList).addAll(captor.capture());
    
    mockList.addAll(Arrays.asList("one", "two", "three"));
    
    List<Object> capturedArguments = captor.getAllValues();
    assertEquals(1, capturedArguments.size());
    assertTrue(capturedArguments.get(0) instanceof List);
    assertEquals(Arrays.asList("one", "two", "three"), capturedArguments.get(0));
}