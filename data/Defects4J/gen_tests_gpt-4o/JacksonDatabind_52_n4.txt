public void testExternalPropertyDeserialization() throws Exception {
    ObjectMapper objectMapper = new ObjectMapper();

    String json = "{ \"type\": \"foo\", \"data\": { \"fooProperty\": \"value\" } }";
    
    Container container = objectMapper.readValue(json, Container.class);

    assertNotNull("Type should not be null", container.getType());
    assertEquals("foo", container.getType());
    assertTrue("Data should be instance of FooData", container.getData() instanceof FooData);
    assertEquals("value", ((FooData) container.getData()).getFooProperty());
}