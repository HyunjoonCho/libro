
import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.PropertyNamingStrategies;
import com.fasterxml.jackson.databind.annotation.JsonNaming;
import com.fasterxml.jackson.databind.annotation.JsonProperty;
import junit.framework.TestCase;

public class ConstructorPropertyNamingTest extends TestCase {

    public static class Person {
        private final String firstName;
        private final String lastName;

        public Person(@JsonProperty("firstName") String firstName, 
                      @JsonProperty("lastName") String lastName) {
            this.firstName = firstName;
            this.lastName = lastName;
        }

        public String getFirstName() {
            return firstName;
        }

        public String getLastName() {
            return lastName;
        }
    }

    public void testConstructorPropertyNaming() throws Exception {
        ObjectMapper mapper = new ObjectMapper();
        mapper.setPropertyNamingStrategy(PropertyNamingStrategies.SNAKE_CASE);

        // JSON input with properties matching SNAKE_CASE names
        String json = "{\"first_name\": \"John\", \"last_name\": \"Doe\"}";

        Person person = mapper.readValue(json, Person.class);

        // Test will fail because constructor property names are not renamed properly
        assertEquals("John", person.getFirstName());
        assertEquals("Doe", person.getLastName());
    }
}
