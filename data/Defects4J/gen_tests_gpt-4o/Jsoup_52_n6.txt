
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.parser.Parser;
import org.junit.Test;
import java.nio.charset.Charset;

import static org.junit.Assert.assertEquals;

public class XmlEncodingTest {
    
    @Test
    public void testXmlEncodingDetection() {
        try {
            // Replace with the actual URL if accessible
            final String url = "http://www.elacontecer.com.uy/rss/hoy.xml";
            Document doc = Jsoup.connect(url).parser(Parser.xmlParser()).get();
            
            Charset detectedCharset = doc.charset();
            
            // The expected charset should be ISO-8859-1 based on the bug report
            Charset expectedCharset = Charset.forName("ISO-8859-1");
            
            assertEquals("Detected charset did not match expected charset.", expectedCharset, detectedCharset);
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}
