script
describe('Overzealous Optimization Test', function() {
    it('should throw an error because uid may change', function() {
        var uid;
        function reset() {
            uid = Math.random();
        }
        function doStuff() {
            reset();
            var _uid = uid;

            if (uid < 0.5) {
                doStuff();
            }

            if (_uid !== uid) {
                throw new Error('reset() was called');
            }
        }

        // This call is expected to throw an error, which is what we want to affirm
        assert.throws(doStuff, 'reset() was called');
    });
});
