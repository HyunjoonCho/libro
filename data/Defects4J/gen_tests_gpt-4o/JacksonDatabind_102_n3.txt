
import com.fasterxml.jackson.annotation.JsonFormat;
import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.module.SimpleModule;
import com.fasterxml.jackson.databind.ser.std.SqlDateSerializer;
import org.junit.Test;

import java.sql.Date;
import java.text.SimpleDateFormat;

import static org.junit.Assert.assertEquals;

public class SqlDateSerializerTest {

    @Test
    public void testCustomSqlDateFormat() throws Exception {
        ObjectMapper mapper = new ObjectMapper();
        mapper.configOverride(java.sql.Date.class)
              .setFormat(JsonFormat.Value.forPattern("yyyy-MM-dd"));

        Date sqlDate = Date.valueOf("2023-10-03");
        String json = mapper.writeValueAsString(sqlDate);
        assertEquals("\"2023-10-03\"", json);
    }
}
