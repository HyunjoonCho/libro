script
/**
 * @param {{prop: string, prop2: (string|undefined)}} record
 */
var func = function(record) {
    console.log(record.prop);
}

/**
 * @param {{prop: string, prop2: (string|undefined)}|string} record
 */
var func2 = function(record) {
    if (typeof record === 'string') {
        console.log(record);
    } else {
        console.log(record.prop);
    }
}

// Test cases
try {
    func({ prop: 'a' }); // Expected to pass
    func2({ prop: 'a' }); // The bug: Expected to pass, but causes a type error
    console.log("Tests completed.");
} catch (e) {
    console.error('Error during tests:', e);
}
