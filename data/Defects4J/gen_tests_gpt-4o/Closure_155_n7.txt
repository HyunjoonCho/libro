public void testOverzealousArgumentsOptimisation() {
    Context cx = Context.enter();
    try {
        Scriptable scope = cx.initStandardObjects();
        
        String script = 
            "function d3_call(callback) {\n" +
            "    var f = callback;\n" +
            "    arguments[0] = this;\n" +
            "    return f.apply(this, arguments);\n" +
            "}\n" +
            "var result = d3_call(function(x) { return x; });\n" +
            "result;";

        Object result = cx.evaluateString(scope, script, "testScript", 1, null);
        assertEquals(scope, result);
    } finally {
        Context.exit();
    }
}