public void testEnumPolymorphicDeserialization() throws IOException {
    String json = "{ \"kind\": \"CONTACT\", \"to\": { \"name\": \"Foo\" } }";
    ObjectMapper objectMapper = new ObjectMapper();
    objectMapper.registerModule(new KotlinModule());

    try {
        BaseClass result = objectMapper.readValue(json, BaseClass.class);
        fail("Expected a JsonMappingException to be thrown");
    } catch (JsonMappingException e) {
        String expectedMessage = "Can not construct instance of";
        assertTrue(e.getMessage().contains(expectedMessage));
    }
}