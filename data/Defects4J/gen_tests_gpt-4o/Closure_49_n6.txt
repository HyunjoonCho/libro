public void testIncorrectFunctionAssignment() {
    String inputCode = "var foo = function bar() { var bar; alert(bar); };";
    String expectedOutput = "var foo=function(){alert(void 0)};";
    
    CompilerOptions options = new CompilerOptions();
    CompilationLevel.SIMPLE_OPTIMIZATIONS.setOptionsForCompilationLevel(options);
    
    Compiler compiler = new Compiler();
    compiler.compile(SourceFile.fromCode("externs.js", ""), 
                     SourceFile.fromCode("input.js", inputCode), options);
    
    String compiledCode = compiler.toSource();
    assertEquals(expectedOutput, compiledCode);
}