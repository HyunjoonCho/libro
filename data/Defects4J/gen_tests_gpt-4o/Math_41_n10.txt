
import org.apache.commons.math.stat.descriptive.moment.Variance;
import org.junit.Assert;
import org.junit.Test;

public class VarianceTest {

    @Test
    public void testVarianceEvaluateWithBeginAndLength() {
        Variance variance = new Variance();
        
        double[] values = {1.0, 2.0, 3.0, 4.0, 5.0};
        double[] weights = {1.0, 1.0, 1.0, 1.0, 1.0};
        double mean = 3.0;
        
        // Test on a subarray from index 1 to index 3
        double expectedVariance = 1.0; // Variance of values [2.0, 3.0, 4.0]
        double result = variance.evaluate(values, weights, mean, 1, 3);
        
        Assert.assertEquals(expectedVariance, result, 1e-9);
    }
}
