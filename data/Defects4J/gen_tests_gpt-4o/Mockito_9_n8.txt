
import org.junit.Test;
import static org.junit.Assert.*;
import static org.mockito.Mockito.*;

abstract class AbstractClass {
    public String implementedMethod() {
        return "Hello " + abstractMethod();
    }

    abstract String abstractMethod();
}

public class MockitoAbstractClassSpyTest {

    @Test
    public void testSpyingOnAbstractClass() {
        // Create a spy of the abstract class
        AbstractClass abstractClassSpy = spy(AbstractClass.class);

        // Stub the abstract method
        doReturn("World").when(abstractClassSpy).abstractMethod();

        // Call the implemented method that uses the abstract method
        String result = abstractClassSpy.implementedMethod();

        // Verify and assert the behavior
        verify(abstractClassSpy).abstractMethod();
        
        // The expected output is "Hello World" since the abstractMethod is stubbed to return "World"
        assertEquals("Hello World", result);
    }
}
