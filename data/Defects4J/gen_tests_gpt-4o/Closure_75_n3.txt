
import static org.junit.Assert.assertEquals;
import org.junit.Test;

public class SWFObjectTest {

    @Test
    public void testUrlEncodeIfNecessary() {
        // Test for no encoding required
        assertEquals("normalString", urlEncodeIfNecessary("normalString"));

        // Test for encoding required
        assertEquals("hello%3Cworld%3E", urlEncodeIfNecessary("hello<world>"));

        // Test for special characters
        assertEquals("%22special%22", urlEncodeIfNecessary("\"special\""));
    }

    private String urlEncodeIfNecessary(String s) {
        var regex = /[\\\"<>\.;]/;
        var hasBadChars = regex.exec(s) !== null;
        return hasBadChars && typeof encodeURIComponent !== 'undefined' ? encodeURIComponent(s) : s;
    }
}
