
import org.junit.Test;
import java.util.Locale;
import static org.junit.Assert.assertEquals;
import static org.junit.Assert.fail;

public class LocaleUtilsTest {

    @Test
    public void testToLocale_withLeadingUnderscore() {
        // Expected behavior is an exception because this format is not currently handled correctly
        try {
            Locale locale = LocaleUtils.toLocale("_US");
            fail("Expected IllegalArgumentException to be thrown for input with leading underscore.");
        } catch (IllegalArgumentException e) {
            // Test passes
        }
    }
    
    @Test
    public void testToLocale_languageAndVariant() {
        // "fr__P" should be parsed into a Locale with language "fr" and variant "P"
        try {
            Locale locale = LocaleUtils.toLocale("fr__P");
            assertEquals("fr", locale.getLanguage());
            assertEquals("", locale.getCountry());
            assertEquals("P", locale.getVariant());
        } catch (IllegalArgumentException e) {
            fail("Failed to parse locale string 'fr__P'.");
        }
    }
}
