public void testCommaOperatorExpressions() {
    String expression1 = "foo((1, 2, 42))";
    String expectedTransformation1 = "foo((1, 3))";
    assertEquals(expectedTransformation1, processExpression(expression1));
    
    String expression2 = "foo((bar(), 2, 42))";
    String expectedTransformation2 = "foo((bar(), 3))";
    assertEquals(expectedTransformation2, processExpression(expression2));
    
    String expression3 = "foo(((1, 2, 3), (4, 5, 42)))";
    String expectedTransformation3 = "foo((1, 4, 42))";
    assertEquals(expectedTransformation3, processExpression(expression3));
    
    assertWarningsIssued(expression1, true);
    assertWarningsIssued(expression2, false);
    assertWarningsIssued(expression3, true);
}