
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.select.Elements;
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class JsoupSelectorTest {

    @Test
    public void testAttributeSelectorWithCombinators() {
        String html = "<div><table class='x z'></table></div>"
                    + "<div></div><table class='y z'></table>";

        Document doc = Jsoup.parse(html);

        try {
            Elements elements1 = doc.select("div table[class~=x|y]");
            Elements elements2 = doc.select("div > table[class~=x|y]");
            Elements elements3 = doc.select("div + table[class~=x|y]");
            Elements elements4 = doc.select("div ~ table[class~=x|y]");

            // Expectations based on understanding of the combinator behavior
            assertEquals(1, elements1.size());
            assertEquals(1, elements2.size());
            assertEquals(1, elements3.size());
            assertEquals(1, elements4.size());

        } catch (SelectorParseException e) {
            // This exception was mentioned in the bug report, so catch it to make the test fail
            fail("SelectorParseException was thrown: " + e.getMessage());
        }
    }
}
