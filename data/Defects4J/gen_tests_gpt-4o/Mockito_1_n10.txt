public void testArgumentCaptorWithVarargs() {
    List<String> mockedList = mock(List.class);
    ArgumentCaptor<String> captor = ArgumentCaptor.forClass(String.class);

    mockedList.addAll(Arrays.asList("one", "two", "three"));
    verify(mockedList).addAll(captor.capture());

    assertEquals(Arrays.asList("one", "two", "three"), captor.getAllValues());
}