public void testTernaryOperatorTypeMixing() {
    String compiledCode = compileWithClosureCompiler("var a =(Math.random()>0.5? '1' : 2 ) + 3 + 4;");
    assertFalse(compiledCode.contains("(0.5 < Math.random() ? 1 : 2) + 7"));
    assertTrue(compiledCode.contains("var a ="));
}