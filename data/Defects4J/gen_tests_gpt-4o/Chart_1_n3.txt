public void testGetLegendItemsNullDataset() {
    AbstractCategoryItemRenderer renderer = new AbstractCategoryItemRenderer() {
        // Implement abstract methods if necessary
    };
    CategoryPlot plot = mock(CategoryPlot.class);
    renderer.setPlot(plot);

    when(plot.getIndexOf(renderer)).thenReturn(0);
    when(plot.getDataset(0)).thenReturn(null);

    LegendItemCollection legendItems = renderer.getLegendItems();
    assertNotNull("Legend items should not be null", legendItems);
}