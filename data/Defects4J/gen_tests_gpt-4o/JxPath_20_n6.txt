
import org.apache.commons.jxpath.JXPathContext;
import org.apache.commons.jxpath.JXPathException;
import org.junit.Test;

import static org.junit.Assert.assertTrue;

public class JXPathTest {

    @Test
    public void testRelationalOperationWithVariablesAndIterator() {
        try {
            // Create a JXPath context for evaluation
            JXPathContext context = JXPathContext.newContext(new Object());
            
            // Set variables within the context
            context.getVariables().declareVariable("var1", 0);
            context.getVariables().declareVariable("var2", 0);
            context.getVariables().declareVariable("var3", 1);

            // Evaluate the expression using JXPath
            // This should return true since 0 + 0 <= 1
            Boolean result = (Boolean) context.getValue("$var1 + $var2 <= $var3");

            // Assert that the expression evaluates to true
            assertTrue("The expression '$var1 + $var2 <= $var3' should evaluate to true", result);
            
        } catch (JXPathException e) {
            // Handle any exceptions thrown by JXPath
            e.printStackTrace();
            assertTrue("Unexpected exception: " + e.getMessage(), false);
        }
    }
}
