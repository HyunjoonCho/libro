public void testUndefinedNamespaceHandling() {
    try {
        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
        DocumentBuilder builder = factory.newDocumentBuilder();
        Document doc = builder.parse(new ByteArrayInputStream(
            "<ElementA A:myAttr=\"Mytype\"><B:ElementB>MY VALUE</B:ElementB></ElementA>".getBytes()
        ));

        // Assuming a method to handle namespace registration akin to:
        // NamespaceRegistry.registerNamespace("A", "http://example.com/A");
        // NamespaceRegistry.registerNamespace("B", "http://example.com/B");

        // Accessing attribute which causes failure due to the unregistered namespace
        doc.getDocumentElement().getAttribute("A:myAttr");
        fail("Expected exception not thrown");
    } catch (Exception e) {
        assertTrue(e.getMessage().contains("unknown namespace prefix: A"));
    }
}