public void testScriptTagParsingIssue() {
    String htmlInput = "<html><body><div class=vsc sig=Uga>" +
            "<div class=before></div>" +
            "<script type=\"text/javascript\">" +
            "header = jQuery('#header\\_features');" +
            "if(header.length){" +
            "header" +
            ".prepend('<a class=\"prevPage browse left \" />')" +
            ".append('<a class=\"nextPage browse right\" />');" +
            "items" +
            ".wrapAll('<div class=\"scrollable\"/>')" +
            ".wrapAll('<ul class=\"items\"/>')" +
            ".wrap('<li/>');" +
            "}" +
            "</script>" +
            "<div class=after></div>" +
            "</div></body></html>";

    Document parsedDoc = Jsoup.parse(htmlInput);
    Element scriptElement = parsedDoc.selectFirst("script");

    assertNotNull("Script element should be parsed", scriptElement);
    assertTrue("Script element should retain the internal JavaScript as a single block",
            scriptElement.data().contains("header = jQuery('#header\\_features');"));
    
    Element afterDiv = parsedDoc.selectFirst("div.after");
    assertNotNull("Closing script tag should not encompass the following div", afterDiv);
}