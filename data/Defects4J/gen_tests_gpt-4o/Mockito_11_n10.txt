
import static org.mockito.Mockito.*;

import org.junit.Test;
import org.mockito.verification.VerificationMode;

import static org.junit.Assert.*;

public class CustomVerificationModeTest {

    @Test
    public void testCustomVerificationModeEquals() {
        // Custom VerificationMode implementation
        VerificationMode firstInvocation = new FirstInvocationVerificationMode();

        // Create mock
        List<String> mockedList = mock(List.class);

        // Verify firstInvocation.equals() works as expected
        assertTrue(firstInvocation.equals(firstInvocation));

        // The following equality check should fail,
        // demonstrating that the custom VerificationMode logic should handle .equals() properly
        assertFalse(firstInvocation.equals(mock(List.class)));
    }

    // Sample of a custom VerificationMode
    private static class FirstInvocationVerificationMode implements VerificationMode {

        @Override
        public void verify(org.mockito.internal.invocation.InvocationMatcher invocationMatcher, 
                           org.mockito.internal.invocation.InvocationLogger invocationLogger) {
            // Custom verification logic not implemented for the test
        }

        @Override
        public boolean equals(Object obj) {
            return this == obj;
        }

        @Override
        public int hashCode() {
            return super.hashCode();
        }
    }
}
