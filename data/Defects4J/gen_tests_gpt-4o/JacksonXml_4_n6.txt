
import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.dataformat.xml.XmlMapper;
import com.fasterxml.jackson.dataformat.xml.ser.ToXmlGenerator;
import org.junit.Test;

import static org.junit.Assert.assertEquals;

public class XmlSerializerProviderTest {

    @Test
    public void testCustomRootNameForNullSerialization() throws Exception {
        // Create an XmlMapper instance
        XmlMapper xmlMapper = new XmlMapper();

        // Configure the XmlMapper with a custom root name for serialization
        ObjectMapper configuredMapper = xmlMapper.withRootName("customRoot");

        // Serialize a null value
        String result = configuredMapper.writeValueAsString(null);

        // If the issue is present, the root element will not be "customRoot".
        // Assert that the output uses the custom root name.
        String expectedOutput = "<customRoot></customRoot>";
        assertEquals(expectedOutput, result);
    }
}
