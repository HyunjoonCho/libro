public void testObjectReaderSerialization() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    ObjectReader reader = mapper.readerFor(String.class);
    ByteArrayOutputStream byteStream = new ByteArrayOutputStream();
    ObjectOutputStream outputStream = new ObjectOutputStream(byteStream);

    // Expecting this line to throw an exception due to non-serializable CompactStringObjectMap
    try {
        outputStream.writeObject(reader);
        outputStream.close();
        fail("Expected IOException due to non-serializable CompactStringObjectMap");
    } catch (IOException e) {
        // Exception expected. Verify if it mentions CompactStringObjectMap
        assertTrue(e.getMessage().contains("CompactStringObjectMap"));
    }
}