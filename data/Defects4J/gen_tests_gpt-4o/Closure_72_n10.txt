
import com.google.javascript.jscomp.*;
import org.junit.Test;

import static org.junit.Assert.assertTrue;

public class BulletPhysicsTest {

    @Test(expected = RuntimeException.class)
    public void testInternalCompilerErrorWithBulletPhysics() {
        // Simplified JavaScript code that might resemble what caused the issue
        String jsCode = "var label = 0; $for_body$5: while(1) { if (label == 0) { break $for_body$5; } }";

        SourceFile input = SourceFile.fromCode("bullet_1_1_q1.js", jsCode);

        CompilerOptions options = new CompilerOptions();
        CompilationLevel.ADVANCED_OPTIMIZATIONS.setOptionsForCompilationLevel(options);

        Compiler compiler = new Compiler();
        compiler.compile(SourceFile.fromCode("externs.js", ""), input, options);

        // The test expects an exception to be thrown
    }
}
