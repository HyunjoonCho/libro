public void testOverzealousOptimization() {
    // Initializing the test environment
    ScriptEngineManager manager = new ScriptEngineManager();
    ScriptEngine engine = manager.getEngineByName("JavaScript");

    // JavaScript code with potential optimization issue
    String script = 
        "var uid;\n" +
        "function reset() {\n" +
        "  uid = Math.random();\n" +
        "}\n" +
        "function doStuff() {\n" +
        "  reset();\n" +
        "  var _uid = uid;\n" +
        "  if (uid < 0.5) {\n" +
        "    doStuff();\n" +
        "  }\n" +
        "  if (_uid !== uid) {\n" +
        "    throw new Error('reset() was called');\n" +
        "  }\n" +
        "}\n" +
        "doStuff();";

    // Testing if the script throws an exception
    try {
        engine.eval(script);
        fail("Expected an exception due to reset() being called.");
    } catch (ScriptException e) {
        assertTrue(e.getMessage().contains("reset() was called"));
    }
}