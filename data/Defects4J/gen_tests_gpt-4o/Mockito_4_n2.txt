
import org.junit.Test;
import org.mockito.Mockito;

import static org.mockito.Mockito.*;

public class ClassCastExceptionTest {

    public interface SomeInterface {
        String someMethod();
    }

    @Test
    public void testClassCastExceptionOnVerifyZeroInteractions() {
        // Create a mock with a custom default answer
        SomeInterface mock = mock(SomeInterface.class, invocation -> {
            // Returning a Class object instead of a String to simulate the problem
            return SomeInterface.class;
        });

        // Call the mock method to trigger potential issues
        mock.someMethod();

        try {
            // Verify no interactions, which might lead to ClassCastException in some scenarios
            verifyZeroInteractions(mock);
        } catch (ClassCastException e) {
            // This is expected based on the bug report
            System.out.println("Caught expected ClassCastException: " + e.getMessage());
        }
    }
}
