public void testPrimitiveAndWrapperRefinement() {
    ObjectMapper mapper = new ObjectMapper();
    SimpleModule module = new SimpleModule();
    module.setMixInAnnotation(int.class, IntegerMixin.class);
    mapper.registerModule(module);

    String json = "123";
    try {
        Integer result = mapper.readValue(json, Integer.class);
        assertEquals(Integer.valueOf(123), result);
    } catch (Exception e) {
        fail("Exception should not be thrown: " + e.getMessage());
    }
}

@JsonTypeInfo(use = JsonTypeInfo.Id.CLASS, include = JsonTypeInfo.As.PROPERTY, property = "@class")
abstract class IntegerMixin {}