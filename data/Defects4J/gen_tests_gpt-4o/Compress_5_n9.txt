public void testTruncatedZipFile() {
    byte[] truncatedZipData = { 80, 75, 3, 4, 20, 0, 0, 0, 8, 0, 0, 0, 33, 0, 0, 0 }; // Example of a truncated zip file header
    ByteArrayInputStream bais = new ByteArrayInputStream(truncatedZipData);
    ZipArchiveInputStream zis = new ZipArchiveInputStream(bais);

    try {
        byte[] buffer = new byte[1024];
        int bytesRead = zis.read(buffer);
        fail("Expected an IOException due to truncated ZIP file, but read() returned " + bytesRead + " bytes.");
    } catch (IOException e) {
        assertEquals("Truncated ZIP file", e.getMessage());
    } finally {
        try {
            zis.close();
        } catch (IOException e) {
            // Ignore
        }
    }
}