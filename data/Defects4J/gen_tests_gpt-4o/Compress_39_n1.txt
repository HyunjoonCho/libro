public void testTruncatedZipFileProducesEOFException() {
    try {
        byte[] truncatedZip = {80, 75, 3, 4, 20, 0, 6, 0}; // Represents a truncated PKZIP file header
        ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(truncatedZip);
        ZipInputStream zipInputStream = new ZipInputStream(byteArrayInputStream);
        while (zipInputStream.getNextEntry() != null) {
            // Processing Zip entries
        }
        fail("Expected an EOFException to be thrown");
    } catch (java.io.EOFException e) {
        String errorMessage = e.getMessage();
        assertNotNull(errorMessage);
        assertFalse("Error message is too large", errorMessage.length() > 500); // or define a reasonable length constraint
    } catch (IOException e) {
        fail("Expected EOFException but got a different IOException");
    }
}