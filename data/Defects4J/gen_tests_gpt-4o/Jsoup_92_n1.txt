
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class JsoupDuplicateAttributeTest {

    @Test
    public void testDuplicatedAttributeParsing() {
        String html = "<div id=\"first\" id=\"second\"></div>";
        Document doc = Jsoup.parse(html);
        Element div = doc.select("div").first();
        
        // Jsoup currently takes the last one, the expected behavior is to take the first one
        // Assert that jsoup's current behavior is to take the last attribute value
        assertEquals("second", div.attr("id"));
        
        // Correct behavior as per the bug report would be to take the first one
        // This will fail under normal Jsoup behavior
        // assertEquals("first", div.attr("id"));
    }
}
