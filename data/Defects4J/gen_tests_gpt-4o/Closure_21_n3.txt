public void testNonRightmostExpressionClassification() {
    ExpressionAnalyzer analyzer = new ExpressionAnalyzer();

    // Test case 1: Expression foo((1, 2, 42))
    String expr1 = "foo((1, 2, 42))";
    List<Issue> issues1 = analyzer.analyze(expr1);
    assertEquals(1, issues1.size());
    assertEquals("Warning for first element only", issues1.get(0).getMessage());

    // Test case 2: Expression foo((bar(), 2, 42))
    String expr2 = "foo((bar(), 2, 42))";
    List<Issue> issues2 = analyzer.analyze(expr2);
    assertEquals(0, issues2.size());

    // Test case 3: Expression foo(((1, 2, 3), (4, 5, 42)))
    String expr3 = "foo(((1, 2, 3), (4, 5, 42)))";
    List<Issue> issues3 = analyzer.analyze(expr3);
    assertEquals(2, issues3.size());
    assertEquals("Warning for first element only", issues3.get(0).getMessage());
    assertEquals("Warning for first element only", issues3.get(1).getMessage());
}