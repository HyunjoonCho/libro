public void testTypeAliasAnnotationBeforeDefinition() {
    String jsCode = 
        "goog.provide('foo.Foo');" +
        "goog.provide('foo.Foo.Bar');" +

        "goog.scope(function() { " +
        "/**" +
        "* @param {Foo.Bar} bar" +
        "* @constructor" +
        "*/" +
        "foo.Foo = function(bar) { this.bar = bar; };" +
        "var Foo = foo.Foo;" +

        "/** @type {Foo.Bar} */" +
        "Foo.prototype.bar = null;" +

        "/** @constructor */" +
        "Foo.Bar = function() {};" +
        "});";

    // Assume compileWithWarnings is a method that compiles the code and checks for expected warnings
    boolean compilationSuccess = compileWithWarnings(jsCode); 
    assertFalse("Compiling should fail due to unknown type Foo.Bar", compilationSuccess);
}