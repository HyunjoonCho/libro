public void testMaxKeyLengthInJackson() throws IOException {
    StringBuilder longKey = new StringBuilder(262145);
    for (int i = 0; i < 262145; i++) {
        longKey.append("a");
    }
    String json = "{\"" + longKey.toString() + "\": \"value\"}";

    try {
        ObjectMapper objectMapper = new ObjectMapper();
        objectMapper.readTree(json);
        fail("Expected ArrayIndexOutOfBoundsException due to excessively long JSON key.");
    } catch (ArrayIndexOutOfBoundsException e) {
        // Expected exception due to long key
    }
}