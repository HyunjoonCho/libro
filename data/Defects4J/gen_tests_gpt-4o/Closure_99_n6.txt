public void testPrototypesWithQuotesWarning() {
    // Given
    StringBuilder sourceCode = new StringBuilder();
    sourceCode.append("/** @constructor */\n");
    sourceCode.append("function MyClass() {}\n");
    sourceCode.append("MyClass.prototype['MyMethod'] = function(a) {\n");
    sourceCode.append("  this.a = a;\n");
    sourceCode.append("}\n");
    sourceCode.append("window['MyClass'] = MyClass;\n");

    // When compiling with advanced optimizations and VERBOSE warning levels
    CompilerOptions options = new CompilerOptions();
    CompilationLevel.ADVANCED_OPTIMIZATIONS.setOptionsForCompilationLevel(options);
    WarningLevel.VERBOSE.setOptionsForWarningLevel(options);
    
    Compiler compiler = new Compiler();
    compiler.compile(ImmutableList.of(SourceFile.fromCode("externs.js", "")),
                     ImmutableList.of(SourceFile.fromCode("input.js", sourceCode.toString())),
                     options);

    // Then
    assertEquals(1, compiler.getWarnings().length);
    assertEquals("JSC_USED_GLOBAL_THIS", compiler.getWarnings()[0].getType().key);
}