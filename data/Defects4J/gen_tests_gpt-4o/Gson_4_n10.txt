
import com.fasterxml.jackson.databind.ObjectMapper;
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class JsonRFC7159Test {

    private final ObjectMapper objectMapper = new ObjectMapper();

    @Test
    public void testParseTopLevelString() throws Exception {
        String jsonString = "\"hello world\"";
        String result = objectMapper.readValue(jsonString, String.class);
        assertEquals("hello world", result);
    }

    @Test
    public void testParseTopLevelNumber() throws Exception {
        String jsonNumber = "12345";
        int result = objectMapper.readValue(jsonNumber, Integer.class);
        assertEquals(12345, result);
    }

    @Test
    public void testParseTopLevelBooleanTrue() throws Exception {
        String jsonBoolean = "true";
        boolean result = objectMapper.readValue(jsonBoolean, Boolean.class);
        assertEquals(true, result);
    }

    @Test
    public void testParseTopLevelBooleanFalse() throws Exception {
        String jsonBoolean = "false";
        boolean result = objectMapper.readValue(jsonBoolean, Boolean.class);
        assertEquals(false, result);
    }

    @Test
    public void testParseTopLevelNull() throws Exception {
        String jsonNull = "null";
        Object result = objectMapper.readValue(jsonNull, Object.class);
        assertEquals(null, result);
    }

    @Test
    public void testParseTopLevelArray() throws Exception {
        String jsonArray = "[1, 2, 3]";
        int[] result = objectMapper.readValue(jsonArray, int[].class);
        assertEquals(3, result.length);
        assertEquals(1, result[0]);
        assertEquals(2, result[1]);
        assertEquals(3, result[2]);
    }

    @Test
    public void testParseTopLevelObject() throws Exception {
        String jsonObject = "{\"key\": \"value\"}";
        Object parsedObject = objectMapper.readValue(jsonObject, Object.class);
        assertEquals("{key=value}", parsedObject.toString());
    }
}
