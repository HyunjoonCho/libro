public void testInconsistentTextBufferGetTextBufferBehavior() {
    TextBuffer buffer = new TextBuffer(new BufferRecycler());
    buffer.resetWithEmpty();
    assertNull("Expected initial call to getTextBuffer() to return null", buffer.getTextBuffer());
    assertEquals("Expected contentsAsString() to return empty string", "", buffer.contentsAsString());
    assertArrayEquals("Expected second call to getTextBuffer() to return empty array", new char[0], buffer.getTextBuffer());
}