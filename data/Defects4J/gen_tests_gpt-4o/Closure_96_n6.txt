public void testMissingTypeChecksForVarArgs() {
    @SuppressWarnings("varargs")
    Compiler compiler = new Compiler();
    CompilerOptions options = new CompilerOptions();
    options.setWarningLevel(DiagnosticGroups.STRICT_MISSING_REQUIRE, CheckLevel.WARNING);
    options.setCompilationLevel(CompilationLevel.SIMPLE_OPTIMIZATIONS);
    options.setWarningLevel(DiagnosticGroups.MISSING_PROPERTIES, CheckLevel.WARNING);
    options.setPrettyPrint(true);

    String jsCode = "/**\n" +
                    " * @param {...string} var_args\n" +
                    " */\n" +
                    "function foo(var_args) {\n" +
                    " return arguments.length;\n" +
                    "}\n" +
                    "foo('hello'); // no warning - ok\n" +
                    "foo(123); // warning - ok\n" +
                    "foo('hello', 123); // no warning! error.";

    Result result = compiler.compile(SourceFile.fromCode("externs", ""), SourceFile.fromCode("test", jsCode), options);
    assertTrue(result.warnings.length > 0);
    assertTrue(Arrays.stream(result.warnings).anyMatch(warning -> warning.getDescription().contains("type mismatch")));
}