public void testStubMultipleExceptionsWithWhenThenThrow() {
    Object o = Mockito.mock(Object.class);
    try {
        Mockito.when(o.toString()).thenThrow(RuntimeException.class);
        // Mock should not throw exception until method is called
        Mockito.verifyNoMoreInteractions(o);
        
        Mockito.when(o.toString()).thenThrow(IllegalArgumentException.class);
    } catch (Exception e) {
        fail("Exception should not be thrown during stubbing: " + e.getMessage());
    }

    try {
        o.toString(); // Should throw IllegalArgumentException based on last stub
        fail("Expected IllegalArgumentException to be thrown");
    } catch (IllegalArgumentException e) {
        // Expected exception
    }
}