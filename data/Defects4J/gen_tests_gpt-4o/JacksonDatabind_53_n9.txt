public void testJsonDeserializeWithMap() throws Exception {
    String json = "{\"something\": [{\"id\": \"123e4567-e89b-12d3-a456-426614174000\", \"property\": \"value\"}]}";

    ObjectMapper objectMapper = new ObjectMapper();
    objectMapper.registerModule(new SimpleModule().addAbstractTypeMapping(MyCustomIdInterface.class, Foo.class));

    try {
        MyClass myClass = objectMapper.readValue(json, MyClass.class);
        Map<UUID, Foo> map = myClass.getSomething();
        assertEquals(1, map.size());
        Foo foo = map.get(UUID.fromString("123e4567-e89b-12d3-a456-426614174000"));
        assertNotNull(foo);
        assertEquals("value", foo.getProperty());
    } catch (JsonMappingException e) {
        fail("Should not have thrown exception: " + e.getMessage());
    }
}