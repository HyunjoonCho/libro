
import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertTrue;
import org.junit.Test;

// Simulating the JavaScript environment using Java classes
class Window {
    Runnable timeoutFunction;

    void setTimeout(Runnable timeoutFunction, int delay) {
        this.timeoutFunction = timeoutFunction;
    }
    
    void executeTimeoutFunction() {
        if (timeoutFunction != null) {
            timeoutFunction.run();
        }
    }
}

class Foo {
    String location;
    Window window;
    
    Foo(Window window) {
        this.window = window;
        Foo self = this; // This emulates JavaScript's 'this'
        window.setTimeout(() -> {
            windowExecutionLocation(self.location);
        }, 0);
    }
    
    void setLocation(String loc) {
        this.location = loc;
    }
    
    void windowExecutionLocation(String location) {
        this.location = location;
    }
}

public class SideEffectsAnalysisTest {

    @Test
    public void testSideEffectsAnalysis() {
        Window window = new Window();
        Foo foo = new Foo(window);
        foo.setLocation("http://www.google.com/");
        
        // Execute the timeout function to simulate what would happen later
        window.executeTimeoutFunction();
        
        // This assertion verifies that the setLocation has correctly set the location
        assertEquals("http://www.google.com/", foo.location);
    }
}
