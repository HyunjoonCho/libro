
import org.jsoup.Jsoup;
import org.jsoup.helper.DataUtil;
import org.jsoup.nodes.Document;
import org.junit.Test;

import java.io.ByteArrayInputStream;
import java.io.InputStream;

public class JsoupZeroBytesTest {

    @Test
    public void testZeroBytesInputStream() {
        try {
            // Create an empty input stream
            InputStream emptyInputStream = new ByteArrayInputStream(new byte[0]);

            // Parse the empty input stream
            Document doc = Jsoup.parse(emptyInputStream, null, "");

            // If no exception is thrown, fail the test
            fail("Expected IOException was not thrown.");
        } catch (IOException e) {
            // Check that the specific IOException message is as expected
            assertTrue(e.getMessage().contains("Underlying input stream returned zero bytes"));
        }
    }
}
