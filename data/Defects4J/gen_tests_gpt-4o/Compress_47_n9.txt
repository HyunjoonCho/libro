public void testGetNextZipEntryFailsOnUnknownCompressedSize() {
    byte[] zipData = /* Assume this byte array contains a zip entry with unknown compressed size */;
    try (ZipArchiveInputStream zipInput = new ZipArchiveInputStream(new ByteArrayInputStream(zipData))) {
        ZipArchiveEntry entry = zipInput.getNextZipEntry();
        while (entry != null) {
            assertEquals(ArchiveEntry.SIZE_UNKNOWN, entry.getCompressedSize());
            zipInput.read(new byte[10]); // this should trigger the expected exception
            entry = zipInput.getNextZipEntry();
        }
        fail("Expected exception due to unknown compressed size not thrown.");
    } catch (IOException e) {
        assertTrue(e.getMessage().contains("Compressed size is unknown and required for method"));
    }
}