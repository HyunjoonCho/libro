
import com.google.javascript.jscomp.CompilerOptions;
import com.google.javascript.jscomp.DiagnosticGroups;
import org.junit.Test;

import static org.junit.Assert.assertEquals;

public class CompilerOptionsTest {

    @Test
    public void testJscompFlagPrecedence() {
        CompilerOptions options = new CompilerOptions();

        // Set initial states
        options.setWarningLevel(DiagnosticGroups.DEPRECATED, CompilerOptions.WarningLevel.WARNING);
        options.setWarningLevel(DiagnosticGroups.DEPRECATED, CompilerOptions.WarningLevel.OFF);
        options.setWarningLevel(DiagnosticGroups.DEPRECATED, CompilerOptions.WarningLevel.ERROR);
        
        // According to the description, the last state should take precedence
        assertEquals(CompilerOptions.DiagnosticGroupWarningsLevel.ERROR, options.getWarningLevel(DiagnosticGroups.DEPRECATED));
    }
}
