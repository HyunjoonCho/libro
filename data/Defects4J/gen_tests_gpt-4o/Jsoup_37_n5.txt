public void testWhitespacePreservationInElementHtml() {
    String htmlInput = "<div>   <span>Content</span>   </div>";
    Document document = Jsoup.parse(htmlInput);
    Element element = document.select("div").first();
    boolean prettyPrint = false;
    document.outputSettings().prettyPrint(prettyPrint);

    String outputHtml = element.html();
    
    assertTrue(outputHtml.contains("   <span>"));
    assertTrue(outputHtml.contains("</span>   "));
}