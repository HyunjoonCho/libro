public void testDuplicateHeaderValue() {
    // Simulate the response headers
    Map<String, List<String>> responseHeaders = new HashMap<>();
    responseHeaders.put("X-Powered-By", Arrays.asList("PHP/5.2.8", "ASP.NET"));

    // Process the headers using Jsoup's method (or a mock method simulating it)
    Map<String, String> parsedHeaders = new HashMap<>();
    for (Map.Entry<String, List<String>> entry : responseHeaders.entrySet()) {
        String name = entry.getKey();
        List<String> values = entry.getValue();
        if (!values.isEmpty()) {
            header(name, values.get(0), parsedHeaders);
        }
    }

    // Check the outcome
    assertEquals("PHP/5.2.8", parsedHeaders.get("X-Powered-By"));
}

private void header(String name, String value, Map<String, String> headers) {
    headers.put(name, value);
}