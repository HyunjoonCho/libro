public void testTokenBufferDelegateDeserialization() throws IOException {
    ObjectMapper mapper = new ObjectMapper();
    String json = "{ \"a\":1, \"b\":null }";
    TokenBuffer buffer = new TokenBuffer(mapper, false);
    JsonParser parser = mapper.createParser(json);
    // Move the parser to simulate the behavior
    parser.nextToken(); // START_OBJECT

    buffer.copyCurrentStructure(parser);
    parser.close();

    JsonParser bufferParser = buffer.asParser();
    bufferParser.nextToken(); // Start reading from the buffer
    List<JsonToken> tokens = new ArrayList<>();
    while (bufferParser.nextToken() != null) {
        tokens.add(bufferParser.currentToken());
    }
    bufferParser.close()

    List<JsonToken> expectedTokens = Arrays.asList(
        JsonToken.START_OBJECT,
        JsonToken.FIELD_NAME,
        JsonToken.VALUE_NUMBER_INT,
        JsonToken.FIELD_NAME,
        JsonToken.VALUE_NULL,
        JsonToken.END_OBJECT
    );

    assertEquals(expectedTokens, tokens);
}