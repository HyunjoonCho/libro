public void testJSCompilerTypedefResolution() {
    Compiler compiler = new Compiler();
    CompilerOptions options = new CompilerOptions();
    options.setLanguageIn(CompilerOptions.LanguageMode.ECMASCRIPT6);
    
    String code = 
        "goog.provide('a.b.c');" +
        "goog.scope(function() {" +
        "  var b = a.b;" +
        "  var c = b.c;" +
        "  /** @typedef {string} */" +
        "  c.MyType;" +
        "  /** @param {c.MyType} x The variable. */" +
        "  c.myFunc = function(x) {};" +
        "});";

    SourceFile input = SourceFile.fromCode("input.js", code);
    Result result = compiler.compile(SourceFile.fromCode("externs.js", ""), input, options);

    assertTrue("Expected no type resolution errors.", result.success);
}