
import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.exc.InvalidFormatException;
import org.junit.Test;

import java.text.ParseException;

public class ISO8601ParsingTest {

    private ObjectMapper objectMapper = new ObjectMapper();

    @Test
    public void testParseISO8601Dates() {
        String[] iso8601Dates = {
            "2014-10-03T18:00:00.6-05:00",
            "2014-10-03T18:00:00.61-05:00",
            "1997-07-16T19:20+01:00",
            "1997-07-16T19:20:30.45+01:00"
        };

        for (String dateStr : iso8601Dates) {
            try {
                // Attempt to parse using ObjectMapper
                objectMapper.readValue("\"" + dateStr + "\"", java.util.Date.class);
                System.out.println("Parsed date: " + dateStr);
            } catch (InvalidFormatException e) {
                // This is expected due to the described issue in the bug report
                System.out.println("Failed to parse date: " + dateStr + ". Exception: " + e.getMessage());
            } catch (Exception e) {
                // Catch any other unexpected exceptions
                System.out.println("Unexpected exception for date: " + dateStr + ". Exception: " + e.getMessage());
            }
        }
    }
}
