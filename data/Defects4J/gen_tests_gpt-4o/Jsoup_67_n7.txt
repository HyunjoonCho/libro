
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.junit.Test;

public class DeeplyNestedPagesTest {

    @Test(timeout = 5000) // Set a timeout to fail the test if it takes too long
    public void testDeeplyNestedHtml() {
        StringBuilder htmlBuilder = new StringBuilder();
        htmlBuilder.append("<html><body>");
        
        int depth = 10000; // Example depth level that might exhibit quadratic behavior
        for (int i = 0; i < depth; i++) {
            htmlBuilder.append("<div>");
        }

        for (int i = 0; i < depth; i++) {
            htmlBuilder.append("</div>");
        }

        htmlBuilder.append("</body></html>");
        String deeplyNestedHtml = htmlBuilder.toString();

        Document document = Jsoup.parse(deeplyNestedHtml);

        // Assert that the document is not null, indicating parsing was completed
        // This won't test performance directly but ensures functionality
        assertNotNull(document);
        
        // Optionally, you could add more assertions on the document structure
    }
}
