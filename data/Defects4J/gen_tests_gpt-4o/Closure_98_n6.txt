public void testClosureVariableInlining() {
    // Expected output is "1", "2", "3", "4", "5" printed on separate lines,
    // but they might not be correct due to inlining issue.

    List<String> expectedOutput = Arrays.asList("1", "2", "3", "4", "5");
    List<String> actualOutput = new ArrayList<>();

    // Simulate the Closure behavior with inlining issue
    int[] arr = {1, 2, 3, 4, 5};
    for (int i = 0; i < arr.length; i++) {
        int j = arr[i];
        int finalJ = j;
        new Thread(() -> {
            actualOutput.add(String.valueOf(finalJ));
        }).start();
    }

    // Allow some time for threads execution
    try {
        Thread.sleep(100);
    } catch (InterruptedException e) {
        e.printStackTrace();
    }

    assertEquals(expectedOutput, actualOutput);
}