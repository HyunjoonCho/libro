
import org.junit.Test;
import static org.junit.Assert.*;

public class InlineIfOptimizationTest {

    public int sum(Object a, int b) {
        return (a == Boolean.TRUE ? 2 : (int) a) + b;
    }

    @Test
    public void testBooleanComparisonOptimization() {
        // Testing inline if optimization for `true == null ? a() : b()`
        boolean condition = true == null;
        int result = (condition ? 1 : 2);  // Always should be 2 as true != null
        assertEquals(2, result);

        // Testing inline if optimization for `true == false ? a() : b()`
        condition = true == false;
        result = (condition ? 1 : 2);  // Always should be 2 as true != false
        assertEquals(2, result);

        // Real-life use case
        int sumResult = sum(Boolean.TRUE, 1);
        assertEquals(3, sumResult);  // Expected result is 3, not 2
    }
}
