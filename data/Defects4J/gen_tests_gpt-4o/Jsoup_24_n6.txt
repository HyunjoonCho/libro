
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.junit.Test;

import static org.junit.Assert.assertEquals;

public class HtmlParserTest {

    @Test
    public void testScriptTagParsing() {
        String inputHtml = "<HTML>\n"
                + "<body>\n"
                + " <div>\n"
                + "  <script language=\"JavaScript1.1\"> \n"
                + "    document.write('</scr' + 'ipt>');\n"
                + "  </script>\n"
                + " </div>\n"
                + "</body>\n"
                + "</HTML>";
        
        String expectedOutputHtml = "<html>\n"
                + " <head></head>\n"
                + " <body>\n"
                + "  <div>\n"
                + "   <script language=\"JavaScript1.1\">\n"
                + "    document.write('</scr' + 'ipt>');\n"
                + "   </script>\n"
                + "  </div>\n"
                + " </body>\n"
                + "</html>";

        Document document = Jsoup.parse(inputHtml);
        String result = document.toString();

        assertEquals(expectedOutputHtml, result);
    }
}
