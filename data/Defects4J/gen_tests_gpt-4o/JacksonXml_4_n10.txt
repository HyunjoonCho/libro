
import com.fasterxml.jackson.dataformat.xml.XmlMapper;
import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlRootElement;
import org.junit.jupiter.api.Test;

import static org.junit.jupiter.api.Assertions.assertTrue;

public class XmlSerializerProviderTest {

    @JacksonXmlRootElement(localName = "DefaultRoot")
    public static class TestData {
        public String value;
    }

    @Test
    public void testWithRootNameConfigForNull() throws Exception {
        XmlMapper xmlMapper = new XmlMapper();

        String customRootName = "CustomRoot";
        xmlMapper = xmlMapper.copy().withRootName(customRootName);

        // Serialize a null object with the custom root name
        String result = xmlMapper.writeValueAsString(null);

        System.out.println(result);
        
        // Validate that the root name used is the custom root name.
        assertTrue(result.contains("<" + customRootName + "/>"));
    }
}
