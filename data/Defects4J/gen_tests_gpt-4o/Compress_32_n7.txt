public void testTarArchiveInputStreamLargeUid() throws Exception {
    byte[] tarData = createTarWithLargeUidGid();
    ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(tarData);
    TarArchiveInputStream tarArchiveInputStream = new TarArchiveInputStream(byteArrayInputStream);
    
    TarArchiveEntry entry = tarArchiveInputStream.getNextTarEntry();
    assertNotNull(entry);
    assertEquals(4294967294L, entry.getLongUserId());
}

private byte[] createTarWithLargeUidGid() throws IOException {
    ByteArrayOutputStream baos = new ByteArrayOutputStream();
    TarArchiveOutputStream tarOut = new TarArchiveOutputStream(baos);
    
    TarArchiveEntry entry = new TarArchiveEntry("test.txt");
    entry.setSize(0);
    entry.setUserId(4294967294L);
    
    tarOut.putArchiveEntry(entry);
    tarOut.closeArchiveEntry();
    tarOut.close();
    
    return baos.toByteArray();
}