public void testArgumentsScopeWithAdvancedOptimizations() {
    ScriptEngineManager manager = new ScriptEngineManager();
    ScriptEngine engine = manager.getEngineByName("nashorn");
    
    String script = 
        "function outerFunction() {" +
        "  return function() {" +
        "    var args = arguments;" +
        "    setTimeout(function() { print(args.length); }, 0);" +
        "  };" +
        "}" +
        "var func = outerFunction();" +
        "func(1, 2, 3);";
    
    try {
        engine.eval(script);
    } catch (ScriptException e) {
        fail("Script execution should not throw an exception: " + e.getMessage());
    }
    // Note: Since this involves asynchronous execution, manual observation of the output might be necessary.
}