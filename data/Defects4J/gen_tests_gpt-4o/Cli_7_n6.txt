public void testRequiredOptions() {
    CommandLineParser parser = new PosixParser();
    Options options = new Options();
    options.addOption("h", false, "display help");
    options.addOption("c", true, "provide config");

    try {
        CommandLine line = parser.parse(options, new String[] {"-h"});
        assertTrue("Help option should be present", line.hasOption("h"));
        assertFalse("Config option should not be present", line.hasOption("c"));
    } catch (ParseException e) {
        fail("Parsing exception should not have occurred");
    }
    
    try {
        CommandLine line = parser.parse(options, new String[] {"-c", "config.xml"});
        assertTrue("Config option should be present", line.hasOption("c"));
    } catch (ParseException e) {
        fail("Parsing exception should not have occurred");
    }
}