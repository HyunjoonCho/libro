public void testLargeNumberOfWeightsMemoryExhaustion() {
    // Assuming a hypothetical CurveFitter and Weights class
    int n = 41200;
    double[] weights = new double[n];
    Arrays.fill(weights, 1.0);

    try {
        // This is a placeholder for the actual curve fitting operation
        CurveFitter fitter = new CurveFitter();
        fitter.setWeights(new Weights(weights));
        // The operation that would cause memory exhaustion
        fitter.optimize();
        fail("Expected an OutOfMemoryError due to large matrix creation");
    } catch (OutOfMemoryError e) {
        assertTrue("Caught expected OutOfMemoryError", true);
    }
}