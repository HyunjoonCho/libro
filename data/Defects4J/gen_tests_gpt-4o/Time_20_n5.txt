public void testDateTimeZoneParsing() {
    DateTimeFormatter formatter = DateTimeFormat.forPattern("MM/dd/yyyy HH:mm:ss.SSS ZZZ");
    Set<String> timeZones = DateTimeZone.getAvailableIDs();

    for (String timeZone : timeZones) {
        DateTime dateTime = DateTime.now().withZone(DateTimeZone.forID(timeZone));
        String dateTimeZoneId = dateTime.getZone().getID();

        try {
            DateTime convertedDateTime = formatter.parseDateTime(formatter.print(dateTime));
            String convertedZoneId = convertedDateTime.getZone().getID();
            if (!dateTimeZoneId.equals(convertedZoneId) && !convertedZoneId.equals("UTC")) {
                fail("Formatter failed for time zone ID: " + dateTimeZoneId + " converted it to: " + convertedZoneId);
            }
        } catch (IllegalArgumentException e) {
            fail("Formatter threw exception for time zone id: " + dateTimeZoneId);
        }
    }
}