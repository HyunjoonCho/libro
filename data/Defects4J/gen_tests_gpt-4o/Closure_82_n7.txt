public void testIndexOfMissingPropertyWarning() {
    String script = "var s = new String('hello'); s.toLowerCase.indexOf('l');";
    CompilerOptions options = new CompilerOptions();
    options.setWarningLevel(DiagnosticGroups.MISSING_PROPERTIES, CheckLevel.WARNING);
    TestErrorManager errorManager = new TestErrorManager();
    Compiler compiler = new Compiler(errorManager);
    compiler.initOptions(options);
    Node root = parse(compiler, script);
    compiler.check(root);
    assertTrue(errorManager.hasWarning("Property indexOf never defined on String.prototype"));
}