
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.select.Elements;
import org.junit.Test;

import static org.junit.Assert.assertEquals;

public class SelectorParsingTest {

    @Test
    public void testSelectorWithCommaInRegex() {
        String html = "<html><body><div class='test'>1,234</div><li class='numbers'>567,890</li></body></html>";
        Document doc = Jsoup.parse(html);
        Elements elements = doc.select("div, li:matches([0-9,]+)");
        
        // Expect two elements found: the div and the li, as both contain numbers with commas
        assertEquals(2, elements.size());
        assertEquals("test", elements.get(0).className());
        assertEquals("numbers", elements.get(1).className());
    }
}
