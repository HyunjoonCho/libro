public void testCatchVariableInAdvancedMode() throws Exception {
    String code = "try { var x = 5; } catch(e) { var s = \"FAIL\" + e.name + \": \" + e.message; }";
    CompilerOptions options = new CompilerOptions();
    CompilationLevel.ADVANCED_OPTIMIZATIONS.setOptionsForCompilationLevel(options);
    
    Compiler compiler = new Compiler();
    Result result = compiler.compile(SourceFile.fromCode("externs", ""), SourceFile.fromCode("test", code), options);
    
    assertFalse("Expected no warnings or errors", result.success);
    long undefinedNameWarnings = compiler.getWarnings().stream()
        .filter(w -> w.getDescription().contains("e is never defined"))
        .count();
    
    assertEquals("Unexpected undefined name warnings", 0, undefinedNameWarnings);
}