public void testWriteEmbeddedObjectWithByteArray() throws IOException {
    JsonFactory factory = new JsonFactory();
    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();
    JsonGenerator generator = factory.createGenerator(outputStream);

    byte[] data = new byte[] {1, 2, 3, 4};

    try {
        generator.writeStartObject();
        generator.writeFieldName("data");
        generator.writeEmbeddedObject(data);
        generator.writeEndObject();
        generator.close();
    } catch (UnsupportedOperationException e) {
        fail("writeEmbeddedObject() threw UnsupportedOperationException for byte[] input");
    }
}