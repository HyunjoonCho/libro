public void testCatchExceptionWithAdvancedCompilation() {
    String jsCode = ""
        + "try {"
        + "  var x = 5;"
        + "} catch(e) {"
        + "  var s = 'FAIL' + e.name + ': ' + e.message;"
        + "}";

    CompilerOptions options = new CompilerOptions();
    CompilationLevel.ADVANCED_OPTIMIZATIONS.setOptionsForCompilationLevel(options);

    Compiler compiler = new Compiler();
    compiler.compile(SourceFile.fromCode("externs.js", ""), SourceFile.fromCode("test.js", jsCode), options);

    assertEquals(0, compiler.getWarningCount());
    assertEquals(0, compiler.getErrorCount());
}