
import org.apache.commons.lang3.time.FastDateFormat;
import org.junit.Test;

import java.util.Calendar;
import java.util.TimeZone;

import static org.junit.Assert.assertEquals;

public class FastDateFormatTimeZoneTest {

    @Test
    public void testFastDateFormatTimeZone() {
        // Create a Calendar instance set to US/Central timezone
        TimeZone centralTimeZone = TimeZone.getTimeZone("US/Central");
        Calendar calendar = Calendar.getInstance(centralTimeZone);

        // Format using FastDateFormat with the "z" pattern for timezone name
        FastDateFormat dateFormat = FastDateFormat.getInstance("h:mma z");

        // Get the formatted string
        String formattedDate = dateFormat.format(calendar);

        // Get the expected timezone display name for the "US/Central" timezone
        String expectedTimeZoneName = centralTimeZone.getDisplayName(centralTimeZone.inDaylightTime(calendar.getTime()), TimeZone.SHORT);

        // Check if the formatted timezone name matches the calendar's timezone
        assertEquals("The formatted timezone name should match the calendar's timezone", 
                     expectedTimeZoneName,
                     formattedDate.split(" ")[1]);
    }
}
