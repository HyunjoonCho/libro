
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.jsoup.parser.Parser;
import org.junit.Test;

import static org.junit.Assert.assertEquals;

public class ElementHtmlWhitespaceTest {

    @Test
    public void testWhitespacePreservationInElementHtml() {
        // Sample XML input with significant whitespace
        String xmlInput = "<root>\n  <child>\n    Text with spaces\n  </child>\n</root>";

        // Parse the XML with Jsoup using the XML parser
        Document document = Jsoup.parse(xmlInput, "", Parser.xmlParser());
        
        // Retrieve the root element
        Element rootElement = document.selectFirst("root");

        // Output the content using Element.html() and check if whitespace is preserved
        String outputHtml = rootElement.html();

        // Expected output should include the original whitespace
        String expectedOutput = "  <child>\n    Text with spaces\n  </child>\n";

        // Assert that the actual output matches the expected output
        assertEquals(expectedOutput, outputHtml);
    }
}
