public void testImplicitNamespacesAcrossModules() {
    // Simulate the compiled code behavior in SIMPLE_OPTIMIZATIONS mode
    try {
        // Module A Simulation
        var apps = {};
        apps.foo.bar = {};  // This line causes an error as apps.foo is not defined

        // Module B Simulation
        apps.foo.bar.B = {};

        // Module C Simulation
        apps.foo.bar.C = {};
    } catch (ReferenceError e) {
        assertEquals("Cannot set properties of undefined (setting 'bar')", e.getMessage());
    }
}