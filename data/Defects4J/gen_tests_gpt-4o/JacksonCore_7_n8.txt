public void testWriteStringWhenFieldNameExpected() {
    StringWriter stringWriter = new StringWriter();
    JsonFactory jsonFactory = new JsonFactory();

    try (JsonGenerator jsonGenerator = jsonFactory.createGenerator(stringWriter)) {
        jsonGenerator.writeStartObject();

        // Fail to provide a field name before writing a value
        jsonGenerator.writeString("value");

        jsonGenerator.writeEndObject();
        fail("Expected an exception when writing a string without a preceding field name.");
    } catch (IOException e) {
        assertTrue(e.getMessage().contains("field name"));
    }
}