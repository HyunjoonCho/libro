
import static org.junit.Assert.assertEquals;

import org.apache.commons.lang.StringEscapeUtils;
import org.junit.Test;
import org.springframework.web.util.JavaScriptUtils;

public class StringEscapeUtilsTest {

    @Test
    public void testEscapeJavaScript() {
        String input = "<script>alert('aaa');</script>";

        // Expected output with '/' properly escaped
        String expectedOutputSpring = "<script>alert(\\'aaa\\');<\\/script>";
        
        // Escape using Spring's JavaScriptUtils
        String escapedSpring = JavaScriptUtils.javaScriptEscape(input);
        System.out.println("Spring JS Escape : " + escapedSpring);
        
        // Escape using Apache Commons Lang StringEscapeUtils
        String escapedApache = StringEscapeUtils.escapeJavaScript(input);
        System.out.println("Apache Common Lang JS Escape : " + escapedApache);

        // Assert that Spring escape output matches expected 
        assertEquals(expectedOutputSpring, escapedSpring);
        
        // Test if Apache Commons correctly escapes by comparing with Spring's output
        assertEquals("Apache escape output should match Spring's output", expectedOutputSpring, escapedApache);
    }

}
