
import org.apache.commons.math.linear.RealMatrix;
import org.apache.commons.math.linear.RealMatrixImpl;
import org.junit.Test;
import static org.junit.Assert.*;

public class RealMatrixImplTest {

    @Test
    public void testOperateOnNonSquareMatrix() {
        // Define a non-square matrix (2x3 matrix)
        double[][] matrixData = {
            {1, 2, 3},
            {4, 5, 6}
        };
        RealMatrix matrix = new RealMatrixImpl(matrixData);

        // Define a vector of length 3
        double[] vector = {1, 1, 1};

        // Operate the matrix on the vector
        double[] result = matrix.operate(vector);

        // The expected result should be a vector of length 2
        // Compute expected by manually carrying out the matrix-vector multiplication
        double[] expected = {
            1*1 + 2*1 + 3*1,  // 1 + 2 + 3 = 6
            4*1 + 5*1 + 6*1   // 4 + 5 + 6 = 15
        };

        // Assert that the result is as expected
        assertArrayEquals(expected, result, 0.0);
    }
}
