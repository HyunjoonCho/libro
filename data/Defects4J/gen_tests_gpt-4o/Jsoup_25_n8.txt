public void testTextareaWhitespacePreservation() {
    String html = "<textarea>  Some     text with    spaces\n and new line  </textarea>";
    Document doc = Jsoup.parse(html);
    Element textarea = doc.selectFirst("textarea");
    String text = textarea.wholeText();
    assertEquals("  Some     text with    spaces\n and new line  ", text);
}