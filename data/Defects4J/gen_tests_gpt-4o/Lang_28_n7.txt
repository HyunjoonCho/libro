
import org.apache.commons.text.StringEscapeUtils;
import org.junit.Test;
import static org.junit.Assert.*;

public class StringEscapeUtilsTest {

    @Test
    public void testEscapeXMLWithSupplementaryCharacters() {
        // Define a String with a supplementary character
        // U+1F600 is the code point for the GRINNING FACE emoji, represented by a surrogate pair
        String input = "Emoji: \uD83D\uDE00";

        // The expected result after escaping: The non-BMP character should be converted to an entity
        // which might be represented similarly to "Emoji: &#128512;"
        String expectedOutput = "Emoji: &#128512;";

        // Process the input using escapeXml11 (StringEscapeUtils.escapeXml11() is more updated)
        String escapedXml = StringEscapeUtils.escapeXml11(input);

        // Assert that the output matches the expected output
        assertEquals(expectedOutput, escapedXml);
    }
}
