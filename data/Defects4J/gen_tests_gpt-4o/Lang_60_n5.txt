public void testStrBuilderIncorrectLengthUsage() {
    StrBuilder strBuilder = new StrBuilder();
    strBuilder.append("hello world");
    
    // Simulate bug by directly using the internal buffer.
    char[] buffer = strBuilder.getBuffer();
    
    // Test to ensure that operations are performed using the correct size
    int initialLength = buffer.length;
    strBuilder.clear();
    
    // If internal length is used instead of size, this will fail
    assertEquals(0, strBuilder.length());
    assertTrue(initialLength > strBuilder.length());
}