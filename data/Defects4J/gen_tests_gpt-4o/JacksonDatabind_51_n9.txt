public void testGenericReturnFromTypeIdResolver() throws IOException {
    ObjectMapper mapper = new ObjectMapper();
    SimpleModule module = new SimpleModule();
    module.addDeserializer(GenericWrapper.class, new GenericWrapperDeserializer());
    mapper.registerModule(module);

    String json = "{\"value\":{\"type\":\"specific\",\"data\":\"exampleData\"}}";
    GenericWrapper<SpecificType> result = mapper.readValue(json, new TypeReference<GenericWrapper<SpecificType>>() {});

    assertNotNull(result);
    assertNotNull(result.getValue());
    assertTrue(result.getValue() instanceof SpecificType);
    assertEquals("exampleData", ((SpecificType) result.getValue()).getData());
}