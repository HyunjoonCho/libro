public void testArgumentCaptorVarargsIssue() {
    List<String> mockList = Mockito.mock(List.class);
    ArgumentCaptor<String> captor = ArgumentCaptor.forClass(String.class);

    mockList.addAll(Arrays.asList("one", "two", "three"));

    Mockito.verify(mockList).addAll(captor.capture());

    List<String> capturedArgument = captor.getAllValues();
    assertEquals(1, capturedArgument.size());
    assertEquals(Arrays.asList("one", "two", "three"), capturedArgument.get(0));
}