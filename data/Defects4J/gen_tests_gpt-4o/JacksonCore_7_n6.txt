
import com.fasterxml.jackson.core.JsonFactory;
import com.fasterxml.jackson.core.JsonGenerator;
import com.fasterxml.jackson.core.JsonParseException;
import org.junit.Test;

import java.io.IOException;
import java.io.StringWriter;

public class JsonGeneratorTest {
    
    @Test(expected = JsonParseException.class)
    public void testWriteStringWithoutFieldName() throws IOException {
        JsonFactory factory = new JsonFactory();
        StringWriter writer = new StringWriter();
        JsonGenerator generator = factory.createGenerator(writer);
        
        generator.writeStartObject();
        // Attempting to write a string directly as a field value without specifying a field name
        generator.writeString("invalidValue");
        
        generator.writeEndObject();
        generator.close();
    }
}
