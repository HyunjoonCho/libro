public void testFastDateFormatLocaleChange() {
    Locale defaultLocale = Locale.getDefault();
    try {
        Locale.setDefault(Locale.US);
        FastDateFormat dateFormatUS = FastDateFormat.getDateInstance(FastDateFormat.SHORT);
        Locale.setDefault(Locale.FRANCE);
        FastDateFormat dateFormatFR = FastDateFormat.getDateInstance(FastDateFormat.SHORT);

        Date testDate = new GregorianCalendar(2023, Calendar.OCTOBER, 1).getTime();
        String formattedDateUS = dateFormatUS.format(testDate);
        String formattedDateFR = dateFormatFR.format(testDate);

        assertNotEquals("Date formats should differ after locale change", formattedDateUS, formattedDateFR);
    } finally {
        Locale.setDefault(defaultLocale);
    }
}