
import org.apache.commons.compress.archivers.tar.TarArchiveEntry;
import org.apache.commons.compress.archivers.tar.TarArchiveInputStream;
import org.junit.Test;

import java.io.File;
import java.io.FileInputStream;
import java.io.IOException;

import static org.junit.Assert.fail;

public class TarArchiveInputStreamTest {

    @Test
    public void testReadAIXTarWithSymlinks() {
        File tarFile = new File("path/to/aix_symlink_tar.tar"); // Placeholder path
        try (FileInputStream fileInputStream = new FileInputStream(tarFile);
             TarArchiveInputStream tarInput = new TarArchiveInputStream(fileInputStream)) {

            while (true) {
                TarArchiveEntry entry = tarInput.getNextTarEntry();
                if (entry == null) {
                    break; // No more entries
                }
                // Process each entry (if necessary)
            }

        } catch (IOException e) {
            e.printStackTrace();
            fail("IOException was thrown: " + e.getMessage());
        }
    }
}
