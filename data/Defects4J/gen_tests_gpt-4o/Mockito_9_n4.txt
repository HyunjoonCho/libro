
import org.junit.Test;
import static org.mockito.Mockito.*;

public class AbstractClassSpyingTest {
    
    abstract class AbstractExample {
        abstract String abstractMethod();

        String concreteMethod() {
            return "Concrete: " + abstractMethod();
        }
    }

    class ConcreteExample extends AbstractExample {
        @Override
        String abstractMethod() {
            return "Abstract Method";
        }
    }

    @Test
    public void testSpyingOnAbstractClass() {
        ConcreteExample realObject = new ConcreteExample();
        AbstractExample spyObject = spy(realObject);

        // Attempt to call the real implementation
        String result = spyObject.concreteMethod();

        // Verify the abstract method was called
        verify(spyObject).abstractMethod();

        // Check that the concrete method returns the expected string
        assertEquals("Concrete: Abstract Method", result);
    }
}
