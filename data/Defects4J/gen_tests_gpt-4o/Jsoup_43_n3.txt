public void testElementSiblingIndexConsistency() {
    String html = "<table><tr><td>Cell1</td><td>Cell2</td></tr><tr><td>Cell1</td><td>Cell2</td></tr><tr><td>Cell1</td><td>Cell2</td></tr></table>";
    Document doc = Jsoup.parse(html);
    Element secondTr = doc.select("tr").get(1);
    
    int n = secondTr.elementSiblingIndex();
    Element retrievedElement = secondTr.parent().children().get(n);
    
    assertSame("The retrieved element should be the exact same instance", secondTr, retrievedElement);
}