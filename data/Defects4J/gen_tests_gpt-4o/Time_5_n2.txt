
import org.joda.time.DateTime;
import org.joda.time.DurationFieldType;
import org.joda.time.Period;
import org.joda.time.PeriodType;
import org.junit.Test;

import static org.junit.Assert.*;

public class PeriodTypeTest {

    @Test(expected = UnsupportedOperationException.class)
    public void testPeriodTypeWithoutYear() {
        DateTime startDate = new DateTime(2022, 1, 1, 0, 0);
        DateTime endDate = new DateTime(2022, 12, 31, 0, 0);
        
        // Intended to only include months and weeks, this will fail
        PeriodType customPeriodType = PeriodType.forFields(new DurationFieldType[]{
            DurationFieldType.months(), 
            DurationFieldType.weeks()
        });

        Period p = new Period(startDate, endDate, customPeriodType)
                        .normalizedStandard(customPeriodType);
        
        // Expect this line to not reach due to UnsupportedOperationException
        int months = p.getMonths();
        fail("Expected UnsupportedOperationException to be thrown");
    }
}
