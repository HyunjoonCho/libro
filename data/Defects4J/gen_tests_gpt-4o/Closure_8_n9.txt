script
function testVariableRedeclaration() {
    function originalFunction(arg) {
        if (arg) {
            console.log(arg);
        }
        var someVariable = "test";  // Placeholder for real operations
        return someVariable;
    }

    // Transformed or "obfuscated" function - simulating Closure Compiler issue
    function transformedFunction(arg) {
        if (arg) {
            console.log(arg);
        }
        // Intentionally redeclaring 'arg' to simulate the issue
        var arg = "test";  // This line triggers the TypeError in affected Firefox versions
        return arg;
    }

    // Test to show the difference in behavior
    console.log("Original Function Output:");
    try {
        console.log(originalFunction("Hello")); // Expected output: Hello, test
    } catch (e) {
        console.error("Original function error:", e);
    }

    console.log("Transformed Function Output:");
    try {
        console.log(transformedFunction("Hello")); // Expecting to see a TypeError in affected Firefox versions
    } catch (e) {
        console.error("Transformed function error:", e);
    }
}

testVariableRedeclaration();
