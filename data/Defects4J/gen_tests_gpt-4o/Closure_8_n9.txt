public void testObfuscatedCodeCausesTypeError() {
    // Original JavaScript code using Rhino or similar JS engine for testing
    String originalCode = """
        function test(argument) {
            console.log(argument);
            var variable = 'some value';
            console.log(variable);
        }
        test('input');
    """;

    // Obfuscated JavaScript code
    String obfuscatedCode = """
        function test(a) {
            console.log(a);
            var a = 'some value';
            console.log(a);
        }
        test('input');
    """;

    // Run both scripts and capture any error messages
    Context ctx = Context.enter();
    try {
        Scriptable scope = ctx.initStandardObjects();

        // Test the original code
        ctx.evaluateString(scope, originalCode, "Original Code", 1, null);

        // Test the obfuscated code
        ctx.evaluateString(scope, obfuscatedCode, "Obfuscated Code", 1, null);
    } catch (JavaScriptException e) {
        String error = e.getMessage();

        // Check if TypeError is due to re-declaring argument variable
        assertTrue(error.contains("re-declares argument"));
    } finally {
        Context.exit();
    }
}