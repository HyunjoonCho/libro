
import org.jsoup.Jsoup;
import org.jsoup.parser.ParseSettings;
import org.jsoup.parser.Parser;
import org.jsoup.nodes.Document;
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class JsoupParseCaseTest {

    @Test
    public void testParseWithPreserveCase() {
        Parser parser = Parser.htmlParser();
        parser.settings(ParseSettings.preserveCase);
        
        String html = "<div class=\"bdsharebuttonbox\">"
                + "<A class=bds\\_more href=\"http://share.baidu.com/code#\" data-cmd=\"more\">分享到：</A>"
                + "<A title=分享到QQ空间 class=bds\\_qzone href=\"http://share.baidu.com/code#\" data-cmd=\"qzone\">"
                + "</A><A title=分享到新浪微博 class=bds\\_tsina href=\"http://share.baidu.com/code#\" data-cmd=\"tsina\"></A>"
                + "<A title=分享到腾讯微博 class=bds\\_tqq href=\"http://share.baidu.com/code#\" data-cmd=\"tqq\"></A>"
                + "<A title=分享到人人网 class=bds\\_renren href=\"http://share.baidu.com/code#\" data-cmd=\"renren\"></A>"
                + "<A title=分享到微信 class=bds\\_weixin href=\"http://share.baidu.com/code#\" data-cmd=\"weixin\"></A>"
                + "</div>\r\n";

        Document doc = Jsoup.parse(html, "", parser);

        String expectedHtml = "<html>\n"
                + " <head></head>\n"
                + " <body>\n"
                + "  <div class=\"bdsharebuttonbox\">\n"
                + "   <A class=bds\\_more href=\"http://share.baidu.com/code#\" data-cmd=\"more\">分享到：</A>\n"
                + "   <A title=\"分享到QQ空间\" class=\"bds\\_qzone\" href=\"http://share.baidu.com/code#\" data-cmd=\"qzone\"></A>\n"
                + "   <A title=\"分享到新浪微博\" class=\"bds\\_tsina\" href=\"http://share.baidu.com/code#\" data-cmd=\"tsina\"></A>\n"
                + "   <A title=\"分享到腾讯微博\" class=\"bds\\_tqq\" href=\"http://share.baidu.com/code#\" data-cmd=\"tqq\"></A>\n"
                + "   <A title=\"分享到人人网\" class=\"bds\\_renren\" href=\"http://share.baidu.com/code#\" data-cmd=\"renren\"></A>\n"
                + "   <A title=\"分享到微信\" class=\"bds\\_weixin\" href=\"http://share.baidu.com/code#\" data-cmd=\"weixin\"></A>\n"
                + "  </div>\n"
                + " </body>\n"
                + "</html>";

        assertEquals(expectedHtml, doc.html());
    }
}
