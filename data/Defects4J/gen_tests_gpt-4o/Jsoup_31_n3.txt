
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.junit.Test;

import static org.junit.Assert.assertTrue;

public class JsoupXmlDeclarationTest {

    @Test
    public void testXmlDeclarationParsing() {
        // Given XML with a declaration
        String htmlInput =
                "<?xml encoding='UTF-8' version='1.0'?>" +
                        "<html>" +
                        "<head><title></title></head>" +
                        "<body>Document content</body>" +
                        "</html>";

        // When parsed using Jsoup
        Document document = Jsoup.parse(htmlInput);

        // Then its output should not treat the declaration as a comment
        String output = document.outerHtml();

        // Assert that the XML declaration is present as expected
        assertTrue("XML declaration should not be treated as a comment",
                   output.startsWith("<?xml encoding='UTF-8' version='1.0'?>"));
    }
}
