public void testDateTimeZoneGetOffsetFromLocalDuringDSTTransition() {
    DateTimeZone zone = DateTimeZone.forID("America/Los_Angeles");
    DateTime when1 = new DateTime(2009, 11, 1, 0, 30, 0, 0, zone);
    assertEquals(-7 * 60 * 60 * 1000, zone.getOffset(when1)); // Correct

    DateTime when2 = new DateTime(2009, 11, 1, 1, 30, 0, 0, zone);
    assertEquals(-8 * 60 * 60 * 1000, zone.getOffset(when2)); // Should be -08:00

    DateTime when3 = new DateTime(2009, 11, 1, 2, 30, 0, 0, zone);
    assertEquals(-8 * 60 * 60 * 1000, zone.getOffset(when3)); // Correct
}