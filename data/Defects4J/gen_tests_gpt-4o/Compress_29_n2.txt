public void testArchiveStreamFactoryEncodingIssue() throws Exception {
    // Testing with JarArchiveInputStream as an example
    String encoding = "UTF-8";
    ArchiveStreamFactory factory = new ArchiveStreamFactory();
    ByteArrayInputStream emptyInputStream = new ByteArrayInputStream(new byte[0]);

    JarArchiveInputStream jarInputStream = (JarArchiveInputStream) factory.createArchiveInputStream(
        ArchiveStreamFactory.JAR, emptyInputStream, encoding);

    assertEquals(encoding, jarInputStream.getEncoding());
    
    // Similarly, you might want to include tests for other stream types and verify encoding
}