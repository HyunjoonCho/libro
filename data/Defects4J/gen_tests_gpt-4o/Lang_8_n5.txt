
import org.apache.commons.lang3.time.FastDateFormat;
import org.junit.Test;
import java.util.Calendar;
import java.util.TimeZone;
import static org.junit.Assert.assertEquals;

public class FastDateFormatTest {

    @Test
    public void testTimeZoneFormattingWithCalendar() {
        // Create a calendar instance with a specific time zone
        TimeZone timeZone = TimeZone.getTimeZone("US/Eastern");
        Calendar calendar = Calendar.getInstance(timeZone);

        // Format using FastDateFormat
        FastDateFormat fastDateFormat = FastDateFormat.getInstance("h:mma z");

        String formattedDate = fastDateFormat.format(calendar);

        // Assert that the formatted time zone is correct
        // This assumes that the test is run in a different default system time zone
        assertEquals(timeZone.getDisplayName(calendar.get(Calendar.DST_OFFSET) != 0, TimeZone.SHORT), formattedDate.split(" ")[1]);
    }
}
