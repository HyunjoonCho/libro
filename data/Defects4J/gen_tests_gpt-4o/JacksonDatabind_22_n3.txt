public void testCustomSerializerWithJsonValue() throws JsonProcessingException {
    SimpleModule module = new SimpleModule();
    module.addSerializer(CustomClass.class, new CustomClassSerializer());

    ObjectMapper mapper = new ObjectMapper();
    mapper.registerModule(module);

    CustomClass instance = new CustomClass();
    instance.setValue("Test Value");

    String json = mapper.writeValueAsString(instance);
    assertEquals("\"Custom: Test Value\"", json);
}

static class CustomClass {
    private String value;

    @JsonValue
    public String getValue() {
        return value;
    }

    public void setValue(String value) {
        this.value = value;
    }
}

static class CustomClassSerializer extends JsonSerializer<CustomClass> {
    @Override
    public void serialize(CustomClass value, JsonGenerator gen, SerializerProvider serializers) 
            throws IOException {
        gen.writeString("Custom: " + value.getValue());
    }
}