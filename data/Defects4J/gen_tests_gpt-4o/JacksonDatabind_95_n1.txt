
import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.type.TypeFactory;
import org.junit.Test;

public class TypeFactoryTest {

    @Test(expected = NullPointerException.class)
    public void testConstructFromCanonicalWithoutTypeParameters() {
        ObjectMapper objectMapper = new ObjectMapper();
        TypeFactory typeFactory = objectMapper.getTypeFactory();

        // This should throw NullPointerException in version 2.8.7 
        String returnType = "java.util.List";
        typeFactory.constructFromCanonical(returnType);
    }
}
