script
// Simulating the compiled output after SIMPLE_OPTIMIZATIONS

// Module A
(function() {
    // This is a simulation of what the compiler might output in SIMPLE_OPTIMIZATIONS
    var apps = {}; // Initial declaration
    apps.foo.bar = {}; // Incorrect ordering - apps.foo is used before being declared
    apps.foo = {}; // This assignment should come before the one above
})();

// Module B
(function() {
    apps.foo.bar.B = {}; // Assigns B to apps.foo.bar
})();

// Module C
(function() {
    apps.foo.bar.C = {}; // Assigns C to apps.foo.bar
})();

// Test case
function testModuleNamespaceOrder() {
    try {
        // Attempting to access namespaces to check for errors
        console.assert(typeof apps !== 'undefined', "apps namespace should be defined");
        console.assert(typeof apps.foo !== 'undefined', "apps.foo namespace should be defined");
        console.assert(typeof apps.foo.bar !== 'undefined', "apps.foo.bar namespace should be defined");
        console.assert(typeof apps.foo.bar.B !== 'undefined', "apps.foo.bar.B should be defined");
        console.assert(typeof apps.foo.bar.C !== 'undefined', "apps.foo.bar.C should be defined");
        console.log("Test passed: All namespaces and modules are correctly defined.");
    } catch (e) {
        console.error("Test failed: " + e.message);
    }
}

// Run the test
testModuleNamespaceOrder();
