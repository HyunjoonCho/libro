
import com.fasterxml.jackson.core.JsonFactory;
import com.fasterxml.jackson.core.JsonGenerator;
import com.fasterxml.jackson.core.JsonProcessingException;
import com.fasterxml.jackson.databind.ObjectMapper;
import org.junit.Test;

import java.io.ByteArrayOutputStream;
import java.io.IOException;

public class JsonGeneratorTest {
    
    @Test(expected = UnsupportedOperationException.class)
    public void testWriteEmbeddedObjectWithByteArray() throws IOException {
        // Create a JsonGenerator
        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();
        JsonFactory jsonFactory = new JsonFactory(new ObjectMapper());
        JsonGenerator jsonGenerator = jsonFactory.createGenerator(outputStream);
        
        byte[] byteArray = {1, 2, 3, 4, 5};
        
        // Attempt to write a byte array using writeEmbeddedObject()
        jsonGenerator.writeStartObject();
        jsonGenerator.writeFieldName("binaryData");
        
        try {
            jsonGenerator.writeEmbeddedObject(byteArray);
        } finally {
            jsonGenerator.writeEndObject();
            jsonGenerator.close();
        }
        
        // Expecting UnsupportedOperationException to be thrown
    }
}
