public void testWriteEmbeddedObjectWithByteArray() throws IOException {
    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();
    JsonGenerator jsonGenerator = new JsonFactory().createGenerator(outputStream);
    
    byte[] data = new byte[] {1, 2, 3, 4, 5};
    
    try {
        jsonGenerator.writeStartArray();
        jsonGenerator.writeEmbeddedObject(data);
        jsonGenerator.writeEndArray();
        jsonGenerator.close();
    } catch (UnsupportedOperationException e) {
        fail("writeEmbeddedObject should support byte[] but threw UnsupportedOperationException.");
    }
    
    String jsonOutput = outputStream.toString();
    byte[] expectedBase64Data = Base64.getEncoder().encode(data);
    String expectedJson = "[\"" + new String(expectedBase64Data) + "\"]";
    
    assertEquals(expectedJson, jsonOutput);
}