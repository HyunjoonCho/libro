public void testNonRightmostExpressionsAreProblematic() {
    // Assuming there's a method or utility to check and transform expressions with the comma operator:
    String result1 = ExpressionUtil.transformAndCheckWarnings("foo((1, 2, 42))");
    String expected1 = "foo((1, 3))"; // Check transformation
    assertTrue(result1.contains(expected1));
    assertTrue(result1.contains("Warning for: 1")); // Check warning for the first element
    
    String result2 = ExpressionUtil.transformAndCheckWarnings("foo((bar(), 2, 42))");
    String expected2 = "foo((bar(), 3))";
    assertTrue(result2.contains(expected2));
    assertFalse(result2.contains("Warning for")); // No warning since bar() has side effects
    
    String result3 = ExpressionUtil.transformAndCheckWarnings("foo(((1, 2, 3), (4, 5, 42)))");
    String expected3 = "foo((1, 4, 42))";
    assertTrue(result3.contains(expected3));
    assertTrue(result3.contains("Warning for: 1")); // Check warning for the first element of inner sequences
}