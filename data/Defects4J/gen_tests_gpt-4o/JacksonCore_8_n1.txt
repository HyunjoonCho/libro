public void testInconsistentTextBufferGetTextBufferBehavior() {
    TextBuffer buffer = new TextBuffer(new BufferRecycler());
    
    // Reset buffer with empty
    buffer.resetWithEmpty();
    
    // Check initial state of getTextBuffer
    assertNull(buffer.getTextBuffer());

    // Convert contents to String
    assertEquals("", buffer.contentsAsString());
    
    // Verify getTextBuffer after conversion
    assertArrayEquals(new char[0], buffer.getTextBuffer());
}