
import org.apache.commons.cli.*;

public class PosixParserBugTest {

    public static void main(String[] args) {
        testUnrecognizedLongOptionParsing();
    }

    public static void testUnrecognizedLongOptionParsing() {
        Options options = new Options();
        options.addOption("a", false, "option a");
        options.addOption(Option.builder("b").hasArg().desc("option b").build());

        CommandLineParser parser = new DefaultParser();
        String[] commandLineArgs = { "--zop", "-abfoo" };

        try {
            CommandLine cmd = parser.parse(options, commandLineArgs, true);
            String[] remainingArgs = cmd.getArgs();
            
            // The expectation is that remainingArgs should contain "--zop" and "-abfoo" as untouched
            assertEquals("--zop", remainingArgs[0]);
            assertEquals("-abfoo", remainingArgs[1]);

            System.out.println("Test passed: Unrecognized long option caused expected behavior.");
        } catch (ParseException e) {
            e.printStackTrace();
            System.out.println("Test failed: Encountered parse exception.");
        }
    }

    // Basic assertEquals utility method for demonstration purposes
    private static void assertEquals(String expected, String actual) {
        if (!expected.equals(actual)) {
            throw new AssertionError("Expected: " + expected + " but got: " + actual);
        }
    }
}
