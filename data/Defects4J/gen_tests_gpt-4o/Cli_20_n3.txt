public void testPosixParserWithUnrecognizedLongOption() {
    Options options = new Options();
    options.addOption("a", false, "Option a");
    options.addOption(Option.builder("b").hasArg().desc("Option b").build());

    CommandLineParser parser = new PosixParser();
    String[] args = new String[] { "--zop", "-abfoo" };

    CommandLine cmd = null;
    try {
        cmd = parser.parse(options, args, true);
    } catch (ParseException e) {
        fail("ParseException was thrown");
    }

    assertFalse(cmd.hasOption("zop"));
    assertTrue(cmd.hasOption("a"));
    assertFalse(cmd.hasOption("b")); // Should be false because '-bfoo' should not be split 
    String[] remainingArgs = cmd.getArgs();
    assertEquals(1, remainingArgs.length);
    assertEquals("-abfoo", remainingArgs[0]);
}