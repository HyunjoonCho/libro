public void testOptionBuilderResetsAfterIllegalArgumentException() {
    try {
        OptionBuilder.withLongOpt("test");
        OptionBuilder.create('1'); // This should throw IllegalArgumentException
    } catch (IllegalArgumentException e) {
        // Expected exception, check if the builder resets
        Option option = OptionBuilder.withLongOpt("newTest").create('t');
        assertEquals("newTest", option.getLongOpt());
        assertEquals('t', option.getOpt());
    }
}