public void testInvalidRequireSymbol() {
    String code = "goog.require('invalid.symbol');";
    Compiler compiler = new Compiler();
    CompilerOptions options = new CompilerOptions();
    options.setClosurePass(true);
    compiler.initOptions(options);
    Node root = compiler.parseTestCode(code);
    
    ProcessClosurePrimitives processClosurePrimitives = new ProcessClosurePrimitives(
        compiler, null, CheckLevel.ERROR, CheckLevel.ERROR, CheckLevel.WARNING);
    
    processClosurePrimitives.process(null, root);
    
    // Check that the invalid require call is not removed from the AST
    String astString = compiler.toSource(root);
    assertTrue(astString.contains("goog.require('invalid.symbol');"));
}