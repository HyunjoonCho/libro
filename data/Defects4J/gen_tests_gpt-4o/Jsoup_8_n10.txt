public void testToStringNPEForOrphans() {
    try {
        Element element = new Element("test");
        Parent parent = new Parent();
        parent.add(element);
        parent.remove(element); // Detach the element
        element.toString(); // Should not throw an exception
    } catch (NullPointerException e) {
        fail("toString method threw NullPointerException for a detached element.");
    }
}