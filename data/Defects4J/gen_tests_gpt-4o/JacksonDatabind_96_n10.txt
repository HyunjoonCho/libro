
import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.PropertyNamingStrategy;
import com.fasterxml.jackson.databind.annotation.JsonNaming;
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class PropertyNamingStrategyTest {

    @JsonNaming(PropertyNamingStrategy.SnakeCaseStrategy.class)
    static class TestEntity {
        private final String firstName;
        private final String lastName;

        public TestEntity(String firstName, String lastName) {
            this.firstName = firstName;
            this.lastName = lastName;
        }

        public String getFirstName() {
            return firstName;
        }

        public String getLastName() {
            return lastName;
        }
    }

    @Test
    public void testPropertyNamingStrategy() throws Exception {
        String json = "{ \"first_name\": \"John\", \"last_name\": \"Doe\" }";

        ObjectMapper objectMapper = new ObjectMapper();
        TestEntity entity = objectMapper.readValue(json, TestEntity.class);

        assertEquals("John", entity.getFirstName());
        assertEquals("Doe", entity.getLastName());
    }
}
