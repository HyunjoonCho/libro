public void testRobustCharsetDetection() {
    String html = "<html lang=\"en-US\"><head><meta charset=\"UTF-8\"><meta http-equiv=\"Content-Type\" content=\"text/html; \" /></head><body></body></html>";
    try {
        Document doc = Jsoup.parse(html);
        assertNotNull(doc);
    } catch (IllegalCharsetNameException e) {
        fail("Jsoup should be more robust and handle invalid charset names without throwing an exception.");
    }
}