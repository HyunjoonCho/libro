public void testCommandLineGetOptionValueLongOpt() {
    Options options = new Options();
    final String debugOpt = "debug";
    
    Option debug = Option.builder("d")
                         .longOpt(debugOpt)
                         .desc("turn on debugging")
                         .build();
    options.addOption(debug);
    
    String[] args = {"--debug"};
    CommandLineParser parser = new DefaultParser();
    CommandLine commandLine = null;
    
    try {
        commandLine = parser.parse(options, args);
    } catch (ParseException e) {
        fail("Parsing of command line arguments failed.");
    }
    
    assertNotNull("Option value should not be null when using long option name.", commandLine.getOptionValue("debug"));
    assertNotNull("Option value should not be null when using short option name.", commandLine.getOptionValue("d"));
}