
import org.apache.commons.compress.archivers.tar.TarArchiveEntry;
import org.apache.commons.compress.archivers.tar.TarArchiveInputStream;
import org.junit.Test;

import java.io.File;
import java.io.FileInputStream;
import java.io.IOException;

import static org.junit.Assert.assertNotNull;

public class TarArchiveInputStreamTest {

    @Test(expected = IOException.class)
    public void testAIXTarFileWithSymlink() throws IOException {
        File tarFile = new File("path/to/aix_symlink.tar"); // Path to the tar file
        try (FileInputStream fis = new FileInputStream(tarFile);
             TarArchiveInputStream tais = new TarArchiveInputStream(fis)) {
            TarArchiveEntry entry = null;
            while ((entry = tais.getNextTarEntry()) != null) {
                assertNotNull("Expected non-null entry", entry);
                System.out.println("Entry name: " + entry.getName());
            }
        }
    }
}
