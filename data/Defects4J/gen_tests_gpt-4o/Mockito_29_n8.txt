
import org.junit.Test;
import org.junit.runner.RunWith;
import org.mockito.Captor;
import org.mockito.InjectMocks;
import org.mockito.Mock;
import org.mockito.Mockito;
import org.mockito.junit.MockitoJUnitRunner;
import org.mockito.ArgumentCaptor;
import static org.mockito.Mockito.*;
import static org.junit.Assert.*;

@RunWith(MockitoJUnitRunner.class)
public class CaptorExampleTest {

    @Mock
    MyService myService;

    @InjectMocks
    MyComponent myComponent;

    @Captor
    ArgumentCaptor<String> stringCaptor;

    @Test
    public void testCaptorUsage() {
        // Given
        String expectedValue = "Hello, Captor!";

        // When
        myComponent.doSomething(expectedValue);

        // Then
        verify(myService).performAction(stringCaptor.capture());
        assertEquals(expectedValue, stringCaptor.getValue());
    }
}

class MyComponent {
    private final MyService myService;

    public MyComponent(MyService myService) {
        this.myService = myService;
    }

    public void doSomething(String value) {
        myService.performAction(value);
    }
}

interface MyService {
    void performAction(String value);
}
