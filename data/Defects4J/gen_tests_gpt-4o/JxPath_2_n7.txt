public void testNodeSetReturnFromFunction() {
    JXPathContext context = JXPathContext.newContext(new Object());
    context.setFunctions(new MyFunctions()); // Assuming MyFunctions contains the observations method

    NodeSet result = (NodeSet) context.selectNodes("ems:observations()");
    assertTrue(result instanceof BasicNodeSet);

    assertFalse(result.isEmpty());

    Iterator<?> iterator = result.iterator();
    assertTrue("NodeSet should have elements", iterator.hasNext());
    
    Object node = iterator.next();
    // Assume NodePointer is the correct type for the pointers returned
    assertTrue("Element should be of type NodePointer", node instanceof NodePointer);
}