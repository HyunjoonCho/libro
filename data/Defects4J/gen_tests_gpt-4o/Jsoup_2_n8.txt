
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.junit.Test;
import static org.junit.Assert.assertTrue;

public class HtmlParsingTest {

    @Test
    public void testUnadornedTextAfterDataOnlyTags() {
        // Original HTML input
        String htmlInput = "<html>\n" +
                           "  <body>\n" +
                           "    <script type=\"text/javascript\">\n" +
                           "      var inside = true;\n" +
                           "    </script>\n" +
                           "    this should be outside.\n" +
                           "  </body>\n" +
                           "</html>";

        // Parse the HTML using Jsoup
        Document document = Jsoup.parse(htmlInput);
        
        // Get the serialized output of the parsed HTML
        String outputHtml = document.html();
        
        // Define the expected output fragment that should be checked
        String expectedFragment = 
            "</script>\n" +
            "    this should be outside.\n" +
            "  </body>";

        // Check if the output contains the expected fragment
        assertTrue("The text 'this should be outside.' should not be inside the <script> tag.", 
                   outputHtml.contains(expectedFragment));
    }
}
