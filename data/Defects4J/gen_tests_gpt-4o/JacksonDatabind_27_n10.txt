public void testExternalTypeIdDeserializationOrder() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    String json = "{\"type\":\"myType\",\"value\":{\"name\":\"test\"}}";

    MyWrapper result = mapper.readValue(json, MyWrapper.class);

    assertEquals("myType", result.type);
    assertEquals("test", result.value.getName());
}

@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.EXTERNAL_PROPERTY, property = "type")
private static class MyValue {
    private String name;
    
    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }
}

private static class MyWrapper {
    public String type;
    public MyValue value;
}