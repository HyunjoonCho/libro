
import com.fasterxml.jackson.databind.ObjectMapper;
import org.junit.Assert;
import org.junit.Test;

public class StringArrayDeserializationTest {

    @Test
    public void testNullDeserializationInStringArray() throws Exception {
        ObjectMapper objectMapper = new ObjectMapper();
        String json = "[\"value1\", null, \"value3\"]";

        // Deserialize JSON string into a String array
        String[] result = objectMapper.readValue(json, String[].class);

        // Expected: The JSON array should deserialize with null preserved in the same position
        Assert.assertNotNull(result);
        Assert.assertEquals(3, result.length);
        Assert.assertEquals("value1", result[0]);
        Assert.assertNull(result[1]); // Ensure null is correctly deserialized
        Assert.assertEquals("value3", result[2]);
    }
}
