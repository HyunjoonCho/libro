public void testNaNAsBigDecimal() throws Exception {
    String json = "\"NaN\"";
    JsonFactory factory = new JsonFactory();
    ObjectMapper mapper = new ObjectMapper(factory);
    factory.configure(JsonParser.Feature.ALLOW_NON_NUMERIC_NUMBERS, true);
    
    try (JsonParser parser = factory.createParser(json)) {
        parser.nextToken(); // Move to the value "NaN"
        try {
            parser.getDecimalValue();
            fail("Expected NumberFormatException for NaN as BigDecimal");
        } catch (NumberFormatException e) {
            // Expected exception
        }
    }
}