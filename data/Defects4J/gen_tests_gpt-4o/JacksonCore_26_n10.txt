public void testNonBlockingParserWithOffset() throws Exception {
    JsonFactory jsonFactory = new JsonFactory();
    JsonParser parser = jsonFactory.createNonBlockingByteArrayParser();
    ByteArrayFeeder feeder = (ByteArrayFeeder) parser.getNonBlockingInputFeeder();
    
    byte[] input = "[[[".getBytes(UTF_8);

    // Feed the parser with an offset of 7
    feeder.feedInput(input, 7, 3);
    parser.nextToken(); // Move to the first START_ARRAY

    // The offsets reported should not be impacted by the feed input offset
    assertEquals(1, parser.getCurrentLocation().getByteOffset()); // ACTUAL = 8
    assertEquals(1, parser.getTokenLocation().getByteOffset());   // ACTUAL = 8
}