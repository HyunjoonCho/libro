public void testDefineAnnotationWithLineSplit() {
    String code = "/** @define {string} */\n" +
                  "var CONSTANT = \"some very long string name that I want to wrap \" +\n" +
                  "\"and so break using a + since I don't want to \" +\n" +
                  "\"introduce a newline into the string.\";";
    
    Compiler compiler = new Compiler();
    CompilerOptions options = new CompilerOptions();
    options.setDefineReplacements(Collections.emptyMap());
    
    Result result = compiler.compile(SourceFile.fromCode("externs.js", ""), SourceFile.fromCode("test.js", code), options);
    
    assertFalse("Compilation should not have errors", result.errors.length > 0);
}