public void testEmptyEntriesCorruptionIn7zArchive() throws IOException {
    File tempDir = Files.createTempDirectory("testDir").toFile();
    tempDir.deleteOnExit();

    // Create 8 empty files
    for (int i = 0; i < 8; i++) {
        File emptyFile = new File(tempDir, "emptyFile" + i);
        emptyFile.createNewFile();
        emptyFile.deleteOnExit();
    }

    // Use the library's method to create a 7z archive
    File archiveFile = new File(tempDir, "testArchive.7z");
    archiveFile.deleteOnExit();
    
    try (SevenZOutputFile sevenZOutput = new SevenZOutputFile(archiveFile)) {
        for (File file : tempDir.listFiles()) {
            sevenZOutput.putArchiveEntry(sevenZOutput.createArchiveEntry(file, file.getName()));
            sevenZOutput.closeArchiveEntry();
        }
    } catch (IOException e) {
        fail("IOException occurred during archive creation: " + e.getMessage());
    }

    // Attempt to open the archive using the library to validate its integrity
    try (SevenZFile sevenZFile = new SevenZFile(archiveFile)) {
        while (sevenZFile.getNextEntry() != null) {
            // Just attempting to read entries to make sure the archive is readable
        }
    } catch (IOException e) {
        fail("The archive should be readable but reported an error: " + e.getMessage());
    }
}