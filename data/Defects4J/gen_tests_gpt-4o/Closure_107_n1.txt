public void testVariableNamesWithMSGPrefix() {
    String code = "var MSG_foo='bar';";
    CompilerOptions options = new CompilerOptions();
    CompilationLevel.ADVANCED_OPTIMIZATIONS.setOptionsForCompilationLevel(options);
    Compiler compiler = new Compiler();
    Result result = compiler.compile(SourceFile.fromCode("externs.js", ""), SourceFile.fromCode("input.js", code), options);
    assertFalse("Compilation should fail with MSG_ prefix error", result.success);
    assertTrue("Error should be about message not initialized using goog.getMsg", compiler.getErrors()[0].description.contains("message not initialized using goog.getMsg"));
}