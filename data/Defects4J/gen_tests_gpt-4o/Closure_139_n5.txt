public void testRedefinitionFunctionMiscompilation() {
    Object functionFOriginal;
    functionFOriginal = new Object() {
        public int call() {
            return 1;
        }
    };
    Object functionFCurrent = new Object() {
        public int call() {
            return 2;
        }
    };
    if (!(((java.util.function.Function) functionFOriginal).apply(null).equals(1)))
        throw new AssertionError("error");
    
    if (!(((java.util.function.Function) functionFCurrent).apply(null).equals(2)))
        throw new AssertionError("error");

    functionFCurrent = functionFOriginal;  // This redefinition should cause miscompilation in third party code
    
    if (!(((java.util.function.Function) functionFCurrent).apply(null).equals(1)))
        throw new AssertionError("error");
}