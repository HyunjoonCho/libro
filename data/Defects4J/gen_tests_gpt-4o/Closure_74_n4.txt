
import static org.junit.Assert.assertEquals;
import org.junit.Test;

public class InlineIfOptimizationTest {

    // A method that should only be triggered if the condition is unexpectedly true
    public String a() {
        throw new RuntimeException("This method should not be called");
    }

    // A method that should be called
    public String b() {
        return "b";
    }

    @Test
    public void testInlineIfWithTrueEqualsNull() {
        String result = (true == null ? a() : b());
        assertEquals("b", result);
    }

    @Test
    public void testInlineIfWithTrueEqualsFalse() {
        String result = (true == false ? a() : b());
        assertEquals("b", result);
    }

    @Test
    public void testInlineIfInSumFunction() {
        assertEquals(3, sum(true, 1));
    }

    public int sum(Object a, int b) {
        return (a == Boolean.TRUE ? 2 : (Integer) a) + b;
    }
}
