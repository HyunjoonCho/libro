public void testTypeHierarchyAdapterRuntimeCheck() {
    GsonBuilder builder = new GsonBuilder();
    builder.registerTypeHierarchyAdapter(Vehicle.class, new VehicleTypeAdapter());
    Gson gson = builder.create();

    String jsonString = "{\"type\": \"Truck\", \"wheels\": 4, \"payload\": 1000}";

    try {
        Car car = gson.fromJson(jsonString, Car.class);
        fail("Expected a JsonSyntaxException due to type mismatch but none was thrown.");
    } catch (JsonSyntaxException e) {
        assertTrue(e.getMessage().contains("Expected Car but found Truck"));
    }
}