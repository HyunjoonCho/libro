
import org.apache.commons.jxpath.JXPathContext;
import org.apache.commons.jxpath.JXPathException;
import org.junit.Test;
import static org.junit.Assert.*;

public class JXPathRelationalOperationsTest {

    @Test
    public void testRelationalOperationsWithNonIteratorLHS() {
        // Create a new JXPathContext
        JXPathContext context = JXPathContext.newContext(new Object());

        // Set the variables as described in the bug report
        context.getVariables().declareVariable("var1", 0);
        context.getVariables().declareVariable("var2", 0);
        context.getVariables().declareVariable("var3", 1);

        // Evaluate the expression that was reported to give incorrect result
        boolean result;
        try {
            result = (Boolean) context.getValue("$var1 + $var2 <= $var3");
        } catch (JXPathException e) {
            // If there is an exception in evaluation, print it and fail the test
            e.printStackTrace();
            fail("JXPath evaluation failed: " + e.getMessage());
            return;
        }

        // Assert that the result is true, as logically 0 + 0 <= 1 should be true
        assertTrue("Evaluating '$var1 + $var2 <= $var3' should have resulted in true", result);
    }
}
