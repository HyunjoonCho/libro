
import org.apache.commons.math3.linear.OpenMapRealVector;
import org.apache.commons.math3.linear.RealVector;
import org.junit.Test;
import static org.junit.Assert.assertTrue;

public class OpenMapRealVectorTest {

    @Test
    public void testEbeMultiplyWithNaNAndInfinity() {
        // Creating two vectors, one of them contains NaN and Infinity
        double[] vectorAData = {1.0, 2.0, 3.0};
        OpenMapRealVector vectorA = new OpenMapRealVector(vectorAData);

        double[] vectorBData = {Double.NaN, Double.POSITIVE_INFINITY, 1.0};
        OpenMapRealVector vectorB = new OpenMapRealVector(vectorBData);

        // Performing element-by-element multiplication
        RealVector result = vectorA.ebeMultiply(vectorB);

        // Check if the result contains NaN as expected
        assertTrue(Double.isNaN(result.getEntry(0)));
        // Check if the result contains Infinity as expected
        assertTrue(Double.isInfinite(result.getEntry(1)));
        // Check the last entry should be 3.0 (3 * 1)
        assertTrue(result.getEntry(2) == 3.0);
    }
}
