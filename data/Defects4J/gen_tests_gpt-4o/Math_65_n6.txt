public void testChiSquareCalculation() {
    AbstractLeastSquares als = new AbstractLeastSquares() {
        @Override
        public double[] computeResiduals() {
            return new double[] {2.0, 1.0};
        }
        @Override
        public double[] computeWeight(double[] w) {
            return new double[] {1.0, 2.0};
        }
    };
    double expectedChiSquare = (1.0 * Math.pow(2.0, 2)) + (2.0 * Math.pow(1.0, 2)); // 4.0 + 2.0 = 6.0
    assertEquals(expectedChiSquare, als.getChiSquare(), 1e-9);
}