public void testJsonStreamContextDifferBetweenWriteAndConvertMethods() throws IOException {
    // Create a test object to serialize
    ObjectMapper mapper = new ObjectMapper();
    TestObject obj = new TestObject("test");

    // Serialize the object normally
    StringWriter writer = new StringWriter();
    JsonGenerator generator = mapper.getFactory().createGenerator(writer);
    generator.writeStartObject();
    generator.writeStringField("field", obj.getField());
    generator.writeEndObject();
    generator.close();
    String normalJsonContext = writer.toString();

    // Serialize the object using ObjectMapper's convert feature
    String convertedJsonContext = mapper.writeValueAsString(mapper.convertValue(obj, TestObject.class));

    // Compare write context between normal serialization and convert serialization
    assertEquals(normalJsonContext, convertedJsonContext);
}

class TestObject {
    private String field;

    public TestObject(String field) {
        this.field = field;
    }

    public String getField() {
        return field;
    }

    public void setField(String field) {
        this.field = field;
    }
}