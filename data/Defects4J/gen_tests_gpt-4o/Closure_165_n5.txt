public void testIncorrectRecordTypeProperties() {
    String codeWithError = "/** @typedef {{name: string, id: number}} */\n" +
            "var RecordType1;\n\n" +
            "/**\n" +
            "* @param {RecordType1} rec\n" +
            "*/\n" +
            "var func = function(rec) {\n" +
            " alert(rec.name2);\n" +
            "};\n" +
            "func({name: 'jim', id: 0});";

    String codeWithoutError = "/** @typedef {{name: string, id: number}} */\n" +
            "var RecordType1;\n\n" +
            "/** @typedef {{name2: string}} */\n" +
            "var RecordType2;\n\n" +
            "/**\n" +
            "* @param {RecordType1} rec\n" +
            "*/\n" +
            "var func = function(rec) {\n" +
            " alert(rec.name2);\n" +
            "};\n" +
            "func({name: 'jim', id: 0});";

    assertCompilerError(codeWithError, "Property name2 never defined on rec");
    assertNoCompilerError(codeWithoutError);
}