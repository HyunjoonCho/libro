
import com.fasterxml.jackson.dataformat.xml.XmlMapper;
import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlRootElement;
import org.junit.jupiter.api.Test;

import java.io.StringWriter;

import static org.junit.jupiter.api.Assertions.assertEquals;

public class XmlSerializerProviderTest {

    @Test
    public void testNullSerializationWithCustomRootName() throws Exception {
        // Create an XmlMapper instance
        XmlMapper xmlMapper = new XmlMapper();

        // Configure the mapper with a custom root name for null values
        xmlMapper = xmlMapper.withRootName("CustomRoot");

        // Serialize a null value
        StringWriter writer = new StringWriter();
        xmlMapper.writeValue(writer, null);

        // Verify that the output uses the configured custom root name
        // Expected result should be "<CustomRoot/>"
        String expectedXml = "<CustomRoot/>";
        assertEquals(expectedXml, writer.toString());
    }
}
