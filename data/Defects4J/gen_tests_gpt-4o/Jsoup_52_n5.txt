
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.parser.Parser;
import org.junit.Test;

import java.io.IOException;

import static org.junit.Assert.assertEquals;

public class JsoupCharsetTest {

    @Test
    public void testXmlEncodingDetection() throws IOException {
        // Using the example URL from the bug report
        String url = "http://www.elacontecer.com.uy/rss/hoy.xml";

        // Parse the XML document
        Document doc = Jsoup.connect(url).parser(Parser.xmlParser()).get();

        // Assert that the charset is correctly detected as ISO-8859-1
        assertEquals("ISO-8859-1", doc.charset().name());
    }
}
