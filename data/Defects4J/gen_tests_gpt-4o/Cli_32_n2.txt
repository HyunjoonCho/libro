
import org.apache.commons.cli.HelpFormatter;
import org.junit.Test;

import static org.junit.Assert.fail;

public class HelpFormatterTest {

    @Test
    public void testFindWrapPosStringIndexOutOfBoundsException() {
        HelpFormatter helpFormatter = new HelpFormatter();

        String testString = "This is a test string to check the wrap position logic.";
        int wrapWidth = 50;
        int startPos = testString.length() - 10;
        
        try {
            // This call should not throw an exception, but with the current bug it may trigger
            int wrapPos = helpFormatter.findWrapPos(testString, wrapWidth, startPos);
            System.out.println("Wrap Position: " + wrapPos);
        } catch (StringIndexOutOfBoundsException e) {
            fail("StringIndexOutOfBoundsException was thrown: " + e.getMessage());
        }
    }
}
