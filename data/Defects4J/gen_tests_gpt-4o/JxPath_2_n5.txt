public void testNodeSetHandling() {
    JXPathContext context = JXPathContext.newContext(new Object());
    context.setFunctions(new ClassFunctions(YourFunctionsClass.class, "ems"));

    List<?> nodes = context.selectNodes("ems:observations()");
    assertTrue("The result should be an instance of List", nodes instanceof List<?>);
    assertTrue("The List should contain more than one node", nodes.size() > 1);
    for (Object node : nodes) {
        assertTrue("Each element should be an instance of NodePointer", node instanceof NodePointer);
    }
}