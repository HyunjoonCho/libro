public void testW3CDomNamespaceInheritance() throws Exception {
    String html = "<html><body>"
                + "<ns:elem xmlns:ns=\"http://example.org/ns\">Content 1</ns:elem>"
                + "<elem>Content 2</elem>"
                + "</body></html>";

    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
    factory.setNamespaceAware(true);
    DocumentBuilder builder = factory.newDocumentBuilder();
    Document doc = builder.parse(new InputSource(new StringReader(html)));

    NodeList elems = doc.getElementsByTagNameNS("*", "elem");
    
    assertEquals(2, elems.getLength());
    assertEquals("http://example.org/ns", elems.item(0).getNamespaceURI());
    assertNull(elems.item(1).getNamespaceURI());
}