public void testComplexAddAndSubtractNaNHandling() {
    Complex nanComplex = Complex.NaN;
    Complex finiteComplex = new Complex(1.0, 1.0);

    // Test addition
    Complex addResult = finiteComplex.add(nanComplex);
    assertTrue(addResult.isNaN());

    // Test subtraction
    Complex subtractResult = finiteComplex.subtract(nanComplex);
    assertTrue(subtractResult.isNaN());
}