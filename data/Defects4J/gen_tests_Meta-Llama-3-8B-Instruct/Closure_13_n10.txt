
public void testReplaceTrueFalse() {
    Object externalRef = new Object();
    Function a = null;
    boolean anyExpression = true;

    if (anyExpression) {
        a = () -> externalRef.toString();
    }

    Object result = new Object() {
        public boolean method1() {
            a!= null && a.run();
            return true;
        }

        public boolean method2() {
            return false;
        }
    };

    assertEquals(true, result.method1());
    assertEquals(false, result.method2());
}
