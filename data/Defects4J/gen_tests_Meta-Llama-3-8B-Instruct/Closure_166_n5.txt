
public class TypeInferenceTest {

    public void testAnonymousObjectTypeInference() {
        // Test function with inferred type
        Object record = new Object() {
            public String prop = "a";
        };
        func(record);

        // Test function with explicit type
        Object record2 = new Object() {
            public String prop = "a";
        };
        func2(record2);
    }

    // Function with inferred type
    public void func(Object record) {
        System.out.println(record.prop);
    }

    // Function with explicit type
    public void func2(Object record) {
        if (record instanceof String) {
            System.out.println(record);
        } else {
            System.out.println(record.prop);
        }
    }
}
