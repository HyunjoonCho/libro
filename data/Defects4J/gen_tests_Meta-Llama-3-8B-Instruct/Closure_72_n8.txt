public void testInternalCompilerError() {
    String source = "path/to/bullet_1_1_q1.js";
    String[] args = new String[] {
        "--compilation_level", "ADVANCED_OPTIMIZATIONS",
        "--variable_map_output_file", "js.vars",
        "--js", source,
        "--js_output_file", "bullet_1_1_q1.cc.js"
    };
    try {
        Runtime.getRuntime().exec("java -jar apr5compiler.jar " + String.join(" ", args));
    } catch (IOException e) {
        fail("Expected an internal compiler error, but got an exception: " + e.getMessage());
    }
}