public void testIssue() {
    String inputJs = "window['anchor'] = function (obj, modifiesProp) {\n" +
            " return (function (saved) {\n" +
            " return modifiesProp(obj) + saved;\n" +
            " })(obj['prop']);";

    String expectedJs = "window.foo=function(a,b){var HOLD=a.prop;return b(a)+HOLD};";

    // Your code to compile the inputJs and compare with the expectedJs
    // For example:
    String outputJs = compileJs(inputJs);
    assertEquals(expectedJs, outputJs);
}

// Method to compile the inputJs
String compileJs(String inputJs) {
    // Implement your logic to compile the inputJs
    // For example:
    //...
    return outputJs;
}