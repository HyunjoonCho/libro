public void testAbstractClassMocking() {
    UserAccount userAccount = mock(FakeUserAccount.class);
    when(userAccount.getEmails()).thenReturn(Arrays.asList("email1", "email2"));
    when(userAccount.addEmail("newEmail")).thenReturn(userAccount);
    assertEquals(Arrays.asList("email1", "email2"), userAccount.getEmails());
    userAccount.addEmail("newEmail");
    assertEquals(Arrays.asList("email1", "email2", "newEmail"), userAccount.getEmails());
}