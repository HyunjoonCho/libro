
public void testTarArchiveInputStreamBigUserId() throws IOException {
    // Create a test tar file with a entry having a big user-id value
    byte[] data = new byte[]{0x61, 0x24, 0x10, 0x55, 0x04, 0x00, 0x00, 0x52};
    TarArchiveOutputStream tarOut = new TarArchiveOutputStream(new ByteArrayOutputStream());
    TarArchiveEntry entry = new TarArchiveEntry("test");
    entry.setUserId(65535);
    entry.setSize(10);
    tarOut.putArchiveEntry(entry);
    tarOut.write(data);
    tarOut.close();

    // Try to read the entry using TarArchiveInputStream
    TarArchiveInputStream tarIn = new TarArchiveInputStream(new ByteArrayInputStream(tarOut.toByteArray()));
    TarArchiveEntry entryRead = tarIn.getNextTarEntry();

    // Assert that the entry is parsed correctly
    assertEquals("test", entryRead.getName());
    assertEquals(65535, entryRead.getUserId());
}
