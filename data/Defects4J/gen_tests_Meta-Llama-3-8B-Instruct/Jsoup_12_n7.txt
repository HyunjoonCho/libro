
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.jsoup.parser.Parser;
import org.jsoup.parser.Selector;
import org.junit.Test;

import static org.junit.Assert.fail;

public class JsoupBugTest {

    @Test
    public void testSelectorParseException() {
        String html = "<div><table class=\"x|y\"></table></div>";
        Document doc = Parser.parseBodyFragment(html);
        Element div = doc.select("div table[class~=x|y]").first();
        if (div == null) {
            fail("Selector should match");
        }
    }
}
