java
public void testCaretNotAlwaysShown() {
    String[] inputs = {
            "alert(1;)",
            "alert(1;\n)"
    };

    for (String input : inputs) {
        String[] args = {"--js", "test.js"};
        ProcessBuilder builder = new ProcessBuilder(args);
        Process process = builder.start();
        String output = new BufferedReader(new InputStreamReader(process.getInputStream())).lines().collect(Collectors.joining("\n"));
        String expected1 = "test.js:1: ERROR - Parse error. missing ) after argument list\n1 error(s), 0 warning(s)";
        String expected2 = "test.js:1: ERROR - Parse error. missing ) after argument list\nalert(1;\n^\n1 error(s), 0 warning(s)";
        assertEquals(expected1, output, "Caret is not shown for single-line input");
        assertEquals(expected2, output, "Caret is shown for multi-line input");
    }
}
