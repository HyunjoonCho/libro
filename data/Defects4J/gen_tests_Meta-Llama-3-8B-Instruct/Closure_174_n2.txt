
public void testCompilerCrashOnGoogScopeLocals() {
    String code = "goog.provide(\"main\");\ngoog.scope(function (){\n var a = foo, b, c = 1;\n});";
    try {
        // Assuming you're using a Java-based JavaScript engine, you can execute the code here
        // For example, using Rhino:
        ScriptEngineManager manager = new ScriptEngineManager();
        ScriptEngine engine = manager.getEngineByName("rhino");
        engine.eval(code);
        fail("Expected a compile error");
    } catch (ScriptException e) {
        // The compiler crash should throw a ScriptException
    }
}
