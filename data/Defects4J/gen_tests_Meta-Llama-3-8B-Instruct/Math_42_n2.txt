public void testRestrictNonNegativeFailure() {
    RealFunction1D function = new AbstractRealUnivariateFunction() {
        @Override
        public double value(double x) {
            return x + 1;
        }
    };
    SimplexSolver solver = new SimplexSolver();
    solver.optimize(function, new LinearConstraint[]{new LinearConstraint(1, 0, 1)}, GoalType.MINIMIZE, true);
    assertEquals(-1, solver.getPoint().getFunctionValue(), 0.0001);
}