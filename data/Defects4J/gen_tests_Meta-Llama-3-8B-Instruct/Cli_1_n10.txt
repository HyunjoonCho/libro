
import org.junit.Test;
import org.junit.runner.RunWith;
import org.junit.runners.JUnit4;
import org.apache.commons.cli.Option;
import org.apache.commons.cli.OptionBuilder;
import org.apache.commons.cli.CommandLine;

import java.util.Arrays;

import static org.junit.Assert.assertEquals;

@RunWith(JUnit4.class)
public class CommandLineOptionValueTest {

    @Test
    public void testGetOptionValue() {
        String debugOpt = "debug";
        Option debug = OptionBuilder
               .withArgName(debugOpt)
               .withDescription("turn on debugging")
               .withLongOpt(debugOpt)
               .create('d');

        CommandLine commandLine = new CommandLine(new String[] {"-d", "true"});
        assertEquals("true", commandLine.getOptionValue(debugOpt));
        assertEquals("true", commandLine.getOptionValue("d"));
        assertEquals(null, commandLine.getOptionValue("abc"));
    }
}
