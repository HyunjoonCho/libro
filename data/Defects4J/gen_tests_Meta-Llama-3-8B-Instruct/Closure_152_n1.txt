java
import org.junit.Test;
import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.CompilerOptions;
import com.google.javascript.jscomp.CompileException;

public class TestClosureCompiler {
    @Test(expected = CompileException.class)
    public void testResolveTypesError() {
        Compiler compiler = new Compiler();
        CompilerOptions options = new CompilerOptions();
        options.setCreateNameMapFiles(true);
        options.setWarning("missingProperties");
        options.setWarning("undefinedVars");
        options.setWarning("checkTypes");
        options.setWarningLevel(CompilerOptions.WarningLevel.VERBOSE);
        options.setSummaryDetailLevel(3);
        options.setProcessClosurePrimitives(true);
        options.setJscompError("strictModuleDepCheck");
        options.setJscompError("invalidCasts");
        options.setLoggingLevel(CompilerOptions.LoggingLevel.ALL);
        options.setCompilationLevel(CompilerOptions.CompilationLevel ADVANCED_OPTIMIZATIONS);

        compiler.compile("test.js", options);
    }
}
