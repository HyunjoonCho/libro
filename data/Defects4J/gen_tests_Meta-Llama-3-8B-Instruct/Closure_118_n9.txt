
public void testPrototypeMethodIncorrectlyRemoved() {
    Class<?> clazz = new TestClass();
    Method method = clazz.getMethod("bar1");
    assertThrows(NoSuchMethodException.class, () -> method.invoke(clazz.newInstance()));
}

class TestClass {
    public static class Bar {
        public void bar1() {
            System.out.println("bar1");
        }
    }

    public static Bar bar = new Bar();
    public static TestClass foobar = new TestClass();

    public static void main(String[] args) {
        System.out.println(foobar.bar1());
    }
}
