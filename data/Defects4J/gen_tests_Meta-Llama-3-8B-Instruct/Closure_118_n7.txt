
public void testPrototypeMethodRemoval() {
    // Create a test class
    class Foo {
        public static void main(String[] args) {
            // Create a prototype object
            var foo = new Object();
            foo.bar = {
                'bar1': function() { System.out.println("bar1"); }
            };

            // Create a constructor
            class Foobar {
            }
            Foobar.prototype = foo.bar;

            // Create an instance of Foobar
            var foobar = new Foobar();

            // Call the method
            foobar['bar1']();
        }
    }

    // Run the test
    Foo.main(new String[0]);
}
