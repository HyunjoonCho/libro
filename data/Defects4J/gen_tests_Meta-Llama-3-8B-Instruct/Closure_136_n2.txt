java
import org.junit.Test;
import org.junit.runner.RunWith;
import org.junit.runners.JUnit4;

import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.CompilerOptions;
import com.google.javascript.jscomp.CompilerTestCase;

@RunWith(JUnit4.class)
public class SuperReplacementTest extends CompilerTestCase {
    @Test
    public void testSuperReplacement() {
        Compiler compiler = new Compiler();
        CompilerOptions options = new CompilerOptions();
        options.setAdvancedOptimizations(true);
        compiler.compile("function Foo() { this.$super(); }", options);
        assertEquals("Foo.prototype.$super", compiler.getScope().getDeclaredVariable("Foo.prototype.$super").getName());
    }
}
