public void testCastingFunction() {
    String original = "console.log(/** @type {function(!string):!string} */ ((new window.ActiveXObject('ShockwaveFlash.ShockwaveFlash'))['GetVariable'])( '$version' ));";
    String expected = "console.log((0,(new window.ActiveXObject(\"ShockwaveFlash.ShockwaveFlash\")).GetVariable)=\"$version\";";
    String expectedWithoutCasting = "console.log((new window.ActiveXObject(\"ShockwaveFlash.ShockwaveFlash\")).GetVariable=\"$version\";";
    assertEquals(expected, original);
}