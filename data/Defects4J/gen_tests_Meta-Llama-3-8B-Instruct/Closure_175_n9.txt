public void testAdvancedOptimizations() throws Exception {
    // Compile the input.js file
    String[] compilationArgs = new String[]{"--compilation_level", "ADVANCED_OPTIMIZATIONS", "--warning_level", "VERBOSE", "--externs", "window.js", "--js", "input.js", "--js_output_file", "output.js"};
    ProcessBuilder pb = new ProcessBuilder("java", "-jar", "compiler.jar").redirectOutput(ProcessBuilder.Redirect.PIPE);
    Process process = pb.start();
    process.waitFor();
    String output = new String(process.getInputStream().readAllBytes());

    // Verify the output is incorrect
    String expected = "window.foo=function(a,b){var HOLD=a.prop;return b(a)+HOLD};";
    String actual = output.trim();
    assertNotEquals(expected, actual);
}