public void testBZip2CompressorInputStreamReadsFewerBytesFromTruncatedFile() {
    // Create a test file with 770 bytes of data
    byte[] data = new byte[770];
    // Initialize the BZip2CompressorInputStream
    BZip2CompressorInputStream in = new BZip2CompressorInputStream(new ByteArrayInputStream(data));
    // Check that it reads fewer bytes than expected
    assertEquals(769, in.read(new byte[769]));
}