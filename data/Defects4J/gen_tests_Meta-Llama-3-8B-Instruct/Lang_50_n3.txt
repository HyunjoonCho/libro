
public void testFastDateFormatLocaleChange() {
    Locale originalLocale = Locale.getDefault();
    Locale newLocale = new Locale("fr", "FR");
    Locale.setDefault(newLocale);

    FastDateFormat df = FastDateFormat.getDateInstance();
    FastDateFormat df2 = FastDateFormat.getDateInstance();

    // Check if the two instances have the same locale
    assertEquals(newLocale, df.getLocale());
    assertEquals(newLocale, df2.getLocale());

    // Change the locale again
    Locale.setDefault(originalLocale);

    // Check if the locale is still the same
    assertEquals(newLocale, df.getLocale());
    assertEquals(newLocale, df2.getLocale());
}
