public void testArrayJoinMungedIncorrectly() {
    String original = $.fn.hasClass.toString();
    String expected = "function(a){return this.length>0?\n\"\"+this[0].className).indexOf(\"\"+a)!=-1:false};";
    String actual = ($.fn.hasClass = function(a){return this.length>0?\n(""+this[0].className).indexOf(""+a)!=-1:false}).toString();
    assertEquals(expected, actual);
}