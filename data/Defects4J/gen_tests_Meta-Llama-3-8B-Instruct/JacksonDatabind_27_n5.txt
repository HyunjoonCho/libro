public void testExternalTypeIdHandling() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    ObjectWriter writer = mapper.writer();
    String json = writer.writeValueAsString(new POJO("field1", 1));
    assertEquals("{\"field1\":1}", json);
    String json2 = writer.writeValueAsString(new POJO("field1", 1, "extId"));
    assertEquals("{\"@extId\":\"extId\",\"field1\":1}", json2);
}