
import org.junit.Test;

import static org.junit.Assert.assertEquals;

public class ClosureCompilerTest {
    @Test
    public void testDifferentOutputFromRestApiAndCommandLine() {
        String input = "var foreignObject = gfx.parentNode.parentNode;\n" +
                "var parentContainer = foreignObject.parentNode.parentNode;";

        // Compile using the command line jar
        String commandLineOutput = compile(input);

        // Compile using the web UI
        String webUiOutput = compileUsingWebUi(input);

        // Compare the outputs
        assertEquals("Expected different output", webUiOutput, commandLineOutput);
    }

    private String compile(String input) {
        // Implement the command line compilation logic here
        // For example:
        // Use a ProcessBuilder to run the command "java -jar compiler.jar --js test.js" with the input
        // Read the output and return it
        return "var b=a=a.parentNode.parentNode;"; // Replace with the actual output
    }

    private String compileUsingWebUi(String input) {
        // Implement the web UI compilation logic here
        // For example:
        // Use a HTTP client to send a POST request to the Closure Compiler API with the input
        // Read the output and return it
        return "if(b){if(a=b.parentNode.parentNode,b=a.parentNode.parentNode,null!==b)"; // Replace with the actual output
    }
}
