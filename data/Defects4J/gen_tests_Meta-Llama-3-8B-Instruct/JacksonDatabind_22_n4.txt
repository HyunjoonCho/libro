
public class BugReportTest {
    
    @Test
    public void testCustomSerializerNotUsed() {
        // Register custom serializer
        ObjectMapper mapper = new ObjectMapper();
        SimpleModule module = new SimpleModule();
        module.addSerializer(MyClass.class, new MyCustomSerializer());
        mapper.registerModule(module);
        
        // Create POJO with @JsonValue
        MyClass obj = new MyClass();
        String json = mapper.writeValueAsString(obj);
        
        // Expect custom serializer to be used
        assertEquals("expected custom serialization", json);
    }
    
    @JsonValue
    public static class MyClass {
        private String value;
        // getters and setters
    }
    
    public static class MyCustomSerializer extends JsonSerializer<MyClass> {
        @Override
        public void serialize(MyClass value, JsonGenerator gen, SerializerProvider serializers) throws IOException {
            gen.writeString("expected custom serialization");
        }
    }
}
