
public void testJSCUSEDGLOBALTHISWarning() {
    JavaScriptEngine engine = new JavaScriptEngine();
    engine.setWarningReporter(new WarningReporter() {
        @Override
        public void reportWarning(String message) {
            System.out.println("Warning: " + message);
        }
    });

    engine.eval("var NS = { read: function() { return this.foo; }, write: function() { this.foo = 123; } };");
    engine.eval("NS.write();");

    engine.eval("NS.write2 = function() { this.foo = 123; };");
    engine.eval("NS.write2();");
}
