java
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class TypeInferenceInconsistencyTest {

    @Test
    public void testTypeInferenceInconsistency() {
        interface Record {
            String prop();
            String prop2();
        }

        interface RecordOrString {
            default void log() {
                System.out.println(prop());
            }
        }

        void func(Record record) {
            System.out.println(record.prop());
        }

        void func2(RecordOrString record) {
            if (record instanceof String) {
                System.out.println(record);
            } else {
                System.out.println(record.prop());
            }
        }

        func(new Record() {
            @Override
            public String prop() {
                return "a";
            }
        });
        func2(new Record() {
            @Override
            public String prop() {
                return "a";
            }
        });
    }
}
