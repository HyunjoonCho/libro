java
import org.junit.Test;

public class TestSwitchedOrderOfDeleteKeyAndKeyIn {
    @Test
    public void testIssue() {
        Map<String, String> customData = new HashMap<>();
        customData.put("key", "value");

        String key = "key";
        boolean hadKey = customData.containsKey(key);
        String retval = customData.get(key);
        if (customData.containsKey(key)) {
            customData.remove(key);
        }
        boolean result = customData.containsKey(key);

        assertEquals("value", retval);
        assertFalse(result);
    }
}
