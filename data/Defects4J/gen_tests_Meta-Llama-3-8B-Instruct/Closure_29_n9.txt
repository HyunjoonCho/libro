public void testClosureCompilerBug() {
    final Object getType = new Object();
    Function isFunction = new Function("function(functionToCheck) { return functionToCheck && getType.toString.apply(functionToCheck) === '[object Function]'; }");

    assertEquals(true, isFunction.apply(null));
    assertEquals(true, isFunction.apply(new Function("return 5;")));

    final Object getTypeArray = new Object[0];
    isFunction = new Function("function(functionToCheck) { return functionToCheck && getTypeArray.toString.apply(functionToCheck) === '[object Function]'; }");

    assertEquals(true, isFunction.apply(null));
    assertEquals(true, isFunction.apply(new Function("return 5;")));
}