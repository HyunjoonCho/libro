
import org.joda.time.DateTime;
import org.joda.time.DateTimeZone;
import org.joda.time.format.DateTimeFormat;
import org.joda.time.format.DateTimeFormatter;

import java.util.Set;

import static org.junit.Assert.assertEquals;

public class JodaDateTimeZoneTest {

    private static final DateTimeFormatter formatter = DateTimeFormat.forPattern("MM/dd/yyyy HH:mm:ss.SSS ZZZ");

    @Test
    public void testDateTimeZone() {
        Set<String> timeZones = DateTimeZone.getAvailableIDs();
        for (String timeZone : timeZones) {
            DateTime dt = DateTime.now().withZone(DateTimeZone.forID(timeZone));
            DateTime dt2 = parseStringToDateTime(convertDateTimeToFormattedString(dt));
            assertEquals(dt, dt2);
        }
    }

    private String convertDateTimeToFormattedString(DateTime dateTime) {
        return formatter.print(dateTime);
    }

    private DateTime parseStringToDateTime(String formattedDateTime) {
        return formatter.parseDateTime(formattedDateTime);
    }
}
