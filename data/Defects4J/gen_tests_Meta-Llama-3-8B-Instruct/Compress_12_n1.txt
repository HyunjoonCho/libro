java
import org.apache.commons.compress.archivers.tar.TarArchiveInputStream;
import org.junit.Test;

import java.io.ByteArrayInputStream;
import java.io.IOException;

import static org.junit.Assert.fail;

public class TarArchiveInputStreamTest {

    @Test(expected = IOException.class)
    public void testTarArchiveInputStreamThrowsIOExceptionOnCorruptFile() throws Exception {
        byte[] corruptedBytes = new byte[] { -1 };
        ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(corruptedBytes);
        TarArchiveInputStream tarArchiveInputStream = new TarArchiveInputStream(byteArrayInputStream);
        tarArchiveInputStream.getNextTarEntry();
        fail("Expected IOException");
    }
}
