
public void testSerializationOfClassWithSuperclassTypeParameter() {
    Gson gson = new Gson();
    Bar bar1 = new Bar(1);

    String json = gson.toJson(bar1);
    assertEquals("null", json);

    Bar bar2 = gson.fromJson("{\"someField\":1}", Bar.class);
    assertEquals(null, bar2);

    assertNotEquals(bar1, bar2);
}
