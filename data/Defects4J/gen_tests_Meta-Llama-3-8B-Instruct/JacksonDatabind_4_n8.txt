public void testInvalidFormatExceptionIndex() {
    String json = "[1, 2, 3]";
    String[] array = new String[] {"1", "2", "3"};
    StringCollectionDeserializer deserializer = new StringCollectionDeserializer();
    try {
        deserializer.deserialize(new JsonFactory().createJsonParser(json));
        fail("Expected JsonMappingException");
    } catch (JsonMappingException e) {
        assertEquals(0, e.getReference().getIndex());
    }
}