
public void testCustomSerializerNotUsedWithJsonValue() {
    // Create a custom serializer
    JsonSerializer<String> customSerializer = new JsonSerializer<String>() {
        @Override
        public void serialize(String value, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException {
            jsonGenerator.writeString("Custom serialized value: " + value);
        }
    };

    // Register the custom serializer
    ObjectMapper mapper = new ObjectMapper();
    mapper.setSerializerProvider(new SimpleSerializers(customSerializer));

    // Create a POJO with @JsonValue
    @JsonValue
    public class MyPojo {
        private String value;

        public String getValue() {
            return value;
        }

        public void setValue(String value) {
            this.value = value;
        }
    }

    // Serialize the POJO
    MyPojo pojo = new MyPojo();
    pojo.setValue("Hello");
    String json = mapper.writeValueAsString(pojo);

    // Verify that the custom serializer is not used
    assertEquals("{\"value\":\"Hello\"}", json);
}
