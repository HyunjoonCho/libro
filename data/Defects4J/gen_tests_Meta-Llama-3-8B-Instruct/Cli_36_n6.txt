java
import org.junit.Test;
import picocli.CommandLine.Option;
import picocli.CommandLine.OptionGroup;
import picocli.CommandLine.Option.MutuallyExclusiveOptions;
import picocli.CommandLine.OptionGroup.Order;

import java.util.ArrayList;
import java.util.List;

import static org.junit.Assert.assertEquals;

public class HelpFormatterTest {

    @Test
    public void testOptionGroupOrder() {
        OptionGroup group = new OptionGroup();
        Option h = Option.builder("h").build();
        Option s = Option.builder("s").build();
        Option b = Option.builder("b").build();
        Option t = Option.builder("t").build();
        group.addOption(h).addOption(s).addOption(b).addOption(t);

        Option o = Option.builder("o").build();
        List<Option> options = new ArrayList<>();
        options.add(o);
        options.add(group);

        HelpFormatter formatter = new HelpFormatter();
        formatter.setOptionComparator(null);
        String help = formatter.printHelp("cmd", "", options, null);
        assertEquals("Usage: cmd [options]\no      --o                  option o\n" +
                "Group:\n" +
                "  -h, --h                  option h\n" +
                "  -s, --s                  option s\n" +
                "  -b, --b                  option b\n" +
                "  -t, --t                  option t\n", help);
    }
}
