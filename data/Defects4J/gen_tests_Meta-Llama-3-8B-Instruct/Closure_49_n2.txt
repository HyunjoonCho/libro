public void testVariableShadowing() {
    Compiler compiler = new Compiler();
    String code = "var foo = function bar() { var bar; alert(bar); };";
    String expected = "var foo = function() { alert(void 0); };";
    String actual = compiler.compile(code);
    assertEquals(expected, actual);
}