public void testErrorRecoveryInObjectReaderReadValues() {
    String json = "{\"a\":{\"b\":123}}";
    ObjectReader reader = new ObjectReader();
    JsonParser parser = new JsonParser();
    JsonNode node = parser.parse(json);
    MappingIterator<Map<String, Object>> iterator = reader.readerFor(Map.class).withRootName("a").reader().forType(Map.class).readValues(node);
    try {
        iterator.next();
        fail("Expected JsonProcessingException");
    } catch (JsonProcessingException e) {
        // Check that the iterator is in a recoverable state
        assertEquals(JsonToken.END_OBJECT, iterator.nextToken());
    }
}