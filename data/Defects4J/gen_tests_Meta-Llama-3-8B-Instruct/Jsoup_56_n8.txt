
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.junit.Test;

import java.io.StringReader;

public class JsoupParseTest {

    @Test
    public void testJsoupParseRemoveSystemIdentifierInDoctype() {
        String xhtml = "<!DOCTYPE html SYSTEM \"exampledtdfile.dtd\">\n" +
                "<html>\n" +
                "</html>";
        Document doc = Jsoup.parse(new StringReader(xhtml), "", Jsoup.parser(Parser.xmlParser()));
        String doctype = doc.select("html").first().getBaseUri();
        assertEquals("\"exampledtdfile.dtd\"", doctype); // Expected: "SYSTEM \"exampledtdfile.dtd\"", but got "<uri>"
    }
}
