public void testOptionGroupState() {
    Options options = new Options();
    OptionGroup group = new OptionGroup("group");
    Option a = Option.builder("a").build();
    Option b = Option.builder("b").build();
    group.addOption(a);
    group.addOption(b);
    a.setRequired(false);
    b.setRequired(false);
    a.setGroup(group);
    b.setGroup(group);
    options.addOption(a);
    options.addOption(b);
    CommandLine cmd = new PosixParser().parse(options, "a".split("\\s+"), new Properties());
    assertTrue(cmd.hasOption("a"));
    assertTrue(cmd.hasOption("b"));
}