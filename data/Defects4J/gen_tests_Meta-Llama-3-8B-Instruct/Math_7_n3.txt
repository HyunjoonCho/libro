
public void testEventStateNotUpdated() {
    // Initialize ODE solver
    ODESolver solver = new ODESolver();
    // Set up events
    Event event1 = new Event() {
        @Override
        public void eventOccurred(double t, double[] y) {
            // Trigger reset state
            solver.resetState();
        }
    };
    Event event2 = new Event() {
        @Override
        public void eventOccurred(double t, double[] y) {
            // Verify that state is not updated correctly
            assertEquals("Expected state not updated", solver.getState(), "Initial state");
        }
    };
    // Add events to solver
    solver.addEvent(event1);
    solver.addEvent(event2);
    // Run ODE integration
    solver.integrate();
}
