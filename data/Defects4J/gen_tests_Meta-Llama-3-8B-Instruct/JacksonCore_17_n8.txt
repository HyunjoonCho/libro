public void testJsonGenerationException() {
    String json = "{\"key\":\"\\ud83c\\udf00\\ud83c\\udf00x\"}";
    try {
        ObjectMapper mapper = new ObjectMapper();
        mapper.writeValue(new File("test.json"), json);
    } catch (JsonGenerationException e) {
        assertEquals("Split surrogate on writeRaw() input", e.getMessage());
    }
}