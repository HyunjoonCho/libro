java
public void testNegativeValueWithRestrictNonNegative() {
    RealFunction function = new AbstractRealUnivariateFunction() {
        @Override
        public double value(double x) {
            return x + 1;
        }
    };

    RealVector constraints = new ArrayRealVector(new double[]{1, 0});
    double[] bounds = new double[]{0, 0};
    RealVector constraint = new ArrayRealVector(new double[]{1});
    SimplexSolver solver = new SimplexSolver();
    solver.optimize(function, new RealVector[]{constraints}, GoalType.MINIMIZE, true);

    assertEquals(1, solver.getOptimum(), 0.0001);
    assertEquals(-1, solver.getOptimum(), 0.0001);
}
