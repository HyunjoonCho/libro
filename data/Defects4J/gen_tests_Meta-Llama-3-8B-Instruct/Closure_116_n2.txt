
public void testADVANCED_OPTIMIZATIONS() {
    // Create a JavaScript file input.js
    String inputJs = "window['anchor'] = function (obj, modifiesProp) { return (function (saved) { return modifiesProp(obj) + saved; })(obj['prop']); };";
    
    // Compile the JavaScript file with ADVANCED_OPTIMIZATIONS
    String compilationLevel = "ADVANCED_OPTIMIZATIONS";
    String warningLevel = "VERBOSE";
    String externs = "window.js";
    String jsOutputFile = "output.js";
    String command = "java -jar.../build/compiler.jar --compilation_level " + compilationLevel + " --warning_level " + warningLevel + " --externs " + externs + " --js input.js --js_output_file " + jsOutputFile;
    ProcessBuilder builder = new ProcessBuilder(command);
    Process process = builder.start();
    process.waitFor();
    
    // Read the compiled JavaScript file
    String outputJs = Files.readString(Paths.get(jsOutputFile));
    
    // Verify the output
    String expectedOutput = "window.foo=function(a,b){var HOLD=a.prop;return b(a)+HOLD};";
    assertEquals(expectedOutput, outputJs);
}
