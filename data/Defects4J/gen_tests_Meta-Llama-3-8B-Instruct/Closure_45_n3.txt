
public void testAssignmentRemovedWhenUsedAsAnExpressionResultToArrayPush() {
    Compiler compiler = new Compiler();
    String input = "function f() { var a = [], b; a.push(b = []); b[0] = 1; return a; }";
    CompilerOptions options = new CompilerOptions();
    CompilationLevel advancedOptions = CompilationLevel.SIMPLE_OPTIMIZATIONS;
    CompilationResult result = compiler.compile(input, options, advancedOptions);
    String compiledCode = result.compile();
    assertEquals("function f(){var a=[];a.push([]);return a};", compiledCode);
}
