public void testRequiredOptions() {
    Options options = new Options();
    options.addOption("h", "help", false, "help");
    options.addOption("c", "config", true, "config");
    CommandLine cmd = new CommandLine();
    try {
        cmd.parse(options, new String[] {"-c", "<arg>"});
        fail("Expected option -h to be required");
    } catch (RequiredOptionException e) {
        assertEquals("You must specify the -h option", e.getMessage());
    }
}