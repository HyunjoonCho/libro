javascript
function urlEncodeIfNecessary(s) {
  var regex = /[\\\"<>\.;]/;
  var hasBadChars = regex.exec(s)!= null;
  return hasBadChars && typeof encodeURIComponent!= undefined? encodeURIComponent(s) : s;
}

function Z(a) {
  return /[\"<>.;]/.exec(a)!= null && typeof encodeURIComponent!= undefined? encodeURIComponent(a) : a
}

// Reproduce the error
try {
  Z("some string with < > ;");
} catch (e) {
  console.error(e);
}
