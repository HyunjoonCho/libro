public void testAssignmentToRecordInConditional() {
    Object result = func(true, true);
    assertEquals(3, ((Map<String, Object>) result).get("prop1").get("a"));
    assertEquals("prop2", ((Map<String, Object>) result).get("prop2"));
    result = func(true, false);
    assertEquals(3, ((Map<String, Object>) result).get("prop1").get("a"));
    assertEquals("prop3", ((Map<String, Object>) result).get("prop3"));
    result = func(false, true);
    assertNull(((Map<String, Object>) result).get("prop1"));
    assertEquals("prop2", ((Map<String, Object>) result).get("prop2"));
    result = func(false, false);
    assertNull(((Map<String, Object>) result).get("prop1"));
    assertEquals("prop3", ((Map<String, Object>) result).get("prop3"));
}