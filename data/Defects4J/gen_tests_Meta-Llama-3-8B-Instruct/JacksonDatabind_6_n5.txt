
public void testISO8601Parsing() {
    String date1 = "2014-10-03T18:00:00.6-05:00";
    String date2 = "2014-10-03T18:00:00.61-05:00";
    String date3 = "1997-07-16T19:20+01:00";
    String date4 = "1997-07-16T19:20:30.45+01:00";

    // Expected dates
    DateTime dt1 = new DateTime(2014, 10, 3, 18, 0, 0, 600, DateTimeZone.forOffsetHours(-5));
    DateTime dt2 = new DateTime(2014, 10, 3, 18, 0, 0, 610, DateTimeZone.forOffsetHours(-5));
    DateTime dt3 = new DateTime(1997, 7, 16, 19, 20, 0, DateTimeZone.forOffsetHours(1));
    DateTime dt4 = new DateTime(1997, 7, 16, 19, 20, 30, 450, DateTimeZone.forOffsetHours(1));

    // Test parsing
    assertEquals(dt1, new DateTime(date1));
    assertEquals(dt2, new DateTime(date2));
    assertEquals(dt3, new DateTime(date3));
    assertEquals(dt4, new DateTime(date4));
}
