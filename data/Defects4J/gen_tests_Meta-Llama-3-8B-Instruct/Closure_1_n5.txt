public void testFunctionArgumentsNotOptimizedAway() {
    final String code = "function foo(bar, baz) { return bar; } alert(foo.length);";
    assertEquals(2, executeAndReturnLength(code));
}

public int executeAndReturnLength(String code) {
    Compiler compiler = new Compiler();
    compiler.compile(code);
    return compiler.getFunctions().get("foo").getParameterList().size();
}

public class Compiler {
    // implementation of the compiler
}