public void testAnonymousObjectTypeInferenceFailure() {
    class Callz {
        /* @param {{prop1: string, prop2: (number|undefined)}} parry */
        public void callz(parry) {
            if (parry.prop2 && parry.prop2 < 5) System.out.println("alright!");
            System.out.println(parry.prop1);
        }
    }

    // This should compile fine
    callz(new Object() {
        String prop1 = "hi";
    });

    // This should not compile
    try {
        new Callz().callz(new Object() {
            String prop1 = "hi";
        });
        fail("Expected a compilation error");
    } catch (Exception e) {
        // Expected exception
    }
}