
import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.SerializationFeature;
import com.fasterxml.jackson.databind.JsonNode;
import com.fasterxml.jackson.databind.node.TextNode;
import org.junit.Test;
import java.io.IOException;
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Date;

public class JacksonDateParsingTest {

    private ObjectMapper mapper = new ObjectMapper();

    @Test
    public void testISO8601DateParsing() throws IOException, ParseException {
        String json1 = "{\"date\":\"2014-10-03T18:00:00.6-05:00\"}";
        JsonNode node1 = mapper.readValue(json1, JsonNode.class);
        assertEquals("2014-10-03T18:00:00.6-05:00", node1.asText());

        String json2 = "{\"date\":\"2014-10-03T18:00:00.61-05:00\"}";
        JsonNode node2 = mapper.readValue(json2, JsonNode.class);
        assertEquals("2014-10-03T18:00:00.61-05:00", node2.asText());

        String json3 = "{\"date\":\"1997-07-16T19:20+01:00\"}";
        JsonNode node3 = mapper.readValue(json3, JsonNode.class);
        assertEquals("1997-07-16T19:20+01:00", node3.asText());

        String json4 = "{\"date\":\"1997-07-16T19:20:30.45+01:00\"}";
        JsonNode node4 = mapper.readValue(json4, JsonNode.class);
        assertEquals("1997-07-16T19:20:30.45+01:00", node4.asText());
    }
}
