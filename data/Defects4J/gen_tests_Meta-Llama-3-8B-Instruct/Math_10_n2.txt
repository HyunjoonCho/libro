java
public void testDerivativeStructureAtan2SpecialCases() {
    DerivativeStructure dsX = new DerivativeStructure(0.0, 0.0, 0.0);
    DerivativeStructure dsY = new DerivativeStructure(0.0, 0.0, 0.0);
    assertEquals(Math.atan2(0, 0), dsX.atan2(dsY).evaluate());
    dsX = new DerivativeStructure(0.0, 0.0, 0.0);
    dsY = new DerivativeStructure(0.0, 1.0, 0.0);
    assertEquals(Math.atan2(0, 1), dsX.atan2(dsY).evaluate());
    dsX = new DerivativeStructure(0.0, 0.0, 0.0);
    dsY = new DerivativeStructure(1.0, 0.0, 0.0);
    assertEquals(Math.atan2(0, 1), dsX.atan2(dsY).evaluate());
    dsX = new DerivativeStructure(0.0, 0.0, 0.0);
    dsY = new DerivativeStructure(0.0, 0.0, 0.0);
    assertEquals(Double.NaN, dsX.atan2(dsY).evaluate());
}
