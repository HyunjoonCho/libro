public void testFunctionArgumentsOptimizedAway() {
    final int expected = 2;
    final Function foo = new Function() {
        public Object invoke(Object arg1, Object arg2) {
            return arg1;
        }
    };
    assertEquals(expected, ((Function) foo).getLength());
}