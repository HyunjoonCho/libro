java
import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.CompilerOptions;
import com.google.javascript.jscomp.SourceFile;
import com.google.javascript.jscomp.Result;

public class TestVarCheckCrashWhenUsingModules {
    public void testVarCheckCrashWhenUsingModules() {
        Compiler compiler = new Compiler();
        CompilerOptions options = new CompilerOptions();
        SourceFile sourceFile = new SourceFile("core.js", "var jQuery$$2 = 1;");
        compiler.compile(sourceFile, options);

        // Expected to throw an exception
        Result result = compiler.getResult();
        result.assertNoErrors();
    }
}
