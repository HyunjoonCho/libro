public void testIncompleteHandlingOfUndefinedNamespaces() {
    XMLNode node = new XMLNode("ElementA");
    node.setAttribute("myAttr", "Mytype", "A", "http://example.com/A");
    node.addChild(new XMLNode("ElementB"));
    try {
        node.toDOM();
        fail("Expected org.apache.common.ri.model.dom.DOMNodePointer.createAttribute unknown namespace prefix: A");
    } catch (Exception e) {
        assertEquals("unknown namespace prefix: A", e.getMessage());
    }
}