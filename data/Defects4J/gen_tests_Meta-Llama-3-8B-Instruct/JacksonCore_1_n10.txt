public void testNullPointerExceptionOnNaN() {
    JsonParser jsonParser = new JsonParser();
    jsonParser.configure(JsonParser.Feature.ALLOW_NON_NUMERIC_NUMBERS, true);
    String json = "NaN";
    JsonToken token = jsonParser.parse(json);
    try {
        BigDecimal decimal = jsonParser.getDecimalNumber();
        fail("Expected NumberFormatException, but no exception was thrown");
    } catch (NullPointerException e) {
        assertEquals("expected", "NumberFormatException");
    }
}