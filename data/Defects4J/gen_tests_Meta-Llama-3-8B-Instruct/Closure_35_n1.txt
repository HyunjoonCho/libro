java
public class Test {
    @Test
    public void testAssignmentToRecordInConditional() {
        class MyRecord {
            Object prop1;
            String prop2;
            String prop3;
        }

        MyRecord func(boolean a, boolean b) {
            MyRecord results;
            if (a) {
                results = new MyRecord();
                results.prop1 = new MyRecord() {
                    int a = 3;
                };
            }
            if (b) {
                results = results == null? new MyRecord() : results;
                results.prop2 = "prop2";
            } else {
                results = results == null? new MyRecord() : results;
                results.prop3 = "prop3";
            }
            return results;
        }

        MyRecord result = func(true, true);
        // assert something
    }
}
