public void testJsonParserSequenceSkipsToken() {
    JsonParser parser1 = new JsonParser();
    parser1.nextToken();
    parser1.nextToken(); // advance to a token

    JsonParser parser2 = new JsonParser();
    parser2.nextToken(); // advance to a token that should not be skipped

    JsonParserSequence sequence = JsonParserSequence.createFlattened(parser1, parser2);
    sequence.nextToken(); // next token should be the one from parser2

    // assert that the token was skipped
    assertEquals(parser1.nextToken(), JsonToken.END_OF_INPUT);
}