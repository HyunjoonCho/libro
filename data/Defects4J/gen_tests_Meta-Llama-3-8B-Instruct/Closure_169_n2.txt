public void testStrangeWarningForCallbackFunction() {
    ClosureCompiler compiler = new ClosureCompiler();
    String code = "/** @param {{func: function()}} obj */\n" +
            "function test1(obj) {};\n" +
            "var fnStruc1 = {};\n" +
            "fnStruc1.func = function() {};\n" +
            "test1(fnStruc1);";
    try {
        compiler.compile(code);
        fail("Expected a warning");
    } catch (CompilationException e) {
        assertTrue(e.getWarnings().contains("WARNING - actual parameter 1 of func does not match formal parameter"));
    }
}