
public void testCompressorStreamFactory() throws Exception {
    // Create a file with a zlib header
    String testFile = "bla.tar.deflatez";
    // Assuming the file is in the classpath or accessible
    InputStream stream = getClass().getResourceAsStream(testFile);
    // Create a CompressorStreamFactory
    CompressorStreamFactory factory = new CompressorStreamFactory();
    // Try to create a CompressorInputStream
    try {
        CompressorInputStream cis = factory.createCompressorInputStream(stream);
        fail("Expected CompressorException, but no exception was thrown");
    } catch (CompressorException e) {
        // Expected exception, test passes
    }
}
