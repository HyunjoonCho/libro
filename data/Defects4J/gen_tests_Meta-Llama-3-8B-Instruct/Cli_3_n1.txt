java
import org.junit.Test;
import org.junit.Assert;
import org.junit.runner.RunWith;
import org.junit.runners.Parameterized;

@RunWith(Parameterized.class)
public class PosixParserTest {

    @Parameterized.Parameter(0)
    public String input;

    @Parameterized.Parameter(1)
    public boolean expectedValid;

    @Parameterized.Parameters
    public static Object[] data() {
        return new Object[][]{
                {"-t", true},
                {"-target", true},
                {"-t foobar.com", true},
                {"-target foobar.com", false}
        };
    }

    @Test
    public void testPosixParser() {
        PosixParser parser = new PosixParser();
        OptionSet options = new OptionSet();
        try {
            parser.parse(options, input.split(" "));
        } catch (ParseException e) {
            Assert.fail("Expected valid parsing, but got exception");
        }
        if (!expectedValid) {
            Assert.fail("Expected invalid parsing, but got valid");
        }
    }
}
