public void testCompilerIgnoresDelete() {
    String originalCode = "(function(arg) {\n" +
            " var foo = {};\n" +
            " foo.bar = arg;\n" +
            " console.log(foo.bar);\n" +
            " delete foo.bar;\n" +
            " console.log(foo.bar);\n" +
            "})();";
    String compiledCode = "(function(a){console.log(a);delete a;console.log(a)})();";

    // assert that the compiled code does not delete the property
    assertEquals("undefined", compiledCode.replaceAll("console.log\\(a\\);", "").replaceAll("delete a;", ""));
}