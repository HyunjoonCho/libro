java
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.junit.Test;

import static org.junit.Assert.assertFalse;
import static org.junit.Assert.assertTrue;

public class JsoupPreserveWhitespaceTest {

    @Test
    public void testJsoupPreserveWhitespaceForTextArea() {
        String html = "<html><body><textarea>hello world</textarea></body></html>";
        Document doc = Jsoup.parse(html);
        Element textarea = doc.select("textarea").first();
        boolean preserveWhitespace = textarea.attr("preserve-whitespace");
        assertTrue(preserveWhitespace);
    }

    @Test
    public void testJsoupRemoveWhitespaceForNonPreserveWhitespaceTags() {
        String html = "<html><body><p>hello world</p></body></html>";
        Document doc = Jsoup.parse(html);
        Element p = doc.select("p").first();
        assertFalse(p.text().trim().equals(p.text()));
    }
}
