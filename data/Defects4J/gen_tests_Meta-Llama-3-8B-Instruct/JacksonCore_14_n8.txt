
public void testRelaxOwnershipChecksForBuffers() {
    ByteBuffer buffer1 = ByteBuffer.allocate(1024);
    ByteBuffer buffer2 = ByteBuffer.allocate(1024);

    // Test that buffer2 is accepted as a replacement for buffer1
    IOContext context = new IOContext();
    context.setBuffer(buffer1);
    assertEquals(buffer1, context.getBuffer());

    context.setBuffer(buffer2);
    assertEquals(buffer2, context.getBuffer());
}
