java
import org.junit.Test;
import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.JSError;
import com.google.javascript.jscomp.JSModule;
import com.google.javascript.jscomp.Result;

public class TestClosureCompilerTypedCoverage {
    @Test
    public void testTypedCoverage() {
        Compiler compiler = new Compiler();
        JSModule module = new JSModule("v.js", "javascript");
        module.addSource("v.js", "/*global window*/\n" +
                "/*jslint sub: true*/\n" +
                "/**\n" +
                " * @constructor\n" +
                " * @param {!Element} element\n" +
                " */\n" +
                "function Example(element) {\n" +
                "    /\*\n" +
                "     * @param {!string} ns\n" +
                "     * @param {!string} name\n" +
                "     * @return {undefined}\n" +
                "     */\n" +
                "    this.appendElement = function appendElement(ns, name) {\n" +
                "        var e = element.ownerDocument.createElementNS(ns, name);\n" +
                "        element.appendChild(e);\n" +
                "    };\n" +
                "}\n" +
                "window['Example'] = Example;");
        Result result = compiler.compile(module);
        assertEquals(0, result.getErrors().length);
        assertEquals(0, result.getWarnings().length);
        // Verify the typed coverage
        assertEquals(0.737, result.getTypedCoverage(), 0.01);
    }
}
