public void testPrimitiveDiscrepancy() {
    ObjectMapper mapper = new ObjectMapper();
    SimpleModule module = new SimpleModule();
    module.addSerializer(Integer.class, new MyIntegerSerializer());
    mapper.registerModule(module);

    String json = mapper.writeValueAsString(10);
    assertEquals("{\"value\":10}", json);
}