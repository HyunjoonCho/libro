java
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class IsFunctionTest {
    @Test
    public void testIsFunction() {
        // Create the function
        function isFunction = function(functionToCheck) {
            var getType;
            getType = {}; // just an object
            return functionToCheck && getType.toString.apply(functionToCheck) === '[object Function]';
        };

        // Compile the function using Closure Compiler
        // The function should not work correctly
        assertEquals(true, isFunction(function() {}));
        assertEquals(true, isFunction(null));

        // Modify the function to use an array instead of an object
        isFunction = function(functionToCheck) {
            var getType;
            getType = []; // not it's an array
            return functionToCheck && getType.toString.apply(functionToCheck) === '[object Function]';
        };

        // Compile the function using Closure Compiler
        // The function should work correctly
        assertEquals(false, isFunction(null));
        assertEquals(true, isFunction(function() {}));
    }
}
