public void testAbstractClassMocking() {
    // Example 1
    UserAccount userAccount = mock(FakeUserAccount.class);
    when(userAccount.getEmails()).thenReturn(new ArrayList<String>());
    userAccount.addEmail("email1");
    assertEquals(1, userAccount.getEmails().size());
    userAccount.addEmail("email2");
    assertEquals(2, userAccount.getEmails().size());

    // Example 2
    AccountService service = mock(MockAccountService.class);
    when(service.getAccount("id")).thenReturn(new MockAccountService() {
        @Override
        public UserAccount getAccount(String id) {
            return new FakeUserAccount();
        }
    });
    // Rest of the test

    // Example 3
    AccountRpcService accountRpcService = mock(MockAccountRpcService.class);
    when(accountRpcService.getAccount("id")).thenReturn(Future.succeededFuture(new Account()));
    // Rest of the test
}