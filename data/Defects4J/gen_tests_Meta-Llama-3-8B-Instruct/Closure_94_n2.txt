
import org.junit.Test;
import com.google.javascript.jscomp.CompilationLevel;
import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.CompilerOptions;
import com.google.javascript.jscomp.Result;

import static org.junit.Assert.fail;

public class ClosureCompilerTest {
    @Test
    public void testDefineAnnotationLineSplit() {
        String source = """
                /* @define {string} */
                var CONSTANT = "some very long string name that I want to wrap and so break using a + since I don't want to introduce a newline into the string.";
                """;
        Compiler compiler = new Compiler();
        CompilerOptions options = new CompilerOptions();
        options.setLanguageIn(CompilationLevel.SIMPLE_OPTIMIZATIONS);
        Result result = compiler.compile(source, options);
        if (result.getErrorCount() > 0) {
            fail("Compilation failed with error: " + result.getErrorMessage());
        }
    }
}
