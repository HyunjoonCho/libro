public void testZipReadsIncorrectly() {
    byte[] zip =...; // same as in the bug report
    ByteArrayInputStream bin = new ByteArrayInputStream(zip);
    ZipArchiveInputStream in = new ZipArchiveInputStream(bin);
    try {
        while (true) {
            ZipArchiveEntry entry = in.getNextZipEntry();
            if (entry == null) {
                break;
            }
            byte[] buf = new byte[(int) entry.getSize()];
            in.read(buf);
            assertEquals("data\n", new String(buf));
        }
    } finally {
        in.close();
    }
}