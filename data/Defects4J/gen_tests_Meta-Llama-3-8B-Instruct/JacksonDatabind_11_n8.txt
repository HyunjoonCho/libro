public void testGenericDeserialization() {
    Something something = new Something();
    String json = "{\"entity\":{\"type\":\"Ruleform\",\"field\":\"value\"}}";
    String json2 = "{\"entity\":{\"type\":\"NotARuleform\",\"field\":\"value\"}}";
    try {
        something = mapper.readValue(json, Something.class);
        fail("Expected deserialization to fail");
    } catch (JsonMappingException e) {
        // expected
    }
    try {
        something = mapper.readValue(json2, Something.class);
        fail("Expected deserialization to fail");
    } catch (JsonMappingException e) {
        // expected
    }
}