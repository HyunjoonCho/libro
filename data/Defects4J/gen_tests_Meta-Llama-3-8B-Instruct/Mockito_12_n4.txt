public void testArgumentCaptorIssue() {
    ArgumentCaptor<Integer> captor = ArgumentCaptor.forClass(Integer.class);
    when(mock.method(anyInt(), anyInt(), capture(captor))).thenReturn("result");
    mock.method(1, 2, 3);
    verify(mock).method(anyInt(), anyInt(), captor.capture());
    assertEquals(Arrays.asList(3), captor.getValue());
}