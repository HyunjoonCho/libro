public void testBase64Encode() throws Exception {
    Base64 b64 = new Base64();
    String s1 = "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa";
    String s2 = "aaaaaaaaaa";
    String s3 = "a";
    
    byte[] b1 = s1.getBytes("UTF-8");
    byte[] b2 = s2.getBytes("UTF-8");
    byte[] b3 = s3.getBytes("UTF-8");

    byte[] result;
    String expected1 = "YWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYQ==";
    String expected2 = "YWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYQ==";
    String expected3 = "YWFhYWFhYWFhYQ==";
    String expected4 = "YWFhYWFhYWFhYQ==";
    String expected5 = "YQ==";
    
    result = Base64.encodeBase64(b1);
    assertEquals(expected1, new String(result, "UTF-8"));
    
    result = b64.encode(b1);
    assertEquals(expected1 + "\r\n", new String(result, "UTF-8"));
    
    result = Base64.encodeBase64(b2);
    assertEquals(expected2, new String(result, "UTF-8"));
    
    result = b64.encode(b2);
    assertEquals(expected2 + "\r\n", new String(result, "UTF-8"));
    
    result = Base64.encodeBase64(b3);
    assertEquals(expected3, new String(result, "UTF-8"));
    
    result = b64.encode(b3);
    assertEquals(expected3 + "\r\n", new String(result, "UTF-8"));
    
    result = Base64.encodeBase64(b3);
    assertEquals(expected4, new String(result, "UTF-8"));
    
    result = b64.encode(b3);
    assertEquals(expected5, new String(result, "UTF-8"));
}