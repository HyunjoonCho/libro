java
import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.SerializationFeature;
import com.fasterxml.jackson.databind.node.ObjectNode;
import org.junit.Test;

import static org.junit.Assert.assertThrows;

public class DeserializationFromEmptyObjectNodeTest {

    private final ObjectMapper mapper = new ObjectMapper();

    @Test
    public void testDeserializationFromEmptyObjectNode() throws Exception {
        ObjectNode object = new ObjectNode(mapper.getNodeFactory());
        String json = mapper.writeValueAsString(object);
        System.out.println("json: " + json);

        // This works
        ObjectNode de1 = mapper.readValue(json, ObjectNode.class);
        System.out.println("Deserialized to ObjectNode: " + de1);

        // This throws exception
        assertThrows(JsonMappingException.class, () -> mapper.readValue(json, MyValue.class));
    }
}
