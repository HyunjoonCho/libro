public void testJSCUsedGlobalThis() {
    JavaScriptEngine engine = new JavaScriptEngine();
    engine.setWarnings(true);
    engine.execute("var NS = { read: function() { return this.foo; }, write: function() { this.foo = 123; } }");
    engine.execute("NS.write()");
    assertEquals(false, engine.hasWarning("JSC_USED_GLOBAL_THIS"));
    
    engine.execute("NS.write2 = function() { this.foo = 123; }");
    assertEquals(true, engine.hasWarning("JSC_USED_GLOBAL_THIS"));
}