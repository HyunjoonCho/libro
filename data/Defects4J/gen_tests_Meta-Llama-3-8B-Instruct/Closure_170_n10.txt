java
public class OverlyAggressiveCommaRemovalTest {
    public void testOverlyAggressiveCommaRemoval() {
        String originalFunction = "function Test(n) { var i = 0; return typeof n!== \"undefined\"? (i = n.length) : (n = \"foo\"), i }";
        String optimizedFunction = "function Test(a) { return 0 }";
        String dummy = "6chars";
        assertEquals(originalFunction, optimizeFunction(originalFunction));
        assertEquals("function Test(a) { return 0 }", optimizeFunction(originalFunction));
    }

    private String optimizeFunction(String function) {
        // Simulate simple optimizations here
        return function.replace("var i = 0; return typeof n!== \"undefined\"? (i = n.length) : (n = \"foo\"), i", "return 0");
    }
}
