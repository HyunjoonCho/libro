
import org.junit.Test;
import org.junit.Assert;

public class TypeCheckerTest {
    @Test
    public void testTypeCheckerMissesAnnotationsOnFunctionsDefinedWithinFunctions() {
        // Step 1
        var ns = new Object();
        ns.a = function(b) {
            // @param {string=} b
        };

        ns.a();
        ns.a("hello");

        // Step 2
        // Assert that the type checker correctly emits one warning

        // Step 3
        var ns2 = new Object();
        (function() {
            ns2.a = function(b) {
                // @param {string=} b
            };
        })();

        ns2.a();
        ns2.a("hello");

        // Step 4
        // Assert that a warning is emitted for calling ns2.a with 0 parameters, and not for the type error
        //...
    }
}
