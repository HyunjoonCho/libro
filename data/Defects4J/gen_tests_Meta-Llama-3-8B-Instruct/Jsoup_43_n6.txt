
public void testElementSiblingIndex() {
    Document doc = DocumentHelper.parseText("<table><tr><td>Cell1</td><td>Cell2</td></tr><tr><td>Cell3</td><td>Cell4</td></tr><tr><td>Cell5</td><td>Cell6</td></tr></table>");
    Element row1 = doc.selectSingleNode("//tr[1]");
    Element row2 = doc.selectSingleNode("//tr[3]");
    Element row5 = doc.selectSingleNode("//tr[5]");
    
    int index1 = row1.elementSiblingIndex();
    int index2 = row2.elementSiblingIndex();
    int index5 = row5.elementSiblingIndex();
    
    assertEquals(row2, row1.parent().child(index1));
    assertEquals(row5, row2.parent().child(index2));
}
