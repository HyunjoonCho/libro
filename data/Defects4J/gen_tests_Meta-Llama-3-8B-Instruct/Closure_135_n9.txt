java
import org.junit.Test;
import org.junit.runner.RunWith;
import org.junit.runners.JUnit4;

@RunWith(JUnit4.class)
public class InheritanceNotDetectedWhenPrototypeDirectlyAssignedTest {

    @Test
    public void testInheritanceNotDetectedWhenPrototypeDirectlyAssigned() {
        class SuperClass {
            CustomMethod() {
            }

            CustomMethod() {
                // empty method
            }
        }

        SuperClass.prototype = {
            CustomMethod: function() {
            }
        }

        class SubClass extends SuperClass {
            CustomMethod() {
                this.myProperty = "value";
            }
        }

        var subClassInstance = new SubClass();

        // Expect a warning: JSC_UNKNOWN_OVERRIDE: property CustomMethod not defined on any superclass of SubClass
    }

    @Test
    public void testInheritanceDetectedWhenPrototypeWrappedInFunction() {
        function inherit(Child, Parent) {
            Child.prototype = new Parent();
        }

        class SuperClass {
            CustomMethod() {
            }

            CustomMethod() {
                // empty method
            }
        }

        SuperClass.prototype = {
            CustomMethod: function() {
            }
        }

        class SubClass extends SuperClass {
            CustomMethod() {
                this.myProperty = "value";
            }
        }

        inherit(SubClass, SuperClass);

        var subClassInstance = new SubClass();
    }
}
