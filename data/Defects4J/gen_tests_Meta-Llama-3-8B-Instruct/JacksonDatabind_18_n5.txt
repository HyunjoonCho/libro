public void testErrorRecoveryInReadValues() {
    JsonFactory jsonFactory = new JsonFactory();
    ObjectReader reader = jsonFactory.objectReader(MyClass.class);
    String json = "{\"a\": 1, \"b\": {\"c\": 2}}";
    JsonParser parser = jsonFactory.createParser(json);
    MappingIterator<MyClass> iterator = reader.readValues(parser);
    parser.nextToken(); // Move to next token, simulating an error
    try {
        iterator.nextValue();
        fail("Expected JsonProcessingException, but no exception was thrown");
    } catch (JsonProcessingException e) {
        // Expected exception, check that it is in the correct position
        assertEquals(JsonToken.END_OBJECT, parser.getCurrentToken());
    }
}