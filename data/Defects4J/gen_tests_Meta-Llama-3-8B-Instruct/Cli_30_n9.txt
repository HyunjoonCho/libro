
import org.junit.Test;
import org.junit.runner.RunWith;
import org.junit.runners.JUnit4;
import org.junit.Before;
import org.junit.After;
import org.junit.Assert;
import org.junit.Ignore;

import java.util.Properties;

import edu.uci.isr.parser.CommandLineParser;
import edu.uci.isr.option.Option;
import edu.uci.isr.option.OptionGroup;

@RunWith(JUnit4.class)
public class TestCommandLineParser {

    private CommandLineParser parser;

    @Before
    public void setUp() {
        parser = new CommandLineParser();
    }

    @After
    public void tearDown() {
        parser = null;
    }

    @Test
    public void testOptionGroups() {
        Option optionA = new Option("a", true);
        Option optionB = new Option("b", true);
        OptionGroup group = new OptionGroup(optionA, optionB);

        parser.addOptionGroup(group);

        Properties defaults = new Properties();
        defaults.put("a", "true");
        defaults.put("b", "true");

        parser.parse("arg1", defaults);

        Assert.assertFalse(parser.hasOption("a"));
        Assert.assertTrue(parser.hasOption("b"));
    }
}
