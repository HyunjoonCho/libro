java
@Test
public void testInvalidFormatExceptionIndex() throws Exception {
    // Create a list and array
    List<String> list = new ArrayList<>();
    list.add("a");
    list.add("b");
    String[] array = new String[] {"c", "d"};

    // Deserialize the list and array
    String json = "{\"list\":[\"a\",\"b\"],\"array\":[\"c\",\"d\"]}";
    ObjectNode node = mapper.readTree(json);
    List<String> deserializedList = mapper.readValue(node.path("list").toString(), typeFactory.constructCollectionType(List.class, String.class));
    String[] deserializedArray = mapper.readValue(node.path("array").toString(), typeFactory.constructArrayType(String.class));

    // Create an InvalidFormatException
    String message = "Error deserializing value";
    InvalidFormatException exception = new InvalidFormatException(message);

    // Check that the index is not set
    assertEquals(-1, exception.getIndex());

    // Simulate the exception being thrown
    exception = new InvalidFormatException(message, deserializedList, 0);
    assertEquals(-1, exception.getIndex());

    // Check that the index is not set
    exception = new InvalidFormatException(message, deserializedArray, 0);
    assertEquals(-1, exception.getIndex());
}
