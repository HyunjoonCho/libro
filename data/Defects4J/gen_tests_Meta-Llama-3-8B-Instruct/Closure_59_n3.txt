java
import org.junit.Test;
import org.junit.runner.RunWith;
import org.junit.runners.JUnit4;

import com.google.javascript.jscomp.CommandLineRunner;
import com.google.javascript.jscomp.Flags;
import com.google.javascript.jscomp.JSError;

import java.io.ByteArrayOutputStream;
import java.io.PrintStream;

@RunWith(JUnit4.class)
public class GlobalThisExclusionTest {

    @Test
    public void testGlobalThisExclusion() throws Exception {
        ByteArrayOutputStream bos = new ByteArrayOutputStream();
        PrintStream originalOut = System.out;
        System.setOut(new PrintStream(bos));

        CommandLineRunner runner = new CommandLineRunner(Flags.create(Flags.WARNING_LEVEL_VERBOSE).setDisableGlobalThis(true).setDisableNonStandardJsDocs(true));
        runner.run("globalThis");

        String output = bos.toString();
        // Check that the output does not contain the expected warnings
        assertDoesNotContain(output, "globalThis");
        assertContains(output, "nonStandardJsDocs");
    }
}
