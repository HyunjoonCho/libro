public void testIssue() {
    try {
        Compiler.compile("/** @constructor */ function Foo() { /** @private */ this.x = 3; }\n" +
                "then, in a separate file:\n" +
                "/** @constructor * @extends {Foo} */ function SubFoo() { /** @private */ this.x = 3; }\n" +
                "then, compile with --jscomp_error=visibility");
        fail("Expected compilation error");
    } catch (CompilationException e) {
        // expected
    }