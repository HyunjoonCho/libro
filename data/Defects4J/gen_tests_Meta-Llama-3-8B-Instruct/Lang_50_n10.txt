
public void testFastDateFormatLocaleChange() {
    Locale originalLocale = Locale.getDefault();
    Locale.setDefault(Locale.US);

    FastDateFormat df = FastDateFormat.getDateInstance();
    // or FastDateFormat df = FastDateFormat.getDateTimeInstance();

    // Set the locale back to the original
    Locale.setDefault(originalLocale);

    // Now the date format will use the original locale, not the US locale
    // This should fail, because the expected locale is different from the actual locale
    // Add a specific assertion to test this
    assertEquals("Expected locale to be " + originalLocale + ", but got " + df.getLocale(), originalLocale, df.getLocale());
}
