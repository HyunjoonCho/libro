public void testTypeInference() {
    Object a = new Object();
    f(a);
    assertEquals("string", a.getClass().getDeclaredField("prototype").getType().getName());
    a = new Object();
    g(a);
    assertEquals("java.lang.reflect.Proxy", a.getClass().getDeclaredField("prototype").getType().getName());
}