
public void testFilteringParserDelegateMissingEndObject() throws JsonParseException {
    String json = "{\"a\":123,\"array\":[1,2],\"ob\":{\"value0\":2,\"value\":3,\"value2\":4},\"b\":true}";
    JsonParser p = new FilteringParserDelegate(new JsonParser(json),
            new NameMatchFilter("value"), true, false);
    String result = p.parse().toString();
    assertEquals("{\"ob\":{\"value\":3}}", result);
    // The following line should be false because the end object is missing
    assertFalse(result.endsWith("}"));
}
