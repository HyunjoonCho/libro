public void testSuperReplacement() {
    JavaScriptEngine engine = new JavaScriptEngine();
    engine.compile("function Foo() { this.$super(); }");
    engine.compile("function Bar extends Foo() { }");
    String code = engine.compile("new Bar().$super();");
    assertEquals("$super()", code);
}