public void testNodeSetHandling() {
    JXPathContext context = JXPathContext.newContext(new HashMap());
    NodeSet nodeSet = new BasicNodeSet();
    nodeSet.add(new NodePointer("ems:observation"));
    context.getContext().setNodePointer(new NodePointer("ems:observations"));
    NodeSet result = (NodeSet) context.selectNodes("ems:observations()");
    assertEquals(1, result.size());
    assertEquals(nodeSet, result);
}