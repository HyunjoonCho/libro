java
import com.fasterxml.jackson.core.JsonParser;
import com.fasterxml.jackson.core.JsonToken;
import com.fasterxml.jackson.core.JsonFactory;
import org.junit.Test;

import java.math.BigDecimal;
import java.util.NoSuchElementException;

import static org.junit.Assert.assertThrows;

public class JacksonParserTest {

    @Test
    public void testNaNAsBigDecimal() throws Exception {
        JsonFactory factory = new JsonFactory();
        factory.enable(JsonParser.Feature.ALLOW_NON_NUMERIC_NUMBERS);
        JsonParser parser = factory.createParser("NaN");
        parser.nextToken();
        assertThrows(NullPointerException.class, () -> parser.getDecimalValue());
    }
}
