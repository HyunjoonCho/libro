public void testNullPointerExceptionWhenReadingNaNAsBigDecimal() {
    JsonParser jsonParser = new JsonParser();
    jsonParser.enable(Feature.ALLOW_NON_NUMERIC_NUMBERS);
    String json = "NaN";
    JsonToken token = jsonParser.parse(json);
    assertEquals(JsonToken.VALUE_NUMBER_FLOAT, token.getId());
    try {
        token.asDecimalNumber();
        fail("Expected NullPointerException");
    } catch (NullPointerException e) {
        // expected
    }
}