java
import org.junit.Test;
import org.junit.runner.RunWith;
import org.junit.runners.JUnit4;

@RunWith(JUnit4.class)
public class AssignmentRemovalTest {
    @Test
    public void testAssignmentRemoval() {
        String original = "function reduction() {\n" +
                "var a, b;\n" +
                "if (echo(b = true) || echo(b = false))\n" +
                "  a = b;\n" +
                "else\n" +
                "  a = null;\n" +
                "return a;\n" +
                "}";

        String compiled = "function reduction() {\n" +
                "var a;\n" +
                "return echo(true) || echo(a = false)? a: null\n" +
                "}";

        // assert that the original and compiled code are different
        assert!original.equals(compiled);
    }
}
