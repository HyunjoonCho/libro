public void testOptionGroupConstraints() {
    OptionGroup groupB = new OptionGroup();
    OptionGroup groupA = new OptionGroup();
    groupA.addOption(new Option("optionA", false));
    groupB.addOption(new Option("optionB", false));
    groupB.addOption(groupA);
    
    CommandLine cmd = new CommandLine();
    cmd.addOption(groupB);
    
    groupB.setMin(1);
    groupB.setMax(2);
    
    assertFalse(cmd.hasOption("optionB.min"));
    assertFalse(cmd.hasOption("optionB.max"));
    assertFalse(cmd.hasOption("optionA"));
    
    assertTrue(cmd.parse("optionA"));
    assertTrue(cmd.hasOption("optionB.min"));
    assertTrue(cmd.hasOption("optionB.max"));
    
    assertFalse(cmd.parse("optionB"));
    assertFalse(cmd.hasOption("optionB.min"));
    assertFalse(cmd.hasOption("optionB.max"));
}