
import com.fasterxml.jackson.annotation.JsonInclude;
import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.SerializationFeature;
import org.junit.Test;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertNotNull;

public class TestJsonIncludeNonDefault {

    @Test
    public void testJsonIncludeNonDefault() throws Exception {
        ObjectMapper mapper = new ObjectMapper();
        mapper.enable(SerializationFeature.WRITE_NULL_MAP_MERGEABLE);

        MyClass myObject = new MyClass("value", null);

        String json = mapper.writeValueAsString(myObject);

        assertEquals("{\"value\":\"value\"}", json);
    }
}

@JsonInclude(JsonInclude.Include.NON_DEFAULT)
class MyClass {
    private String value;
    private String nullValue;

    public MyClass(String value, String nullValue) {
        this.value = value;
        this.nullValue = nullValue;
    }
}
