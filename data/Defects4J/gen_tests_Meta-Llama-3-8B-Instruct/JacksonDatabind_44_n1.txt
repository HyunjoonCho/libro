public void testPolymorphicTypes() {
    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.WRAPPER_OBJECT)
    @JsonSubTypes({@JsonSubTypes.Type(value = Child.class, name = "child")})
    public static class Parent {
        public String name;
    }

    @JsonTypeName("child")
    public static class Child extends Parent {
        public String age;
    }

    ObjectWriter ow = new ObjectMapper().writer().withDefaultTyping(new StdTyping());
    String json = ow.writeValueAsString(new Child());
    assertEquals("{\"@class\":\"com.example.Child\",\"name\":null,\"age\":\"\"}", json);
}