public void testOptionBuilderResetOnException() {
    OptionBuilder optionBuilder = new OptionBuilder();
    optionBuilder.withValueSeparator().withRequired();
    try {
        optionBuilder.create();
        fail("Expected IllegalArgumentException");
    } catch (IllegalArgumentException e) {
        // Check if OptionBuilder is reset
        optionBuilder.withValueSeparator().withRequired();
        // This should throw the same exception
        try {
            optionBuilder.create();
            fail("Expected IllegalArgumentException");
        } catch (IllegalArgumentException e2) {
            // Expected
        }
    }
}