public void testSerializationIssue() {
    List<Record> records = new ArrayList<>();
    records.add(new Record(Arrays.asList(new Field(), new Field())));
    records.add(new Record(Arrays.asList()));

    // your deserialization code here
    List<Record> deserializedRecords =...; // should be deserialized from JSON or XML

    assertEquals(2, deserializedRecords.size());
    assertEquals(2, deserializedRecords.get(0).getFields().size());
    assertEquals(0, deserializedRecords.get(1).getFields().size());
}