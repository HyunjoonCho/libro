java
import org.apache.commons.lang3.StringEscapeUtils;
import org.junit.Test;

import java.io.StringWriter;
import java.io.Writer;
import java.nio.charset.StandardCharsets;
import java.util.Base64;

public class TestStringEscapeUtils {

    @Test
    public void testEscapeXmlSupplementaryPlanes() throws Exception {
        String str1 = "\uD842\uDFB7" + "A";
        String str2 = StringEscapeUtils.escapeXml(str1);
        String expected = "\uD842\uDFB7A";
        assertEquals(expected, str1);
        assertEquals(expected, str2);
    }
}
