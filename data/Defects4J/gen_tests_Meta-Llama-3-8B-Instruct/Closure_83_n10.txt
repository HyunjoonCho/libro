
import org.junit.Test;

public class ClosureCompilerVersionTest {
    @Test
    public void testVersionOption() {
        // Run the compiler with the --version option
        Process process = new ProcessBuilder("java", "-jar", "compiler.jar", "--version")
               .redirectErrorStream(true).start();
        String output = new BufferedReader(new InputStreamReader(process.getInputStream()))
               .lines().collect(Collectors.join());

        // Check if the expected output is present
        assertFalse(output.contains("Option '--version' requires operand"));
        assertTrue(output.contains("Closure Compiler (http://code.google.com/closure/compiler)"));
        assertTrue(output.contains("Version: 698"));
        assertTrue(output.contains("Built on: 2011/01/17 12:16"));
    }
}
