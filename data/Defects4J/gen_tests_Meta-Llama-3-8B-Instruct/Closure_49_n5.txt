public void testVariableShadowing() {
    Compilation compilation = new Compilation();
    compilation.addSource("var foo = function bar() {\n" +
            "  var bar;\n" +
            "  alert(bar);\n" +
            "};");
    compilation.setOptimizationLevel(OptimizationLevel.SIMPLE);
    compilation.compile();
    String compiledCode = compilation.compile();
    assertEquals("var foo = function() {\n" +
            "  alert(void 0);\n" +
            "};", compiledCode);
}