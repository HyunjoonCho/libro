
public void testCreateArchiveInputStream() throws Exception {
    String smallFileContent = "Hello World";
    byte[] smallFile = smallFileContent.getBytes();
    ByteArrayInputStream smallFileInputStream = new ByteArrayInputStream(smallFile);

    // Create a small file that should not be detected as a tar archive
    String smallTarContent = "Hello World";
    byte[] smallTar = smallTarContent.getBytes();
    ByteArrayInputStream smallTarInputStream = new ByteArrayInputStream(smallTar);

    // Create a large file that should be detected as a tar archive
    String largeTarContent = "Hello World" + "Hello World" + "Hello World";
    byte[] largeTar = largeTarContent.getBytes();
    ByteArrayInputStream largeTarInputStream = new ByteArrayInputStream(largeTar);

    // Test small file
    ArchiveInputStream archiveInputStream = ArchiveStreamFactory.createArchiveInputStream(smallFileInputStream);
    assertNull(archiveInputStream);

    // Test large tar file
    archiveInputStream = ArchiveStreamFactory.createArchiveInputStream(largeTarInputStream);
    assertNotNull(archiveInputStream);
}
