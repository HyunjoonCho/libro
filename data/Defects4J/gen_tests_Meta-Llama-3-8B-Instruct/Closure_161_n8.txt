
public void testPeepholeConstantsFolding() {
    // Create a JavaScript engine
    ScriptEngineManager manager = new ScriptEngineManager();
    ScriptEngine engine = manager.getEngineByName("nashorn");
    
    // Create a script that reproduces the issue
    String script = "var Mdt=[];Mdt[11] = ['22','19','19','16','21','18','16','20','17','17','21','17'];";
    
    // Compile the script
    Compilable compilable = (Compilable) engine;
    CompiledScript scriptObject = compilable.compile(script);
    
    // Execute the script
    Object result = scriptObject.eval();
    
    // Verify that an exception is thrown
    Assert.fail("Expected JSC_INDEX_OUT_OF_BOUNDS_ERROR");
}
