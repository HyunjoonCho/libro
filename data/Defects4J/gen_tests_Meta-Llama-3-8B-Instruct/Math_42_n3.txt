java
import org.junit.Test;
import org.apache.commons.math3.optimization.linear.LinearConstraint;
import org.apache.commons.math3.optimization.linear.LinearObjectiveFunction;
import org.apache.commons.math3.optimization.linear.SimplexSolver;

public class TestSimplexSolver {
    
    @Test
    public void testNegativeValueWithRestrictNonNegative() {
        LinearObjectiveFunction function = new LinearObjectiveFunction(new double[]{1, 1}, 0);
        LinearConstraint constraint = new LinearConstraint(new double[]{1, 0}, 1, 1);
        SimplexSolver solver = new SimplexSolver();
        solver.optimize(function, new LinearConstraint[]{constraint}, org.apache.commons.math3.optimization.goals.GoalType.MINIMIZE, true);
        
        double[] result = solver.getPoint();
        assert result[0] == 1.0; // x = 1
        assert result[1] < 0; // y = -1
    }
}
