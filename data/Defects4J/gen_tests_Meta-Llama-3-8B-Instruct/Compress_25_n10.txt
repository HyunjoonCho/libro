public void testZipReadingFailure() {
    String zipContent = "data";
    byte[] zip = zipContent.getBytes();
    ByteArrayInputStream bin = new ByteArrayInputStream(zip);
    ZipArchiveInputStream in = new ZipArchiveInputStream(bin);
    ZipArchiveEntry entry = in.getNextZipEntry();
    assertEquals("test.txt", entry.getName());
    byte[] buf = new byte[(int) entry.getSize()];
    in.read(buf);
    String actualContent = new String(buf);
    assertEquals(zipContent, actualContent);
}