public void testErrorRecoveryInReadValues() {
    ObjectReader reader = new ObjectReader();
    MappingIterator<Object> iterator = reader.readValues(new StringReader("{\"a\": [1, 2, 3]}"));
    iterator.nextValue();
    try {
        iterator.nextValue();
        fail("Expected JsonProcessingException");
    } catch (JsonProcessingException e) {
        // expected
    }
    assertEquals("]", iterator.nextTextValue());
    assertEquals("}", iterator.nextTextValue());
}