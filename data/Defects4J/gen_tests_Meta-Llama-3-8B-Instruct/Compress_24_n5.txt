
import org.apache.commons.compress.archivers.tar.TarArchiveEntry;
import org.apache.commons.compress.archivers.tar.TarArchiveInputStream;
import org.junit.Test;

import java.io.ByteArrayInputStream;
import java.io.IOException;

import static org.junit.Assert.fail;

public class TarArchiveInputStreamTest {
    @Test
    public void testTarArchiveInputStreamBigUserId() {
        byte[] data = new byte[] {(byte)0x61, (byte)0x42, (byte)0x00, (byte)0x00, (byte)0x00, (byte)0x00, (byte)0x34, (byte)0x05};
        ByteArrayInputStream bis = new ByteArrayInputStream(data);
        TarArchiveInputStream tarIn = new TarArchiveInputStream(bis);
        TarArchiveEntry entry = null;
        try {
            entry = tarIn.getNextTarEntry();
        } catch (IOException e) {
            fail("Expected TarArchiveEntry, but got exception: " + e.getMessage());
        }
        if (entry == null) {
            fail("Expected TarArchiveEntry, but got null");
        }
    }
}
