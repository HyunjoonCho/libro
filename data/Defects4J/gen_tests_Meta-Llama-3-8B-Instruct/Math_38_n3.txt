public void testBOBYQAOptimizerFailure() {
    BOBYQAOptimizer optim = new BOBYQAOptimizer(5);
    try {
        optim.optimize(100000, new Function() {
            @Override
            public double value(double[] point) {
                return 0;
            }
        }, null, new double[]{1, 1});
        fail("BOBYQAOptimizer should throw an exception when numberOfInterpolationPoints is greater than 2*dim+1");
    } catch (Exception e) {
        // expected exception
    }
}