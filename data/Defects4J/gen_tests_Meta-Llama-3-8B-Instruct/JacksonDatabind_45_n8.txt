
public void testIssue1154() {
    // Before fix, this test should fail
    Configuration config = new Configuration();
    config.setNumberShape("TEXT");
    config.setNumberFormat("en_US");
    assertEquals("123.45", config.getNumberFormat().format(123.45));
    
    // After fix, this test should pass
    // Assuming the fix prioritizes the explicit shape value
    assertEquals("123.45", config.getNumberFormat().format(123.45));
}
