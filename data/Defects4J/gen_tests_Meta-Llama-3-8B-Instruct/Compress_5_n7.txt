java
import org.junit.Test;
import java.io.ByteArrayInputStream;
import java.io.IOException;
import java.util.zip.ZipArchiveInputStream;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertThrows;

public class ZipArchiveInputStreamTest {

    @Test
    public void testTruncatedZipArchive() throws IOException {
        byte[] data = new byte[]{0x50, 0x4b, 0x05, 0x06, 0x00, 0x00}; // truncated zip header
        ByteArrayInputStream bais = new ByteArrayInputStream(data);
        ZipArchiveInputStream zip = new ZipArchiveInputStream(bais);
        assertEquals(0, zip.read()); // read first byte
        assertEquals(0, zip.read()); // read second byte
        IOException e = assertThrows(IOException.class, zip::read);
        assertEquals("Truncated ZIP file", e.getMessage());
    }
}
