java
import org.junit.Test;
import static org.junit.Assert.fail;

public class TypeAliasTest {
    @Test
    public void testTypeAlias() {
        try {
            // Compile the following with full warnings
            // goog.provide('foo.Foo');
            // goog.provide('foo.Foo.Bar');

            // goog.scope(function() {
            //     /* **
            //      * @param {Foo.Bar} bar
            //      * @constructor
            //      */
            //     foo.Foo = function(bar) {
            //         this.bar = bar;
            //     };
            //     var Foo = foo.Foo;

            //     /* @type {Foo.Bar} */
            //     Foo.prototype.bar = null;

            //     /* @constructor */
            //     Foo.Bar = function() {};
            // });

            // This should work, but instead I get an error:
            // ERROR - Bad type annotation. Unknown type Foo.Bar
            //  * @param {Foo.Bar} bar
            //   ^
            fail("Expected an error");
        } catch (Exception e) {
            if (!(e.getMessage().contains("Bad type annotation. Unknown type Foo.Bar")) {
                fail("Expected an error message");
            }
        }
    }
}
