public void testParsingISO8601Formats() {
    String date1 = "2014-10-03T18:00:00.6-05:00";
    String date2 = "2014-10-03T18:00:00.61-05:00";
    String date3 = "1997-07-16T19:20+01:00";
    String date4 = "1997-07-16T19:20:30.45+01:00";

    try {
        SimpleDateFormat format = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSSZ");
        Date date = format.parse(date1);
        fail("Expected a ParseException for date: " + date1);
    } catch (ParseException e) {
        // expected
    }

    try {
        SimpleDateFormat format = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSSZ");
        Date date = format.parse(date2);
        fail("Expected a ParseException for date: " + date2);
    } catch (ParseException e) {
        // expected
    }

    try {
        SimpleDateFormat format = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ssZ");
        Date date = format.parse(date3);
        fail("Expected a ParseException for date: " + date3);
    } catch (ParseException e) {
        // expected
    }

    try {
        SimpleDateFormat format = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSSZ");
        Date date = format.parse(date4);
        fail("Expected a ParseException for date: " + date4);
    } catch (ParseException e) {
        // expected
    }
}