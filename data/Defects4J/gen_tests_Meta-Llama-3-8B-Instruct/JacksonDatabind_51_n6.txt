java
public class TestTypeIdResolver {
    private ObjectMapper mapper = new ObjectMapper();

    @Test
    public void testGenericTypeIdResolver() throws JsonProcessingException {
        TypeIdResolver resolver = new TypeIdResolver() {
            @Override
            public JavaType resolveTypeId(Type type) {
                if (type.getType() == Map.class) {
                    return new TypeFactory.Default().constructMapType(Map.class, String.class, Integer.class);
                }
                return null;
            }
        };

        String json = "{\"a\":{\"b\":{\"c\":1}}";
        JsonNode node = mapper.readTree(json);
        assertEquals(Integer.class, node.get("a").get("b").get("c").getClass());
    }
}
