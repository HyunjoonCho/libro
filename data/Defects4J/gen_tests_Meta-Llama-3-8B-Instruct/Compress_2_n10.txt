
import java.io.File;
import java.io.IOException;
import java.util.zip.ZipArchiveInputStream;
import java.util.zip.ZipEntry;

import org.junit.Test;
import static org.junit.Assert.*;

public class ArArchiveTest {
    @Test
    public void testArDoesNotDeleteCorrectly() throws IOException {
        // Create an archive
        File archive = new File("bla.ar");
        ZipArchiveInputStream zipInputStream = new ZipArchiveInputStream(new FileInputStream(archive));
        ZipEntry entry1 = new ZipEntry("test1.xml");
        ZipEntry entry2 = new ZipEntry("test2.xml");
        zipInputStream.putNextEntry(entry1);
        zipInputStream.closeEntry();
        zipInputStream.putNextEntry(entry2);
        zipInputStream.closeEntry();
        zipInputStream.close();

        // Delete the second entry
        // Your implementation to delete the second entry goes here
        // For example:
        // zipInputStream.deleteEntry("test2.xml");

        // Check that the first entry is still present
        zipInputStream = new ZipArchiveInputStream(new FileInputStream(archive));
        assertEquals("test1.xml", zipInputStream.getNextEntry().getName());

        // Check that the second entry is still present
        assertEquals("test2.xml", zipInputStream.getNextEntry().getName());
    }
}
