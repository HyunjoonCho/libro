public void testArDeletionFailure() {
    Ar archive = new Ar("bla.ar");
    archive.extract("test1.xml");
    archive.extract("test2.xml");
    archive.delete("test2.xml");
    assertNotEquals("test2.xml", archive.getNextEntry());
    assertEquals("test1.xml", archive.getNextEntry());
    String[] files = archive.list();
    assertArrayEquals(new String[] {"test1.xml"}, files);
}