public void testWriting7zEmptyEntriesProducesIncorrectArchive() {
    // Create a folder with more than 7 files
    File folder = new File("testFolder");
    folder.mkdir();
    for (int i = 0; i < 8; i++) {
        File file = new File(folder, "file" + i + ".txt");
        if (i < 7) {
            // Make all files except the last one empty
            file.createNewFile();
        } else {
            // Make the last file have some content
            file.createNewFile();
            FileWriter writer = new FileWriter(file);
            writer.write("This is the last file");
            writer.close();
        }
    }

    // Try to create a 7z archive of the folder
    //...

    // Verify the archive is incorrect or corrupt
    //...
}