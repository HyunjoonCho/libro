public void testSqlDateSerializationFormat() {
    ObjectMapper mapper = new ObjectMapper();
    mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);
    mapper.registerModule(new SimpleModule() {
        {
            addSerializer(
                    java.sql.Date.class,
                    new SqlDateSerializer().withFormat(false, new SimpleDateFormat("yyyy-MM-dd"))
            );
        }
    });
    String json = mapper.writeValueAsString(new java.sql.Date(1234567890000L));
    assertEquals("1973-02-28", json);
}