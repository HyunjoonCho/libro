public void testCommandLineOptionWithDefault() {
    CommandLine commandLine = new WritableCommandLine();
    Option option = new Option("option", "option-value", true);
    option.setDefault("default-value");
    commandLine.addOption(option);
    try {
        commandLine.parse("myCommand", new String[] {"--option", "new-value"});
        fail("Expected CommandLineException");
    } catch (CommandLineException e) {
        // expected
    }
}