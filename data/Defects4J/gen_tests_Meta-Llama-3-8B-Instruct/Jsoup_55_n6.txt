
import org.junit.Test;
import org.xml.sax.InputSource;
import org.xml.sax.SAXException;
import org.xml.sax.XMLReader;
import org.xml.sax.helpers.XMLReaderFactory;

import java.io.StringReader;

import static org.junit.Assert.assertEquals;

public class XmlParserTest {

    @Test
    public void testParseSlashInAttributes() throws SAXException {
        String xml = "<img /onerror=\"a()\"/>";
        XMLReader reader = XMLReaderFactory.createXMLReader();
        reader.parse(new InputSource(new StringReader(xml)));
        assertEquals("/onerror", reader.getProperty("onerror"));
    }
}
