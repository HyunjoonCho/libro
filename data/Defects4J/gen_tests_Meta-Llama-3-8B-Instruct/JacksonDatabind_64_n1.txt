public void testJsonIncludeNonDefaultWithNullString() {
    ObjectMapper mapper = new ObjectMapper();
    mapper.setSerializationInclusion(JsonInclude.Include.NON_DEFAULT);
    String json = mapper.writeValueAsString(new TestObject("default", null, "nonDefault"));
    String expectedJson = "{\"property1\":\"default\",\"property2\":\"nonDefault\"}";
    assertEquals(expectedJson, json);
}

public class TestObject {
    private String property1;
    private String property2;
    private String property3;

    public TestObject(String property1, String property2, String property3) {
        this.property1 = property1;
        this.property2 = property2;
        this.property3 = property3;
    }
}