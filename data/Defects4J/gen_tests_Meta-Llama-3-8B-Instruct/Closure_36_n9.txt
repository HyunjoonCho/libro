public void testSingletonGetterRemovesUnusedClass() {
    String code = "goog.provide('foo');\n" +
            "var foo = function() { this.values = []; }; \n" +
            "goog.addSingletonGetter(foo);\n" +
            "foo.prototype.add = function(value) {this.values.push(value)};\n";
    String expectedCode = "function() {\n" +
            "  };\n";
    String actualCode = new Compiler().compile(code);
    assertEquals(expectedCode, actualCode);
}