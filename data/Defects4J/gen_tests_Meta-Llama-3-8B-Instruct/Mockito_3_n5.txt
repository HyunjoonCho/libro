public void testArgumentCaptor() {
    ArgumentCaptor<Integer> captor = ArgumentCaptor.capture();
    mock(Bar.class).doSomething(1, 2, 3, captor.capture());
    verify(mock(Bar.class)).doSomething(anyInt(), anyInt(), anyInt(), captor.capture());
    assertEquals(3, captor.getValue());
}