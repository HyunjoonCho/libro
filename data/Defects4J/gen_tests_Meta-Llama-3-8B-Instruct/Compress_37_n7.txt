public void testParsingPaxHeadersWithEmptyLineAtEnd() {
    byte[] data = "PaxRecord format=2\nContent-Type: text/plain\nContent-Length: 10\n\n".getBytes();
    TarArchiveInputStream tais = new TarArchiveInputStream(new ByteArrayInputStream(data));
    tais.parsePaxHeaders();
    // assertion failed, the above code should not throw NegativeArraySizeException
}