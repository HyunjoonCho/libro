public void testTemplateInferenceFailure() {
    Class<?> clazz = new Class() {
        @Constructor
        @Template(CLASS.class)
        public Class() {}

        @Param(function(CLASS.class) : CLASS.class)
        @Template(T.class)
        public String foo(@Param function(CLASS.class) : CLASS.class a) {
            return "string";
        }
    };

    @Param(number.class)
    public String a(@Param number.class a) {
        return "";
    }

    clazz.foo(a);
}