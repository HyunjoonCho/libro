java
import org.junit.Test;
import org.junit.Assert;
import java.lang.reflect.Method;

public class TestTemplateInference {
    @Test
    public void testTemplateInference() {
        Class<?> clazz = new TemplateClass();
        Method method = clazz.getMethod("foo", int.class);
        Assert.assertEquals("string", clazz.getMethod("foo", int.class).getReturnType());
    }

    static class TemplateClass {
        @SuppressWarnings("unchecked")
        @ConstructorForDeserialisation
        @Template(CLASS.class)
        public TemplateClass() {}

        @Template(T.class)
        public String foo(int a) {
            return "string";
        }
    }
}
