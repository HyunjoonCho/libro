
public void testParsingISO8601DateFormats() {
    // Test 1: 2014-10-03T18:00:00.6-05:00
    String dateStr = "2014-10-03T18:00:00.6-05:00";
    DateTime dt = JsonFormat.parseDateTime(dateStr);
    assertEquals(2014, dt.getYear());
    assertEquals(10, dt.getMonthOfYear());
    assertEquals(3, dt.getDayOfMonth());
    assertEquals(18, dt.getHourOfDay());
    assertEquals(0, dt.getMinuteOfHour());
    assertEquals(0, dt.getSecondOfMinute());
    assertEquals(600000000, dt.getMillisOfSecond());

    // Test 2: 2014-10-03T18:00:00.61-05:00
    dateStr = "2014-10-03T18:00:00.61-05:00";
    dt = JsonFormat.parseDateTime(dateStr);
    assertEquals(2014, dt.getYear());
    assertEquals(10, dt.getMonthOfYear());
    assertEquals(3, dt.getDayOfMonth());
    assertEquals(18, dt.getHourOfDay());
    assertEquals(0, dt.getMinuteOfHour());
    assertEquals(0, dt.getSecondOfMinute());
    assertEquals(610000000, dt.getMillisOfSecond());

    // Test 3: 1997-07-16T19:20+01:00
    dateStr = "1997-07-16T19:20+01:00";
    dt = JsonFormat.parseDateTime(dateStr);
    assertEquals(1997, dt.getYear());
    assertEquals(7, dt.getMonthOfYear());
    assertEquals(16, dt.getDayOfMonth());
    assertEquals(19, dt.getHourOfDay());
    assertEquals(20, dt.getMinuteOfHour());
    assertEquals(0, dt.getSecondOfMinute());
    assertEquals(0, dt.getMillisOfSecond());

    // Test 4: 1997-07-16T19:20:30.45+01:00
    dateStr = "1997-07-16T19:20:30.45+01:00";
    dt = JsonFormat.parseDateTime(dateStr);
    assertEquals(1997, dt.getYear());
    assertEquals(7, dt.getMonthOfYear());
    assertEquals(16, dt.getDayOfMonth());
    assertEquals(19, dt.getHourOfDay());
    assertEquals(20, dt.getMinuteOfHour());
    assertEquals(30, dt.getSecondOfMinute());
    assertEquals(45000000, dt.getMillisOfSecond());
}
