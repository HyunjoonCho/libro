java
import org.junit.Test;
import org.xml.sax.InputSource;
import org.xml.sax.helpers.DefaultHandler;

import java.io.StringReader;

import javax.xml.parsers.SAXParser;
import javax.xml.parsers.SAXParserFactory;

import org.w3c.dom.Document;
import org.w3c.dom.Element;

import static org.junit.Assert.assertEquals;

public class XmlTest {
    @Test
    public void testWhitespacesAreDiscarded() {
        String xml = "<root><child>  text  </child></root>";
        StringReader reader = new StringReader(xml);
        InputSource inputSource = new InputSource(reader);
        SAXParserFactory factory = SAXParserFactory.newInstance();
        SAXParser saxParser = factory.newSAXParser();
        DefaultHandler handler = new DefaultHandler() {
            @Override
            public void startElement(String uri, String localName, String qName, Attributes attributes) {
                if (qName.equals("child")) {
                    Element element = saxParser.parse(inputSource).getElementsByTagName("child").item(0);
                    assertEquals(" text ", element.getTextContent());
                }
            }
        };
        saxParser.parse(inputSource, handler);
    }
}
