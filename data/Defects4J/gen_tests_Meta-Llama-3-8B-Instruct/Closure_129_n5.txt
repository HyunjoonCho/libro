public void testCastingFunctionBeforeCalling() {
    String originalCode = "console.log( /*@type {function(!string):!string} */ ((new window.ActiveXObject( 'ShockwaveFlash.ShockwaveFlash' ))['GetVariable'])( '$version' ) );";
    String expectedCode = "console.log((new window.ActiveXObject(\"ShockwaveFlash.ShockwaveFlash")).GetVariable(\"$version\"));";
    assertEquals(expectedCode, originalCode.replaceAll(".*\\((0,|\\(|\\)\\).*$", ""));
}