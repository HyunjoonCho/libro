java
public void testAbstractClassMocking() {
    // Example 1
    UserAccount userAccount = mock(FakeUserAccount.class);
    when(userAccount.getEmails()).thenReturn(Arrays.asList("email1", "email2"));
    when(userAccount.addEmail("newEmail")).thenReturn(userAccount);
    assertEquals(Arrays.asList("email1", "email2", "newEmail"), userAccount.getEmails());

    // Example 2
    AccountService accountService = mock(MockAccountService.class);
    when(accountService.getAccount("id")).thenReturn(new UserAccount() {
        @Override public void addEmail(String email) {
            // do nothing
        }
        @Override public List<String> getEmails() {
            return Arrays.asList("email1", "email2");
        }
    });
    accountService.getAccount("id");

    // Example 3
    AccountRpcService accountRpcService = mock(MockAccountRpcService.class);
    when(accountRpcService.getAccount("id")).thenReturn(new Future<Account>() {
        @Override public Account get() {
            return new Account();
        }
    });
    accountRpcService.getAccount("id").get();
}
