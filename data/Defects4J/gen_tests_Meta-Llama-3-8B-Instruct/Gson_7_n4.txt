
import com.google.gson.Gson;
import com.google.gson.GsonBuilder;
import com.google.gson.JsonElement;
import com.google.gson.JsonObject;
import com.google.gson.JsonPrimitive;
import com.google.gson.stream.JsonReader;
import org.junit.Test;

import java.io.StringReader;
import java.util.HashMap;
import java.util.Map;

import static org.junit.Assert.assertEquals;

public class JsonReaderTest {
    @Test
    public void testJsonReaderNextInt() throws Exception {
        String json = "{\"a\":1}";
        JsonReader reader = new JsonReader(new StringReader(json));
        reader.setLenient(true);
        reader.peek();
        assertEquals(JsonReader.PeekMode.UNQUOTED, reader.peek());
        reader.nextName();
        assertEquals("a", reader.peek().toString());
        reader.nextJson();
        assertEquals(JsonReader.PeekMode.NUMBER, reader.peek());
        reader.nextLong();
        assertEquals(1, reader.nextInt());
    }
}
