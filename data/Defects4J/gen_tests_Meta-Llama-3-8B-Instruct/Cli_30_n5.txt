
public void testOptionGroups() {
    OptionSet options = new OptionSet();
    options.add(new Option("a", "a", false));
    options.add(new Option("b", "b", false));
    options.addOptionGroup(new OptionGroup("group", "a", "b"));

    CommandLine commandLine = new CommandLine("a");
    commandLine.addOptions(options);

    Properties defaultOptions = new Properties();
    defaultOptions.put("b", "true");

    commandLine.parse(defaultOptions);

    assertTrue(commandLine.hasOption("a"));
    assertTrue(commandLine.hasOption("b"));
}
