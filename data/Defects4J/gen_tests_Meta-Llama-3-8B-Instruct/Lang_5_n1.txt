public void testLocaleUtils() {
    String[] locales = { "_fr_P", "fr", "fr_FR", "en_US", "fr__P" };
    for (String localeStr : locales) {
        try {
            Locale locale = LocaleUtils.toLocale(localeStr);
            fail("Expected LocaleUtils.toLocale to throw an exception for locale '" + localeStr + "'");
        } catch (IllegalArgumentException e) {
            // expected
        }
    }
}