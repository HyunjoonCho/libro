public void testZipIssue() {
    ByteArrayInputStream bin = new ByteArrayInputStream(zip);
    try {
        ZipArchiveInputStream in = new ZipArchiveInputStream(bin);
        try {
            while (true) {
                ZipArchiveEntry entry = in.getNextZipEntry();
                if (entry == null) {
                    break;
                }
                byte[] buf = new byte[(int) entry.getSize()];
                in.read(buf);
                String content = new String(buf);
                assertEquals("data\n", content);
            }
        } finally {
            in.close();
        }
    } catch (IOException e) {
        System.err.println("IOException: " + e);
    }
}