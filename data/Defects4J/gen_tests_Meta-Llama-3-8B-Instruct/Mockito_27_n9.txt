java
import org.junit.Test;
import org.junit.runner.RunWith;
import org.mockito.Mock;
import org.mockito.junit.MockitoJUnitRunner;
import org.mockito.exceptions.base.MockitoException;
import org.mockito.stubbing.StubbingId;
import org.powermock.core.classloader.annotations.PowerMockIgnore;
import org.powermock.core.classloader.annotations.PowerMockSuppress;
import org.powermock.core.classloader.annotations.PowerMockSuppressType;

import static org.junit.Assert.fail;
import static org.mockito.Mockito.doThrow;
import static org.mockito.Mockito.mock;
import static org.mockito.Mockito.thenThrow;
import static org.mockito.Mockito.when;

@RunWith(MockitoJUnitRunner.class)
public class TestStubbingException {
    @Test
    public void testThrowException() {
        Object o = mock(Object.class);
        when(o.toString()).thenThrow(new RuntimeException("First exception"));
        when(o.toString()).thenThrow(new IllegalArgumentException("Second exception"));
        try {
            o.toString();
            fail("Expected exception");
        } catch (RuntimeException e) {
            // expected
        }
        try {
            o.toString();
            fail("Expected exception");
        } catch (IllegalArgumentException e) {
            // expected
        }
    }
}
