java
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class TypeAliasTest {

    @Test
    public void testTypeAlias() {
        // This should work, but it doesn't
        goog.provide("foo.Foo");
        goog.provide("foo.Foo.Bar");

        goog.scope(function() {
            /**
             * @param {Foo.Bar} bar
             * @constructor
             */
            foo.Foo = function(bar) {
                this.bar = bar;
            };
            var Foo = foo.Foo;

            /**
             * @type {Foo.Bar}
             */
            Foo.prototype.bar = null;

            /**
             * @constructor
             */
            Foo.Bar = function() {};
        });

        // Verify the error
        try {
            // This should throw an error
            goog.provide("foo.Foo.Bar");
            assertEquals(true, true); // This line should never be reached
        } catch (e) {
            assertEquals("Bad type annotation. Unknown type Foo.Bar", e.getMessage());
        }
    }
}
