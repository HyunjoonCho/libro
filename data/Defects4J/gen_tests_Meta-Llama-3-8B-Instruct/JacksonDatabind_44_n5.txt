public void testPolymorphicType() {
    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = "type")
    @JsonSubTypes({@JsonSubTypes.Type(value = SubClass.class)})
    public static class SuperClass {}

    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = "type")
    public static class SubClass extends SuperClass {
        @JsonCreator
        public SubClass(@JsonProperty("name") String name) {
            this.name = name;
        }
        private String name;
    }

    public void test() {
        ObjectMapper mapper = new ObjectMapper();
        SuperClass superClass = mapper.readValue("{\"type\":\"SubClass\",\"name\":\"test\"}", SuperClass.class);
        assertEquals("test", superClass.name);
    }