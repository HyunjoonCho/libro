public void testGroupConstraints() {
    Options options = new Options();
    Group groupA = new Group("groupA");
    groupA.addOption(new Option("optA", "A"));
    Group groupB = new Group("groupB");
    groupB.addOption(new Option("optB", "B"));
    groupB.addOption(groupA);
    options.addOption(groupB);
    CommandLineParser parser = new PosixParser();
    CommandLine line = parser.parse(options, new String[] {"--optB"});
    assertFalse(options.hasOptions());
    assertEquals(1, groupB.hasOptions());
    assertEquals(0, groupA.hasOptions());
}