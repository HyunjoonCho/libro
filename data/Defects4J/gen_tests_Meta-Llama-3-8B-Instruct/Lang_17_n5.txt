
import org.junit.Test;
import org.apache.commons.lang3.StringEscapeUtils;

import java.io.StringWriter;
import java.io.Writer;

import static org.junit.Assert.assertEquals;

public class StringEscapeUtilsTest {

    @Test
    public void testEscapeXmlSupplementaryPlaneCharacters() {
        String str1 = "\uD842\uDFB7" + "A";
        StringWriter writer = new StringWriter();
        StringEscapeUtils.escapeXml(str1, writer);
        String str2 = writer.toString();
        assertEquals(str1, str2);
    }
}
