java
import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.SerializationFeature;
import com.fasterxml.jackson.databind.SerializationFeature.PrettyPrinter;
import com.fasterxml.jackson.databind.PropertyNamingStrategy;
import com.fasterxml.jackson.databind.SerializationFeature.PrettyPrinter;
import com.fasterxml.jackson.databind.SerializationFeature.PrettyPrinter;
import org.junit.Test;
import static org.junit.Assert.assertEquals;
import static org.junit.Assert.fail;

public class TestPropertyNamingStrategy {

    @Test
    public void testImplicitConstructorPropertyNames() throws Exception {
        ObjectMapper mapper = new ObjectMapper();
        mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);
        mapper.setSerializationFeature(SerializationFeature.INDENT_OUTPUT);
        mapper.setSerializationFeature(SerializationFeature.FAIL_ON_EMPTY_BEANS);
        mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);
        mapper.setSerializationFeature(SerializationFeature.FAIL_ON_EMPTY_BEANS);
        mapper.setPrettyPrinter(new PrettyPrinter() {
            @Override
            public void writeStringWriter(JsonGenerator jsonGenerator, PrettyPrinter p) {
                jsonGenerator.writeRaw("\n");
            }
        });
        mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);
        mapper.setSerializationFeature(SerializationFeature.FAIL_ON_EMPTY_BEANS);
        mapper.setPrettyPrinter(new PrettyPrinter() {
            @Override
            public void writeStringWriter(JsonGenerator jsonGenerator, PrettyPrinter p) {
                jsonGenerator.writeRaw("\n");
            }
        });
        PropertyNamingStrategy propertyNamingStrategy = PropertyNamingStrategy.SNAKE_CASE;
        mapper.setNamingStrategy(propertyNamingStrategy);
        Data data = new Data("firstName", "lastName", "age", 25, "city", "country");
        String json = mapper.writeValueAsString(data);
        assertEquals("{\"age\":25,\"city\":\"country\",\"firstName\":\"lastName\"}", json);
    }
}

class Data {
    private String firstName;
    private String lastName;
    private int age;
    private String city;
    private String country;

    public Data(String firstName, String lastName, String city, String country, int age) {
        this.firstName = firstName;
        this.lastName = lastName;
        this.age = age;
        this.city = city;
        this.country = country;
    }
}
