
import org.junit.Test;
import org.apache.commons.math.stat.descriptive.moment.Variance;

public class VarianceTest {
    @Test
    public void testVarianceEvaluate() {
        double[] values = new double[] {1, 2, 3, 4, 5};
        double[] weights = new double[] {1, 1, 1, 1, 1};
        double mean = 3;
        int begin = 1;
        int length = 3;
        double expectedVariance = 0.6666666666666666; // calculated manually
        double actualVariance = Variance.evaluate(values, weights, mean, begin, length);
        assertEquals(expectedVariance, actualVariance, 0.001);
    }
}
