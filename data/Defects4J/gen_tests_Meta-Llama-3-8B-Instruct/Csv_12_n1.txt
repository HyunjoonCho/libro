public void testIgnoreEmptyHeaderNames() {
    String csv = "A,B,C,,\na,b,c,d,e";
    CSVFormat format = CSVFormat.EXCEL.withIgnoreEmptyLines(true).withIgnoreEmptyRecords(true).withHeader();
    try {
        CSVParser.parse(csv, format);
        fail("Expected an exception");
    } catch (IllegalArgumentException e) {
        // expected
    }
}