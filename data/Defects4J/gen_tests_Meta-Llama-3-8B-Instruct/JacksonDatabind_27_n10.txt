public void testExternalTypeIdBeforePojo() {
    // setup test data
    ObjectMapper mapper = new ObjectMapper();
    ObjectWriter writer = mapper.writer();
    ObjectReader reader = mapper.reader();

    // serialize and deserialize object
    String json = "{\"_type\":\"com.example.MyPojo\",\"_externalTypeId\":\"my.external.type\"}";
    JsonNode node = writer.writeValueAsNode(json);
    MyPojo pojo = reader.readValue(node);

    // assert failure
    assertNull(pojo.getExternalTypeId());
}