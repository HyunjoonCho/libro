public void testAnonymousObjectTypeInference() {
    Object[] expected = new Object[] {new Object(), "a"};
    Object[] actual = new Object[][] {new Object[] {"a"}};
    try {
        for (int i = 0; i < actual.length; i++) {
            Object record = actual[i];
            if (record instanceof Object[]) {
                record = ((Object[]) record)[0];
            }
            Object result = func2(record);
            fail("Expected an error, but got: " + result);
        }
    } catch (Exception e) {
        // Expected error, so pass
    }
}