
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.junit.Test;

import java.util.concurrent.TimeUnit;

public class QuadraticBehaviourTest {
    @Test
    public void testQuadraticBehaviour() throws Exception {
        // Create a large HTML string
        StringBuilder html = new StringBuilder();
        for (int i = 0; i < 10000; i++) {
            html.append("<div>");
            for (int j = 0; j < 1000; j++) {
                html.append("<div>");
                for (int k = 0; k < 100; k++) {
                    html.append("<div>");
                }
                html.append("</div>");
            }
            html.append("</div>");
        }
        String htmlString = html.toString();

        // Parse the HTML string
        long startTime = System.nanoTime();
        Document document = Jsoup.parse(htmlString);
        long endTime = System.nanoTime();
        long duration = endTime - startTime;

        // Check if the parsing time is within an acceptable range
        if (duration > 1000 * 1000 * 10) { // 10 seconds
            throw new AssertionError("Parsing took too long: " + duration + " nanoseconds");
        }
    }
}
