
public void testWhitespaceDiscarded() {
    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
    DocumentBuilder builder = factory.newDocumentBuilder();
    Document document = builder.parse(new InputSource("<root><child>   <attr>value</attr></child></root>".toCharArray()));

    Element root = document.getDocumentElement();
    String expected = "<root><child>   <attr>value</attr></child></root>";
    String actual = root.toString();
    assertEquals(expected, actual);
}
