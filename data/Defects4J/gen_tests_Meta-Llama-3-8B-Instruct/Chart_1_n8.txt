public void testIssue983() {
    AbstractCategoryItemRender render = new AbstractCategoryItemRender() {
        @Override
        public LegendItemCollection getLegendItems() {
            return null;
        }
    };
    render.getLegendItems();
    // This line should throw a NullPointerException
    render.plot.getDataset(0).getRowCount();
}