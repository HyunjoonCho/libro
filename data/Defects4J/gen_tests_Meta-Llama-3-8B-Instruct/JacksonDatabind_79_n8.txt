public void testJsonIdentityReferenceOnClassOnly() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    mapper.enableDefaultTyping();
    ReallyAlwaysAsId a = new ReallyAlwaysId(1);
    ReallyAlwaysId b = new ReallyAlwaysId(2);
    ReallyAlwaysContainer container = new ReallyAlwaysContainer();
    container.a = a;
    container.b = b;
    String json = mapper.writeValueAsString(container);
    assertEquals("{\"a\":1,\"b\":1}", json);
}