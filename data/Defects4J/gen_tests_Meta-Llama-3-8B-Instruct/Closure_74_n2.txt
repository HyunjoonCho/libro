java
public void testInlineIfOptimization() {
    assertSame(true, true == null? a() : b()); // expected: a() but got b()
    assertSame(true, true == false? a() : b()); // expected: a() but got b()
    assertEquals(2, sum(true, 1)); // expected: 3 but got (0 ==!0? 2 : 1) + 1
}

private Object a() {
    return "a";
}

private Object b() {
    return "b";
}

private int sum(boolean a, int b) {
    return (a == true? 2 : a) + b;
}
