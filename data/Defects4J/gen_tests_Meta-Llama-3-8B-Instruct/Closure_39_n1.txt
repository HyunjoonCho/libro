public void testExternExportWithTypedef() {
    // Create a file with @typedef and code referencing the type def above and below the typedef declaration
    String code = "@typedef {x:Number} X\n" +
            "var x:X = 1;\n" +
            "var y:X = 1;\n";

    // Run the closure compiler and grab the externExport string stored on the last result for review
    // Assuming a method to run the closure compiler and get the externExport string
    String externExport = runClosureCompiler(code);

    // Check that the externExport string contains the expected code
    // For example, the code above the @typedef should reference the aliased name of the @typedef
    // The code below the @typedef should embed the body of the @typedef and not truncate it
    // If the code is truncated, it will throw bad type errors when compiling against this extern
}