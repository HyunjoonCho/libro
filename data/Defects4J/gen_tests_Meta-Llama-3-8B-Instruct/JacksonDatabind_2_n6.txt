java
import org.junit.Test;
import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.SerializationFeature;
import com.fasterxml.jackson.databind.SerializationConfig;
import com.fasterxml.jackson.databind.SerializationFeature;
import com.fasterxml.jackson.databind.SerializationConfig;
import com.fasterxml.jackson.databind.SerializationFeature;
import com.fasterxml.jackson.databind.JsonNode;
import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.SerializationFeature;
import com.fasterxml.jackson.databind.SerializationConfig;
import com.fasterxml.jackson.databind.SerializationFeature;

public class TestIssue {
    private static final ObjectMapper mapper = new ObjectMapper();
    private static final SerializationConfig config = mapper.getSerializationConfig();

    @Test
    public void testSerialization() throws Exception {
        config.setSerializationInclusion(SerializationInclusion.NON_DEFAULT);
        mapper.configure(SerializationFeature.WRITE_NULL_MAP_MERGEABLE_FIELDS, false);
        mapper.configure(SerializationFeature.WRITE_NULL_MAP_MERGEABLE_FIELDS, false);

        X<String> x = new X<>();
        x.s = "s";
        x.items = new ArrayList<String>();
        x.items.add("a");
        x.items.add("b");

        JsonNode tree = mapper.valueToTree(x);
        // assert the tree is as expected
    }
}
