java
import org.junit.Test;
import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertThrows;

public class AssignmentToRecordTest {
    @Test
    public void testAssignmentToRecord() {
        // The code under test
        Object a = true;
        Object b = false;

        // The function to test
        Object result = func(a, b);

        // The expected result
        Object expectedResult = new Object() {
            private String prop1;
            private String prop2;
            private String prop3;

            public Object getProp1() {
                return prop1;
            }

            public void setProp1(Object prop1) {
                this.prop1 = (String) prop1;
            }

            public String getProp2() {
                return prop2;
            }

            public void setProp2(String prop2) {
                this.prop2 = prop2;
            }

            public String getProp3() {
                return prop3;
            }

            public void setProp3(String prop3) {
                this.prop3 = prop3;
            }
        };

        // Verify the result
        assertEquals(expectedResult, result);
    }

    // The function under test
    Object func(Object a, Object b) {
        Object results;
        if (a) {
            results = new Object() {
                private Object prop1;

                public Object getProp1() {
                    return prop1;
                }

                public void setProp1(Object prop1) {
                    this.prop1 = prop1;
                }
            };
            results.setProp1("prop1");
        }
        if (b) {
            results = results!= null? results : new Object() {};
            results.setProp2("prop2");
        } else {
            results = results!= null? results : new Object() {};
            results.setProp3("prop3");
        }
        return results;
    }
}
