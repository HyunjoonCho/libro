public void testDeserializeNullReference() throws IOException {
    ObjectMapper mapper = new ObjectMapper();
    ObjectReader reader = mapper.readerFor(MyBean.class);

    String json1 = "{\"refRef\": 2}";
    MyBean bean1 = reader.readValue(json1);
    assertEquals(2, ((AtomicReference<AtomicReference<Integer>>) bean1.getRefRef()).get().get());

    String json2 = "{\"refRef\": null}";
    MyBean bean2 = reader.readValue(json2);
    assertNull(bean2.getRefRef());
    assertNull(bean2.getRefRef().get());
}