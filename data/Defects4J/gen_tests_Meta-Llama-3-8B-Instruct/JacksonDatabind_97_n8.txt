
public void testCustomSerializerAttributes() throws IOException {
    Data data = new Data();
    data.aStr = "Hello";

    String mapOut = mapper.writer().withAttribute("myAttr", "Hello!").writeValueAsString(data);
    assertEquals("The value is: Hello!", mapOut);

    ObjectNode tree = mapper.createObjectNode();
    tree.putPOJO("data", data);
    String treeOut = mapper.writer().withAttribute("myAttr", "Hello!").writeValueAsString(tree);
    assertEquals("The value is: Hello!", treeOut);
}
