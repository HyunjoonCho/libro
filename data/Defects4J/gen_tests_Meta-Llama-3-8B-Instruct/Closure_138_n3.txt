
public void testJSCDeterministicTest() throws Exception {
    // Create a temporary file to compile the JavaScript code
    File file = File.createTempFile("test", ".js");
    file.deleteOnExit();

    // Write the JavaScript code to the file
    try (PrintWriter writer = new PrintWriter(file)) {
        writer.println("// ==ClosureCompiler==");
        writer.println("// @output_file_name default.js");
        writer.println("// @compilation_level ADVANCED_OPTIMIZATIONS");
        writer.println("// ==/ClosureCompiler==");
        writer.println("var t = null;");
        writer.println("window.test = function() {");
        writer.println("  if (t!= null) {");
        writer.println("    t = null;");
        writer.println("  }");
        writer.println("  t = 1;");
        writer.println("};");
    }

    // Compile the JavaScript code using the Closure Compiler
    ProcessBuilder builder = new ProcessBuilder("java", "-jar", "compiler.jar", "--js", file.getAbsolutePath());
    Process process = builder.start();
    InputStream output = process.getInputStream();
    BufferedReader reader = new BufferedReader(new InputStreamReader(output));
    String line;
    while ((line = reader.readLine())!= null) {
        if (line.contains("JSC_DETERMINISTIC_TEST: condition always evaluates to false")) {
            fail("Expected no warning, but got: " + line);
        }
    }
}
