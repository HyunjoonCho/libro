
public void testStdKeyDeserializer() throws IOException {
    ObjectMapper mapper = new ObjectMapper();
    String json = "{\"first.last\": 42}";

    // Test deserialization as field
    AsField asField = mapper.readValue(json, AsField.class);
    assertEquals("first", asField.getName().getFirstname());
    assertEquals("last", asField.getName().getLastname());

    // Test deserialization as key
    Map<FullName, Double> map = mapper.readValue(json, new TypeReference<Map<FullName, Double>>() {});
    assertEquals("first", map.keySet().iterator().next().getFirstname());
    assertEquals("last", map.keySet().iterator().next().getLastname());
    assertEquals(42, map.values().iterator().next(), 0);
}
