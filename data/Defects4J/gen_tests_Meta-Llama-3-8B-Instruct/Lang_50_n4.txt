
public void testFastDateFormatLocaleChange() throws Exception {
    Locale originalLocale = Locale.getDefault();
    Locale.setDefault(Locale.US);

    FastDateFormat df = FastDateFormat.getDateInstance();
    assertEquals("MM/dd/yyyy", df.getPattern());

    Locale.setDefault(Locale.GERMANY);
    assertEquals("dd.MM.yyyy", df.getPattern());

    assertEquals(originalLocale, Locale.getDefault());
}
