public void testWriteStringAfterWriteFieldName() {
    JsonGenerator jsonGenerator = new JsonFactory().createGenerator(new StringWriter());
    jsonGenerator.writeStartObject();
    jsonGenerator.writeFieldName("test");
    try {
        jsonGenerator.writeString("test");
        fail("Expected JsonGenerationException");
    } catch (JsonGenerationException e) {
        // expected
    }
}