
import org.junit.Test;
import com.google.javascript.jscomp.CompilationLevel;
import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.CompilerOptions;
import com.google.javascript.jscomp.JSError;
import com.google.javascript.jscomp.SourceFile;

public class TestGoogIsArray {
    @Test
    public void testGoogIsArray() {
        Compiler compiler = new Compiler();
        CompilerOptions options = new CompilerOptions();
        options.setLanguageIn(CompilationLevel.ADVANCED_OPTIMIZATIONS);
        SourceFile source = new SourceFile("test.js", "var test = function(object) {\n" +
                "  if (goog.isArray(object)) {\n" +
                "    /* @type {Array} */ var x = object;\n" +
                "    return x;\n" +
                "  };\n};");
        compiler.compile(source, options);
        assert(compiler.getErrors().size() > 0);
    }
}
