public void testArgumentsScope() {
    final Object[] args = new Object[] {"test"};
    Function func = new Function() {
        public Object invoke() {
            Object[] arg = arguments;
            setTimeout(new TimerTask() {
                public void run() {
                    assertSame(args, arg);
                }
            }, 0);
            return null;
        }
    };
    Object result = func.invoke();
    assertSame(result, null);
}