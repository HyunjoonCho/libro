java
public void testJsonGeneratorWriteStringAfterWriteFieldName() {
    JsonGenerator gen = new JsonFactory().createGenerator(new StringWriter());
    gen.writeStartObject();
    gen.writeFieldName("name");
    gen.writeString("John");
    gen.writeString("John"); // This should throw an exception
    gen.writeEndObject();
    String json = gen.getOutput().toString();
    fail("Expected exception, but got valid JSON: " + json);
}
