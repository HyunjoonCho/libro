
public void testTokenBufferDelegateDeserialization() throws Exception {
    TokenBuffer buffer = new TokenBuffer();
    buffer.writeStartObject();
    buffer.writeStringField("a", "1");
    buffer.writeNullField("b");
    buffer.writeEndObject();

    Value value = Value.from(buffer);
    // Verify the buffer contents
    assertEquals(2, buffer.readValues().size());
    assertEquals(JsonToken.FIELD_NAME, buffer.readValues().get(0));
    assertEquals(JsonToken.VALUE_NUMBER_INT, buffer.readValues().get(1));
}
