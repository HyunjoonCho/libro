public void testOptionalEmptySerialization() {
    ObjectMapper mapper = new ObjectMapper();
    mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);
    JsonResult result = new JsonResult();
    result.setA(Optional.empty());
    result.setB(Optional.empty());
    String json = mapper.writeValueAsString(result);
    assertFalse(json.contains("null"));
}