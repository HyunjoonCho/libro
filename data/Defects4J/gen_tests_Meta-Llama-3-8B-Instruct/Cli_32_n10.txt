public void testStringIndexOutOfBoundsException() {
    HelpFormatter helpFormatter = new HelpFormatter();
    String text = "This is a long text that should be wrapped";
    int width = 10;
    int pos = 0;
    while ((pos = helpFormatter.findWrapPos(text, pos, width)) >= text.length()) {
        fail("Expected StringIndexOutOfBoundsException");
    }
}