java
import org.junit.Test;
import org.junit.runner.RunWith;
import org.junit.runners.JUnit4;

import com.google.javascript.jscomp.CompilationUnit;
import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.CompilerOptions;

import static org.junit.Assert.assertEquals;

@RunWith(JUnit4.class)
public class AssignmentRemovedWhenUsedAsAnExpressionResultToArrayPushTest {
    @Test
    public void testAssignmentRemovedWhenUsedAsAnExpressionResultToToArrayPush() {
        Compiler compiler = new Compiler(new CompilerOptions());
        String code = "function f() { var a = [], b; a.push(b = []); b[0] = 1; return a; }";
        CompilationUnit compilationUnit = compiler.compile(code);
        String compiledCode = compilationUnit.toSource();
        assertEquals("function f(){var a=[];a.push([]);return a};", compiledCode);
    }
}
