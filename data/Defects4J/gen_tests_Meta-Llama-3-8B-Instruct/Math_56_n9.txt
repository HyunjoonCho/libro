public void testMultidimensionalCounter() {
    MultidimensionalCounter counter = new MultidimensionalCounter(2, 4);
    for (int i = 0; i < 8; i++) {
        int[] indices = counter.getCounts();
        switch (i) {
            case 0:
                assertArrayEquals(new int[]{0, 0}, indices);
                break;
            case 1:
                assertArrayEquals(new int[]{0, 1}, indices);
                break;
            case 2:
                assertArrayEquals(new int[]{0, 2}, indices);
                break;
            case 3:
                assertArrayEquals(new int[]{0, 3}, indices); // expected [0, 3] but got [0, 2]
                break;
            case 4:
                assertArrayEquals(new int[]{1, 0}, indices);
                break;
            case 5:
                assertArrayEquals(new int[]{1, 1}, indices);
                break;
            case 6:
                assertArrayEquals(new int[]{1, 2}, indices);
                break;
            case 7:
                assertArrayEquals(new int[]{1, 3}, indices); // expected [1, 3] but got [1, 2]
                break;
        }
    }
}