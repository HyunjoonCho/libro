public void testLocaleUtils() {
    String[] locales = { "_en_US", "fr__P", "en_US_" };
    for (String locale : locales) {
        try {
            LocaleUtils.toLocale(locale);
            fail("Expected LocaleUtils.toLocale to throw an exception for locale " + locale);
        } catch (RuntimeException e) {
            // expected
        }
    }
}