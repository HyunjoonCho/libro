public void testLongDirectoryName() {
    String longDirectoryName = new String(new char[101]).replace("\0", "a");
    TarArchiveOutputStream tar = new TarArchiveOutputStream(new ByteArrayOutputStream());
    try {
        tar.putArchiveEntry(new TarArchiveEntry(longDirectoryName));
        tar.close();
        fail("Expected IOException");
    } catch (IOException e) {
        // expected
    }
}