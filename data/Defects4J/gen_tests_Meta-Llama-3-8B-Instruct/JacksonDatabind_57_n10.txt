
public void testReadValuesIgnoresOffsetAndLength() throws IOException {
    ObjectMapper mapper = new ObjectMapper();
    ObjectReader reader = mapper.readerFor(JsonNode.class);

    String json = "{\"arr\": [1, 2, 3, 4, 5]}";
    JsonNode node = mapper.readTree(json);

    ObjectReader arrayReader = reader.withType(List.class);
    List<Integer> result = arrayReader.readValue(node.get("arr"));
    assertEquals(5, result.size()); // should read all elements

    reader = reader.withType(List.class).withOffset(1);
    result = arrayReader.readValue(node.get("arr"));
    assertEquals(4, result.size()); // should read all elements, ignoring offset

    reader = reader.withType(List.class).withOffset(2).withLength(2);
    result = arrayReader.readValue(node.get("arr"));
    assertEquals(3, result.size()); // should read all elements, ignoring offset and length
}
