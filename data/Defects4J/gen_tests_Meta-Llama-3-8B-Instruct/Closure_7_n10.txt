
import org.junit.Test;
import static org.junit.Assert.assertFalse;
import static org.junit.Assert.assertTrue;

public class BugReportTest {
    @Test
    public void testBadTypeInference() {
        Object object = new Long(123);
        assertTrue(test.isMatched(object));
        assertFalse(object instanceof String);
        assertFalse(object instanceof Boolean);
        assertFalse(object instanceof Function);
    }

    interface Function {
        Object invoke();
    }

    static class Test {
        static boolean isMatched(Object object) {
            if (goog.isDef(object)) {
                if (goog.isFunction(object)) {
                    // return object();
                } else if (goog.isBoolean(object)) {
                    // return object;
                } else if (goog.isString(object)) {
                    // return test.isDef(object);
                } else if (goog.isArray(object)) {
                    var i = object.length;
                }
            }
            return false;
        }
    }
}
