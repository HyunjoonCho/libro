
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.jsoup.nodes.TextNode;
import org.junit.Test;

import java.io.IOException;

import static org.junit.Assert.assertEquals;

public class JsoupCleanTest {

    @Test(expected = StackOverflowError.class)
    public void testJsoupClean() throws IOException {
        String url = "http://blog.sina.com.cn/s/blog_501a5b1f0102dx6z.html";
        Document doc = Jsoup.connect(url).get();
        Jsoup.clean(doc.html(), "*"); // This should throw a StackOverflowError
    }
}
