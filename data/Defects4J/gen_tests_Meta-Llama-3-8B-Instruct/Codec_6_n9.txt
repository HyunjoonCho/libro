public void testBase64InputStreamRead() throws IOException {
    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    bos.write("AAA".getBytes());
    ByteArrayInputStream bis = new ByteArrayInputStream(bos.toByteArray());
    Base64InputStream base64InputStream = new Base64InputStream(bis, true);
    byte[] buffer = new byte[3];
    assertEquals(3, base64InputStream.read(buffer));
    assertEquals(0, base64InputStream.read(buffer));
}