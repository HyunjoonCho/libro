public void testCustomSerializerNotUsedWithJsonValue() {
    class CustomSerializer extends JsonSerializer<MyClass> {
        @Override
        void serialize(MyClass value, JsonGenerator gen, SerializerProvider serializers) throws IOException {
            gen.writeString("custom serialized");
        }
    }

    class MyClass {
        @JsonValue
        public String getValue() {
            return "json value";
        }
    }

    ObjectMapper mapper = new ObjectMapper();
    mapper.registerModule(new SimpleModule().addSerializer(MyClass.class, new CustomSerializer()));
    String json = mapper.writeValueAsString(new MyClass());
    assertEquals("json value", json);
}