public void testPosixParserNonRecognizedLongOption() {
    Options options = new Options();
    options.addOption(new Option("a", false));
    options.addOption(new Option("b", true, "bar"));
    PosixParser parser = new PosixParser();
    parser.setStopAtNonOption(true);
    HelpFormatter formatter = new HelpFormatter();
    String[] args = new String[] {"--zop", "-abfoo"};
    try {
        parser.parse(options, args, formatter);
        fail("Expected ParseException");
    } catch (ParseException e) {
        // expected
    }
    assertEquals("foo", parser.getRemainingArgs()[0]);
}