
public void testDeserializeAtomicReferenceOfAtomicReference() throws IOException {
    ObjectMapper mapper = new ObjectMapper();
    ObjectReader reader = mapper.readerFor(MyBean.class);

    MyBean bean = reader.readValue("{\"refRef\": 2}");
    assertEquals(AtomicReference.of(AtomicReference.of(2)), bean.refRef);

    bean = reader.readValue("{\"refRef\": null}");
    assertEquals(AtomicReference.of(null), bean.refRef);
}
