public void testWeirdObjectLiteralInvalidPropertyError() {
    try {
        Compiler compiler = new Compiler();
        compiler.compile("function temp1(opt_data) { return opt_data.text; }" +
                "function temp2(opt_data) { /* @notypecheck */ function _inner() { return temp1(opt_data.activity); } return _inner(); }" +
                "function temp3(opt_data) { return 'n:'+ opt_data.n + ', t:'+ opt_data.text + '.'; }" +
                "function callee() { var output = temp3({ n: 0, text: 'a string', b: true }); alert(output); } callee();");
    } catch (CompilationException e) {
        assertEquals("actual parameter 1 of temp3 does not match formal parameter" +
                "found : {b: boolean, n: number, text: (string|undefined)}"
                + "required: {b: boolean, n: number, text: string}", e.getMessage());
    }
}