java
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class JsoupTest {

    @Test
    public void mustCorrectlyMoveChildrenInsideOneParentElement() {
        Document doc = Jsoup.parse("<body><div1><div2></div2></div1></body>");
        Element body = doc.body();
        Element div3 = body.append("div3");
        Element div4 = body.append("div4");

        ArrayList<Element> toMove = new ArrayList<>();
        toMove.add(div3);
        toMove.add(div4);

        body.children().remove(div3);
        body.children().remove(div4);

        body.insertChildren(0, toMove);

        String result = doc.toString();
        assertEquals("<body><div4></div4><div3></div3><div1><div2></div2></div1></body>", result);
    }
}
