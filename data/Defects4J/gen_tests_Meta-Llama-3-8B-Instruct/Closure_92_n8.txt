java
import org.junit.Test;
import static org.junit.Assert.assertSame;

public class BugWithImplicitNamespacesAcrossModulesTest {

    @Test
    public void testImplicitNamespacesAcrossModules() {
        // Module A
        Object apps = new Object();
        Object foo = new Object();
        apps.getClass().getMethod("foo").invoke(apps, new Object[]{foo});

        // Module B
        Object bar = new Object();
        apps.getClass().getMethod("foo").getMethod("bar").invoke(foo, new Object[]{bar});

        // Module C
        Object c = new Object();
        apps.getClass().getMethod("foo").getMethod("bar").getMethod("C").invoke(bar, new Object[]{c});

        // This will result in a runtime error
        apps.getClass().getMethod("foo").getMethod("bar").getMethod("B").invoke(bar);
    }
}
