public void testMockingAbstractClass() {
    UserAccount userAccount = mock(UserAccount.class);
    when(userAccount.getEmails()).thenReturn(new ArrayList<>());
    when(userAccount.addEmail("email")).thenReturn(userAccount);
    assertEquals(new ArrayList<>(), userAccount.getEmails());
    userAccount.addEmail("email");
    assertEquals(new ArrayList<>(Arrays.asList("email")), userAccount.getEmails());
}