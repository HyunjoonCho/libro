
public void testUnwantedPojoEmbeddedInTree() throws IOException {
    X<Integer> x = new X<>();
    x.s = "test";
    List<Integer> items = new ArrayList<>();
    items.add(1);
    items.add(2);
    x.items = items;

    ObjectMapper mapper = new ObjectMapper();
    byte[] json = mapper.writeValueAsBytes(x);
    JsonNode tree = mapper.readTree(new ByteArrayInputStream(json));

    assertEquals("test", tree.get("s").asText());
    assertEquals(2, tree.get("items").size());
    // Check that the items are not wrapped in a POJO
    assertEquals(1, ((JsonNode) tree.get("items").get(0)).intValue());
    assertEquals(2, ((JsonNode) tree.get("items").get(1)).intValue());
}
