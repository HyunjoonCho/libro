public void testSerializationToTree() {
    X<Integer> x = new X<>();
    x.s = "test";
    List<Integer> items = Arrays.asList(1, 2, 3);
    x.items = items;
    ObjectMapper mapper = new ObjectMapper();
    JsonNode tree = mapper.valueToTree(x);
    assertEquals("test", tree.get("s").asText());
    assertEquals(3, ((ArrayNode) tree.get("items")).size());
    assertEquals(1, ((IntNode) ((ArrayNode) tree.get("items")).get(0)).numberValue());
    assertEquals(2, ((IntNode) ((ArrayNode) tree.get("items")).get(1)).numberValue());
    assertEquals(3, ((IntNode) ((ArrayNode) tree.get("items")).get(2)).numberValue());
}