java
public class Test {
    @Test
    public void testTypeCheckingErrorWhenReplacingAFunctionWithAStubAfterCalling() {
        Myclass myclass = new Myclass();
        myclass.fn(true);
        myclass.fn = new Function() {};
        try {
            myclass.test();
            fail("Expected error");
        } catch (Error e) {
            // expected
        }
    }
}
