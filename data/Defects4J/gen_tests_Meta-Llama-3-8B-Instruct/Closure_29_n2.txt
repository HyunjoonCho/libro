java
import com.google.javascript.jscomp.CompilationLevel;
import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.CompilerOptions;
import com.google.javascript.jscomp.JSError;
import com.google.javascript.jscomp.JSToken;
import com.google.javascript.jscomp.Result;

public class TestClosureCompiler {
    public void testIssue() {
        Compiler compiler = new Compiler();
        CompilerOptions options = new CompilerOptions();
        options.setLanguageIn(CompilerOptions.LanguageMode.ECMASCRIPT3);
        compiler.compile("isFunction = function(functionToCheck) {\n" +
                "  var getType;\n" +
                "  getType = {};\n" +
                "  return functionToCheck && getType.toString.apply(functionToCheck) === '[object Function]';\n" +
                "};");
        Result result = compiler.getResult();
        for (JSError error : result.getErrors()) {
            System.out.println(error.getMessage());
            // Assert that an error occurs
            fail("Expected an error but no error was thrown");
        }
    }
}
