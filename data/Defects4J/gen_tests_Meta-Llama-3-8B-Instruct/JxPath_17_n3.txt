
import org.w3c.dom.Document;
import org.w3c.dom.Element;
import org.w3c.dom.NodeList;

import javax.xml.parsers.DocumentBuilder;
import javax.xml.parsers.DocumentBuilderFactory;
import javax.xml.parsers.DocumentParser;
import java.io.StringReader;

import static org.junit.Assert.*;
import org.junit.Test;

public class XmlTest {

    @Test
    public void testNamespacedAttributeNotSelectedWithWildcard() {
        String xml = "<xml xmlns:x='foo' x:pop='a'>";
        Document document = DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(new StringReader(xml));
        Element element = document.getDocumentElement();
        NodeList nodeList = element.selectNodes("xml/@*");
        assertNull(nodeList);

        nodeList = element.selectNodes("@x:*");
        assertNotNull(nodeList);
    }
}
