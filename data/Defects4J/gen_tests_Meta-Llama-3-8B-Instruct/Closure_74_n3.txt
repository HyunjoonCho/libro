public void testOptimizations() {
    assertEquals(1, alert(true == null? 1 : 2));
    assertEquals(2, alert(true == false? 1 : 2));
    assertEquals(3, alert(sum(true, 1)));
}

public int sum(boolean a, int b) {
    return a == true? 2 : a + b;
}

public int alert(int value) {
    return value;
}