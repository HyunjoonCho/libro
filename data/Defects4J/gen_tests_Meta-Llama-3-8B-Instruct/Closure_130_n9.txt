
function testArgumentsCollapse() {
  const original = function() {
    const args = arguments;
    setTimeout(function() {
      console.log(args);
    }, 0);
  };

  CompilerOptions.collapsePropertiesOnExternTypes = true;
  const collapsed = function() {
    setTimeout(function() {
      console.log(arguments);
    }, 0);
  };

  expect(original.toString()).not.toContain('arguments');
  expect(collapsed.toString()).toContain('arguments');
}

testArgumentsCollapse();
