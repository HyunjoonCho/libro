public void testAssignmentRemoved() {
    Compiler compiler = new Compiler();
    CompilerOptions options = new CompilerOptions();
    CompilationLevel ADVANCED_OPTIMIZATIONS.compile("function f() {var a = [], b; a.push(b = []); b[0] = 1; return a;}");
    ScriptOutputWrapper sw = new ScriptOutputWrapper();
    compiler.compile(options, "f", sw);
    String output = sw.getOutput();
    assertEquals("function f(){var a=[];a.push([]);return a};", output);
}