
public void testNegativeValueWithRestrictNonNegative() {
    // Define the function to optimize
    UnivariateFunction function = new AbstractUnivariateRealFunction() {
        @Override
        public double value(double x) {
            return x + 1;
        }
    };

    // Define the constraint
    AbstractUnivariateConstraint constraint = new SimplexConstraint(1, 0, 1);

    // Create the SimplexSolver and optimize the function with the constraint
    SimplexSolver solver = new SimplexSolver();
    solver.optimize(function, constraint, GoalType.MINIMIZE, true);

    // Verify that the solution has a negative value
    double x = solver.getOptimum();
    assertEquals(-1, x, 0.01);
}
