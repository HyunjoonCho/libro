public void testNegativeValueWithRestrictNonNegative() {
    RealVectorFunction function = new AbstractRealMultivariateFunction() {
        @Override
        public double evaluate(double[] point) {
            return point[0] + point[1];
        }
    };

    LinearConstraint[] constraints = new LinearConstraint[] {
        new LinearConstraint(new double[] {1, 0}, Relation.GEQ, 1)
    };

    SimplexSolver solver = new SimplexSolver();
    double[] result = solver.optimize(function, constraints, GoalType.MINIMIZE, true);

    assertEquals(1, result[0], 0.0001);
    // This assertion will fail because y is not restricted to be non-negative
    // assertEquals(0, result[1], 0.0001);
}