
public void testExtraneousTypeMapping() {
    TypeIdMapper mapper = new TypeIdMapper();
    TypeId id1 = mapper.addTypeId(Type.get(Class.forName("BaseClass")));
    TypeId id2 = mapper.addTypeId(Type.get(Class.forName("SubClass")));

    assertEquals(2, mapper.getTypeIds().size());
    assertEquals(id1, mapper.getTypeId(Type.get(Class.forName("BaseClass"))));
    assertEquals(id2, mapper.getTypeId(Type.get(Class.forName("SubClass"))));
}
