java
import org.junit.Test;

public class CompilerPropertyRemovalTest {
    @Test
    public void testPropertyRemoval() {
        var map = new java.util.HashMap<String, Runnable>();
        var f1 = new Runnable() {
            public void run() {
                System.out.println("f1");
            }
        };
        f1.addProperty("alwaysCall", true);
        var f2 = new Runnable() {
            public void run() {
                System.out.println("f2");
            }
        };

        map.put("f1", f1);
        map.put("f2", f2);

        var callFunctionByKey = (String key) -> {
            var f = map.get(key);
            if (f!= null && f.getProperty("alwaysCall")!= null) {
                f.run();
            }
        };

        callFunctionByKey(Math.random() > 0.5? "f1" : "f2");
    }
}
