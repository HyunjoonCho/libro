
import org.junit.Test;
import org.joda.time.Calendar;
import org.joda.time.DateTimeZone;
import org.joda.time.LocalDate;
import org.joda.time.format.DateTimeFormat;
import org.joda.time.format.DateTimeFormatter;

public void testCalendarEraInLocalDateFromCalendarFields() {
    DateTimeZone timeZone = DateTimeZone.forID("America/New_York");
    Calendar calendar = new Calendar(timeZone);
    calendar.set(1, 1, 1); // January 1st, 1 AD
    calendar.clear(Calendar.HOUR_OF_DAY);
    calendar.clear(Calendar.MINUTE);
    calendar.clear(Calendar.SECOND);
    calendar.clear(Calendar.MILLISECOND);

    DateTimeFormatter formatter = DateTimeFormat.forPattern("yyyy-MM-dd");
    LocalDate date = LocalDate.fromCalendarFields(calendar);
    assertEquals("0001-01-01", date.toString());
}
