public void testElementSiblingIndex() {
    Document doc = DocumentBuilderFactory.newInstance().newDocumentBuilder().newDocument();
    Element table = doc.createElement("table");
    doc.appendChild(table);
    Element row1 = doc.createElement("tr");
    table.appendChild(row1);
    Element cell1 = doc.createElement("td");
    row1.appendChild(cell1);
    Element row2 = doc.createElement("tr");
    table.appendChild(row2);
    Element cell2 = doc.createElement("td");
    row2.appendChild(cell2);
    Element row5 = doc.createElement("tr");
    table.appendChild(row5);
    Element cell5 = doc.createElement("td");
    row5.appendChild(cell5);
    int index1 = cell1.getParent().getElementsByTagName("tr").item(1).getChildNodes().item(0).getNodeType() == Node.ELEMENT_NODE? 1 : 0;
    int index2 = cell2.getParent().getElementsByTagName("tr").item(1).getChildNodes().item(0).getNodeType() == Node.ELEMENT_NODE? 1 : 0;
    int index5 = cell5.getParent().getElementsByTagName("tr").item(2).getChildNodes().item(0).getNodeType() == Node.ELEMENT_NODE? 2 : 0;
    assertEquals(cell2, cell1.getParent().getChildNodes().item(index2));
    assertEquals(cell5, cell1.getParent().getChildNodes().item(index5));
}