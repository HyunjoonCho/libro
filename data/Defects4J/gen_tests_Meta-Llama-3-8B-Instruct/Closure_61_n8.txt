public void testClosureRemovesNeededCode() {
    Compiler compiler = Compiler.compile("Math.blah = function(test) { test.a = 5; };");
    compiler.execute();
    String code = compiler.getCode();
    assertNotEquals("Math.blah = function(test) { test.a = 5; };", code);
}