java
public class Test {
    @org.junit.Test
    public void testTemplateInference() {
        @FunctionalInterface
        @org.junit.Test
        interface Foo<T> {
            String foo(T a);
        }

        @FunctionalInterface
        interface Bar {
            String bar(int a);
        }

        Foo<?> foo = new Foo<>() {
            @Override
            public String foo(Object a) {
                return "string";
            }
        };

        Bar bar = a -> "";
        foo.bar(1); // Should compile, but fails due to incorrect template inference
    }
}
