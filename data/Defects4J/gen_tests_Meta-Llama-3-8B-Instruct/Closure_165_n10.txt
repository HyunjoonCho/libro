java
import com.google.javascript.jscomp.CompilationLevel;
import com.google.javascript.jscomp.JSChecker;
import com.google.javascript.jscomp.JSTestCase;

public class TestPropertiesDefinedOnAnyRecordTypeApplyingToUnrelatedRecordTypes extends JSTestCase {

    public void testPropertiesDefinedOnAnyRecordTypeApplyingToUnrelatedRecordTypes() {
        CompilationLevel ADVANCED_OPTIMIZATIONS.compile(
            "/* @typedef {{name: string, id: number}} */" +
            "var RecordType1;" +
            "/* @typedef {{name2: string}} */" +
            "var RecordType2;" +
            "/* @param {RecordType1} rec */" +
            "var func = function(rec) {" +
            "  alert(rec.name2);" +
            "}; func({name: 'jim', id: 0});"
        );
        JSChecker checker = getChecker();
        checker.checkErrors();
        assert checker.getErrorCount() == 1;
        String expectedError = "Property name2 never defined on rec";
        assertTrue(checker.getErrorMessages().contains(expectedError));
    }
}
