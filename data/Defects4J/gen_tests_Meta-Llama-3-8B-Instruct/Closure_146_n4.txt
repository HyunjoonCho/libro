
public void testBadTypeInferenceForUndefined() {
    function g(x) {}

    function f(x) {
        if (x!= undefined) {
            g(x);
        }
    }

    try {
        f(undefined);
        fail("Expected JSC_TYPE_MISMATCH: actual parameter 1 of g does not match formal parameter");
    } catch (TypeError e) {
        assertEquals("JSC_TYPE_MISMATCH: actual parameter 1 of g does not match formal parameter", e.getMessage());
    }
}
