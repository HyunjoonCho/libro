public void testDuplicateHeaderNames() {
    CSVParser parser = CSVFormat.RFC4180.withDelimiter(",").withQuoteChar('"')
           .withQuotePolicy(Quote.MINIMAL).withIgnoreSurroundingSpaces(true)
           .withHeader().withSkipHeaderRecord(true).parse(new FileReader("test.csv"));
    CSVParser.HeaderRecord headers = parser.getHeaderMap();
    assertEquals(4, headers.size());
    assertEquals("Col1", headers.get("Col1"));
    assertEquals("Col2", headers.get("Col2"));
    // This assertion will fail because "Col2" is overwritten
    assertEquals(null, headers.get("Col2")); // or some other expected value
}