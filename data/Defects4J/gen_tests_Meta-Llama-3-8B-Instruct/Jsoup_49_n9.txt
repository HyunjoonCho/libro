
@Test
public void testElementInsertChildren() {
    Document doc = new Document("");
    Element body = doc.createElement("body");
    Element div1 = body.createElement("div1");
    Element div2 = body.createElement("div2");
    Element div3 = body.createElement("div3");
    Element div4 = body.createElement("div4");

    body.appendChild(div1);
    body.appendChild(div2);
    body.appendChild(div3);
    body.appendChild(div4);

    List<Element> toMove = new ArrayList<>();
    toMove.add(div3);
    toMove.add(div4);

    body.insertChildren(0, toMove);

    String result = doc.outputSettings().prettyPrint(false).toString();
    assertEquals("<body><div3></div3><div4></div4><div1></div1><div2></div2></body>", result);
}
