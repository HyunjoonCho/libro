java
import org.junit.Test;
import org.joda.time.DateTimeZone;
import org.joda.time.Duration;
import org.joda.time.Period;

import static org.junit.Assert.assertEquals;

public class DurationToPeriodTest {

    @Test
    public void testDurationToPeriodWithFixedTimeZone() {
        DateTimeZone.setDefault(DateTimeZone.forID("Etc/GMT"));
        Duration aDuration = new Duration(30 * DateTimeConstants.MILLIS_PER_HOUR + 50 * DateTimeConstants.MILLIS_PER_MINUTE + 14 * DateTimeConstants.MILLIS_PER_SECOND);
        Period period = aDuration.toPeriod();
        assertEquals("P1DT6H50M14S", period.toString());
    }

    @Test
    public void testDurationToPeriodWithDSTTimeZone() {
        DateTimeZone.setDefault(DateTimeZone.forID("America/Chicago"));
        Duration aDuration = new Duration(30 * DateTimeConstants.MILLIS_PER_HOUR + 50 * DateTimeConstants.MILLIS_PER_MINUTE + 14 * DateTimeConstants.MILLIS_PER_SECOND);
        Period period = aDuration.toPeriod();
        assertEquals("PT30H50M14S", period.toString());
    }
}
