java
public void testJsonWriterValue() {
    JsonWriter jsonWriter = new JsonWriter();
    try {
        jsonWriter.setLenient(true);
        jsonWriter.value(Double.valueOf(Double.NaN));
    } catch (Exception e) {
        fail("Expected to write NaN without throwing an exception, but got " + e.getMessage());
    }
}
