public void testClosureCompilerIssue() {
    Function isFunction = new Function("function(functionToCheck) { var getType; getType = {}; return functionToCheck && getType.toString.apply(functionToCheck) === '[object Function]'; }");
    assertEquals(true, ((Boolean) isFunction.invoke("function(a) { return a }")).booleanValue());
}