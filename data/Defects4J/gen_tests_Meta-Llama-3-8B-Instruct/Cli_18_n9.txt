
public void testPosixParserIgnoringUnrecognizedTokensStartingWithDash() {
    PosixParser parser = new PosixParser();
    parser.setStopAtNonOption(true);
    Options options = new Options();
    options.addOption(new Option("a", "foo"));
    String[] args = new String[] {"-z", "-a", "foo"};
    try {
        parser.parse(args, options);
        fail("Expected an exception to be thrown");
    } catch (ParseException e) {
        // expected
    }
    assertEquals(1, options.getOptions().size());
    assertEquals("a", options.getOptions().get(0).getOpt());
    assertEquals("foo", options.getOptions().get(0).getValue());
}
