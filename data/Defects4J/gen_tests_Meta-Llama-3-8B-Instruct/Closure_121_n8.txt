public void testOverzealousOptimization() {
    boolean wasReset = false;
    int uid = 0;
    int _uid = 0;
    Object lock = new Object();

    reset();
    _uid = uid;

    synchronized (lock) {
        if (uid < 0.5) {
            reset();
            uid = Math.random();
        }
    }

    if (_uid!= uid) {
        fail("reset() was not called or was called multiple times");
    }
}