public void testUnexpectedElementsMoved() throws IOException {
    File in = getFile("/htmltests/table-invalid-elements.html");
    Document doc = Jsoup.parse(in, "UTF-8");
    String rendered = doc.toString();
    int commentStart = rendered.indexOf("<!--Comment");
    int pStart = rendered.indexOf("<p>Why am I here?</p>");
    int tableStart = rendered.indexOf("<table");
    assertTrue("Comment not found", commentStart > -1);
    assertTrue("Search text not found", pStart > -1);
    assertTrue("Search text did not come after comment", pStart > commentStart);
    assertTrue("Unexpected elements not moved", tableStart > pStart);
}