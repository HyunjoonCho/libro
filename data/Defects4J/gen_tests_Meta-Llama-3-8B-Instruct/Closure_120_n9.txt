public void testOverzealousOptimization() {
    boolean didCallDoStuff = false;
    int originalUid = 0;
    int _uid = 0;
    
    function doStuff() {
        originalUid = Math.random();
        _uid = originalUid;
        if (originalUid < 0.5) {
            doStuff();
        }
        if (_uid!= originalUid) {
            fail("reset() was called");
        }
    }
    
    doStuff();
    assertTrue(didCallDoStuff);
}