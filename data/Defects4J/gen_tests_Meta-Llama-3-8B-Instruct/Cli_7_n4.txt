public void testRequiredOptions() {
    Options options = new Options();
    Option opt = OptionBuilder.withLongOpt("h").withDescription("help").create("h");
    options.addOption(opt);
    CommandLine cmd = new CommandLine();
    try {
        cmd.parse(options, new String[] {"-c", "<arg>"});
        fail("Expected failure");
    } catch (RequiredOptionException e) {
        assertEquals("-h", e.getOption().getLongOpt());
    }
}