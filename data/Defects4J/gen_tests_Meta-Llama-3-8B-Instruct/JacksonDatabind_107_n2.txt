
public void testDeserializationWithDeserializationProblemHandler() throws Exception {
    ObjectWriter writer = new ObjectMapper().writer();
    ObjectReader reader = new ObjectMapper().reader();
    DeserializationProblemHandler handler = new DeserializationProblemHandler() {
        @Override
        public Object handleUnknownTypeId(DeserializationContext ctxt, JavaType type, String typeId, TypeIdResolver typeIdRes, String propertyName) {
            return Void.TYPE;
        }
    };
    reader.setDeserializationProblemHandler(handler);
    String json = "{\"unknown\": \"value\"}";
    JsonNode node = reader.readTree(json);
    // Assert that no NPE is thrown
}
