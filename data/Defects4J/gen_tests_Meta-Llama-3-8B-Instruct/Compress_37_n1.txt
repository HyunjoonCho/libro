public void testParsingPaxHeadersWithEmptyLineAtEnd() {
    TarArchiveInputStream tarIn = new TarArchiveInputStream(new ByteArrayInputStream("header1\nheader2\n\n".getBytes()));
    try {
        tarIn.parsePaxHeaders();
        fail("Expected NegativeArraySizeException");
    } catch (NegativeArraySizeException e) {
        // Expected exception
    }
}