public void testIE8Error() {
    String script = "if(b.onchange){b.onchange({_extendedByPrototype:Prototype.emptyFunction,target:b})};";
    String expectedScript = "b.onchange&&b.onchange({_extendedByPrototype:Prototype.emptyFunction,target:b})";
    String actualScript = Compiler.compile(script);
    assertEquals(expectedScript, actualScript);
}