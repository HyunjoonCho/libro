
public void testZipArchiveInputStreamGetNextZipEntry() throws Exception {
    // Create a ZipArchiveInputStream
    ZipArchiveInputStream zipInputStream = new ZipArchiveInputStream(new ByteArrayInputStream(new byte[0]));

    // Test that getNextZipEntry() returns null when no more entries
    ZipEntry entry = zipInputStream.getNextZipEntry();
    assertNull(entry);

    // Simulate an invalid entry
    zipInputStream.mark(1);
    zipInputStream.write("Invalid entry".getBytes());
    zipInputStream.reset();

    // The bug: getNextZipEntry() should return null or throw an exception here
    entry = zipInputStream.getNextZipEntry();
    assertNotNull(entry); // This assertion should fail

    // Test that getNextZipEntry() throws an exception on invalid entry
    try {
        zipInputStream.getNextZipEntry();
        fail("Expected ZipException");
    } catch (ZipException e) {
        // Expected
    }
}
