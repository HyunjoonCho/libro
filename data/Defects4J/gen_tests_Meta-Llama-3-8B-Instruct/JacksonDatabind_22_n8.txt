public void testCustomSerializerNotUsed() {
    JsonSerializer serializer = new JsonSerializer() {
        @Override
        public void serialize(Object value, JsonGenerator gen, SerializerProvider serializers) throws IOException {
            // This method should be called
        }
    };

    ObjectMapper mapper = new ObjectMapper();
    mapper.setSerializerInstance(serializer);

    MyPojo pojo = new MyPojo();
    mapper.writeValue(new File("test.json"), pojo);
}