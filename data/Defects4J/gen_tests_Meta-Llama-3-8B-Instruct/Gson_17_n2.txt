java
public void testDefaultDateTypeAdapterNullabilityIssue() {
    Gson gson = new Gson();
    String json = gson.toJson(null);
    assertEquals("null", json);

    Date date = new Date();
    String jsonDate = gson.toJson(date);
    assertEquals("{\"instant\":-1}", jsonDate);

    Date nullDate = null;
    try {
        gson.fromJson("{\"instant\":-1}", Date.class);
        fail("Expected NullPointerException");
    } catch (JsonSyntaxException e) {
        // expected
    }
}
