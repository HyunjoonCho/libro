public void testIncompleteNamespaceHandling() {
    // Create a DOM document
    Document document = DocumentHelper.createDocument();
    Element elementA = document.createElement("ElementA");
    elementA.setAttribute("A:myAttr", "Mytype");
    Element elementB = document.createElement("B:ElementB");
    elementB.setTextContent("MY VALUE");
    elementA.appendChild(elementB);
    document.appendChild(elementA);

    // Try to create an attribute with an unknown namespace
    try {
        elementA.getAttributeNode("A:myAttr");
        fail("Expected an exception for unknown namespace prefix");
    } catch (DOMException e) {
        assertEquals("unknown namespace prefix: A", e.getMessage());
    }
}