public void testTypeHierarchyAdapterFailure() {
    Gson gson = new Gson();
    JsonElement json = gson.fromJson("{\"type\":\"Truck\"}", JsonElement.class);
    assertEquals(Truck.class, gson.getAdapter(Vehicle.class).adapt(json));
}