java
import org.junit.Test;
import java.io.ByteArrayInputStream;
import java.io.IOException;
import java.io.InputStream;

import static org.junit.Assert.assertEquals;

public class Base64InputStreamReadTest {
    @Test
    public void testBase64InputStreamRead() throws IOException {
        byte[] data = "AQIDBAQ=".getBytes();
        InputStream in = new ByteArrayInputStream(data);
        Base64InputStream base64InputStream = new Base64InputStream(in, true);
        byte[] buffer = new byte[1];
        assertEquals(3, base64InputStream.read(buffer));
        assertEquals(0, base64InputStream.read(buffer));
        assertEquals(-1, base64InputStream.read(buffer));
    }
}
