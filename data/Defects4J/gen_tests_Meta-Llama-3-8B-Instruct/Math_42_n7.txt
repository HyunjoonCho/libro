public void testNegativeValueWithRestrictNonNegative() {
    RealLinearConstraint[] constraints = new RealLinearConstraint[] {
        new RealLinearConstraint(new double[] {1, 0}, 1, 0)
    };
    Function function = new AbstractLinearFunction() {
        @Override
        public double evaluate(double[] point) {
            return point[0] + point[1];
        }
    };
    SimplexSolver solver = new SimplexSolver();
    solver.optimize(function, constraints, GoalType.MINIMIZE, true);
    double[] result = solver.getOptimum();
    assertEquals(1, result[0], 0.0001);
    assertEquals(-1, result[1], 0.0001);
}