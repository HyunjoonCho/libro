java
import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.SerializationFeature;
import org.junit.Test;
import java.io.IOException;
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.TimeZone;

import static org.junit.Assert.assertEquals;

public class StdDateFormatDeserializationTest {

    @Test
    public void testStdDateFormatDeserialization() throws IOException, ParseException {
        ObjectMapper mapper = new ObjectMapper();
        mapper.setTimeZone(TimeZone.getTimeZone("GMT+2"));
        mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);

        String json = "\"1970-01-01T00:00:00.000\"";
        Date date = mapper.readValue(json, Date.class);

        // Before 2.8.9, the date should be deserialized with the configured timezone
        assertEquals(1970, date.getYear());
        assertEquals(1, date.getMonth());
        assertEquals(1, date.getDate());
        assertEquals(7200000, date.getTimezoneOffset()); // 2 hours

        // After 2.8.9, the date is deserialized in UTC
        // mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);
        // String newJson = mapper.writeValueAsString(date);
        // assertEquals("\"1970-01-01T00:00:00.000+00:00\"", newJson);
    }
}
