public void testRequiredOptions() {
    Options options = new Options();
    options.addOption("h", "help", false, "help");
    options.addOption("c", "config", true, "config");
    CommandLine cmd = new CommandLine();
    try {
        cmd.parse(options, new String[] {"-c", "<arg>"});
        fail("Expected exception");
    } catch (ParseException e) {
        assertEquals("Missing required option: -h", e.getMessage());
    }
}