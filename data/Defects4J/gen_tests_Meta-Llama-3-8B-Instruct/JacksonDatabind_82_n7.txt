java
import com.fasterxml.jackson.databind.ObjectMapper;
import org.junit.Test;

import static org.junit.Assert.assertEquals;

public class JsonTest {

    @Test
    public void testJsonIgnorePropertiesAllowSetters() throws Exception {
        ObjectMapper mapper = new ObjectMapper();
        JsonTest jsonTest = new JsonTest("user", "password");

        String jsonString = mapper.writeValueAsString(jsonTest);
        assertEquals("{\"username\":\"user\"}", jsonString);

        jsonTest = mapper.readValue("{\"username\":\"username\",\"password\":\"password\"}", JsonTest.class);

        assertEquals("password", jsonTest.getPassword());
    }
}
