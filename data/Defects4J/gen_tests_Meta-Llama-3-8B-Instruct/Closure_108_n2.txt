public void testPreconditionCrash() {
    final Map<String, Object> goog = new HashMap<>();
    goog.put("scope", new Runnable() {
        public void run() {
            final Map<String, Object> ns = new HashMap<>();
            ns.put("sub", new HashMap<>());
            ns.get("sub").put("C", new Object());
        }
    });
    goog.scope();
    Map<String, Object> sub = (Map<String, Object>) goog.get("sub");
    sub.put("C", null);
}