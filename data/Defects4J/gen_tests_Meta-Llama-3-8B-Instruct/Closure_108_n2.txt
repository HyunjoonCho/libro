java
import org.junit.Test;
import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.CompilerOptions;
import com.google.javascript.jscomp.Result;

public class TestScopeAliasing {
    @Test
    public void testScopeAliasing() {
        Compiler compiler = new Compiler();
        CompilerOptions options = new CompilerOptions();
        String code = "goog = {};\n" +
                "goog.scope;\n" +
                "var ns = {};\n" +
                "ns.sub = {};\n" +
                "/** @constructor */\n" +
                "ns.sub.C = function() {};\n" +
                "goog.scope(function() {\n" +
                " var sub = ns.sub;\n" +
                " /** @type {sub.C} */\n" +
                " var x = null;\n" +
                "});";
        Result result = compiler.compile(code, options);
        assert result.hasError();
    }
}
