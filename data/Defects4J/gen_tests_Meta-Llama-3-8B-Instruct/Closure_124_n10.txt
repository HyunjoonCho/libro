public void testClosureCompilerIssue() {
    String input = "var foreignObject = gfx.parentNode.parentNode;\n" +
            "var parentContainer = foreignObject.parentNode.parentNode;";
    String expectedOutput = "if(b){if(a=b.parentNode.parentNode,b=a.parentNode.parentNode,null!==b)";
    String commandLineOutput = "var b=a=a.parentNode.parentNode;";

    // Test that the web UI output is correct
    assertEquals(expectedOutput, compiler.compile(input));

    // Test that the command line output is incorrect
    String commandLineOutputActual = new ProcessBuilder("java", "-jar", "compiler.jar", "--js", "test.js").start().waitFor() + "";
    assertEquals(commandLineOutput, commandLineOutputActual);
}