java
import org.junit.Test;

public class InferenceInconsistencyTest {

    @Test
    public void testInconsistency() {
        String[] func(String record) {
            System.out.println(record);
            return null;
        }

        String[] func2(Object record) {
            if (record instanceof String) {
                System.out.println(record);
            } else {
                System.out.println(((Map) record).get("prop"));
            }
            return null;
        }

        func("a");
        func2("a");
    }
}
