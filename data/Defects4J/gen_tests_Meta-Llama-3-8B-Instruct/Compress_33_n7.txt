
public void testCompressorStreamFactory() throws IOException {
    // Create a deflate stream with zlib header
    FileInputStream fis = new FileInputStream("bla.tar.deflatez");
    CompressorInputStream cis = CompressorStreamFactory.createCompressorInputStream(new FileInputStream("bla.tar.deflatez"));
    try {
        cis.read(); // This should throw a CompressorException
        fail("Expected CompressorException");
    } catch (CompressorException e) {
        // Expected exception
    }
}
