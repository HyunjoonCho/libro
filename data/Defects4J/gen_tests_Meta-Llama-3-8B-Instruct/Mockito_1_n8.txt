public void testArgumentCaptorFailure() {
    ArgumentCaptor<Integer> captor = ArgumentCaptor.forClass(Integer.class);
    Mockito.doNothing().when(mock).method(captor.capture());
    mock.method(1, 2, 3);
    List<Integer> capturedArgs = captor.getAllValues();
    assertEquals(1, capturedArgs.size());
    assertEquals(3, (int) capturedArgs.get(0));
}