
import org.junit.Test;

public class BugWithImplicitNamespacesAcrossModulesTest {
    @Test
    public void testImplicitNamespacesAcrossModules() {
        // Module A
        goog.provide('apps');
        var apps = {};
        apps.foo = {};

        // Module B
        goog.provide('apps.foo.bar.B');
        apps.foo.bar = {};
        apps.foo.bar.B = {};

        // Module C
        goog.provide('apps.foo.bar.C');
        apps.foo.bar.C = {};

        // Expect runtime error in Module A
        // apps.foo.bar is assigned before apps.foo
    }
}
