public void testAmbiguousOption() {
    Options options = new Options();
    Option importOption = Option.builder("i").longOpt("import").hasArg().argName("FILE").build();
    Option importToOpenOption = Option.builder().longOpt("importToOpen").hasArg().argName("FILE").build();
    options.addOption(importOption);
    options.addOption(importToOpenOption);
    try {
        options.parse(new String[] {"--import=FILE"});
        fail("Expected AmbiguousOptionException");
    } catch (OptionException e) {
        assertEquals("Option '-import' or '--importToOpen' is ambiguous", e.getMessage());
    }
}