
public void testGoogScope() {
    String code = "goog.scope(function() { var x = function(){}; });";
    try {
        // This should throw a compile error
        eval(code);
        fail("Expected compile error");
    } catch (ScriptException e) {
        // This is expected
    }

    code = "goog.scope(function() { function x(){}; });";
    try {
        // This should not throw a compile error
        eval(code);
    } catch (ScriptException e) {
        fail("Unexpected compile error");
    }
}
