
public void testBase64EncodeStringChunking() {
    String encoded1 = Base64.encodeBase64String(StringUtils.getBytesUtf8("f"));
    assertEquals("Zg==", encoded1);

    String encoded2 = Base64.encodeBase64String(StringUtils.getBytesUtf8("fo"));
    assertEquals("Zm8=", encoded2);

    String encoded3 = Base64.encodeBase64String(StringUtils.getBytesUtf8("foo"));
    assertEquals("Zm9v", encoded3);

    String encoded4 = Base64.encodeBase64String(StringUtils.getBytesUtf8("foob"));
    assertEquals("Zm9vYg==", encoded4);

    String encoded5 = Base64.encodeBase64String(StringUtils.getBytesUtf8("fooba"));
    assertEquals("Zm9vYmE=", encoded5);

    String encoded6 = Base64.encodeBase64String(StringUtils.getBytesUtf8("foobar"));
    assertEquals("Zm9vYmFy", encoded6);
}
