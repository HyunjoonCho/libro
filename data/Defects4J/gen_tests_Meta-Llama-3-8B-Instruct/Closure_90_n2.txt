java
import org.junit.Test;
import org.junit.runner.RunWith;
import org.junit.runners.JUnit4;

@RunWith(JUnit4.class)
public class ThisTypedefWarningTest {

    @Test
    public void testThisTypedefWarning() {
        // This code snippet is supposed to reproduce the issue
        // with the @this warning when used with a typedef
        goog.provide("bug");
        bug.sharedMethod = function() {};

        /**
         * @constructor
         */
        bug.A = function() {};

        /**
         * @constructor
         */
        bug.B = function() {};

        /**
         * @type {bug.A|bug.B}
         */
        bug.Thing = goog.typedef;

        // This should emit a warning
        bug.sharedMethod = function() {};
    }
}
