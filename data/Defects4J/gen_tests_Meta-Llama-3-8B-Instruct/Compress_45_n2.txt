java
import org.junit.Test;
import org.junit.runner.RunWith;
import org.junit.runners.JUnit4;
import org.apache.commons.io.input.TarArchiveInputStream;
import org.apache.commons.io.output.TarArchiveOutputStream;

import java.io.ByteArrayInputStream;
import java.io.ByteArrayOutputStream;
import java.io.IOException;

@RunWith(JUnit4.class)
public class TarUtilsTest {

    @Test
    public void testFormatLongOctalOrBinaryBytes() throws IOException {
        ByteArrayOutputStream bos = new ByteArrayOutputStream();
        TarArchiveOutputStream taos = new TarArchiveOutputStream(bos);

        // Create a small byte array
        byte[] data = new byte[5];
        // Fill with some values
        for (int i = 0; i < data.length; i++) {
            data[i] = (byte) i;
        }

        // Write the byte array to the tar stream
        taos.putArchiveEntry(new TarArchiveEntry("test"));
        taos.write(data);
        taos.closeEntry();

        // Now read the stream back into a byte array
        ByteArrayInputStream bis = new ByteArrayInputStream(bos.toByteArray());
        TarArchiveInputStream tai = new TarArchiveInputStream(bis);

        // Read the byte array from the tar stream
        byte[] readData = new byte[5];
        tai.read(readData);

        // Check if the data was correctly read
        for (int i = 0; i < readData.length; i++) {
            assertEquals((byte) i, readData[i]);
        }
    }
}
