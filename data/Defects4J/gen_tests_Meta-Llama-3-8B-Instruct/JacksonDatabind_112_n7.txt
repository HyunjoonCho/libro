
public void testStringCollectionDeserializerFailsWithCustomCollection() {
    // Create a custom collection class
    class CustomStringCollection extends ArrayList<String> {
        public CustomStringCollection() {
            // This is an immutable collection
            Collections.unmodifiableCollection(new ArrayList<String>());
        }
    }

    // Create a test object with a property of type CustomStringCollection
    class TestObject {
        private CustomStringCollection strings;
        public CustomStringCollection getStrings() {
            return strings;
        }
        public void setStrings(CustomStringCollection strings) {
            this.strings = strings;
        }
    }

    // Create a mapper
    ObjectMapper mapper = new ObjectMapper();

    // Try to deserialize a JSON string to a TestObject
    String json = "{\"strings\":[\"string1\",\"string2\"]}";
    TestObject testObject = mapper.readValue(json, TestObject.class);

    // Expect the deserialization to fail
    //...
}
