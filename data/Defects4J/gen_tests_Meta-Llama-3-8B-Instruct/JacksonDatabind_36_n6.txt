
public void testDateParsingLeniency() throws JsonProcessingException {
    ObjectMapper mapper = new ObjectMapper();
    StdDateFormat dateFormat = mapper.getDateFormat();
    // Test lenient parsing
    String json = "{\"date\":\"2015-01-32\"}";
    JsonNode node = mapper.readTree(json);
    DateTime date = mapper.treeToValue(node, DateTime.class);
    assertEquals(2015, date.getYear());
    assertEquals(2, date.getMonthOfYear());
    assertEquals(1, date.getDayOfMonth());

    // Test non-lenient parsing
    mapper.setDateFormat(new StdDateFormat().setLenient(false));
    json = "{\"date\":\"2015-01-32\"}";
    try {
        mapper.readTree(json);
        fail("Expected JsonProcessingException for non-lenient parsing");
    } catch (JsonProcessingException e) {
        // Expected exception
    }
}
