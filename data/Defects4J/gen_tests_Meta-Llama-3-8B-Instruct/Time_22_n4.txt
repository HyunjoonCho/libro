java
public void testDurationToPeriodFixedTimeZone() {
    DateTimeZone fixedTimeZone = DateTimeZone.forID("Etc/GMT");
    DateTimeZone dstTimeZone = DateTimeZone.forID("America/Chicago");

    DateTimeZone.setDefault(fixedTimeZone);
    Duration aDuration = new Duration(DateTimeConstants.MILLIS_PER_HOUR * 30 + DateTimeConstants.MILLIS_PER_MINUTE * 50 + DateTimeConstants.MILLIS_PER_SECOND * 14);
    Period period = aDuration.toPeriod();
    assertEquals(PeriodType.hours(6), period.getPeriodType());
    assertEquals(50, period.getMinutes());
    assertEquals(14, period.getSeconds());

    DateTimeZone.setDefault(dstTimeZone);
    aDuration = new Duration(DateTimeConstants.MILLIS_PER_HOUR * 30 + DateTimeConstants.MILLIS_PER_MINUTE * 50 + DateTimeConstants.MILLIS_PER_SECOND * 14);
    period = aDuration.toPeriod();
    assertEquals(PeriodType.hours(30), period.getPeriodType());
    assertEquals(50, period.getMinutes());
    assertEquals(14, period.getSeconds());
}
