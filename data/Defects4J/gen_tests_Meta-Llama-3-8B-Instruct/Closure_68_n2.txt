
import org.junit.Test;
import org.junit.runner.RunWith;
import org.junit.runners.JUnit4;

import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.CompilerException;

@RunWith(JUnit4.class)
public class TestCrypticError {
    @Test
    public void testCrypticError() {
        Compiler compiler = new Compiler();
        try {
            compiler.compile("/**\n" +
                    " * @type function\n" +
                    " */\n" +
                    "var callback;");
            fail("Expected a warning to be thrown");
        } catch (CompilerException e) {
            assertEquals("test.js:3: WARNING - Parse error. Unexpected end of file\n" +
                    " */\n" +
                    " ^", e.getMessage());
        }
    }
}
