public void testEscapeModeXhtmlFallsBackToNumericEscapes() {
    String input = "<html><body>&nbsp;</body></html>";
    Document doc = Jsoup.parse(input);
    doc.outputSettings().escapeMode(EscapeMode.xhtml);
    String output = doc.html();
    Assert.assertFalse(output.contains("?"));
    Assert.assertTrue(output.contains "&#160;");
}