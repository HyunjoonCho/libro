
import org.junit.Test;
import org.apache.commons.compress.archivers.tar.TarArchiveEntry;
import org.apache.commons.compress.archivers.tar.TarArchiveInputStream;

import java.io.ByteArrayInputStream;
import java.io.IOException;

import static org.junit.Assert.fail;

public class TestTarArchiveEntry {
    @Test
    public void testTarFile() throws IOException {
        byte[] data = {(byte)0x01, (byte)0x75, (byte)0x00, (byte)0x00, (byte)0x00, (byte)0x5e, (byte)0x00, (byte)0x00};
        ByteArrayInputStream bais = new ByteArrayInputStream(data);
        TarArchiveInputStream tarIn = new TarArchiveInputStream(bais);
        try {
            TarArchiveEntry entry = tarIn.getNextEntry();
            fail("Expected IllegalArgumentException");
        } catch (IllegalArgumentException e) {
            // expected
        }
    }
}
