
public void testLastWarningOrErrorTruncated() {
    String[] args = new String[] {"--warning_level", "VERBOSE", "--js", "test.js"};
    String output = Compiler.compile(args, "alert(foo);\nalert(bar);");

    // Verify that the last error is truncated
    assertTrue(output.contains("variable foo is undefined"));
    assertFalse(output.contains("test.js:1:"));
    assertFalse(output.contains("^"));
}
