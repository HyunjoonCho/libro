public void testInvokerTransformer() throws Exception {
    Transformer transformer = new InvokerTransformer();
    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    ObjectOutputStream oos = new ObjectOutputStream(bos);
    oos.writeObject(new ArrayList<String>());
    oos.close();
    byte[] bytes = bos.toByteArray();
    
    AnnotationInvocationHandler handler = new AnnotationInvocationHandler();
    oos = new ObjectOutputStream(new ByteArrayInputStream(bytes));
    oos.writeObject(handler);
    oos.close();
    
    // This is where the magic happens
    handler.invoke("add", null, new Object[]{new Object()});
}