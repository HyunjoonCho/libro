public void testArgumentCaptor() {
    ArgumentCaptor<Integer[]> captor = ArgumentCaptor.capture();
    int[] args = {1, 2, 3};
    when(mock.method(any(Integer[].class)).thenReturn(args);
    mock.method(args);
    verify(mock).method(captor.capture());
    Integer[] capturedArgs = captor.getValue();
    assertArrayEquals(args, capturedArgs);
}