
public void testParsingISO8601Formats() throws JsonProcessingException {
    String json1 = "{\"timestamp\":\"2014-10-03T18:00:00.6-05:00\"}";
    String json2 = "{\"timestamp\":\"2014-10-03T18:00:00.61-05:00\"}";
    String json3 = "{\"timestamp\":\"1997-07-16T19:20+01:00\"}";
    String json4 = "{\"timestamp\":\"1997-07-16T19:20:30.45+01:00\"}";

    ObjectMapper mapper = new ObjectMapper();
    DateTimeFormatter formatter = DateTimeFormatter.ISO_DATE_TIME;

    // Test 1
    DateTime dt1 = mapper.readValue(json1, DateTime.class);
    assertEquals(formatter.parseDateTime("2014-10-03T18:00:00.6-05:00"), dt1);

    // Test 2
    DateTime dt2 = mapper.readValue(json2, DateTime.class);
    assertEquals(formatter.parseDateTime("2014-10-03T18:00:00.61-05:00"), dt2);

    // Test 3
    DateTime dt3 = mapper.readValue(json3, DateTime.class);
    assertEquals(formatter.parseDateTime("1997-07-16T19:20+01:00"), dt3);

    // Test 4
    DateTime dt4 = mapper.readValue(json4, DateTime.class);
    assertEquals(formatter.parseDateTime("1997-07-16T19:20:30.45+01:00"), dt4);
}
