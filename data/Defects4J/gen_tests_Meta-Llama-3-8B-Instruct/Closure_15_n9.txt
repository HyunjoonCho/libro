public void testIssue() {
    Map<String, String> customData = new HashMap<>();
    customData.put("key", "value");
    String originalValue = customData.get("key");
    boolean hadKey = "key" in customData;
    if (customData.containsKey("key")) {
        customData.remove("key");
    }
    String result = hadKey? originalValue : null;
    assertEquals("value", result);
    assertFalse("key" in customData);
}