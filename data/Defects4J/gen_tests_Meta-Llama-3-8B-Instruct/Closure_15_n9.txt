java
public void testSwitchedOrderOfDeleteKeyAndKeyInChangesSemantic() {
    Map<String, String> customData = new HashMap<>();
    customData.put("key", "value");

    String testRemoveKey = "key";
    String retval = null;
    boolean hadKey = customData.containsKey(testRemoveKey);

    if (customData.containsKey(testRemoveKey)) {
        customData.remove(testRemoveKey);
    }

    if (hadKey) {
        retval = customData.get(testRemoveKey);
    }

    assertEquals("value", retval);
    assertFalse(customData.containsKey(testRemoveKey));
}
