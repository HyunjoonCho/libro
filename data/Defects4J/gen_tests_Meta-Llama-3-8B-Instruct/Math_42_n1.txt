public void testNegativeValueWithRestrictNonNegative() {
    final double[] coefficients = {1, 1, 0};
    final double[] lowerBound = {0, 0};
    final double[] upperBound = {Double.POSITIVE_INFINITY, Double.POSITIVE_INFINITY};
    final SimplexSolver solver = new SimplexSolver();
    solver.optimize(new AbstractOptimizationProblem() {
        @Override
        public double evaluate(double[] variables) {
            return coefficients[0] * variables[0] + coefficients[1] * variables[1];
        }
    }, new LinearConstraint[] {
        new LinearConstraint(new double[] {1, 0}, Relation.LEQ, 1)
    }, GoalType.MINIMIZE, true);
    assertEquals(1, solver.getOptimum()[0], 0.001);
    assertEquals(-1, solver.getOptimum()[1], 0.001);
}