java
public void testClassifyNonRightmostExpressionsAsProblematic() {
    // Test 1: foo((1, 2, 42))
    assertEquals("foo((1, 3))", simplifyExpression("(1, 2, 42)"));
    assertWarning("only the first element is checked for being free of side effects");

    // Test 2: foo((bar(), 2, 42))
    assertEquals("foo((bar(), 3))", simplifyExpression("(bar(), 2, 42)");
    // No warning expected

    // Test 3: foo(((1, 2, 3), (4, 5, 42)))
    assertEquals("foo((1, 4, 42))", simplifyExpression("((1, 2, 3), (4, 5, 42))");
    // Warnings expected for the first elements of inner sequences only
}
