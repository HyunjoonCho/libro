
public void testJacksonXmlRootElement() throws JsonProcessingException {
    @JacksonXmlRootElement(localName = "myname")
    public class XMLTest {

        public static void main(String[] s) throws Exception {

            final ObjectMapper xmlMapper = new XmlMapper();
            final ObjectMapper noAnnotationsXmlMapper = xmlMapper.copy()
                   .configure(MapperFeature.USE_ANNOTATIONS, false)
                   .configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);

            String expected1 = "<myname/>";
            String expected2 = "<myname/>";

            assertEquals(expected1, noAnnotationsXmlMapper.writeValueAsString(new XMLTest()));
            assertEquals(expected2, xmlMapper.writeValueAsString(new XMLTest()));
        }
    }
