public void testLongDirectoryName() {
    TarArchiveOutputStream tarOut = new TarArchiveOutputStream(new FileOutputStream("test.tar"));
    try {
        TarArchiveEntry dirEntry = new TarArchiveEntry("PaxHeaders.X/layers/openstreetmap__osm.disy.net/.tiles/1.0.0/openstreetmap__osm.disy.net/default/");
        dirEntry.setSize(114); // this should exceed the 100 bytes limit
        tarOut.putArchiveEntry(dirEntry);
        tarOut.write(new byte[1]); // write some data to exceed the expected length
        tarOut.closeEntry();
        tarOut.close();
    } catch (IOException e) {
        fail("Expected to add directory without exception");
    }
}