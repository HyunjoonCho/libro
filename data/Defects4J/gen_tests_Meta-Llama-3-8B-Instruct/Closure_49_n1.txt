public void testFunctionAssignmentWithVariableReuse() {
    Function function = new Function() {
        var bar;
        public void run() {
            alert(bar);
        }
    };
    String expected = "var foo = function() {\nalert(void 0);\n};";
    String actual = function.toString();
    assertEquals(expected, actual);
}