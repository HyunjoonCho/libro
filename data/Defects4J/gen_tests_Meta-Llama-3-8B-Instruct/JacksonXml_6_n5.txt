
public void testToXmlGeneratorWriteBinaryWithInputStream() throws IOException {
    ToXmlGenerator xmlGenerator = new ToXmlGenerator();
    // Set up the expected output
    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    xmlGenerator.writeBinary("base64", new ByteArrayInputStream(new byte[] {1, 2, 3}), 3);
    String expectedOutput = bos.toString();
    
    // Write binary data with InputStream
    byte[] data = new byte[] {4, 5, 6};
    ByteArrayInputStream inputStream = new ByteArrayInputStream(data);
    xmlGenerator.writeBinary("base64", inputStream, data.length);
    String actualOutput = bos.toString();
    
    // Verify that the output is as expected
    assertEquals(expectedOutput, actualOutput);
}
