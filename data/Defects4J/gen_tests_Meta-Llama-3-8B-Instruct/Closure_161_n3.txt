
public void testPeepholeConstantsFolding() {
    String code = "var Mdt=[]; Mdt[11] = ['22','19','19','16','21','18','16','20','17','17','21','17'];";
    try {
        // Run the code through the peephole constants folding pass
        // This should throw a JSC_INDEX_OUT_OF_BOUNDS_ERROR
        // due to the bug in the peephole constants folding pass
        // expecting the code to be executed without errors
    } catch (Exception e) {
        assertEquals("JSC_INDEX_OUT_OF_BOUNDS_ERROR: Array index out of bounds: NUMBER 11.0", e.getMessage());
    }
}
