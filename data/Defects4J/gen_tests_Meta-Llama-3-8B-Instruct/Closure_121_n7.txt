java
public class TestOverzealousOptimization {
    public static void main(String[] args) {
        int uid;
        void reset() {
            uid = (int) (Math.random() * 1000);
        }
        void doStuff() {
            reset();
            int _uid = uid;

            if (uid < 500) {
                doStuff();
            }

            if (_uid!= uid) {
                throw new AssertionError("reset() was called");
            }
        }
        doStuff();
    }
}
