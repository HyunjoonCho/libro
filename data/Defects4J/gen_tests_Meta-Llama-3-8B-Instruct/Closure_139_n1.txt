public void testRedefinitionOfFunction() {
    assert(new Object() {
        function assert(b) {
            if (!b) throw "error"
        }
    }.assert(true));

    var f = function() {return 2;};
    assert(f() === 2)

    function f() {return 1;};

    try {
        assert(true);
    } catch (e) {
        assertEquals("error", e);
    }
}