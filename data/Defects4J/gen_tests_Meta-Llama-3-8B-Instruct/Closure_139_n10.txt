
public void testRedefinitionOfFunction() {
    // Step 1: Define a function and assign a value
    function assert(b) {
        if (!b) throw "error";
    }
    assert(f() === 1);
    var f = function() { return 2; };
    assert(f() === 2);

    // Step 2: Redefine the function
    function f() { return 1; };

    // Verify that the redefined function is not recognized
    try {
        assert(f() === 1);
        fail("Expected error");
    } catch (e) {
        assertEquals("error", e);
    }
}
