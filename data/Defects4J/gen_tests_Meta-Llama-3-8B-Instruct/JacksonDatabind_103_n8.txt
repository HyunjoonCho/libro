
import com.fasterxml.jackson.core.JsonProcessingException;
import com.fasterxml.jackson.databind.JsonMappingException;
import com.fasterxml.jackson.databind.ObjectMapper;

import org.junit.Test;

public void testJsonMappingExceptionLocation() throws JsonProcessingException {
    ObjectMapper mapper = new ObjectMapper();
    String json = "{\"notAField\": \"value\"}";
    try {
        mapper.readValue(json, HashMap.class);
    } catch (JsonMappingException e) {
        assertEquals("InvalidFormat: Can not deserialize value of type [map type; class java.util.HashMap] as one of the supported types [null] at [Source: (String:\"{"notAField": "value\"}""; line: 1, column: 2) at [Source: (String:\"{"notAField": "value\"}""; line: 1, column: 2)", e.getMessage());
    }
}
