public void testJsonIdentityInfoDeserializationFails() {
    // setup test data
    String json = "{\"ids\":[{\"id\":1,\"next\":{\"id\":2}}]}";
    ObjectMapper mapper = new ObjectMapper();
    mapper.enableDefaultTyping();
    mapper.activateDefaultTyping(mapper.getDeserializationConfig().getBaseType());
    ObjectReader reader = mapper.reader();
    JsonNode root = reader.readTree(json);

    // expected result
    List<Id> ids = mapper.readValue(json, new TypeReference<List<Id>>() {});
    assertEquals(1, ids.get(0).getId());
    assertEquals(2, ids.get(0).getNext().getId());
}