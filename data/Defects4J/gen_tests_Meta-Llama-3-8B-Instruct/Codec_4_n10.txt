
import org.junit.Test;
import org.junit.runner.RunWith;
import org.junit.runners.JUnit4;
import org.apache.commons.codec.binary.Base64;

import static org.junit.Assert.assertEquals;

@RunWith(JUnit4.class)
public class Base64Test {

    @Test
    public void testBase64Encoding() throws Exception {
        Base64 base64 = new Base64();

        String input1 = "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa";
        String expected1 = "[YWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYQ==]\n";
        assertEquals(expected1, "[" + new String(base64.encode(input1.getBytes("UTF-8")), "UTF-8") + "]");

        String input2 = "aaaaaaaaaa";
        String expected2 = "[YWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYQ==]\n";
        assertEquals(expected2, "[" + new String(base64.encode(input2.getBytes("UTF-8")), "UTF-8") + "]");

        String input3 = "a";
        String expected3 = "[YQ==]\n";
        assertEquals(expected3, "[" + new String(base64.encode(input3.getBytes("UTF-8")), "UTF-8") + "]");
    }
}
