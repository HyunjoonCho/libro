java
import org.jxpath.JXPathContext;
import org.jxpath.Pointer;
import org.jxpath.PointerIterator;
import org.jxpath.beans.BeanNode;
import org.jxpath.beans.BeanNodeSet;
import org.jxpath.beans.NodeSet;
import org.jxpath.iterators.PointerIteratorImpl;
import org.junit.Test;

import java.util.ArrayList;
import java.util.List;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertNotNull;

public class NodeSetTest {

    @Test
    public void testNodeSet() {
        JXPathContext context = JXPathContext.newContext(new BeanNode("ems"));
        NodeSet nodeSet = context.selectNodes("ems:observations()");

        assertNotNull(nodeSet);
        assertEquals(1, nodeSet.getSize());

        BeanNodeSet beanNodeSet = (BeanNodeSet) nodeSet;
        List<Pointer> pointers = beanNodeSet.getPointers();

        PointerIterator pointerIterator = new PointerIteratorImpl(pointers);
        Pointer pointer = pointerIterator.next();

        assertEquals(BeanNode.class, pointer.getBean().getClass());
    }
}
