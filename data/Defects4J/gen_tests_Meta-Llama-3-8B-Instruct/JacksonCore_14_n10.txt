java
@Test
public void testRelaxOwnershipChecksForBuffers() {
    IOContext ioContext = new IOContext();
    ByteBuffer buffer1 = ByteBuffer.allocate(1024);
    ByteBuffer buffer2 = ByteBuffer.allocate(1024);

    // Simulate allocation
    ioContext.incrementCount(buffer1);
    ioContext.incrementCount(buffer2);

    // Check that returning buffer2 with similar size is not allowed
    assertThrows(UnsupportedOperationException.class, () -> ioContext.checkBuffer(buffer1, buffer2));

    // Check that returning buffer2 with same size is allowed
    ioContext.checkBuffer(buffer1, buffer2);

    // Check that growing buffer is allowed
    ByteBuffer buffer3 = ByteBuffer.allocate(2048);
    ioContext.checkBuffer(buffer1, buffer3);
}
