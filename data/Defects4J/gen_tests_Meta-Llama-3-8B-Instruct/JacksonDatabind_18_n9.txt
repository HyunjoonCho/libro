public void testErrorRecoveryInReadValues() {
    ObjectReader reader = new ObjectReader();
    JsonParser jsonParser = new JsonParser();
    jsonParser.reset(new ByteArrayInputStream("{\"a\": [1, 2, 3]}".getBytes()));
    MappingIterator<Object> iterator = reader.readValues(jsonParser, Object.class);
    iterator.nextValue();
    JsonParser ex = new JsonParseException("test", 0, "test");
    iterator.close();
    try {
        iterator.nextValue();
        fail("Expected JsonProcessingException");
    } catch (JsonProcessingException e) {
        // expected
    }
}