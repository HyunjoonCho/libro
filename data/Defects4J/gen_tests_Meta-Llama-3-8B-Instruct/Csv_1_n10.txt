java
public void testExtendedBufferReaderEOLHandling() {
    String input = "Hello\nWorld\r";
    ExtendedBufferReader reader = new ExtendedBufferReader(input);
    
    String line1 = reader.readLine();
    assertEquals("Hello", line1);
    assertEquals(1, reader.getLineCount());
    
    String line2 = reader.readLine();
    assertEquals("World", line2);
    assertEquals(2, reader.getLineCount());
}
