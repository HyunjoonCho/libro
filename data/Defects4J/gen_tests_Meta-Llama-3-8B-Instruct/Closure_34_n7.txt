public void testClosureCompilerFailure() {
    File file = new File("AdMedia.eam.js");
    try {
        Process process = new ProcessBuilder("java", "-jar", "compiler.jar", "--js", file.getAbsolutePath(), "--js_output_file", "AdMedia.eam.min.js").start();
        process.waitFor();
        fail("Expected a StackOverflowError to be thrown");
    } catch (StackOverflowError e) {
        // expected
    } catch (Exception e) {
        fail("Expected a StackOverflowError but got " + e.getMessage());
    }
}