public void testArgumentsMoved() {
    final Object[] args = new Object[] {1, 2, 3};
    Function func = new Function() {
        public Object invoke() {
            Object arg = args;
            setTimeout(new TimerTask() {
                public void run() {
                    assertEquals(args, arguments);
                }
            }, 0);
            return null;
        }
    };
    assertEquals(args, func.invoke());
}