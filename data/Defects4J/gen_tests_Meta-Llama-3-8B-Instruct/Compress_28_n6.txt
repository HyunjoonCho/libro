public void testTarArchiveInputStreamCorruptedEOF() {
    String archivePath = PathUtil.join(testdataDir, "test.tar.bz2");
    TarArchiveInputStream input = new TarArchiveInputStream(new BZip2CompressorInputStream(GoogleFile.SYSTEM.newInputStream(archivePath), true));
    input.setEndOfCentralDirectory(false);
    assertEquals(TarArchiveInputStream.END_OF_STREAM, input.read());
}