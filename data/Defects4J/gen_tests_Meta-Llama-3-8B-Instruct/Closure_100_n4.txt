public void testDangerousUseOfGlobalThisObject() {
    String code = "function writeMethodWithoutAnnotation() { this._bar = 123; }";
    String result = Compiler.compile(code);
    assertEquals("No warnings", result);
    code = "function readMethodWithoutAnnotation() { return this._bar; }";
    result = Compiler.compile(code);
    assertEquals("No warnings", result);
    code = "function writeMethodWithAnnotation() { this._bar = 123; }";
    result = Compiler.compile(code);
    assertTrue(result.contains("dangerous use of the global this object"));
    code = "function readMethodWithAnnotation() { return this._bar; }";
    result = Compiler.compile(code);
    assertTrue(result.contains("dangerous use of the global this object"));
}