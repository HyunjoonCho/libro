java
public void testPrimitiveFieldAnnotationIgnored() {
    Gson gson = new Gson();
    GadgetWithPrimitivePart gadget = new GadgetWithPrimitivePart(42);
    String json = gson.toJson(gadget);
    assertEquals("{\"part\":42}", json);
    gadget = gson.fromJson(json, GadgetWithPrimitivePart.class);
    assertEquals(42, gadget.part);
}

private static final class GadgetWithPrimitivePart {
    @JsonAdapter(LongToStringTypeAdapterFactory.class)
    final long part;

    private GadgetWithPrimitivePart(long part) {
        this.part = part;
    }
}

private static final class LongToStringTypeAdapterFactory implements TypeAdapterFactory {
    // implementation
}
