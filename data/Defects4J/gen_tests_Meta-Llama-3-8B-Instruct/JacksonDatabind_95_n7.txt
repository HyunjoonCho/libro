java
import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.type.TypeFactory;

import org.junit.Test;

import static org.junit.Assert.assertThrows;
import static org.junit.Assert.assertNotNull;

public class TypeFactoryTest {

    @Test
    public void testConstructFromCanonical() {
        ObjectMapper mapper = new ObjectMapper();
        TypeFactory typeFactory = mapper.getTypeFactory();

        // Unparameterized generic type should not throw NPE
        String returnType = "java.util.List";
        assertNotNull(typeFactory.constructFromCanonical(returnType));

        // Parameterized generic type should not throw NPE
        returnType = "java.util.List<java.lang.Object>";
        assertNotNull(typeFactory.constructFromCanonical(returnType));

        // Unparameterized generic type should throw NPE in 2.8.7
        assertThrows(NullPointerException.class, () -> typeFactory.constructFromCanonical(returnType));
    }
}
