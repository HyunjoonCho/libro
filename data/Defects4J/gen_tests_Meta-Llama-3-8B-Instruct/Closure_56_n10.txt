java
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class BugReportTest {
    @Test
    public void testLastWarningOrErrorTruncated() {
        // Simulate the compiler output
        String output = ">java -jar compiler.jar --warning_level VERBOSE --js test.js\n" +
                "test.js:1: ERROR - variable foo is undefined\n" +
                "alert(foo);\n" +
                "^";
        
        // Verify that the last error is truncated
        assertEquals("test.js:1: ERROR - variable foo is undefined\n^", output.substring(0, output.length() - 2));
    }
}
