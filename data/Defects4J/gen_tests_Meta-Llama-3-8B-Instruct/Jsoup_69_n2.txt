
import org.jsoup.Connection;
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.junit.Test;

import java.io.IOException;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertNotNull;

public class JsoupTest {
    @Test
    public void testRemoveNodeFromForm() throws IOException {
        Connection connection = Jsoup.connect("myURL").execute();
        Document doc = connection.parse();
        Element form = doc.select("form").first();
        Element input = form.select("input[name=alpha]").first();
        assertNotNull(input);
        input.remove();
        List<Connection.KeyVal> data = form.formData();
        // Expected to be empty
        assertEquals(0, data.size());
    }
}
