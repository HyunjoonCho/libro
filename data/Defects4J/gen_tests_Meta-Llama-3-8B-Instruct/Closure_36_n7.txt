public void testSingletonGetter() {
    Compiler compiler = new Compiler();
    compiler.addImport("goog", "goog");
    compiler.addProvider("goog", "goog.provide('foo');");
    compiler.addClass("foo", "function() { this.values = []; }", "goog.addSingletonGetter(foo);");
    compiler.addMethod("foo", "add", "function(value) { this.values.push(value); }");
    String compiled = compiler.compile();
    Assert.assertFalse(compiled.contains("goog.addSingletonGetter"));
}