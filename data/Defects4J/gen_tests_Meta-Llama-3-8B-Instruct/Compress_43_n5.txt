public void testZipVersionNeededToExtract() {
    Zip64Mode zip64Mode = Zip64Mode.AsNeeded;
    ZipMethod zipMethod = ZipMethod.Deflated;
    boolean hasZip64Extra = true;
    boolean phased = true;
    ZipArchiveOutputStream zip = new ZipArchiveOutputStream(new ByteArrayOutputStream());
    zip.setZip64(zip64Mode);
    ZipEntry entry = new ZipEntry("test");
    zip.putArchiveEntry(entry);
    zip.closeArchiveEntry();
    
    int expectedVersion = ZIP64_MIN_VERSION;
    int actualVersion = zip.getVersionNeededToExtract(zipMethod, hasZip64Extra);
    assertEquals(expectedVersion, actualVersion);
}