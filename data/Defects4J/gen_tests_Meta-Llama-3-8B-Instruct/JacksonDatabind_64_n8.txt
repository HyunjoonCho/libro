java
import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.SerializationFeature;
import com.fasterxml.jackson.databind.SerializationConfig;
import com.fasterxml.jackson.databind.SerializationFeature.Include;
import org.junit.Test;

import static org.junit.Assert.assertEquals;

public class TestJsonIncludeNonDefault {

    private final ObjectMapper mapper = new ObjectMapper();

    @Test
    public void testJsonIncludeNonDefault() throws Exception {
        mapper.enable(SerializationFeature.FAIL_ON_EMPTY_BEANS);
        mapper.setSerializationInclusion(SerializationInclude.NON_DEFAULT);

        MyBean bean = new MyBean();
        bean.setField1("value1");

        String json = mapper.writeValueAsString(bean);
        assertEquals("{\"field1\":\"value1\"}", json);
    }

    public static class MyBean {
        private String field1;
        private String field2;

        public String getField1() {
            return field1;
        }

        public void setField1(String field1) {
            this.field1 = field1;
        }

        public String getField2() {
            return field2;
        }

        public void setField2(String field2) {
            this.field2 = field2;
        }
    }
}
