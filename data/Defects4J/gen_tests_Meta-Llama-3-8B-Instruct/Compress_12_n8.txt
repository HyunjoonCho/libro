
import org.apache.commons.compress.archivers.tar.TarArchiveInputStream;
import org.junit.Test;
import java.io.IOException;
import java.io.InputStream;

import static org.junit.Assert.fail;

public class TestTarArchiveInputStream {
    @Test(expected = IOException.class)
    public void testTarArchiveInputStreamThrowsIOExceptionOnCorruptFile() throws Exception {
        TarArchiveInputStream tarArchiveInputStream = new TarArchiveInputStream(new byte[] { -1 }.stream());
        tarArchiveInputStream.getNextTarEntry();
        fail("Expected IOException, but no exception was thrown");
    }
}
