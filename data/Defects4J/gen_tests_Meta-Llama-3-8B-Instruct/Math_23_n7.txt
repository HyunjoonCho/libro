public void testBrentOptimizer() {
    BrentOptimizer optimizer = new BrentOptimizer();
    double[] initialPoint = new double[] {1.0};
    double[] lowerBound = new double[] {0.0};
    double[] upperBound = new double[] {2.0};
    double[] bestPoint = new double[] {1.5};
    double bestValue = 10.0;

    optimizer.optimize(new UnivariateFunction() {
        @Override
        public double value(double x) {
            if (Math.abs(x - 1.5) < 0.01) {
                return bestValue;
            } else {
                return Math.abs(x - 1.5);
            }
        }
    }, initialPoint, lowerBound, upperBound);

    // The best point should be 1.5, but it might not be due to the bug
    assertEquals(bestPoint, optimizer.getCurrentPoint());
}