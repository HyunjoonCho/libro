public void testTarDetection() {
    InputStream stream = new FileInputStream("path/to/testAIFF.aif");
    ArchiveStreamFactory factory = new ArchiveStreamFactory();
    try {
        factory.determineStream(stream);
        fail("Expected exception for non-tar file");
    } catch (IOException e) {
        // expected
    }
}