public void testSpyOnAbstractClass() {
    // Given
    class AbstractClass {
        public abstract void abstractMethod();
    }
    class RealClass extends AbstractClass {
        @Override
        public void abstractMethod() {
            abstractMethod();
        }
    }
    AbstractClass real = new RealClass();
    // When
    AbstractClass spy = mock(AbstractClass.class);
    when(spy.abstractMethod()).thenReturn("Hello");
    // Then
    assertEquals("Hello", ((RealClass) spy).abstractMethod());
}