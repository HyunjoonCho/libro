
public void testOverlyAggressiveCommaRemoval() {
    Function test = new Function("n", "var i = 0; return typeof n!== \"undefined\"? (i = n.length) : (n = \"foo\"), i");
    Object dummy = new Object();
    dummy.value = "6chars";
    assertEquals("6", test.invoke(dummy));
}
