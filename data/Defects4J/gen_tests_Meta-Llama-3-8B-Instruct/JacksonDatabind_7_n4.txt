public void testTokenBufferDelegateDeserialization() {
    TokenBuffer buffer = new TokenBuffer(new ByteArrayFeeder(new byte[] {
        // START_OBJECT
        (byte) '{',
        // FIELD_NAME
        (byte) 'a',
        (byte) ':',
        // VALUE_NUMBER_INT
        (byte) '1',
        (byte) ',',
        // FIELD_NAME
        (byte) 'b',
        (byte) ':',
        // VALUE_NULL
        (byte) 'n',
        (byte) 'u',
        (byte) 'l',
        (byte) 'l',
        // END_OBJECT
        (byte) '}'
    }));
    Value value = Value.from(buffer);
    // assertion fails here, buffer is not expected to be START_OBJECT
    assertEquals(TokenBuffer.StartObject, buffer.nextToken());
}