
public void testBase64InputStreamRead() throws IOException {
    byte[] data = new byte[3]; // A stream which is a multiple of 3 bytes long
    data[0] = 1; data[1] = 2; data[2] = 3;
    ByteArrayInputStream in = new ByteArrayInputStream(data);
    Base64InputStream base64In = new Base64InputStream(in, true);
    byte[] buffer = new byte[1];
    int bytesRead = base64In.read(buffer);
    assertEquals(0, bytesRead);
}
