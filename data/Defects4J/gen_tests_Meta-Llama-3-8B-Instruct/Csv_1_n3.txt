
public void testExtendedBufferReaderEOLHandling() throws IOException {
    String input = "Hello\r\nWorld\r";
    ExtendedBufferReader reader = new ExtendedBufferReader(new StringReader(input));
    assertEquals(1, reader.readLine()); // "Hello"
    assertEquals(2, reader.getLineCount()); // line count should be incremented for both "\n" and "\r"
    assertEquals("World", reader.readLine()); // "World"
    assertEquals(3, reader.getLineCount()); // line count should still be 3
}
