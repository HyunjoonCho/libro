java
import org.junit.Test;
import picocli.CommandLine;
import picocli.CommandLine.Option;
import picocli.CommandLine.OptionGroup;
import picocli.CommandLine.OptionException;
import picocli.CommandLine.Options;

import java.util.ArrayList;
import java.util.List;

import static org.junit.Assert.assertEquals;

public class Bug107Test {

    @Test
    public void testOptionComparator() throws OptionException {
        OptionGroup group = new OptionGroup();
        Option h = new Option("h", "help", "help message");
        Option s = new Option("s", "sort", "sort option");
        Option b = new Option("b", "build", "build option");
        Option t = new Option("t", "test", "test option");
        group.addOption(h);
        group.addOption(s);
        group.addOption(b);
        group.addOption(t);

        Options options = new Options();
        options.addOptionGroup(group);
        options.addOption(new Option("o", "other", "other option"));

        HelpFormatter formatter = new HelpFormatter();
        formatter.setOptionComparator(null);
        String help = formatter.printHelp("cmd", "", options, null);

        List<String> optionsList = new ArrayList<>();
        for (String line : help.split("\n")) {
            if (line.startsWith("  -h, --help")) {
                optionsList.add(line);
            }
        }

        assertEquals("Options:", optionsList.get(0));
        assertEquals("  -h, --help        help message", optionsList.get(1));
        assertEquals("  -o, --other       other option", optionsList.get(2));
        assertEquals("  -s, --sort        sort option", optionsList.get(3));
        assertEquals("  -b, --build       build option", optionsList.get(4));
        assertEquals("  -t, --test        test option", optionsList.get(5));
    }
}
