java
public void testIssue() {
    Function function = new Function();
    function.anyExpression = true;
    function.fn2 = externalRef;
    function.fn1 = new Function() {
        return function.fn2();
    };

    Object result = function.method1();
    assertEquals(true, result);

    result = function.method2();
    assertEquals(false, result);
}

class Function {
    boolean anyExpression;
    Object externalRef;
    Object fn1;
    Object fn2;

    Object method1() {
        if (fn1!= null) {
            fn1();
        }
        return true;
    }

    Object method2() {
        return false;
    }
}
