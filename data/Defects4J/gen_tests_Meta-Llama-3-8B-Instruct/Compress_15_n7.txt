
import org.junit.Test;
import java.io.IOException;
import java.io.InputStream;
import java.util.zip.ZipArchiveEntry;
import java.util.zip.ZipArchiveInputStream;
import java.util.zip.ZipFile;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertFalse;
import static org.junit.Assert.assertTrue;

public class ZipArchiveEntryEqualityTest {

    @Test
    public void testZipArchiveEntryEquality() throws IOException {
        ZipFile zipFile = new ZipFile("path_to_your_zip_file");
        ZipArchiveInputStream zipArchiveInputStream = new ZipArchiveInputStream(zipFile);

        ZipArchiveEntry zipArchiveEntry1 = zipArchiveInputStream.getNextEntry();
        ZipArchiveEntry zipArchiveEntry2 = zipFile.getEntry(zipArchiveEntry1.getName());

        assertEquals(zipArchiveEntry1.getName(), zipArchiveEntry2.getName());
        assertEquals(zipArchiveEntry1.getSize(), zipArchiveEntry2.getSize());

        // The comment is the main difference
        assertTrue(zipArchiveEntry1.getComment() == null);
        assertEquals("", zipArchiveEntry2.getComment());

        // Check that they are not equal
        assertFalse(zipArchiveEntry1.equals(zipArchiveEntry2));
    }
}
