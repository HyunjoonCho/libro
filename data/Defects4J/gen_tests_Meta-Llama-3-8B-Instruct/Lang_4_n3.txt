public void testLookupTranslator() {
    LookupTranslator translator = new LookupTranslator(new HashMap<CharSequence, CharSequence>(){
        {
            put("1 < 2", "1 &lt; 2");
        }
    });
    assertEquals("1 &lt; 2", translator.translate("1 < 2"));
    assertEquals("1 &lt; 2", translator.translate(CharBuffer.wrap("1 < 2".toCharArray())));
}