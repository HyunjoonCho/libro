public void testTypeCheckerMissesAnnotationsOnFunctionsDefinedWithinFunctions() {
    String code = "var ns = {};\n" +
            "(\n" +
            "    function() {\n" +
            "        /* @param {string=} b */\n" +
            "        ns.a = function(b) {}\n" +
            "    }\n" +
            ")\n" +
            ";\n" +
            "function d() {\n" +
            "    ns.a();\n" +
            "    ns.a(123);\n" +
            "};";
    // Your test implementation here
}