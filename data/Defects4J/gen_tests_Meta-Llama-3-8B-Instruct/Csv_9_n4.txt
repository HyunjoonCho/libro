
public void testToMapThrowsNPE() {
    CSVFormat format = CSVFormat.DEFAULT.withHeader(null);
    CSVRecord record = new CSVRecord(format.parseLine("a,b,c"));
    Map<String, String> map = record.toMap();
    // This should not throw NPE, but instead return an empty map
    assertEquals(0, map.size());
}
