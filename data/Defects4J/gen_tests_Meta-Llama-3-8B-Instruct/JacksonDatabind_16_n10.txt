
import org.junit.Test;
import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.SerializationFeature;

import static org.junit.Assert.assertEquals;

public class BugTest {

    @Test
    public void testAnnotationBundleIgnored() throws Exception {
        ObjectMapper mapper = new ObjectMapper();
        mapper.addMixIn(Foo.class, FooMixin.class);
        String result = mapper.writeValueAsString(new Foo("result"));
        assertEquals("{\"stuff\":\"result\"}", result);
    }

    public abstract class FooMixin {
        public abstract String getStuff();
    }

    public class Foo {
        private String stuff;

        public Foo(String stuff) {
            this.stuff = stuff;
        }

        public String getStuff() {
            return stuff;
        }
    }
}
