public void testOverlyAggressiveCommaRemoval() {
    final int expected = 6;
    int result = Test("6chars");
    assertEquals(expected, result);
}

int Test(String n) {
    int i = 0;
    return typeof n!== "undefined"? (i = n.length) : (n = "foo"), i
}