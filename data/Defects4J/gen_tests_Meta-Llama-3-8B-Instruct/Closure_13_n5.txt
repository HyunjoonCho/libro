java
public void testTrueFalseReplacement() {
    Function function = new Function();
    function.anyExpression = true;
    function.fn2 = externalRef;
    function.fn1 = new Function() {
        return function.fn2();
    };
    
    boolean result1 = function.method1();
    boolean result2 = function.method2();
    
    assertEquals(true, result1);
    assertEquals(false, result2);
}

class Function {
    boolean anyExpression;
    Function fn2;
    Function fn1;
    Function externalRef;
    
    boolean method1() {
        if (fn1) fn1();
        return true;
    }
    
    boolean method2() {
        return false;
    }
}
