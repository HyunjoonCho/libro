
public void testOptionGroupConflict() {
    Options options = new Options();
    Option a = new Option("a", true);
    Option b = new Option("b", true);
    a.setRequired(false);
    b.setRequired(false);
    a.setGroup("group");
    b.setGroup("group");
    a.setValued(false);
    b.setValued(false);
    a.setOptionalArg(true);
    b.setOptionalArg(true);
    a.setArgs("argA");
    b.setArgs("argB");
    options.addOption(a);
    options.addOption(b);
    
    Properties defaultOptions = new Properties();
    defaultOptions.setProperty("a", "true");
    defaultOptions.setProperty("b", "true");
    
    CommandLine commandLine = new PosixParser().parse(options, new String[] {"-a", "argA"}, defaultOptions);
    assertTrue(commandLine.hasOption("a"));
    assertTrue(commandLine.hasOption("b"));
}
