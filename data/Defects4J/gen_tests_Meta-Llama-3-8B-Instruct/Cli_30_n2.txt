
public void testOptionGroups() {
    Options options = new Options();
    OptionGroup group = new OptionGroup("group");
    group.addOption(new Option("a", false));
    group.addOption(new Option("b", false));
    options.addOptionGroup(group);
    Options defaultOptions = new Options();
    defaultOptions.addOption(new Option("b", false));

    CommandLineParser parser = new PosixParser();
    CommandLine commandLine = parser.parse(options, new String[] {"-a"}, defaultOptions);

    assertTrue(commandLine.hasOption("a"));
    assertTrue(commandLine.hasOption("b")); // This should be false
}
