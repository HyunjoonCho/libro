public void testLendsIssue() {
    String code = "goog.provide('test');\n" +
            "goog.require('goog.asserts');\n" +
            "goog.scope(function() {\n" +
            "  var test = {\n" +
            "    @lends: test,\n" +
            "    makeClass: function() {\n" +
            "      function MyClass() {}\n" +
            "      goog.inherits(MyClass, test);\n" +
            "      return MyClass;\n" +
            "    }\n" +
            "  };\n" +
            "  goog.loadModule('test');\n" +
            "});";
    assertThrows(LoadError.class, () -> {
        Compiler.compile(code);
    });
}