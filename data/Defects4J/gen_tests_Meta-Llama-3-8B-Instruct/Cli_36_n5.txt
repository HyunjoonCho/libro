
public void testIssue() {
    OptionGroup group = new OptionGroup();
    Option h = Option.builder("h").build();
    Option s = Option.builder("s").build();
    Option b = Option.builder("b").build();
    Option t = Option.builder("t").build();
    group.addOption(h)
           .addOption(s)
           .addOption(b)
           .addOption(t);
    Options options = new Options();
    options.addOptionGroup(group);
    options.addOption(Option.builder("o").build());
    HelpFormatter formatter = new HelpFormatter();
    formatter.setOptionComparator(null);
    String output = formatter.printHelp("cmd", "", options, null);
    // assert that the options are displayed in the order of insertion
    String[] lines = output.split("\n");
    assertEquals("Group", lines[0]);
    assertEquals("  --h", lines[1]);
    assertEquals("  --s", lines[2]);
    assertEquals("  --b", lines[3]);
    assertEquals("  --t", lines[4]);
    assertEquals("  --o", lines[5]);
}
