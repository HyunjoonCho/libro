
public void testRedefinitionOfFunction() {
    assertFunctionDefinition();
    assertEquals(2, f());
    f = function() { return 2; };
    assertEquals(2, f());
    f = function() { return 1; };

    // This should raise an error
    assert(f() === 1);
}

public function assertFunctionDefinition() {
    function f() { return 1; }
}

public function f() { return 2; }
