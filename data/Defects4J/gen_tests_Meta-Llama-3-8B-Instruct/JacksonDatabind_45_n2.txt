
public void testExplicitShapeOverride() {
    // Before fix, this test should fail
    String text = NumberFormat.getNumberInstance(Locale.US).format(12345);
    assertEquals("12,345", text);

    // After fix, this test should pass
    NumberFormat numberFormat = NumberFormat.getNumberInstance(Locale.US);
    numberFormat.setShape(NumberFormat.Shape.NUMBER);
    assertEquals("12345", numberFormat.format(12345));
}
