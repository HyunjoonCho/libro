public void testTypeAliasAnnotation() {
    // Set up the code snippet
    String code = "goog.provide('foo.Foo');\n" +
            "goog.provide('foo.Foo.Bar');\n" +
            "goog.scope(function() {\n" +
            "  /*\n" +
            "   * @param {Foo.Bar} bar\n" +
            "   * @constructor\n" +
            "  */\n" +
            "  foo.Foo = function(bar) {\n" +
            "    this.bar = bar;\n" +
            "  };\n" +
            "  var Foo = foo.Foo;\n" +
            "  /*\n" +
            "   * @type {Foo.Bar}\n" +
            "  */\n" +
            "  Foo.prototype.bar = null;\n" +
            "  /*\n" +
            "   * @constructor\n" +
            "  */\n" +
            "  Foo.Bar = function() {};\n" +
            "});\n";
    // Compile the code and check for the error
    try {
        // This should throw an exception
        com.google.javascript.jscomp.Compiler.compile(code);
        fail("Expected compilation error");
    } catch (Exception e) {
        // Check if the error message matches the expected output
        assertTrue(e.getMessage().contains("Bad type annotation. Unknown type Foo.Bar"));
    }
}