public void testVarArgsTypeCheck() {
    String code = "function foo(var_args) { return arguments.length; } foo('hello'); foo(123); foo('hello', 123);";
    ClosureCompiler compiler = new ClosureCompiler();
    try {
        compiler.compile(code);
        fail("Expected a type mismatch warning");
    } catch (CompilationErrorException e) {
        // expected exception
    }
}