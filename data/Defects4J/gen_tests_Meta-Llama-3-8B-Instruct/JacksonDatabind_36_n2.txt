
public void testStdDateFormatLeniency() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    StdDateFormat dateFormat = new StdDateFormat();
    mapper.setDateFormat(dateFormat);

    // Test lenient parsing
    String dateStr = "2015-01-32";
    DateTime parsedDate = mapper.readValue(dateStr, Date.class);
    assertEquals("2015-02-01", dateFormat.format(parsedDate));

    // Test non-lenient parsing
    dateFormat.setLenient(false);
    try {
        parsedDate = mapper.readValue(dateStr, Date.class);
        fail("Expected a ParseException");
    } catch (JsonParseException e) {
        // expected
    }
}
