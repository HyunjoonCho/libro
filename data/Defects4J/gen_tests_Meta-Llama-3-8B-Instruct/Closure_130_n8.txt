public void testCollapsePropertiesOnExternTypes() {
    CompilerOptions compilerOptions = new CompilerOptions();
    compilerOptions.setCollapsePropertiesOnExternTypes(true);
    Compiler compiler = new Compiler(compilerOptions);
    String code = "function () { return function () { var arg = arguments; setTimeout(function() { alert(args); }, 0); } }";
    String expected = "function () { return function () { setTimeout(function() { alert(arguments); }, 0); } }";
    String actual = compiler.compile(code);
    assertEquals(expected, actual);
}