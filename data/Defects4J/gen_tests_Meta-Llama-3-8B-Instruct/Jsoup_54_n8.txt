
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.helper.W3CDom;
import org.junit.Test;

import static org.junit.Assert.fail;

public class W3CDomTest {
    @Test
    public void testInvalidCharacterErr() {
        String html = "<html><head></head><body style=\"color: red\" ></body></html>";
        Document doc = Jsoup.parse(html);
        try {
            new W3CDom().fromJsoup(doc);
            fail("Expected INVALID_CHARACTER_ERR exception");
        } catch (Exception e) {
            assertEquals("INVALID_CHARACTER_ERR: An invalid or illegal XML character is specified.", e.getMessage());
        }
    }
}
