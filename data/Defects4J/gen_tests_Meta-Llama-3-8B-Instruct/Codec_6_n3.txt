public void testBase64InputStreamRead() throws IOException {
    byte[] data = new byte[6];
    data[0] = 0x00; data[1] = 0x01; data[2] = 0x02;
    data[3] = 0x03; data[4] = 0x04; data[5] = 0x05;
    ByteArrayInputStream bais = new ByteArrayInputStream(data);
    Base64InputStream bis = new Base64InputStream(bais, true);
    byte[] buffer = new byte[3];
    int bytesRead = bis.read(buffer);
    assertEquals(3, bytesRead);
    bis.read(buffer);
    assertEquals(0, bytesRead);
}