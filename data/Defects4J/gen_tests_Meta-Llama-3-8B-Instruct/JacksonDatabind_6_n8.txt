public void testIso8601Parsing() {
    String date1 = "2014-10-03T18:00:00.6-05:00";
    String date2 = "2014-10-03T18:00:00.61-05:00";
    String date3 = "1997-07-16T19:20+01:00";
    String date4 = "1997-07-16T19:20:30.45+01:00";
    
    try {
        ObjectMapper mapper = new ObjectMapper();
        mapper.configure(DeserializationFeature.READ_DATE_TIMESTAMPS_AS_NANOSECONDS, true);
        mapper.configure(DeserializationFeature.ADJUST_DATES_TO_CONTEXT_TIME_ZONE, true);
        mapper.configure(DeserializationFeature.UNWRAP_SINGLE_VALUE_ARRAYS, true);
        mapper.setDateFormat(new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSSZ"));
        mapper.readValue(date1, Date.class);
        mapper.readValue(date2, Date.class);
        mapper.readValue(date3, Date.class);
        mapper.readValue(date4, Date.class);
    } catch (IOException e) {
        fail("Failed to parse ISO-8601 date");
    }
}