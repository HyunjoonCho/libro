java
import org.junit.Test;
import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertNotNull;

public class TestAnonymousObjectTypeInference {
    @Test
    public void testAnonymousObjectTypeInferenceInconsistency() {
        // Create a record with only one property
        Object record = new Object() {
            String prop = "a";
        };

        // This should not throw an error
        func(record);

        // Now, try to pass the same record to func2
        try {
            func2(record);
            fail("Expected an error");
        } catch (Error e) {
            assertEquals("actual parameter 1 of func2 does not match formal parameter", e.getMessage());
        }
    }

    public void func(Object record) {
        System.out.println(((record instanceof Object)? ((Object) record).prop : record).toString());
    }

    public void func2(Object record) {
        if (record instanceof String) {
            System.out.println(record);
        } else {
            System.out.println(((Object) record).prop);
        }
    }
}
