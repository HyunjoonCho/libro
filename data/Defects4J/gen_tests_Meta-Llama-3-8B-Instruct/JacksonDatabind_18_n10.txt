public void testReadValuesErrorRecovery() {
    JsonFactory factory = new JsonFactory();
    JsonParser parser = factory.createParser("{\"a\": [1, 2, 3]}");
    MappingIterator<Map<String,Object>> iter = new MappingIterator<Map<String,Object>>(parser, new JsonNodeFactory(null));
    try {
        iter.next();
        iter.next();
        throw new JsonProcessingException(new ByteArrayInputStream(new byte[0]), "Test error");
    } catch (JsonProcessingException e) {
        // Check if the iterator is still in a valid state after error recovery
        assertTrue(iter.hasNext());
        iter.next();
        assertEquals(1, iter.nextInt());
    }
}