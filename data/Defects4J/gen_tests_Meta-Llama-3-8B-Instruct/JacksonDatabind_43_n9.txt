public void testObjectIdHandling() {
    // Create a custom deserializer
    SimpleModule module = new SimpleModule();
    module.addDeserializer(MyObject.class, new MyObjectDeserializer());

    // Create a mapper with the custom module
    ObjectMapper mapper = new ObjectMapper();
    mapper.registerModule(module);

    // Serialize an object
    String json = mapper.writeValueAsString(new MyObject());

    // Try to deserialize with a null token
    try {
        mapper.readValue(null, MyObject.class);
        fail("Expected a JsonMappingException");
    } catch (JsonMappingException e) {
        // Expected exception
    }
}