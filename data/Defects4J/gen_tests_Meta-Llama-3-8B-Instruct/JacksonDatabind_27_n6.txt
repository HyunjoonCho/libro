public void testDeserializeExternalTypeIdBeforePojo() {
    // setup test data
    String json = "{\"type\":\"com.example.MyClass\",\"field\":\"value\"}";
    ObjectMapper mapper = new ObjectMapper();
    mapper.enableDefaultTyping();
    ObjectReader reader = mapper.readerForUpdating(null);
    ObjectNode root = mapper.readValue(json, ObjectNode.class);
    MyClass instance = new MyClass();
    reader.readValue(root);
    // assert failure
    assertEquals("com.example.MyClass", instance.getClass().getSimpleName());
}