public void testIncompleteNamespaceHandling() {
    DOMImplementationRegistry registry = DOMImplementationRegistry.newInstance();
    DocumentImpl document = (DocumentImpl) registry.getDOMImplementation("LS").createDocument(null, null, null);
    Element root = document.createElement("ElementA");
    root.setAttributeNS("http://my.namespace/A", "myAttr", "Mytype");
    Element child = document.createElement("B");
    child.setTextContent("MY VALUE");
    root.appendChild(child);
    // This should not throw an exception
    // but it does
}