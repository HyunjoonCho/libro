java
import org.junit.Test;
import com.google.javascript.jscomp.CompilationInfo;
import com.google.javascript.jscomp.JsAst;
import com.google.javascript.jscomp.JsAstBuilder;
import com.google.javascript.jscomp.JsCode;
import com.google.javascript.jscomp.JsProgram;
import com.google.javascript.jscomp.TypeScope;
import com.google.javascript.jscomp.TypeScopeStack;
import com.google.javascript.jscomp.ast.AstFactory;

public class TestGoogIsArray {
    @Test
    public void testGoogIsArray() {
        CompilationInfo compilationInfo = new CompilationInfo();
        JsAstBuilder builder = new JsAstBuilder();
        JsCode code = new JsCode("function test(object) {\n" +
                "  if (goog.isArray(object)) {\n" +
                "    /* @type {Array} */ var x = object;\n" +
                "    return x;\n" +
                "  }\n" +
                "}");
        JsAst jsAst = builder.build(code, compilationInfo);
        JsProgram program = new JsProgram(compilationInfo, jsAst);
        TypeScope typeScope = new TypeScope();
        TypeScopeStack typeScopeStack = new TypeScopeStack();
        program.analyze(typeScope, typeScopeStack);
    }
}
