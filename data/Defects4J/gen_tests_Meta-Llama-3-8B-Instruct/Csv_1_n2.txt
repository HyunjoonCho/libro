java
public void testExtendedBufferReader() throws IOException {
    ExtendedBufferReader reader = new ExtendedBufferReader(new StringReader("abc\r\ndef"));
    assertEquals(1, reader.readLine().length()); // Read "abc" and increment line count
    assertEquals("def", reader.readLine()); // Read "def"
    assertEquals(2, reader.getLineCount()); // Check line count is 2

    reader = new ExtendedBufferReader(new StringReader("abc\r\r\ndef"));
    assertEquals("def", reader.readLine()); // Read "def"
    assertEquals(1, reader.getLineCount()); // Check line count is 1
}
