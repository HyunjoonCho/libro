public void testIssue() {
    Function A = new Function("A", "function A() {this._x = 1;}", "A.prototype['func1'] = A.prototype.func1; A.prototype.func1 = function() { this._x = 2; this.func2(); }; A.prototype.func2 = function() { this._x = 3; this.func3(); }; window['A'] = A;");
    try {
        A.prototype.func1();
    } catch (e) {
        fail("Expected func2 to be called, but an error occurred: " + e.getMessage());
    }
}