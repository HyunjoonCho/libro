
import org.junit.Test;

public class CommandLineTest {

    @Test
    public void testCommandLineArgumentDefaultOverride() {
        // setup
        WritableCommandLine commandLine = new WritableCommandLine();
        Option option = new Option("option", true);
        option.setDefault("default value");
        commandLine.addOption(option);

        // expected behavior: command line argument overrides default value
        String[] args = {"--option", "new value"};
        commandLine.parse(args);
        assertEquals("new value", option.getValue());

        // expected behavior: command line argument without value still uses default
        args = new String[]{"--option"};
        commandLine.parse(args);
        assertEquals("default value", option.getValue());
    }
}
