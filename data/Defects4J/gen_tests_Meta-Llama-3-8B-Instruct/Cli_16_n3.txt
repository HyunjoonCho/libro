public void testGroupConstraints() {
    Options options = new Options();
    Group groupA = new Group("groupA");
    Option optionA = new Option("a", true);
    groupA.addOption(optionA);
    options.addOption(groupA);

    Group groupB = new Group("groupB");
    Option optionB = new Option("b", true);
    groupB.addOption(optionB);
    options.addOption(groupB);

    CommandLineParser parser = new PosixParser();
    CommandLine commandLine = parser.parse(options, new String[] {"--groupB"});

    assertFalse(commandLine.hasOption("groupA"));
    assertTrue(commandLine.hasOption("b"));
    assertEquals(0, options.getOptionIndex("a"));
}