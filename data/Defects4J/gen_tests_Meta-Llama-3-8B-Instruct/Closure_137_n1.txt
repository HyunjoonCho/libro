public void testJSCDeterministicTest() {
    ClosureCompiler compiler = new ClosureCompiler();
    String code = "var t = null;\n" +
                  "window.test = function()\n" +
                  "{\n" +
                  " if (t!= null)\n" +
                  " {\n" +
                  "  t = null;\n" +
                  " }\n" +
                  " t = 1;\n" +
                  "};";
    try {
        compiler.compile(code);
        fail("Expected JSC_DETERMINISTIC_TEST warning");
    } catch (CompilationWarningException e) {
        // expected
    }
}