
import org.junit.Test;

public class RedefinitionOfFunctionTest {
    @Test
    public void testRedefinitionOfFunction() {
        // Step 1: Run the code without compilation
        function assert(b) { if (!b) throw "error"; }
        assert(f() === 1)
        var f = function() { return 2; }
        assert(f() === 2)
        function f() { return 1; }

        // Expect no error
        f(); // This should not raise an error

        // Step 3: Compile the code as third-party code
        // (in this case, we simulate this by redefining the function)
        function f() { return 3; }

        // Expect an error
        try {
            f();
            fail("Expected error");
        } catch (e) {
            assertEquals("error", e.getMessage());
        }
    }
}
