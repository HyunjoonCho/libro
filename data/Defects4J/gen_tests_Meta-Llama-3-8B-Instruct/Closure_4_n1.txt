java
import org.junit.Test;
import org.junit.runner.RunWith;
import org.junit.runners.JUnit4;

import com.google.javascript.jscomp.CompilationLevel;
import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.CompilerOptions;
import com.google.javascript.jscomp.JsException;

import static org.junit.Assert.fail;

@RunWith(JUnit4.class)
public class BugTest {
    @Test
    public void testBug() {
        Compiler compiler = new Compiler();
        CompilerOptions options = new CompilerOptions();
        options.setLanguageIn(CompilationLevel.SIMPLE_SOURCE);
        options.setLanguageOut(CompilationLevel.SIMPLE_SOURCE);

        String source = "var OtherType = function() {};\n" +
                "var MyType = function() {\n" +
                "    @implements {MyType}\n" +
                "};\n" +
                "var x = new OtherType();";

        try {
            compiler.compile(source, options);
            fail("Expected JsException");
        } catch (JsException e) {
            // expected
        }
    }
}
