public void testAdvancedCompilation() {
    Function a = new Function("function A() {this._x = 1;}", "A");
    a.prototype['func1'] = a.prototype.func1;
    a.prototype.func1 = function() {
        this._x = 2;
        this.func2();
    }
    a.prototype.func2 = function() {
        this._x = 3;
        this.func3();
    }
    a.prototype.func3 = function() {
        // This line should not be executed
        throw new AssertionError("func3 should not be executed");
    }
    a();
    assertEquals(2, a.prototype._x);
}