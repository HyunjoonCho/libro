java
public class TestAnonymousObjectTypeInference {
    public static void func(Object record) {
        System.out.println(((Map) record).get("prop"));
    }

    public static void func2(Object record) {
        if (record instanceof String) {
            System.out.println(record);
        } else {
            Map<String, Object> map = (Map) record;
            System.out.println(map.get("prop"));
        }
    }

    public void test() {
        Map<String, Object> map = new HashMap<>();
        map.put("prop", "a");
        func(map);
        func2(map);
    }
}
