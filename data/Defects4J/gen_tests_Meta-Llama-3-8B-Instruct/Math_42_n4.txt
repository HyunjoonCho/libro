java
import org.junit.Test;
import org.apache.commons.math3.optimization.linear.LinearConstraint;
import org.apache.commons.math3.optimization.linear.SimplexSolver;
import org.junit.Assert;

public class TestSimplexSolver {

    @Test
    public void testNegativeValueWithRestrictNonNegative() {
        SimplexSolver solver = new SimplexSolver();
        double[] function = {1, 1};
        double[][] constraints = {{1, 0}};
        double[] lowerBounds = {1};
        double[] upperBounds = {Double.MAX_VALUE};
        double[] initialGuess = {1, 0};

        solver.optimize(function, new LinearConstraint[]{new LinearConstraint(constraints, lowerBounds, upperBounds)}, GoalType.MINIMIZE, true, initialGuess);

        double[] result = solver.getPoint();
        Assert.assertEquals(1, result[0], 0.0001);
        Assert.assertEquals(-1, result[1], 0.0001);
    }
}
