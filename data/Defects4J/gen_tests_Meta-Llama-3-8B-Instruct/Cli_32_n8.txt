public void testStringIndexOutOfBoundsException() {
    HelpFormatter helpFormatter = new HelpFormatter();
    String text = "long text";
    int pos = 0;
    try {
        while ((pos = helpFormatter.findWrapPos(text, 0, 80))!= -1) {
            text.charAt(text.length());
            break;
        }
        fail("Expected StringIndexOutOfBoundsException");
    } catch (StringIndexOutOfBoundsException e) {
        // expected
    }
}