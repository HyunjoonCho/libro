java
import org.junit.Test;
import org.junit.runner.RunWith;
import org.junit.runners.JUnit4;

import com.google.javascript.jscomp.CompilationLevel;
import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.CompilerOptions;
import com.google.javascript.jscomp.ErrorReporter;

@RunWith(JUnit4.class)
public class CompilerCrashTest {

    @Test
    public void testCompilerCrashOnGoogScopeLocals() {
        String code = "goog.provide(\"main\");\ngoog.scope(function (){\n var a = foo, b, c = 1;\n});";
        Compiler compiler = new Compiler();
        CompilerOptions options = new CompilerOptions();
        options.setLanguageIn(CompilationLevel.SIMPLE_OPTIMIZATIONS);
        ErrorReporter reporter = new ErrorReporter() {
            @Override
            public void error(String message) {
                throw new RuntimeException(message);
            }
        };
        compiler.compile(code, options, reporter);
        // Assert that the compiler crashed
        // You can add more assertions here
    }
}
