java
import org.junit.Test;
import com.google.javascript.jscomp.CompilationLevel;
import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.CompilerOptions;
import com.google.javascript.jscomp.ErrorReporter;

public class TestDefineAnnotation {
    @Test
    public void testDefineAnnotation() {
        Compiler compiler = new Compiler();
        CompilerOptions options = new CompilerOptions();
        options.setSourceFile("test.js");
        options.setCompilationLevel(CompilationLevel.SIMPLE_OPTIMIZATIONS);
        options.setLanguageIn(CompilerOptions.LanguageMode.ECMASCRIPT3);
        ErrorReporter errorReporter = new ErrorReporter() {
            @Override
            public void error(String message, int start, int end) {
                fail(message);
            }

            @Override
            public void warning(String message, int start, int end) {
                fail(message);
            }
        };
        compiler.compile(options, errorReporter);
    }
}
