
public void testObjectIdAndTypeIdWithWrapperObject() {
    // Assuming the class and method are defined in the same package as the test
    ObjectMapper mapper = new ObjectMapper();
    mapper.enableDefaultTyping();
    ObjectWriter writer = mapper.writer();

    String json = "{\"_id\":{\"@class\":\"com.example.MyObject\",\"@type\":\"com.example.MyObject\"}}";
    String expected = "{\"_id\":{\"@class\":\"com.example.MyObject\",\"@type\":\"com.example.MyObject\",\"@class\":\"com.example.MyObject\"}}";

    // This should produce the same output in 2.5.0 and 2.5.1
    String actual = writer.writeValueAsString(mapper.readTree(json));

    // The test fails in 2.5.1 because the wrapper object type id is missing
    assertEquals(expected, actual);
}
