public void testDefaultPrettyPrinter() {
    DefaultPrettyPrinter printer = DefaultPrettyPrinter.createInstance();
    try {
        printer = new MySubclassOfDefaultPrettyPrinter();
        fail("Expected an exception");
    } catch (IllegalStateException e) {
        // expected
    }
}

class MySubclassOfDefaultPrettyPrinter extends DefaultPrettyPrinter {
    // no-op
}