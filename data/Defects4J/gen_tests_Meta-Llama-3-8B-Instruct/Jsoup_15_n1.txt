public void testScriptTagsInJsStrings() {
    String html = "<HTML>\n" +
            "  <body>\n" +
            "   <div class=vsc sig=Uga>\n" +
            "    <div class=before></div>\n" +
            "    <script type=\"text/javascript\">\n" +
            "     header = jQuery('#header_features');\n" +
            "     if(header.length){\n" +
            "      header\n" +
            "      .prepend('<a class=\"prevPage browse left \" />')\n" +
            "      .append('<a class=\"nextPage browse right\" />');\n" +
            "      items\n" +
            "      .wrapAll('<div class=\"scrollable\"/>')\n" +
            "      .wrapAll('<ul class=\"items\"/>')\n" +
            "      .wrap('<li/>');\n" +
            "     }\n" +
            "    </script>\n" +
            "    <div class=after></div>\n" +
            "   </div>\n" +
            "  </body>\n" +
            "</HTML>";
    
    String expected = "<html>\n" +
            " <body> \n" +
            "  <div class=\"vsc\" sig=\"Uga\"> \n" +
            "   <div class=\"before\"></div> \n" +
            "   <script type=\"text/javascript\">\n" +
            "   header = jQuery('#header_features');\n" +
            "   if(header.length){\n" +
            "    header\n" +
            "    .prepend(' <a class=\"prevPage browse left \">').append(' </a> \n" +
            "    <a class=\"nextPage browse right\">'); items \n" +
            "    .wrapAll(' <div class=\"scrollable\"> ') \n" +
            "    .wrapAll(' <ul class=\"items\"> ') \n" +
            "    .wrap(' <li>'); } \n" +
            "        <div class=\"after\"></div> </li> \n" +
            "    </ul> </div>  </a> \n" +
            "   </script> \n" +
            "  </div> \n" +
            " </body> \n" +
            "</html>";
    
    assertEquals(expected, html);
}