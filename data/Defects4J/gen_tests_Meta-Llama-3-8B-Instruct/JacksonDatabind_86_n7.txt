java
public class TestJacksonSerialization {
    @Test
    public void testJacksonSerializationWithRecursiveTypes() throws IOException {
        ObjectMapper mapper = new ObjectMapper();
        Base base = new Base();
        Sub sub = new Sub();
        base.setSub(sub);
        
        String json = mapper.writeValueAsString(base);
        
        // Expected output: {"base":1,"sub":{"sub":2}}
        // Actual output: {"sub":2}
        
        // Assert the expected output
        String expectedJson = "{\"base\":1,\"sub\":{\"sub\":2}}";
        assertEquals(expectedJson, json);
    }
}
