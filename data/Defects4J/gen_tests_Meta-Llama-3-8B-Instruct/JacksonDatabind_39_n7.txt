java
import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.SerializationFeature;
import org.junit.Test;

import static org.junit.Assert.assertEquals;

public class JacksonParsingTest {

    @Test
    public void testFailOnInvalidSubtype() throws Exception {
        ObjectMapper mapper = new ObjectMapper();
        mapper.disable(SerializationFeature.FAIL_ON_INVALID_SUBTYPE);
        mapper.disable(SerializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);
        mapper.disable(SerializationFeature.FAIL_ON_IGNORED_PROPERTIES);

        String json1 = "{\"version\":0.0,\"application\":\"123\",\"item\":{\"type\":\"xevent\",\"location\":\"location1\"},\"item2\":{\"type\":\"event\",\"location\":\"location1\"}}";
        CallRecord call1 = mapper.readValue(json1, CallRecord.class);
        assertEquals("123", call1.application);
        assertEquals("location1", call1.item.location);
        assertEquals("location1", call1.item2.location);

        String json2 = "{\"version\":0.0,\"application\":\"123\"},{\"item\":{\"type\":\"xevent\",\"location\":\"location1\"}";
        CallRecord call2 = mapper.readValue(json2, CallRecord.class);
        assertEquals("123", call2.application);

        String json3 = "{\"item\":{\"type\":\"xevent\",\"location\":\"location1\"}, \"version\":0.0,\"application\":\"123\"}";
        CallRecord call3 = mapper.readValue(json3, CallRecord.class);
        assertEquals("123", call3.application);
    }
}
