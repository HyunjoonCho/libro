public void testProcessCommonJSModules() {
    // define a module
    String module = "define(function() { return {\n" +
            "  echo: function(val) {\n" +
            "    window.console.log(val);\n" +
            "  }\n" +
            "});\n";
    // define an entry point that doesn't define new modules
    String entryPoint = "var echo = require('echo');\n" +
            "echo.echo('hello world');";
    // compile the code
    // TO DO: implement the compilation logic here
    // for now, just simulate the error
    assertEquals("Property module$exports never defined on module$echo_main", compilationError);
}