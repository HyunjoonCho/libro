public void testIssueLanguageInECMAScript5Strict() {
    String expectedOutput = "'use strict';alert(5);\n";
    String actualOutput = runCompiler("get_num.js", "alert.js", "--language_in=ECMASCRIPT5_STRICT");
    assertEquals(expectedOutput, actualOutput);
}

private String runCompiler(String inputFile, String outputFile, String... args) {
    ProcessBuilder builder = new ProcessBuilder("java", "-jar", "compiler.jar", args);
    builder.redirectErrorStream(true);
    Process process = builder.start();
    String output = new String(process.getInputStream().readAllBytes());
    process.waitFor();
    return output.trim();
}