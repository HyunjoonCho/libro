java
import org.junit.Test;
import org.junit.runner.RunWith;
import org.junit.runners.JUnit4;

import com.google.javascript.jscomp.CompilationLevel;
import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.CompilerInput;
import com.google.javascript.jscomp.JSError;

import java.io.ByteArrayOutputStream;
import java.io.PrintStream;

@RunWith(JUnit4.class)
public class CompileTest {

    @Test
    public void testCompileECMAScript5Strict() throws Exception {
        Compiler compiler = new Compiler();
        compiler.setLanguageIn("ECMASCRIPT5_STRICT");
        compiler.setCompilationLevel(CompilationLevel.ADVANCED_OPTIMIZATIONS);
        compiler.setWarningLevel(CompilerWarningLevel.VERBOSE);

        ByteArrayOutputStream bos = new ByteArrayOutputStream();
        System.setOut(new PrintStream(bos));

        compiler.compile(new CompilerInput("get_num.js", "var getNum = function() { return 5; };"));
        compiler.compile(new CompilerInput("alert.js", "alert(getNum());"));

        String output = bos.toString();
        assertNotEquals("use strict';alert(5);", output);
        // expected output: 'use strict';alert(5);
        // or, if the compiler wants to be really clever, just "alert(5)" since this is already ES5 Strict compliant.
    }
}
