
public void testJsonFormatShapeOnEnum() throws JsonProcessingException {
    ObjectMapper mapper = new ObjectMapper();
    mapper.enable(SerializationFeature.WRITE_ENUMS_USING_INT_IDS);

    String expected = "{\"color\":2}";
    String actual = mapper.writeValueAsString(new Foo(Color.GREEN));
    assertEquals(expected, actual);
}
