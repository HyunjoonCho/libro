
public void testSetCustomFormatForSqlDateSerializer() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);

    // Test that the custom format is not set
    assertEquals(JsonFormat.Value.defaultFormat(), mapper.getFormatOverride(java.sql.Date.class));

    // Test that the custom format is not used
    String json = mapper.writeValueAsString(new java.sql.Date(System.currentTimeMillis()));
    String expected = "{\"timestamp\":1615389457000}";
    assertEquals(expected, json);
}
