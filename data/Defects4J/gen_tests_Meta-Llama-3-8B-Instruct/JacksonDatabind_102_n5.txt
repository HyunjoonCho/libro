public void testCustomFormatForSqlDateSerialization() {
    ObjectMapper mapper = new ObjectMapper();
    mapper.registerModule(new Module() {
        @Override
        public void configure(SerializationConfig config, BeanDescription beanDesc) {
            config.setSerializationInclusion(JsonInclude.Include.NON_DEFAULT);
        }
    });
    mapper.setDateFormat(new SimpleDateFormat("yyyy-MM-dd"));
    SqlDateSerializer serializer = new SqlDateSerializer();
    assertFalse(serializer.useTimestamp());
}