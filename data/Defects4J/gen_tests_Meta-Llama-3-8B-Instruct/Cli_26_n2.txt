java
public void testOptionBuilderReset() {
    OptionBuilder optionBuilder = new OptionBuilder();
    optionBuilder.withOption('a', "arg");

    try {
        optionBuilder.create("invalid");
        fail("Expected IllegalArgumentException");
    } catch (IllegalArgumentException e) {
        // expected
    }

    assertEquals(false, optionBuilder.hasOption('a'));
}
