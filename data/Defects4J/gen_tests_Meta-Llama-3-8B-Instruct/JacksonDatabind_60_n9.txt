public void testJsonValuePolymorphicTypeLoss() {
    CommandAPDU obj = new CommandAPDU(new byte[] {1, 2, 3});
    String json = mapper.writeValueAsString(obj);
    CommandAPDU deserialized = mapper.readValue(json, CommandAPDU.class);
    assertEquals(obj.getApdu(), deserialized.getApdu());
    assertEquals(CommandAPDU.class, deserialized.getClass());
}