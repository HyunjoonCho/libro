
@Test
public void testElementSiblingIndex() {
    Document doc = DocumentBuilderFactory.newInstance().newDocumentBuilder().newDocument();
    Element table = doc.createElement("table");
    doc.appendChild(table);
    
    Element row1 = doc.createElement("tr");
    table.appendChild(row1);
    Element row2 = doc.createElement("tr");
    table.appendChild(row2);
    Element row5 = doc.createElement("tr");
    table.appendChild(row5);
    
    Element cell1 = doc.createElement("td");
    cell1.setTextContent("Cell1");
    row1.appendChild(cell1);
    Element cell2 = doc.createElement("td");
    cell2.setTextContent("Cell2");
    row1.appendChild(cell2);
    
    cell1 = doc.createElement("td");
    cell1.setTextContent("Cell1");
    row5.appendChild(cell1);
    cell2 = doc.createElement("td");
    cell2.setTextContent("Cell2");
    row5.appendChild(cell2);
    
    Element myElem = row1;
    int index = myElem.elementSiblingIndex();
    Element sibling = myElem.getParent().getChildNodes().item(index);
    assertEquals(myElem, sibling);
}
