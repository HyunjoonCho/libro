public void testStdKeyDeserializer() {
    ObjectMapper mapper = new ObjectMapper();
    try {
        mapper.readValue("{\"first.last\": 42}", new TypeReference<Map<FullName, Double>>() {});
        fail("Expected InvalidFormatException");
    } catch (IOException e) {
        assertEquals("Can not construct Map key of type KeyVsFieldTest$FullName from String \"first.last\": not a valid representation: wrong number of arguments", e.getMessage());
    }
}