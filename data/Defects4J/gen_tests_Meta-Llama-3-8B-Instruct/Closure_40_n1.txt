java
import org.junit.Test;
import static org.junit.Assert.assertThrows;

public class SmartNameRemovalTest {
    @Test
    public void testSmartNameRemovalCrash() {
        // Compile the following code in advanced mode
        String code = 
                "var goog = {};" +
                "goog.inherits = function(x, y) {};" +
                "var ns = {};" +
                "/** @constructor */ ns.PageSelectionModel = function(){};" +
                "/** @constructor */ " +
                "ns.PageSelectionModel.FooEvent = function() {};" +
                "/** @constructor */ " +
                "ns.PageSelectionModel.SelectEvent = function() {};" +
                "goog.inherits(ns.PageSelectionModel.ChangeEvent, ns.PageSelectionModel.FooEvent);";

        // The compiler should crash when trying to compile this code
        assertThrows(AssertionError.class, () -> {
            // Compiler crash when trying to compile this code
        });
    }
}
