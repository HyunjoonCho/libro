public void testLongDirectoryName() {
    TarArchiveOutputStream taos = new TarArchiveOutputStream(new FileOutputStream(new File("test.tar")));
    String longDirectoryName = new String(new char[101]).replace('\0', 'a');
    try {
        TarArchiveEntry entry = new TarArchiveEntry(longDirectoryName);
        entry.setSize(longDirectoryName.getBytes().length);
        taos.putArchiveEntry(entry);
        taos.close();
    } catch (IOException e) {
        fail("Expected to write the directory name without throwing an exception");
    }
}