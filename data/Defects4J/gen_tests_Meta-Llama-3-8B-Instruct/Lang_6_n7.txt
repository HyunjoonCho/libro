java
import org.junit.Test;
import org.apache.commons.lang3.StringEscapeUtils;

import java.io.StringWriter;
import java.io.Writer;

import static org.junit.Assert.fail;

public class TestCharSequenceTranslator {

    @Test(expected = StringIndexOutOfBoundsException.class)
    public void testEscapeSurrogatePairs() throws Exception {
        String input = "\uD83D\uDE30";
        StringWriter writer = new StringWriter();
        StringEscapeUtils.translate(input, writer);
        fail("Expected StringIndexOutOfBoundsException");
    }
}
