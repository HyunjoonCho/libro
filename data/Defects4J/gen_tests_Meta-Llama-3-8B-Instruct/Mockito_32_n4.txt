
import org.junit.Test;
import org.junit.runner.RunWith;
import org.mockito.Mockito;
import org.powermock.core.classloader.annotations.PowerMockIgnore;
import org.powermock.core.classloader.annotations.PowerMockUtils;
import org.powermock.modules.junit4.PowerMockRunner;

import static org.junit.Assert.fail;

@RunWith(PowerMockRunner.class)
@PowerMockIgnore("sun.reflect.*")
public class MockitoPackagePrivateClassTest {

    @Test
    public void testMockitoOnPackagePrivateClass() throws Exception {
        // Arrange
        Class<PackagePrivateClass> packagePrivateClass = PackagePrivateClass.class;

        // Act and Assert
        try {
            Mockito.mock(packagePrivateClass);
            fail("Mockito should throw an exception when trying to create a mock of a package-private class that extends a public class");
        } catch (Exception e) {
            // Expected exception
        }
    }
}
