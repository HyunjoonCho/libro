public void testRelaxOwnershipChecks() {
    ByteBuffer buffer1 = ByteBuffer.allocate(1024);
    ByteBuffer buffer2 = ByteBuffer.allocate(1024);
    IOContext context = new IOContext(buffer1);
    assertEquals(buffer1, context.buffer());
    assertEquals(buffer1.capacity(), context.buffer().capacity());
    buffer1 = buffer2;
    assertEquals(buffer2, context.buffer());
    assertEquals(buffer2.capacity(), context.buffer().capacity());
}