
import org.apache.commons.lang3.SerializationUtils;
import org.junit.Test;
import java.lang.reflect.Constructor;
import java.lang.reflect.Method;

public class SerializationUtilsTest {

    @Test(expected = ClassNotFoundException.class)
    public void primitiveTypeClassSerialization() throws Exception {
        Class<?> primitiveType = int.class;
        SerializationUtils.clone(primitiveType);
    }

    @Test
    public void testSerializationUtilsFixed() throws Exception {
        Class<?> primitiveType = int.class;
        Constructor<?> constructor = ClassLoader.getSystemClassLoader().loadClass("java.lang.Integer").getConstructor();
        Method method = constructor.getDeclaringClass().getMethod("clone", new Class<?>[0]);
        assertEquals(int.class, method.getReturnType());
    }
}
