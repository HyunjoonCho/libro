public void testArgumentCaptor() {
    ArgumentCaptor<Integer[]> captor = ArgumentCaptor.capture();
    when(mock.method("test", (Integer[]) null)).thenReturn("test");
    mock.method("test", 1, 2, 3);
    verify(mock).method("test", captor.capture());
    Integer[] actual = captor.getValue();
    assertEquals(3, actual.length);
    assertEquals(Integer.valueOf(1), actual[0]);
    assertEquals(Integer.valueOf(2), actual[1]);
    assertEquals(Integer.valueOf(3), actual[2]);
}