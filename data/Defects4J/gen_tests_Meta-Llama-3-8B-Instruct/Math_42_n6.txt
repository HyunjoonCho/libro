java
import org.apache.commons.math3.optimization.linear.SimplexSolver;
import org.junit.Test;

import java.util.ArrayList;
import java.util.List;

public class TestSimplexSolver {
    @Test
    public void testRestrictNonNegative() {
        SimplexSolver solver = new SimplexSolver();
        List<double[]> function = new ArrayList<>();
        function.add(new double[]{1, 1});
        List<double[]> constraints = new ArrayList<>();
        constraints.add(new double[]{1, 0});
        double[] result = solver.optimize(function, constraints, 0, GoalType.MINIMIZE, true);
        assert(result[0] == 1);
        assert(result[1] < 0); // This assertion should fail if the bug is fixed
    }
}
