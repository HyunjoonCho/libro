public void testSqlDateSerialization() {
    ObjectMapper mapper = new ObjectMapper();
    mapper.registerModule(new Module() {
        @Override
        public void setupModule(SetupContext context) {
            context.setSerializerProvider(new SerializerProvider() {
                @Override
                public JsonSerializer<?> serializerInstance(SerializationConfig config, BeanDescription beanDesc) {
                    JsonSerializer<?> serializer = super.serializerInstance(config, beanDesc);
                    if (serializer instanceof SqlDateSerializer) {
                        ((SqlDateSerializer) serializer).setDateFormat(new SimpleDateFormat("yyyy-MM-dd"));
                    }
                    return serializer;
                }
            });
        }
    });
    String json = mapper.writeValueAsString(new java.sql.Date(1234567890000L));
    assertEquals("1973-12-02", json);
}