public void testRequiredOptions() {
    Options options = new Options();
    options.addOption(new Option("h", "help", false, "help message"));
    options.addOption(new Option("c", "config", true, "config file"));
    CommandLine cmd = new CommandLine();
    cmd.setOptions(options);
    try {
        cmd.parse("myProgram", new String[] {"-h"});
    } catch (CommandLineException e) {
        assertEquals("-h", e.getMessage());
    }
}