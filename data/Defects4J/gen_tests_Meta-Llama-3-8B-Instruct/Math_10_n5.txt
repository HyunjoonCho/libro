
public void testAtan2SpecialCases() {
    DerivativeStructure dsX = new DerivativeStructure(1, 1, 1, 0);
    DerivativeStructure dsY = new DerivativeStructure(1, 1, 1, 0);
    assertEquals(Math.atan2(0, 0), dsX.atan2(dsY).getDoubleValue());
    dsY.setValue(0);
    assertEquals(Math.atan2(0, Double.POSITIVE_INFINITY), dsX.atan2(dsY).getDoubleValue());
    dsY.setValue(Double.POSITIVE_INFINITY);
    assertEquals(Math.atan2(0, Double.POSITIVE_INFINITY), dsX.atan2(dsY).getDoubleValue());
    dsY.setValue(Double.NEGATIVE_INFINITY);
    assertEquals(Math.atan2(0, Double.NEGATIVE_INFINITY), dsX.atan2(dsY).getDoubleValue());
}
