java
import org.jxpath.JXPathContext;
import org.jxpath.Pointer;
import org.jxpath.PointerIterator;
import org.jxpath.PointerSet;
import org.junit.Test;

import java.util.ArrayList;
import java.util.List;

public class JXPathTest {

    @Test
    public void testNodeSetHandling() {
        JXPathContext context = JXPathContext.newContext(new Object());
        PointerSet nodeSet = new BasicNodeSet();
        nodeSet.add(new Pointer("node1"));
        nodeSet.add(new Pointer("node2"));
        
        Pointer pointer = (Pointer) context.getContextNodePointer();
        List<Pointer> ptrs = new ArrayList<>();
        ptrs.add(pointer);
        
        for (Pointer ptr : nodeSet) {
            ptrs.add(ptr);
        }
        
        // Simulate the bug: iterate over the NodeSet
        PointerIterator iterator = nodeSet.getPointers();
        while (iterator.hasNext()) {
            Pointer next = iterator.next();
            // Assert that the iteration works correctly
            assertNotNull(next);
        }
    }
}
