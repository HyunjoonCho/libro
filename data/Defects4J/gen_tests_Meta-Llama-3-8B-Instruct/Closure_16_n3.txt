java
import org.junit.Test;
import org.junit.runner.RunWith;
import org.junit.runners.JUnit4;

import com.google.javascript.jscomp.CompilationLevel;
import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.CompilerTestCase;

@RunWith(JUnit4.class)
public class JSTest extends CompilerTestCase {

    @Test
    public void testTypedefRecursion() {
        String code = "goog.provide('a.b.c');\n" +
                "goog.scope(function() {\n" +
                "    var b = a.b;\n" +
                "    var c = b.c;\n" +
                "    /** @typedef {string} */\n" +
                "    c.MyType;\n" +
                "    /** @param {c.MyType} x The variable. */\n" +
                "    c.myFunc = function(x) {};\n" +
                "});";
        Compiler compiler = new Compiler();
        compiler.compile(code, CompilationLevel.SIMPLE_OPTIMIZATIONS);
        compiler.compileErrors().checkAreEmpty();
    }
}
