public void testBase64InputStreamRead() throws IOException {
    byte[] data = new byte[] {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};
    ByteArrayInputStream bais = new ByteArrayInputStream(data);
    Base64InputStream bais64 = new Base64InputStream(bais, true);
    byte[] buffer = new byte[3];
    int bytesRead = bais64.read(buffer);
    assertEquals(12, bytesRead);
    bais64 = new Base64InputStream(bais, true);
    bytesRead = bais64.read(buffer);
    assertEquals(0, bytesRead);
}