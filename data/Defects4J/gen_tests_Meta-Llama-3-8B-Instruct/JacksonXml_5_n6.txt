
public void testJacksonXmlRootElement() throws Exception {
    final ObjectMapper xmlMapper = new XmlMapper();
    final ObjectMapper noAnnotationsXmlMapper = xmlMapper.copy()
           .configure(MapperFeature.USE_ANNOTATIONS, false)
           .configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);

    String expectedLocalName = "myname";
    String expectedClassName = "XMLTest";

    String resultNoAnnotations = noAnnotationsXmlMapper.writeValueAsString(new XMLTest());
    String resultWithAnnotations = xmlMapper.writeValueAsString(new XMLTest());

    assertFalse(resultNoAnnotations.contains(expectedLocalName));
    assertTrue(resultNoAnnotations.contains(expectedClassName));

    assertTrue(resultWithAnnotations.contains(expectedLocalName));
    assertFalse(resultWithAnnotations.contains(expectedClassName));
}
