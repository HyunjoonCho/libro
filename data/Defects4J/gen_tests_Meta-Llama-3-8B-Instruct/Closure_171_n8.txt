java
public void testAssigningObjectLiteralToPrototype() {
    final Function foo = new Function() {
        public Object invoke() {
            Object prototype = new Object() {
                public void alert() {
                    System.out.println("hello world");
                }
            };
            foo.prototype = prototype;
            return null;
        }
    };
    foo.invoke();
    try {
        foo.prototype.alert();
        fail("Expected NullPointerException");
    } catch (NullPointerException e) {
        // Expected
    }
}
