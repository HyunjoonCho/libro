public void testNullPointerExceptionWhenReadingNaNAsBigDecimal() {
    ObjectReader reader = new ObjectReader();
    JsonParser parser = new JsonParser();
    parser.enable(JsonParser.Feature.ALLOW_NON_NUMERIC_NUMBERS);
    JsonToken token = parser.parseValue("NaN");
    assertEquals(JsonToken.VALUE_NUMBER_FLOAT, token.getType());
    try {
        BigDecimal bigDecimal = parser.getDecimalValue();
        fail("Expected NumberFormatException");
    } catch (NullPointerException e) {
        // expected
    }
}