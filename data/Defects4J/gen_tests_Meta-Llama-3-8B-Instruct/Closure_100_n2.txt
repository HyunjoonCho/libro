public void testThisAnnotation() {
    assertEquals(1, JUnit.newTest().expectWarnings("dangerous use of the global this object").run("writeMethodWithoutAnnotation()").getWarnings().size());
    assertEquals(0, JUnit.newTest().expectWarnings().run("writeMethodWithAnnotation()").getWarnings().size());
    assertEquals(0, JUnit.newTest().expectWarnings().run("readMethodWithAnnotation()").getWarnings().size());
    assertEquals(0, JUnit.newTest().expectWarnings().run("readMethodWithoutAnnotation()").getWarnings().size());
}