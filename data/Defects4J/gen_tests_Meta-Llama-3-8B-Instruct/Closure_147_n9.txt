java
import org.junit.Test;

public class JSCUsedGlobalThisTest {
    @Test
    public void testJSCUsedGlobalThisWarning() {
        var ns = new Object() {
            int foo;

            public int read() {
                return this.foo; // does not warn in 0514 release
            }

            public void write() {
                this.foo = 123; // warns in 0514 release
            }
        };

        // only the non-inline notation warns in 0616 release
        Object write2 = new Object() {
            public void write() {
                this.foo = 123;
            }
        };

        // expected output: warning "JSC_USED_GLOBAL_THIS: dangerous use of the global this object"
        // actual output: no warning in 0616 release
    }
}
