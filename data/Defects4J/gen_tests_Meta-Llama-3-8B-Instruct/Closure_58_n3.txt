
import org.junit.Test;
import com.google.javascript.jscomp.CompilationUnit;
import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.Result;

public class TestClosureCompiler {

    @Test
    public void testClosureCompilerError() {
        Compiler compiler = new Compiler();
        String code = "function keys(obj) {\n" +
                "  var a = [], i = 0;\n" +
                "  for (a[i++] in obj)\n" +
                "  ;\n" +
                "  return a;\n" +
                "}";
        CompilationUnit compilationUnit = compiler.compile(code);
        Result result = compilationUnit.getResult();
        assert result.hasErrors(); // or assert result.getErrorCount() > 0
    }
}
