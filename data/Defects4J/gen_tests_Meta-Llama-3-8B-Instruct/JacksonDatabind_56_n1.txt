java
public void testDeserializingLocaleSeparator() throws JsonProcessingException {
    String json = "{\"locale\":\"en-US-\"}";
    JsonNode node = mapper.readTree(json);
    String locale = node.get("locale").asText();
    assertEquals("en-US", locale); // should pass

    json = "{\"locale\":\"en_US\"}";
    node = mapper.readTree(json);
    locale = node.get("locale").asText();
    assertEquals("en_US", locale); // should pass

    json = "{\"locale\":\"en-US-\"}";
    node = mapper.readTree(json);
    locale = node.get("locale").asText();
    assertEquals("en-US", locale); // should fail
}
