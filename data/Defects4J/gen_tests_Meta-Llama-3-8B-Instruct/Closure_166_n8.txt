public void testAnonymousObjectTypeInference() {
    String[] expectedOutput = {"a", "a"};
    String output = "";
    func(new Record("a"));
    func2(new Record("a"));
    assertEquals(expectedOutput[0], output);
    output = "";
    func("a");
    assertEquals(expectedOutput[1], output);
}

class Record {
    String prop;

    public Record(String prop) {
        this.prop = prop;
    }
}