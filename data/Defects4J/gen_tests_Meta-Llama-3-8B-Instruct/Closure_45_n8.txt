java
import org.junit.Test;
import org.junit.runner.RunWith;
import org.junit.runners.JUnit4;

import com.google.javascript.jscomp.CompilationLevel;
import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.JSError;
import com.google.javascript.jscomp.JSLevel;
import com.google.javascript.jscomp.SourceFile;

import static org.junit.Assert.assertEquals;

@RunWith(JUnit4.class)
public class TestAssignmentRemovedAsExpressionResult {
    @Test
    public void testAssignmentRemovedAsExpressionResult() {
        Compiler compiler = new Compiler();
        compiler.setSourceFiles(SourceFile.create("f", "function f() {\n" +
                "  var a = [], b;\n" +
                "  a.push(b = []);\n" +
                "  b[0] = 1;\n" +
                "  return a;\n" +
                "};"));
        compiler.compile();

        assertEquals("function f(){var a=[];a.push([]);return a};", compiler.toSource());
    }
}
