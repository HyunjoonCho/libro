java
import org.junit.Test;
import static org.junit.Assert.assertThrows;

public class JsonWriterTest {

    @Test
    public void testJsonWriterValue() {
        JsonWriter jsonWriter = new JsonWriter(); // Assuming JsonWriter is the class under test
        jsonWriter.setLenient(true);

        // Test NaN
        assertThrows(IllegalArgumentException.class, () -> jsonWriter.value(Double.valueOf(Double.NaN)));

        // Test Infinity
        assertThrows(IllegalArgumentException.class, () -> jsonWriter.value(Double.valueOf(Double.POSITIVE_INFINITY)));

        // Test -Infinity
        assertThrows(IllegalArgumentException.class, () -> jsonWriter.value(Double.valueOf(Double.NEGATIVE_INFINITY)));

        // Test with boxing
        Number number = Double.valueOf(Double.NaN);
        assertDoesNotThrow(() -> jsonWriter.value(number));
    }
}
