public void testGroupConstraints() {
    Options options = new Options();
    Group groupA = new Group("groupA");
    Option optionA = new Option("A", true);
    groupA.addOption(optionA);
    options.addOption(groupA);
    Group groupB = new Group("groupB");
    groupB.addOption(optionA);
    options.addOption(groupB);
    WriteableCommandLine cmd = new PosixParser().parse(new String[] {"--groupB"});
    assertFalse(cmd.hasOption("A")); // fails because A is not explicitly added
    assertEquals(0, options.getOptionCount()); // fails because A is not counted
}