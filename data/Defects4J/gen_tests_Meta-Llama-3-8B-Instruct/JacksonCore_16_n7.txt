java
import com.fasterxml.jackson.core.JsonParser;
import com.fasterxml.jackson.core.JsonToken;
import com.fasterxml.jackson.core.util.JsonParserSequence;

import org.junit.Test;

import java.io.IOException;
import java.io.StringReader;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertSame;

public class JsonParserSequenceTest {

    @Test
    public void testJsonParserSequenceSkipsAToken() throws IOException {
        JsonParser parser1 = new MyJsonParser();
        parser1.nextToken();
        parser1.nextToken(); // advance to a token

        JsonParser parser2 = new MyJsonParser();
        parser2.nextToken(); // advance to a token

        JsonParserSequence jsonParserSequence = JsonParserSequence.createFlattened(parser1, parser2);

        assertEquals(JsonToken.FIELD_NAME, jsonParserSequence.nextToken()); // should not skip this token
        assertSame(JsonToken.END_OBJECT, jsonParserSequence.nextToken()); // should skip this token
    }
}
