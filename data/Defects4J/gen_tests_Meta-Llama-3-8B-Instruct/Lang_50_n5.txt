
public void testFastDateFormatLocaleChange() {
    FastDateFormat df = FastDateFormat.getDateInstance();
    Locale originalLocale = Locale.getDefault();

    Locale.setDefault(Locale.US);
    df = FastDateFormat.getDateInstance();

    assertEquals(Locale.US, df.getDateFormatSymbols().getLocal());
    assertEquals(originalLocale, df.getDateFormatSymbols().getDateTimePattern().substring(1, 3));
}
