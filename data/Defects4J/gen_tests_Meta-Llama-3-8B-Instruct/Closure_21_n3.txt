public void testClassifyNonRightmostExpressions() {
    Expression expression = new Expression("foo((1, 2, 42))");
    List<Expression> warnings = new ArrayList<>();
    new ExpressionTransformer(warnings).transform(expression);
    assertEquals(1, warnings.size());
    assertEquals("1", warnings.get(0).getSource());

    expression = new Expression("foo((bar(), 2, 42))");
    warnings = new ArrayList<>();
    new ExpressionTransformer(warnings).transform(expression);
    assertEquals(0, warnings.size());

    expression = new Expression("foo(((1, 2, 3), (4, 5, 42)))");
    warnings = new ArrayList<>();
    new ExpressionTransformer(warnings).transform(expression);
    assertEquals(1, warnings.size());
    assertEquals("1", warnings.get(0).getSource());
}