
import org.junit.Test;
import static org.junit.Assert.*;

public class TestTrueFalseReplacement {
    @Test
    public void testTrueFalseReplacement() {
        boolean anyExpression = true;
        Object externalRef = new Object() {
            public boolean invoke() {
                return true;
            }
        };
        Object fn1 = null;
        Object fn2 = null;
        if (anyExpression) {
            fn2 = externalRef;
            fn1 = new Object() {
                public boolean invoke() {
                    return fn2.invoke();
                }
            };
        }
        Object result = new Object() {
            public boolean method1() {
                if (fn1!= null) {
                    fn1.invoke();
                }
                return true;
            }
            public boolean method2() {
                return false;
            }
        };
        assertFalse(result.method1()); // Expected: false
        assertTrue(result.method2()); // Expected: true
    }
}
