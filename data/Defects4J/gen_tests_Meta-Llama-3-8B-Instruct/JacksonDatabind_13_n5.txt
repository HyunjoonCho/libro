
public void testDeserializeNullObjectId() {
    // Setup
    ObjectCodec codec = new ObjectCodec();
    DeserializationConfig config = DeserializationConfig.global();
    config.enable(DeserializationFeature.FAIL_ON_NULL_FOR_PRIMITIVE_TYPES);

    // Reproduce the bug
    ObjectMapper mapper = new ObjectMapper(codec, config);
    try {
        mapper.readValue("{\"id\": null}", MyBean.class);
        fail("Expected DeserializationException");
    } catch (JsonMappingException e) {
        // Expected exception
    }
}

class MyBean {
    @JsonFormat(shape = JsonFormat.Shape.OBJECT)
    private ObjectId id;

    // getters and setters
}
