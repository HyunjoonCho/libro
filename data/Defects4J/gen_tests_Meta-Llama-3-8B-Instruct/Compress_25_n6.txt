java
import org.junit.Test;
import java.io.ByteArrayInputStream;
import java.io.ByteArrayOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.util.zip.ZipArchiveEntry;
import java.util.zip.ZipArchiveInputStream;
import java.util.zip.ZipOutputStream;

import static org.junit.Assert.assertArrayEquals;

public class ZipTest {

    @Test
    public void testZip() throws IOException {
        // Create a zip file
        ByteArrayOutputStream bos = new ByteArrayOutputStream();
        ZipOutputStream zos = new ZipOutputStream(bos);
        zos.putNextEntry(new ZipArchiveEntry("test.txt"));
        zos.write("data".getBytes());
        zos.closeEntry();
        zos.close();

        // Read the zip file
        byte[] zip = bos.toByteArray();
        ByteArrayInputStream bin = new ByteArrayInputStream(zip);
        ZipArchiveInputStream in = new ZipArchiveInputStream(bin);

        // Check the contents of the zip file
        ZipArchiveEntry entry = in.getNextZipEntry();
        assertEquals("test.txt", entry.getName());
        byte[] buf = new byte[(int) entry.getSize()];
        in.read(buf);
        String expected = "Content of test.txt:\n" +
                "data\n";
        String actual = new String(buf);
        assertEquals(expected, actual);
    }
}
