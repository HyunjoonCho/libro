public void testIssue() {
    Object f1 = new Object() {
        public void alert() {
            System.out.println("f1");
        }
    };
    f1.addProperty("alwaysCall", true);
    Object f2 = new Object() {
        public void alert() {
            System.out.println("f2");
        }
    };

    Map<String, Object> map = new HashMap<>();
    map.put("f1", f1);
    map.put("f2", f2);

    Object result = map.get(Math.random() > 0.5? "f1" : "f2");
    if (((Map) result).get("alwaysCall")) {
        ((Object) result).alert();
    }
}