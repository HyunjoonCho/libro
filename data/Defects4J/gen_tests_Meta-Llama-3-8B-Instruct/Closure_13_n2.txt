public void testBugReport() {
    Object result = someFunction(true);
    Method method1 = result.getClass().getMethod("method1");
    Method method2 = result.getClass().getMethod("method2");
    try {
        method1.invoke(result);
        fail("Expected true but got null");
    } catch (InvocationTargetException e) {
        assertEquals(true, e.getTargetException());
    }
    assertEquals(false, method2.invoke(result));
}