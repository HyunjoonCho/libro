
import org.junit.Test;

public class BooleanReplacementTest {
    @Test
    public void testBooleanReplacement() {
        boolean anyExpression = true;
        String externalRef = "externalRef";
        Function a = null;
        Function b = null;

        if (anyExpression) {
            b = externalRef::invoke;
            a = () -> b.invoke();
        }

        Object obj = new Object() {
            public boolean method1() {
                if (a!= null) {
                    a.invoke();
                }
                return true;
            }

            public boolean method2() {
                return false;
            }
        };

        boolean result = obj.method1();
        boolean expected = true;
        assertEquals(expected, result);
    }
}
