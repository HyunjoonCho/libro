java
import org.junit.Test;
import static org.junit.Assert.fail;

public class ExternExportTypedefTest {
    @Test
    public void testTypedefExport() {
        String sourceCode = 
                "typedef {a: string, b: string} MyType;\n" + 
                "function f1(opt MyType o) {\n" +
                "  console.log(o.a); // This works\n" +
                "  console.log(o.b); // This works\n" +
                "}\n" +
                "function f2(MyType o) {\n" +
                "  console.log(o.a); // This fails because o is truncated\n" +
                "  console.log(o.b); // This fails because o is truncated\n" +
                "}\n";

        // Run the closure compiler and grab the externExport string
        //...

        // Verify the generated externExport string
        String externExport = "..."; // Replace with the actual externExport string
        if (!externExport.contains("typedef MyType {")) {
            fail("Typedef not exported correctly");
        }
        if (externExport.length() > 100) {
            fail("Typedef truncated");
        }
    }
}
