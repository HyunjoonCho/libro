public void testLastWarningOrErrorTruncated() {
    String output = Compiler.compile(new File("test.js"), new String[] {"--warning_level", "VERBOSE"});
    System.out.println(output);
    // Check if the output contains the last error/warning
    boolean foundLastError = false;
    for (String line : output.split("\n")) {
        if (line.contains("ERROR")) {
            foundLastError = true;
            // Check if the last error contains the correct information
            if (!line.contains("test.js:") ||!line.contains("^")) {
                fail("Last error/warning is truncated");
            }
        }
    }
    if (!foundLastError) {
        fail("No errors/warnings found");
    }
}