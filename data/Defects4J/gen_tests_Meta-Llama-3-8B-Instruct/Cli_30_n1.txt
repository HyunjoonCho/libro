
public void testDefaultOptionsNotUpdated() {
    Options options = new Options();
    Option a = new Option("a", "a-option");
    Option b = new Option("b", "b-option");
    a.setRequired(false);
    b.setRequired(false);
    a.setExclusiveGroup("group");
    b.setExclusiveGroup("group");
    options.addOption(a);
    options.addOption(b);

    Properties defaults = new Properties();
    defaults.put("a", "true");
    defaults.put("b", "true");

    CommandLine commandLine = new GnuParser().parse(options, new String[] {}, defaults);

    assertTrue(commandLine.hasOption("a"));
    assertTrue(commandLine.hasOption("b"));
}
