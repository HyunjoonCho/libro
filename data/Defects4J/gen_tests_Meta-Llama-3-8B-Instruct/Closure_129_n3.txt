java
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class BugReportTest {

    @Test
    public void testCastingFunctionBeforeCalling() {
        // First example
        String result1 = ((Object) ((new Object() {
            public Object GetVariable(String s) {
                return "$version";
            }
        }).GetVariable("'$version'")).toString();
        assertEquals("use strict';console.log((0,(new Object()).GetVariable)('$version'));", result1);

        // Second example
        String result2 = (new Object() {
            public Object GetVariable(String s) {
                return "$version";
            }
        }).GetVariable("'$version'").toString();
        assertEquals("use strict';console.log((new Object()).GetVariable('$version'));", result2);
    }
}
