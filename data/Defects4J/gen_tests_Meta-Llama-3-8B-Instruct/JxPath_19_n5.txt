public void testJXPathContextIteratePointers() {
    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
    DocumentBuilder builder = factory.newDocumentBuilder();
    Document document = builder.parse(new ByteArrayInputStream("<a:doc xmlns:a=\"ns\"><a:elem/><b:elem xmlns:b=\"ns\"/></a:doc>".getBytes()));
    JXPathContext context = JXPathContext.newContext(document);
    List<Pointer> pointers = new ArrayList<>();
    context.iteratePointers("/a:doc/*", new PointerMatcher() {
        public boolean matches(Pointer pointer) {
            pointers.add(pointer);
            return true;
        }
    });
    assertEquals(2, pointers.size());
}