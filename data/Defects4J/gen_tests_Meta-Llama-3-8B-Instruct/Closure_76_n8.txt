public void testIssueAssignmentWithinConditions() {
    String originalCode = "function reduction() {\n" +
            "var a, b;\n" +
            "if (echo(b = true) || echo(b = false))\n" +
            "  a = b;\n" +
            "else\n" +
            "  a = null;\n" +
            "return a;\n" +
            "}\n";
    String compiledCode = "function reduction() {\n" +
            "var a;\n" +
            "return echo(true) || echo(a = false)? a: null\n" +
            "}";

    assertEquals("var a, b;\nif (echo(b = true) || echo(b = false)) a = b; else a = null;\nreturn a;", originalCode);
    assertEquals("return echo(true) || echo(a = false)? a: null", compiledCode);
}