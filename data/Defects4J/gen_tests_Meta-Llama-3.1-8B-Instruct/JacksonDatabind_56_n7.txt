public void testDeserializeLocaleSeparator() {
    String localeStr = "en-US";
    String expected = "en_US";
    String expectedDash = "en-US";
    try {
        String deserialized = FromStringDeserializer.deserialize(localeStr);
        assertNotEquals(expected, deserialized);
    } catch (Exception e) {
        fail("Expected deserialization to succeed");
    }

    try {
        String deserialized = FromStringDeserializer.deserialize(localeStr.replace('_', '-'));
        assertEquals(expectedDash, deserialized);
    } catch (Exception e) {
        fail("Expected deserialization to succeed");
    }
}