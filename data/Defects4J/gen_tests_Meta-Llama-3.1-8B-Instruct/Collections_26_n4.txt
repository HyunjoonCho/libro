java
import org.junit.Test;
import org.junit.runner.RunWith;
import org.junit.runners.JUnit4;

import java.io.ByteArrayInputStream;
import java.io.ByteArrayOutputStream;
import java.io.IOException;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;
import java.io.Serializable;

import org.apache.commons.collections4.keyvalue.MultiKey;

import static org.junit.Assert.assertEquals;

@RunWith(JUnit4.class)
public class MultiKeySerializationTest {

    @Test
    @SuppressWarnings("unchecked")
    public void testReadResolveEqualHashCode() throws IOException, ClassNotFoundException {
        // Create a subclass of MultiKey
        class MultiKey2<A, B> extends MultiKey implements Serializable {
            private static final long serialVersionUID = 1928896152249821416L;

            public MultiKey2(A key1, B key2) {
                super(key1, key2);
            }

            public A getFirst() {
                return (A) getKey(0);
            }

            public B getSecond() {
                return (B) getKey(1);
            }
        }

        // Create an instance of the subclass
        MultiKey2<String, String> one = new MultiKey2<>("bla", "blub");

        // Serialize