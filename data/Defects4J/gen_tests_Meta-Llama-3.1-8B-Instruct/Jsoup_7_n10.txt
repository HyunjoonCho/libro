java
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.junit.Test;

import static org.junit.Assert.assertTrue;

public class JsoupTest {

    @Test
    public void testMalformedTree() {
        String html = "<html><body><body></body></body></html>";
        Document doc = Jsoup.parse(html);
        Element htmlElement = doc.selectFirst("html");
        Element bodyElements = doc.select("body");

        assertTrue(bodyElements.size() == 2);
        for (Element body : bodyElements) {
            boolean found = false;
            for (Element child : body.children()) {
                if (child.equals(htmlElement)) {
                    found = true;
                    break;
                }
            }
            assertTrue("Neither body element is a direct child of html", found);
        }
    }
}
