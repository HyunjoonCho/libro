javascript
function testArgumentsCollapse() {
    var originalFunction = function() {
        var arg = arguments;
        return function() {
            setTimeout(function() { alert(arg); }, 0);
        }
    };

    var optimizedFunction = function() {
        var arg = arguments;
        return function() {
            setTimeout(function() { alert(arguments); }, 0);
        }
    };

    var originalClosure = originalFunction();
    var optimizedClosure = optimizedFunction();

    originalClosure();
    optimizedClosure(1, 2, 3);
}

testArgumentsCollapse();
