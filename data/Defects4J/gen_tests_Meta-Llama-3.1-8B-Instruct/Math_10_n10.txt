java
public void testDerivativeStructureAtan2SpecialCases() {
    DerivativeStructure x = new DerivativeStructure(1, 1, 1.0);
    DerivativeStructure y = new DerivativeStructure(1, 1, 1.0);

    // Test atan2(0, 0)
    x.setValue(0);
    y.setValue(0);
    assertEquals(0, DerivativeStructure.atan2(y, x).getValue(), 1e-12);

    // Test atan2(0, +inf)
    x.setValue(0);
    y.setValue(1e20);
    assertEquals(0, DerivativeStructure.atan2(y, x).getValue(), 1e-12);

    // Test atan2(0, -inf)
    x.setValue(0);
    y.setValue(-1e20);
    assertEquals(Math.PI, DerivativeStructure.atan2(y, x).getValue(), 1e-12);

    // Test atan2(+inf, 0)
    x.setValue(1e20);
    y.setValue(0);
    assertEquals(Math.PI/2, DerivativeStructure.atan2(y, x).getValue(), 1e-12);

    // Test atan2(-inf, 0