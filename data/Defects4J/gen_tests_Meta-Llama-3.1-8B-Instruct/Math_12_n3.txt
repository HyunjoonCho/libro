public void testGammaDistributionCloning() throws IOException, ClassNotFoundException {
    GammaDistribution dist = new GammaDistribution(1.0, 1.0);
    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    ObjectOutputStream oos = new ObjectOutputStream(bos);
    oos.writeObject(dist);
    oos.close();
    ObjectInputStream ois = new ObjectInputStream(new ByteArrayInputStream(bos.toByteArray()));
    GammaDistribution clonedDist = (GammaDistribution) ois.readObject();
    ois.close();
    Random random = new Random();
    double[] originalSamples = dist.sample(1000, random);
    double[] clonedSamples = clonedDist.sample(1000, random);
    assertNotSame(originalSamples, clonedSamples);
    assertNotEquals(Arrays.toString(originalSamples), Arrays.toString(clonedSamples));
}