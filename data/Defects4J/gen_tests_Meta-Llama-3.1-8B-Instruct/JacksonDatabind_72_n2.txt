java
public class TestNonStaticInnerClassConstructor {
    @Test
    public void testNonStaticInnerClassConstructor() throws JsonProcessingException {
        ObjectMapper mapper = new ObjectMapper();
        String json = "{\"a\":{\"a\":null}}";

        // Deserialization should throw ArrayIndexOutOfBoundsException
        try {
            mapper.readValue(json, NonStaticInnerClass.class);
            fail("Expected ArrayIndexOutOfBoundsException");
        } catch (ArrayIndexOutOfBoundsException e) {
            // Expected exception
        }

        // Deserialization should work if InnerSomething is static
        NonStaticInnerClassStaticMapper mapperStatic = new NonStaticInnerClassStaticMapper();
        mapperStatic.readValue(json, NonStaticInnerClassStatic.class);
    }

    public static class NonStaticInnerClass {
        public InnerSomething a;

        @JsonCreator
        public NonStaticInnerClass(@JsonProperty("a") InnerSomething a) {}
        class InnerSomething {
            @JsonCreator
            public InnerSomething() {}
        }
    }

    public static class NonStaticInnerClassStatic {
        public InnerSomethingStatic a;

        @JsonCreator
        public NonStaticInnerClassStatic(@JsonProperty("a") InnerSomethingStatic a) {}
        public static class InnerSomethingStatic {
            @JsonCreator
            public Inner