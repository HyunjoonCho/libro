java
public void testCreateArchiveInputStream() throws IOException {
    byte[] textData = new byte[100];
    Arrays.fill(textData, (byte) 0x00); // create a file of all zeros
    ByteArrayInputStream textInputStream = new ByteArrayInputStream(textData);
    ByteArrayInputStream tarInputStream = new ByteArrayInputStream(new byte[100]); // not a valid tar archive
    ByteArrayInputStream tarInputStream2 = new ByteArrayInputStream(new byte[101]); // a valid tar archive

    // Test that a valid tar archive is detected correctly
    InputStream tarArchiveInputStream = ArchiveStreamFactory.createArchiveInputStream(tarInputStream2);
    assertNotNull(tarArchiveInputStream);

    // Test that a text file less than 100 bytes is not detected as a tar archive
    InputStream textInputStream1 = ArchiveStreamFactory.createArchiveInputStream(textInputStream);
    assertNull(textInputStream1);

    // Test that a text file of exactly 100 bytes is not detected as a tar archive
    textInputStream = new ByteArrayInputStream(textData);
    InputStream textInputStream2 = ArchiveStreamFactory.createArchiveInputStream(textInputStream);
    assertNull(textInputStream2);
}
