public void testDeserializeNullWithNestedReferenceType() throws JsonProcessingException {
    ObjectMapper objectMapper = new ObjectMapper();
    JsonNode jsonNode1 = objectMapper.readTree("{\"refRef\": 2}");
    JsonNode jsonNode2 = objectMapper.readTree("{\"refRef\": null}");

    MyBean intRef = objectMapper.treeToValue(jsonNode1, MyBean.class);
    Assertions.assertNotNull(intRef.refRef);
    Assertions.assertNotNull(intRef.refRef.get());
    Assertions.assertEquals(2, intRef.refRef.get().get());

    MyBean nullRef = objectMapper.treeToValue(jsonNode2, MyBean.class);
    Assertions.assertNotNull(nullRef.refRef);
    Assertions.assertNull(nullRef.refRef.get());
}