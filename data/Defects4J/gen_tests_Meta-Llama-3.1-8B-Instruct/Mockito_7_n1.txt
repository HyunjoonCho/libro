public void testGenericsDeepStubbing() {
    MyClass1 myMock1 = mock(MyClass1.class, RETURNS_DEEP_STUBS);

    when(myMock1.getNested()).thenReturn(mock(MyClass2.class, RETURNS_DEEP_STUBS));
    MyClass2 myMock2 = when(myMock1.getNested()).get();
    when(myMock2.getNested()).thenReturn(mock(MyClass3.class, RETURNS_DEEP_STUBS));
    MyClass3 myMock3 = when(myMock2.getNested()).get();

    when(myMock3.returnSomething()).thenReturn("Hello World.");
}