public void testAssignmentInCondition() {
    // Define a simple JavaScript engine
    // For simplicity, we'll use a simple JavaScript engine that can execute a single statement
    // In a real test, you would use a more robust JavaScript engine like Rhino or Nashorn
    ScriptEngineManager manager = new ScriptEngineManager();
    ScriptEngine engine = manager.getEngineByName("js");

    // Define the original function
    engine.put("echo", new Invocable() {
        @Override
        public Object invokeFunction(String name, Object... args) {
            return true;
        }
    });
    engine.put("reduction", new Invocable() {
        @Override
        public Object invokeFunction(String name, Object... args) {
            Object b = engine.eval("b = true");
            Object a = engine.eval("(b = false) || (b = true)");
            return a;
        }
    });
    Object originalResult = engine.eval("reduction");

    // Define the compiled function
    engine.put("echo", new Invocable() {
        @Override
        public Object invokeFunction(String name, Object... args) {
            return true;
        }
    });
    engine.put("reduction", new Inv