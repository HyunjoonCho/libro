public void testJSC_DETERMINISTIC_TEST() {
    String source = "var t = null;\n" +
            "window.test = function()\n" +
            "{\n" +
            " if (t!= null)\n" +
            " {\n" +
            "  t = null;\n" +
            " }\n" +
            "\n" +
            " t = 1;\n" +
            "};";
    ClosureCompiler compiler = new ClosureCompiler();
    try {
        compiler.compile(source);
        fail("Expected JSC_DETERMINISTIC_TEST warning");
    } catch (CompilationResult compilationResult) {
        assertTrue(compilationResult.getWarnings().contains("JSC_DETERMINISTIC_TEST"));
    }
}