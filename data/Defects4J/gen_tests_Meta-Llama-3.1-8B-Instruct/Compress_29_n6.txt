public void testArchiveStreamFactoryEncoding() throws IOException {
    String encoding = "UTF-8";
    byte[] data = encoding.getBytes();
    try (ArjArchiveInputStream ais = new ArjArchiveInputStream(new ByteArrayInputStream(data))) {
        assertEquals(encoding, ais.getEncoding());
    }
    try (CpioArchiveInputStream cis = new CpioArchiveInputStream(new ByteArrayInputStream(data))) {
        assertEquals(encoding, cis.getEncoding());
    }
    try (DumpArchiveInputStream dis = new DumpArchiveInputStream(new ByteArrayInputStream(data))) {
        assertEquals(encoding, dis.getEncoding());
    }
    try (JarArchiveInputStream jis = new JarArchiveInputStream(new ByteArrayInputStream(data))) {
        assertEquals(encoding, jis.getEncoding());
    }
    try (JarArchiveOutputStream jos = new JarArchiveOutputStream(new ByteArrayOutputStream())) {
        jos.setEncoding(encoding);
        byte[] josData = jos.getBytes();
        try (JarArchiveInputStream jas = new JarArchiveInputStream(new ByteArrayInputStream(josData))) {
            assertEquals(encoding, jas.getEncoding());
        }
    }
}