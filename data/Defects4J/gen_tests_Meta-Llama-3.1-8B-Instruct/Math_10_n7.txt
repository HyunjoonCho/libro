java
public void testDerivativeStructureAtan2() {
    DerivativeStructure x = new DerivativeStructure(1, 1, 0);
    DerivativeStructure y = new DerivativeStructure(1, 1, 0);

    assertEquals(Math.atan2(0, 1), x.atan2(y));
    assertEquals(FastMath.atan2(0, 1), x.atan2(y));
    
    x.setValue(1);
    assertEquals(Math.atan2(1, 0), x.atan2(y));
    assertEquals(FastMath.atan2(1, 0), x.atan2(y));
    
    y.setValue(1);
    assertEquals(Math.atan2(0, 1), x.atan2(y));
    assertEquals(FastMath.atan2(0, 1), x.atan2(y));
    
    x.setValue(1);
    y.setValue(1);
    assertEquals(Math.atan2(1, 1), x.atan2(y));
    assertEquals(FastMath.atan2(1, 1), x.atan2(y));
}
