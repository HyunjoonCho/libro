public void testClosureCompilerWarning() {
    // Create a closure compiler environment
    ClosureCompiler compiler = new ClosureCompiler();
    String code = "function Foo() { this._bar = null; }; " +
                  "function writeMethodWithAnnotation() { this._bar = 123; } " +
                  "function readMethodWithAnnotation() { return this._bar; } " +
                  "function writeMethodWithoutAnnotation() { this._bar = 123; } " +
                  "function readMethodWithoutAnnotation() { return this._bar; }";
    CompilationUnit compilationUnit = compiler.compile(code);

    // Check for warnings
    assertEquals(1, compilationUnit.getWarnings().size());
    assertTrue(compilationUnit.getWarnings().contains("readMethodWithAnnotation() is a method annotated with @this, but is not a prototype method or a constructor."));
    assertEquals(1, compilationUnit.getWarnings().size());
}