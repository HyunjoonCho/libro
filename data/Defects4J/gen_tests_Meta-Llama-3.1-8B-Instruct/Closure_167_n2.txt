javascript
describe('issue', function() {
    it('should error on invalid property access in for loop', function() {
        var ns = {};
        ns.Thing = function() {};
        ns.Thing.prototype.subthing = {};
        ns.MyClass = function(thing) {
            this.thing_ = thing;
        };
        ns.MyClass.prototype.doIt = function() {
            var subthing = this.thing_.subthing;
            try {
                for (var i = 0; i < subthing.noprop; i++) {
                    window.console.log(i);
                }
                assert.fail('Expected error');
            } catch (e) {
                assert(e instanceof Error);
            }
        };
        var thing = new ns.Thing();
        thing.subthing = { prop: 3 };
        var c = new ns.MyClass(thing);
        c.doIt();
    });
});
