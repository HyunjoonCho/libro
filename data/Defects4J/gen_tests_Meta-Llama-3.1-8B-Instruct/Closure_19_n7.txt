public void testIssue107() {
    ClosureCompiler compiler = new ClosureCompiler();
    String code = "goog.isFunction(this);";
    try {
        compiler.compile(code);
        fail("Expected IllegalArgumentException");
    } catch (CompilationException e) {
        assertTrue(e.getMessage().contains("Node cannot be refined."));
    }
}