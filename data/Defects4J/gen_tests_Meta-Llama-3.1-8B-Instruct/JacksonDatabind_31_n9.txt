public void testJsonStreamContexts() {
    ObjectMapper mapper = new ObjectMapper();
    JsonGenerator gen = mapper.getFactory().createGenerator(System.out);
    JsonParser parser = mapper.getFactory().createParser("example");
    JsonStreamContext writeContext = gen.getOutputContext();
    JsonStreamContext readContext = parser.getCodec().getParser().getInputContext();
    
    assertEquals(writeContext.getType(), readContext.getType());
    assertEquals(writeContext.getArrayFormat(), readContext.getArrayFormat());
    assertEquals(writeContext.getCurrentName(), readContext.getCurrentName());
    assertEquals(writeContext.getCurrentValue(), readContext.getCurrentValue());
}