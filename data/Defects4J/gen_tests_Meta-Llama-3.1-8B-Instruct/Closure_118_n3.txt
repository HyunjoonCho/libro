public void testPrototypeMethodRemoved() {
    Object foo = new Object();
    Map<String, Runnable> bar = new HashMap<>();
    bar.put("bar1", () -> System.out.println("bar1"));
    foo.getClass().getField("bar").set(foo, bar);

    // Create a subclass of foo
    Class<?> foobarClass = foo.getClass();
    Constructor<?> constructor = foobarClass.getConstructor();
    Object foobar = constructor.newInstance();

    // Get the prototype of foobar
    Field prototypeField = foobarClass.getDeclaredField("prototype");
    prototypeField.setAccessible(true);
    Map<String, Runnable> prototype = (Map<String, Runnable>) prototypeField.get(foobar);

    // Try to access the method from the prototype
    prototype.get("bar1").run();
}