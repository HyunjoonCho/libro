java
public class TestStdDateFormat {

    @Test
    public void testLargeISO8601Dates() {
        StdDateFormat formatter = new StdDateFormat();
        String formattedMinValue = formatter.format(new Date(Long.MIN_VALUE));
        String formattedMaxValue = formatter.format(new Date(Long.MAX_VALUE));

        try {
            formatter.parse(formattedMinValue);
            fail("Expected IndexOutOfBoundsException for negative dates");
        } catch (java.text.ParseException e) {
            // expected
        }

        try {
            formatter.parse(formattedMaxValue);
            fail("Expected IndexOutOfBoundsException for large dates");
        } catch (java.text.ParseException e) {
            // expected
        }

        // Test that parsing and formatting works correctly for dates within the range [0, 9999]
        String formattedDate = formatter.format(new Date(10000));
        try {
            formatter.parse(formattedDate);
        } catch (java.text.ParseException e) {
            fail("Unexpected parsing error: " + e.getMessage());
        }
    }
}
