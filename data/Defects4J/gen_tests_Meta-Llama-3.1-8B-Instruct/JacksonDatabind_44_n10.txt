public void testDefaultImplPolymorphism() {
    ObjectMapper mapper = new ObjectMapper();
    Class<?> defaultType = mapper.getTypeFactory().constructType(DefaultImpl.class);
    Class<?> subType = mapper.getTypeFactory().constructType(SubImpl.class);
    try {
        mapper.defaultImpl(defaultType, subType);
        fail("Expected java.lang.NoSuchMethodException");
    } catch (JsonMappingException e) {
        // expected
    }
}

class DefaultImpl {
    public int value;
}

class SubImpl extends DefaultImpl {
    public String additionalValue;
}