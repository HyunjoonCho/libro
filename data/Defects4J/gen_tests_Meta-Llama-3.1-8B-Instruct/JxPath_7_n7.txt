java
import org.apache.xpath.jaxp.XPath;
import org.apache.xpath.jaxp.XPathFactory;
import org.w3c.dom.Document;
import org.w3c.dom.DocumentBuilderFactory;
import org.w3c.dom.Element;

import javax.xml.parsers.DocumentBuilder;
import javax.xml.parsers.DocumentBuilderFactory;
import javax.xml.transform.Transformer;
import javax.xml.transform.TransformerFactory;
import javax.xml.transform.dom.DOMSource;
import javax.xml.transform.stream.StreamResult;

import org.junit.Test;

import static org.junit.Assert.assertFalse;
import static org.junit.Assert.assertTrue;

public class XPathTest {

    @Test
    public void testBinaryOperatorsWithNodeSets() throws Exception {
        Document doc = DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(new InputSource(new StringReader(
                "<?xml version=\"1.0\" encoding=\"UTF-8\"?><root><child1/></root>")));
        XPath xPath = XPathFactory.newInstance().newXPath();
        Element root = (Element) xPath.evaluate("/root", doc, XPathConstants.NODE);
        Element child1 = (Element) xPath.evaluate("/root/child1", doc, XPathConstants.NODE);

        Object result = xPath.evaluate("2.0 > child1", root, XPathConstants.NODESET);
        XPathContext