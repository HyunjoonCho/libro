public void testWriting7zEmptyEntries() throws Exception {
    // Create a folder with 7 files
    File folder = new File("testFolder");
    folder.mkdirs();
    File[] files = new File[7];
    for (int i = 0; i < 7; i++) {
        files[i] = new File(folder, "file" + i + ".txt");
        if (i < 7 - 2) {
            // Create empty files
            files[i].createNewFile();
        } else {
            // Create files with content
            BufferedWriter writer = new BufferedWriter(new FileWriter(files[i]));
            writer.write("Content");
            writer.close();
        }
    }

    // Create an archive with the folder
    SevenZipArchiveSettings settings = new SevenZipArchiveSettings();
    settings.setCompressionType(CompressionType.LZMA2);
    settings.setCompressionLevel(CompressionLevel.NORMAL);
    SevenZipArchive archive = new SevenZipArchive();
    archive.createArchive(files[0].getParentFile(), "testArchive.7z", settings);

    // Check the archive for correct behavior
    SevenZipArchiveEntry[] entries = archive.getEntries();
    assertEquals(1, entries.length);
    assertEquals(folder.getName(),