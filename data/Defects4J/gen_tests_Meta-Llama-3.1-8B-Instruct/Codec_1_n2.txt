public void testCaseSensitiveStringHandling() {
    Locale locale = Locale.getDefault();
    Locale.setDefault(Locale.US);
    // Set the locale to a non-US locale to trigger the platform-dependent behavior
    Locale.setDefault(Locale.CHINA);
    try {
        String expected = "hello";
        String actual = String.valueOf('h').toUpperCase(locale);
        assertNotEquals(expected, actual);
    } finally {
        Locale.setDefault(locale);
    }
}