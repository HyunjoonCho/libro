javascript
/**
 * @constructor
 * @param {{prop1: string, prop2: (number|undefined)}} parry
 */
function Callz(parry) {
    if (parry.prop2 && parry.prop2 < 5) {
        alert('alright!');
    }
    alert(parry.prop1);
}

/**
 * @param {{prop1: string, prop2: (number|undefined)}} parry
 */
function callz(parry) {
    if (parry.prop2 && parry.prop2 < 5) {
        alert('alright!');
    }
    alert(parry.prop1);
}

test('constructor type inference', function() {
    try {
        new Callz({prop1: 'hi'});
        ok(false, 'Expected an error');
    } catch (e) {
        ok(true, 'Expected an error');
    }

    callz({prop1: 'hi'});
    ok(true, 'callz without new works as expected');
});
