public void testIncompleteNamespaceHandling() {
    DOMNodePointer pointer = new DOMNodePointer();
    // Register the namespace
    pointer.registerNamespace("A", "http://example.com/A");
    pointer.registerNamespace("B", "http://example.com/B");
    // Create an element with attributes
    Element element = new Element("ElementA", new Attributes() {{
        setAttribute("A:myAttr", "MyType");
        setAttribute("B:myAttr", "MyType");
    }});
    // The following line should not throw an exception
    pointer.createAttribute(element.getAttribute("A:myAttr"));
    // The following line should not throw an exception
    pointer.createAttribute(element.getAttribute("B:myAttr"));
    // The following line should throw an exception
    try {
        pointer.createAttribute(element.getAttribute("C:myAttr"));
        fail("Expected UnknownNamespaceException to be thrown");
    } catch (UnknownNamespaceException e) {
        // Expected exception
    }
}