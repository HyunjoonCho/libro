public void testColumnIndicatingCaret() throws Exception {
    File tempFile = File.createTempFile("test", ".js");
    tempFile.deleteOnExit();
    PrintWriter writer = new PrintWriter(tempFile);
    writer.println("alert(1;");
    writer.close();

    Process process = Runtime.getRuntime().exec(new String[] {"java", "-jar", "compiler.jar", "--js", tempFile.getAbsolutePath()});
    BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));
    String line;
    while ((line = reader.readLine())!= null) {
        System.out.println(line);
    }
    reader.close();
    assertEquals("test.js:1: ERROR - Parse error. missing ) after argument list\nalert(1;\n ^\n", getOutput(process));
}

private String getOutput(Process process) throws IOException {
    BufferedReader reader = new BufferedReader(new InputStreamReader(process.getErrorStream()));
    StringBuilder output = new StringBuilder();
    String line;
    while ((line = reader.readLine())!= null) {
        output.append(line).append("\n");
    }
    reader.close();
    return output.toString().trim();
}