java
import com.google.javascript.jscomp.CompilationLevel;
import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.CompilerOptions;
import com.google.javascript.jscomp.SourceFile;

import org.junit.Test;

public class IssueTest {
    @Test(expected = RuntimeException.class)
    public void testIssue() {
        String code = "goog.exportSymbol('foo', function() {}); goog.exportSymbol('foo.bar', function() {});";
        Compiler compiler = new Compiler();
        CompilerOptions options = new CompilerOptions();
        options.setLanguageIn(CompilationLevel.ADVANCED_OPTIMIZATIONS);
        SourceFile sourceFile = SourceFile.fromCode("test.js", code);
        compiler.compile(sourceFile, options);
    }
}
