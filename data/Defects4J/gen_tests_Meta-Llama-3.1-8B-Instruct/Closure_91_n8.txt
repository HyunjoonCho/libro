public void testLendsAnnotation() {
    String jsCode = "dojo.declare('MyClass', [superClass1, superClass2], /** @lends MyClass.prototype */ { foo: function(){ this.foo = 'foo'; }, bar: function(){ this.bar = 'bar'; } });";
    ClosureCompiler compiler = new ClosureCompiler();
    String compiledJs = compiler.compile(jsCode);
    assertDoesNotThrow(() -> {
        JavaScriptEngineManager engineManager = new JavaScriptEngineManager();
        engineManager.execute(compiledJs);
    });
    assertDoesNotThrow(() -> {
        JavaScriptEngine engine = engineManager.getEngine();
        engine.executeScript("MyClass.prototype.foo = function(){ this.foo = 'foo'; };");
        engine.executeScript("MyClass.prototype.bar = function(){ this.bar = 'bar'; };");
        engine.executeScript("var obj = new MyClass();");
        engine.executeScript("obj.foo();");
        engine.executeScript("obj.bar();");
        engine.executeScript("print(obj.foo);");
        engine.executeScript("print(obj.bar);");
    });
}