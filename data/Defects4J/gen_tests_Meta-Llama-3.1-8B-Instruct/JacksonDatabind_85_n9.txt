public void testDateTimeSerializerBaseContextualFormat() {
    ObjectMapper mapper = new ObjectMapper();
    SimpleDateFormat format = new SimpleDateFormat("yyyy-MM-dd");
    mapper.setDateFormat(format);

    try {
        String json = "{\"date\":\"2022-01-01\"}";
        JsonNode jsonNode = mapper.readTree(json);
        String serialized = mapper.writeValueAsString(jsonNode);
        assertEquals("2022-01-01", format.format(new SimpleDateFormat("yyyy-MM-dd").parse(mapper.readValue(serialized, String.class))));
    } catch (Exception e) {
        fail(e.getMessage());
    }
}