typescript
function func(record: { prop: string, prop2?: string }): void {
    console.log(record.prop);
}

function func2(record: { prop: string, prop2?: string } | string): void {
    if (typeof record ==='string') {
        console.log(record);
    } else {
        console.log(record.prop);
    }
}

test('anonymous object type inference inconsistency', () => {
    func({ prop: 'a' });
    func2({ prop: 'a' });
});
