java
public void testPearsonsCorrelationPValuesPrecision() {
    // Create a Pearson correlation object with a large number of treatments
    PearsonCorrelation correlation = new PearsonCorrelation(100);

    // Generate some random data
    double[] x = new double[100];
    double[] y = new double[100];
    for (int i = 0; i < 100; i++) {
        x[i] = Math.random();
        y[i] = Math.random();
    }

    // Calculate the correlation coefficient
    double corr = correlation.correlation(x, y);

    // Calculate the p-value using the original implementation
    double pOriginal = correlation.getCorrelationPValues(corr);

    // Calculate the p-value using the corrected implementation
    double pCorrected = 2 * correlation.tDistribution.cumulativeProbability(-corr);

    // Check that the p-values are equal
    assertEquals(pCorrected, pOriginal, 1e-15);
}
