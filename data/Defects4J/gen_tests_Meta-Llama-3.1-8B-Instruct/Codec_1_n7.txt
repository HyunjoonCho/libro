public void testCaseInsensitiveStringHandling() {
    String original = "Hello, World!";
    String encoded = Base64.encodeBytes(original.getBytes());
    String decoded = new String(Base64.decode(encoded));
    assertEquals(original, decoded);
    assertEquals(original, decoded);
    
    original = "Hello, World!";
    encoded = Base64.encodeBytes(original.getBytes());
    // Simulate platform-dependent encoding
    char[] encodedChars = encoded.toCharArray();
    for (int i = 0; i < encodedChars.length; i++) {
        encodedChars[i] = (char) (encodedChars[i] ^ 0x20); // XOR with space
    }
    String corruptedEncoded = new String(encodedChars);
    try {
        decoded = new String(Base64.decode(corruptedEncoded));
        fail("Expected Base64 decoding to fail for case-insensitive string");
    } catch (IllegalArgumentException e) {
        // Expected
    }
}