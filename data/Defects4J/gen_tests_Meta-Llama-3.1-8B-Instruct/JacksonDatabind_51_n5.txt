public void testTypeIdResolver() {
    TypeIdResolver resolver = new TypeIdResolver() {
        @Override
        public ObjectId resolveType(JavaType type) {
            return new ObjectId(type);
        }
    };

    JavaType genericType = new SimpleType(TypeFactory.defaultInstance().constructType(List.class, new TypeReference<List<Integer>>() {}));
    ObjectId id = resolver.resolveType(genericType);
    assertEquals(genericType, id.getType());
}