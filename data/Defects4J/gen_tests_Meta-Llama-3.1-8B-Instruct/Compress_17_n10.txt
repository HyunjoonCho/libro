java
import org.apache.commons.compress.archivers.tar.TarArchiveEntry;
import org.apache.commons.compress.archivers.tar.TarArchiveInputStream;
import org.apache.commons.compress.compressors.CompressorInputStream;
import org.apache.commons.compress.compressors.CompressorStreamFactory;
import org.junit.Test;
import java.io.ByteArrayInputStream;
import java.io.ByteArrayOutputStream;
import java.io.File;
import java.io.FileInputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;

import static org.junit.Assert.fail;

public class TarArchiveEntryTest {

    @Test
    public void testTarFile() throws IOException {
        // Create a test tar file with a file containing a NUL character in the name
        // and octal permissions
        ByteArrayOutputStream bos = new ByteArrayOutputStream();
        TarArchiveOutputStream tas = new TarArchiveOutputStream(bos);
        TarArchiveEntry entry = new TarArchiveEntry("01750{NUL}{NUL}{NUL}");
        entry.setSize(0);
        tas.putArchiveEntry(entry);
        tas.closeArchiveEntry();
        tas.close();

        // Attempt to read the tar file
        InputStream fis = new ByteArrayInputStream(bos.toByteArray());
        TarArchiveInputStream tais = new TarArchiveInputStream(fis);
        try {
            tais.nextEntry();
