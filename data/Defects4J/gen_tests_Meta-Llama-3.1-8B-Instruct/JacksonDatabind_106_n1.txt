public void testTreeTraversingParserBoundsCheck() {
    ObjectMapper mapper = new ObjectMapper();
    JsonNode tree;

    // Test overflow
    tree = mapper.readTree("{\"x\": 2147483648}");
    try {
        mapper.readerFor(IntClass.class).readValue(tree).x;
        fail("Expected JsonParseException");
    } catch (JsonParseException e) {
        assertEquals("Overflow: value (2147483648) out of range for int (-2147483648 - 2147483647)", e.getMessage());
    }

    tree = mapper.readTree("{\"x\": 2147483649}");
    try {
        mapper.readerFor(IntClass.class).readValue(tree).x;
        fail("Expected JsonParseException");
    } catch (JsonParseException e) {
        assertEquals("Overflow: value (2147483649) out of range for int (-2147483648 - 2147483647)", e.getMessage());
    }

    tree = mapper.readTree("{\"x\": -2147483649}");
    try {
        mapper.readerFor(IntClass.class).readValue(tree).x;
        fail("Expected JsonParseException");
    } catch (JsonParseException e) {
        assertEquals("Overflow: value (-2147483649)