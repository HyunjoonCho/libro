java
public class Test {

    @Test
    public void testJsonCreatorInNonStaticInnerClass() throws JsonProcessingException {
        // Create a non-static inner class with a JsonCreator constructor
        class Outer {
            public Inner a;

            @JsonCreator
            public Outer(@JsonProperty("a") Inner a) {}

            class Inner {
                @JsonCreator
                public Inner() {}
            }
        }

        // Serialize an instance with null Inner
        ObjectMapper mapper = new ObjectMapper();
        String ser = mapper.writeValueAsString(new Outer(null));

        // Attempt to deserialize the string back to an instance of Outer
        try {
            mapper.readValue(ser, Outer.class);
            Assert.fail("Expected ArrayIndexOutOfBoundsException");
        } catch (JsonProcessingException e) {
            // Expected exception
        }
    }
}
