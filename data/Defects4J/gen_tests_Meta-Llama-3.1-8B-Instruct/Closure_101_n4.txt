public void testProcessClosurePrimitives() throws Exception {
    File tempDir = new File(System.getProperty("java.io.tmpdir"));
    File file1 = new File(tempDir, "file1.js");
    File file2 = new File(tempDir, "file2.js");

    // compile file1 with --process_closure_primitives false
    Process process1 = Runtime.getRuntime().exec(new String[] {"java", "-jar", "compiler.jar", "--process_closure_primitives", "false", "--compilation_level", "SIMPLE_OPTIMIZATIONS", file1.getAbsolutePath()});
    int status1 = process1.waitFor();

    // compile file2 with --process_closure_primitives true (default)
    Process process2 = Runtime.getRuntime().exec(new String[] {"java", "-jar", "compiler.jar", "--compilation_level", "SIMPLE_OPTIMIZATIONS", file2.getAbsolutePath()});
    int status2 = process2.waitFor();

    // check if primitives are processed in both cases
    assertTrue(file1.exists());
    assertTrue(file2.exists());
    // add additional assertions to check the content of the files
    // if you know what the correct output should be
}