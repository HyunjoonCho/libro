java
public class TestSerialization {

    public class Outer {
        @JsonCreator
        public Outer(@JsonProperty("a") Inner inner) {}

        class Inner {
            @JsonCreator
            public Inner() {}
        }
    }

    @Test(expected = ArrayIndexOutOfBoundsException.class)
    public void testArrayIndexOutOfBoundsExceptionOnNonStaticInnerClassConstructor() throws JsonProcessingException {
        ObjectMapper mapper = new ObjectMapper();
        String ser = mapper.writeValueAsString(new Outer());
        mapper.readValue(ser, Outer.class);
    }

    @Test
    public void testArrayIndexOutOfBoundsExceptionOnStaticInnerClassConstructor() throws JsonProcessingException {
        // This test should pass without exception
        class OuterStatic {
            @JsonCreator
            public OuterStatic(@JsonProperty("a") Inner inner) {}

            static class Inner {
                @JsonCreator
                public Inner() {}
            }
        }

        ObjectMapper mapper = new ObjectMapper();
        String ser = mapper.writeValueAsString(new OuterStatic());
        mapper.readValue(ser, OuterStatic.class);
    }
}
