java
public void testArgumentCaptorVarargs() {
    ArgumentCaptor<int[]> captor = ArgumentCaptor.forClass(int[].class);
    when(mockMethod(0)).thenReturn(0);
    when(mockMethod(1, 2)).thenReturn(1);
    when(mockMethod(3, 4, 5)).thenReturn(2);
    mockMethod(1, 2);
    verify(mockMethod).invoke(captor.capture());
    int[] args = captor.getValue();
    assertArrayEquals(new int[] {1, 2}, args);
    mockMethod(3, 4, 5);
    verify(mockMethod).invoke(captor.capture());
    args = captor.getValue();
    assertArrayEquals(new int[] {3, 4, 5}, args);
}
