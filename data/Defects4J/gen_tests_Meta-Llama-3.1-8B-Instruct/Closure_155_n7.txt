javascript
function d3_call(callback) {
    var f = callback;
    arguments[0] = this;
    f.apply(this, arguments);
    return this;
}

function testD3CallOptimization() {
    var obj = { foo: 'bar' };
    var callback = function(arg1, arg2) {
        return arg1 + arg2;
    };
    var result = d3_call(callback, obj, 'test','string');
    assertEquals('stringbar', result);
    assertEquals(obj, result);
}
