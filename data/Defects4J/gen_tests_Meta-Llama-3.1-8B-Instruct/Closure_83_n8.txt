public void testVersionOption() throws Exception {
    Process process = Runtime.getRuntime().exec(new String[] {"java", "-jar", "compiler.jar", "--version"});
    String output = new BufferedReader(new InputStreamReader(process.getInputStream())).lines().collect(Collectors.joining());
    assert output.contains("Closure Compiler (http://code.google.com/closure/compiler)");
    assert output.contains("Version: 698");
    assert output.contains("Built on:");
}