public void testJsonValuePrecedence() {
    // Create a custom serializer for the type
    JsonSerializer<MyPojo> customSerializer = new JsonSerializer<MyPojo>() {
        @Override
        public JsonStreamSerializer serializer() {
            return null;
        }
        @Override
        public void serialize(JsonGenerator jsonGenerator, MyPojo value, SerializerProvider serializerProvider) throws IOException, JsonProcessingException {
            // do nothing
        }
    };

    // Register the custom serializer
    ObjectMapper mapper = new ObjectMapper();
    mapper.registerModule(new SimpleModule().addSerializer(MyPojo.class, customSerializer));

    // Create a POJO with a @JsonValue field
    MyPojo pojo = new MyPojo();
    pojo.value = 42;

    // Try to serialize the POJO, expecting the custom serializer to be used
    try {
        mapper.writeValueAsString(pojo);
        fail("Expected exception");
    } catch (JsonProcessingException e) {
        // Expected the custom serializer to be used
    }
}

class MyPojo {
    @JsonValue
    int value;
}