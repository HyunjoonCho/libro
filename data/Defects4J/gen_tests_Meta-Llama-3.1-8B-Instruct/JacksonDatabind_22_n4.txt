java
@JsonSerialize(using = CustomSerializer.class)
public class Person {
    @JsonValue
    public String getJsonValue() {
        return "jsonValue";
    }
}

public class CustomSerializer extends JsonSerializer<Person> {
    @Override
    public void serialize(Person value, JsonGenerator gen, SerializerProvider provider) throws IOException {
        gen.writeString("customSerializer");
    }
}

public void testCustomSerializerNotUsed() {
    Person person = new Person();
    ObjectMapper mapper = new ObjectMapper();
    try {
        mapper.writeValueAsString(person);
        fail("Expected exception not thrown");
    } catch (JsonProcessingException e) {
        // expected
    }
}
