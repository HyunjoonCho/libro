java
public void testCSVRecordToMapNoHeaders() {
    String csv = "1,2,3\n4,5,6";
    CSVFormat format = CSVFormat.DEFAULT.withHeader("A", "B", "C");
    CSVParser parser = new CSVParser(csv, format);
    CSVRecord record = parser.getRecords().get(0);
    Map<String, String> map = record.toMap();
    assertNotNull(map); // should not throw NPE
    assertEquals(3, map.size());
}
