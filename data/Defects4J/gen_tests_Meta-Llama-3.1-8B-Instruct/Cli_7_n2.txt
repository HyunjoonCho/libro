public void testRequiredOptions() {
    try {
        OptionSpec spec = new OptionSpec();
        spec.addOption(new Option("-h", false, "help"));
        spec.parse("-c <arg>");
        fail("Expected IllegalArgumentException");
    } catch (IllegalArgumentException e) {
        assertEquals("-h", e.getMessage());
    }
}