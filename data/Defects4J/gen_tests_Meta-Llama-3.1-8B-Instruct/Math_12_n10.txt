public void testGammaDistributionCloning() throws Exception {
    GammaDistribution distribution = new GammaDistribution(1, 1);
    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    ObjectOutputStream oos = new ObjectOutputStream(bos);
    oos.writeObject(distribution);
    oos.close();
    
    ObjectInputStream ois = new ObjectInputStream(new ByteArrayInputStream(bos.toByteArray()));
    GammaDistribution clonedDistribution = (GammaDistribution) ois.readObject();
    ois.close();
    
    // This test will fail if the cloned distribution does not produce the same samples
    for (int i = 0; i < 1000; i++) {
        if (Math.abs(distribution.sample() - clonedDistribution.sample()) > 0.0001) {
            fail("Cloned distribution does not produce the same samples");
        }
    }
}