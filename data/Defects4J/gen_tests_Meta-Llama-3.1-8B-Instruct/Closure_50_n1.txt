public void testArrayJoin() {
    // Test that array.join(",") is not optimized to array.join()
    // when the array contains a function call
    String variable = "value from user";
    String[] array = new String[] {"constant", variable};
    assertEquals("constant," + variable, array.join(","));
}