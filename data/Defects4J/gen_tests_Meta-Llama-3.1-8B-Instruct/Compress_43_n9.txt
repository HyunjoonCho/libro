java
public void testZipVersionNeededToExtract() throws IOException {
    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    ZipArchiveOutputStream zos = new ZipArchiveOutputStream(new BufferedOutputStream(bos));
    
    ZipEntry entry = new ZipEntry("test");
    entry.setMethod(ZipEntry.DEFLATED);
    
    zos.putCentralDirectoryRecord(entry);
    
    // Create local file header with incorrect version needed to extract
    byte[] buf = new byte[18];
    int versionNeededToExtract = ZIP64_MIN_VERSION; // assuming zip64 is false
    zos.writeLocalFileHeader(buf, entry, 0, 0, (short) 0, (short) 0, versionNeededToExtract);
    
    zos.close();
    
    // Read the zip file and verify the version needed to extract in local file header and central directory
    ZipFile zipFile = new ZipFile(new File("test.zip"));
    ZipLocalFileHeader lfh = zipFile.getLocalFileHeader(0);
    int localVersionNeededToExtract = lfh.getVersionNeededToExtract();
    
    ZipCentralDirectoryRecord cdir = zipFile.getCentralDirectory().getCentralDirectoryRecords()[0];
    int centralVersionNeededToExtract = cdir.getVersion