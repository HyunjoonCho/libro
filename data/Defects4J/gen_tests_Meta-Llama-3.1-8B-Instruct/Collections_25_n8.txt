public void testCollatedIteratorWithNullComparator() {
    List<Integer> list = Arrays.asList(1, 2, 3, 4, 5);
    Iterator<Integer> it = IteratorUtils.collatedIterator(list, null);
    try {
        it.next();
        fail("Expected NullPointerException");
    } catch (NullPointerException e) {
        // expected
    }
}