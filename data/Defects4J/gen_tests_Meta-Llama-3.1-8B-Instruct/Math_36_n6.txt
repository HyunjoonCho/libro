public void testBigFractionDoubleValue() {
    BigFraction fraction = new BigFraction(new BigInteger("1"), new BigInteger("2"));
    assertEquals(0.5, fraction.doubleValue(), 1e-9);

    fraction = new BigFraction(new BigInteger("1"), new BigInteger("2147483647"));
    assertEquals(4.9406564584124654e-324, fraction.doubleValue(), 1e-9);

    fraction = new BigFraction(new BigInteger("1"), new BigInteger("2147483648"));
    assertEquals(Double.POSITIVE_INFINITY, fraction.doubleValue(), 1e-9);

    fraction = new BigFraction(new BigInteger("1"), new BigInteger("2"));
    assertEquals(0.5, fraction.doubleValue(), 1e-9);

    fraction = new BigFraction(new BigInteger("1"), new BigInteger("2").multiply(BigInteger.valueOf(100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000