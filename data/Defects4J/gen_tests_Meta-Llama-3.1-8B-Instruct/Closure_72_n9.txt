public void testIssueInternalCompilerError() throws Exception {
    // Create a large array of labels to cause a stack overflow
    int[] labels = new int[100000];
    for (int i = 0; i < labels.length; i++) {
        labels[i] = i;
    }

    // Compile the code with a loop that references the labels
    String code = "var i = 0; while (i < " + labels.length + ") { for (var j = 0; j < " + labels.length + "; j++) { var label = labels[j]; } i++; }";
    Compiler compiler = new Compiler();
    compiler.compile(code);

    // Check if the compilation was successful
    try {
        compiler.getOutput();
        fail("Expected INTERNAL COMPILER ERROR");
    } catch (RuntimeException e) {
        assertTrue(e.getMessage().contains("INTERNAL COMPILER ERROR"));
    }
}