public void testCheckVarsUndefinedVars() {
    String[] args = {
        "--jscomp_warning", "checkVars",
        "--jscomp_warning", "undefinedVars"
    };
    String expectedOutput = "1 error(s), 1 warning(s)\nfoo = {};\n^";
    String actualOutput = runJsCompiler(args, "foo = {};\nfoo.bar = function() { alert(this.baz); };");
    assertEquals(expectedOutput, actualOutput);
}

public void testCheckVarsUndefinedVarsVerbose() {
    String[] args = {
        "--jscomp_warning", "checkVars",
        "--jscomp_warning", "undefinedVars",
        "--warning_level", "VERBOSE"
    };
    String expectedOutput = "test.js:2: WARNING - dangerous use of the global this object\ntest.js:1: ERROR - variable foo is undefined\nfoo = {};\n^";
    String actualOutput = runJsCompiler(args, "foo = {};\nfoo.bar = function() { alert(this.baz); };");
    assertEquals(expectedOutput, actualOutput);
}

public void testGlobalThis() {
    String[] args = {
        "--jscomp_warning", "globalThis"
    };
    String expectedOutput =