java
import org.junit.Test;
import java.io.File;
import java.io.IOException;

public class JsCompilerTest {

    @Test
    public void testUndefinedVars() throws IOException {
        File tempFile = File.createTempFile("test", ".js");
        try {
            String jsCode = "foo = {};\n" +
                    "foo.bar = function() { alert(this.baz); };";
            java.nio.file.Files.write(tempFile.toPath(), jsCode.getBytes());
            String[] args = {"--js", tempFile.getAbsolutePath()};
            String[] warnings = new String[]{"checkVars", "undefinedVars"};
            for (String warning : warnings) {
                ProcessBuilder pb = new ProcessBuilder("java", "-jar", "compiler.jar", "--js", tempFile.getAbsolutePath(), "--jscomp_warning", warning);
                Process p = pb.start();
                int exitCode = p.waitFor();
                if (exitCode!= 0) {
                    System.out.println("Failed to run with --jscomp_warning " + warning);
                    return;
                }
                String output = new String(p.getInputStream().readAllBytes());
                System.out.println("Output with --jscomp_warning " + warning + ": " + output);
            }
        } finally {
            temp