java
import com.google.javascript.jscomp.CompilationLevel;
import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.CompilerOptions;
import com.google.javascript.jscomp.JSError;
import com.google.javascript.jscomp.SourceFile;

public class TestResolveTypes {

    public static void main(String[] args) {
        Compiler compiler = new Compiler();
        CompilerOptions options = new CompilerOptions();
        options.setWarningLevel(CompilationLevel.VERBOSE);
        options.setProcessClosurePrimitives(true);
        options.setErrorLevel(CompilationLevel.ERROR);
        options.setSummaryDetailLevel(3);

        SourceFile sf = new SourceFile("test.js", "function foo(x) { return x; }");
        compiler.compile(sf, options);

        try {
            compiler.compile(sf, options);
            assert false : "Expected a ClassCastException to be thrown";
        } catch (RuntimeException e) {
            assert e.getCause() instanceof ClassCastException : "Expected ClassCastException, but got " + e.getCause();
        }
    }
}
