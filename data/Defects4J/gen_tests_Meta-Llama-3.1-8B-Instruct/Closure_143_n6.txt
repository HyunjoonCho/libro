public void testDefineFlagSyntax() {
    try {
        ProcessBuilder pb = new ProcessBuilder("java", "-jar", "compiler.jar",
                "--compilation_level", "ADVANCED_OPTIMIZATIONS",
                "--define='test.VERSION=1.0.0'",
                "--js_output_file", "test-min.js",
                "--js", "test.js");
        Process p = pb.start();
        p.waitFor();
        fail("Expected RuntimeException to be thrown");
    } catch (Exception e) {
        // expected
    }
}