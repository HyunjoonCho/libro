public void testGroupConstraints() {
    OptionGroup groupA = new OptionGroup("groupA");
    groupA.addOption(new Option("optionA"));
    
    OptionGroup groupB = new OptionGroup("groupB");
    groupB.addOption(new Option("optionB"));
    groupB.addOption(groupA);
    
    WriteableCommandLine cmdLine = new WriteableCommandLine();
    cmdLine.addOption(groupB);
    
    cmdLine.setMinOccurrencesForOptionGroup(groupB, 1);
    
    assertFalse(cmdLine.hasOption("groupA"));
    assertTrue(cmdLine.hasOption("optionB"));
    assertTrue(cmdLine.hasOption("groupB"));
    
    cmdLine.parse(new String[] {"-optionB"});
    assertTrue(cmdLine.hasOption("groupB"));
    
    cmdLine.parse(new String[] {});
    assertFalse(cmdLine.hasOption("groupB"));
}