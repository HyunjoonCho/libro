javascript
describe('issue with casting functions', function() {
    it('should produce incorrect code when casting a function before calling it', function() {
        var compiledCode = compileCode('console.log(/\*\* @type {function(!string):!string} \*/ ((new window.ActiveXObject( \'ShockwaveFlash.ShockwaveFlash\' ))[\'GetVariable\'])( \'$version\' ));');
        expect(compiledCode).toContain('(0,');
        expect(compiledCode).toContain('GetVariable)("$version"));');
    });

    it('should produce correct code when not casting a function before calling it', function() {
        var compiledCode = compileCode('console.log(/\*\* @type {!string} \*/ ((new window.ActiveXObject( \'ShockwaveFlash.ShockwaveFlash\' ))[\'GetVariable\']( \'$version\' ));');
        expect(compiledCode).not.toContain('(0,');
        expect(compiledCode).toContain('(new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version");');
    });
});

function compileCode(code) {
    // Simulate compilation of the code
    // This is a placeholder, the actual implementation would depend on the actual compilation process
