java
public void testTypeHierarchyAdaptersRuntimeCheck() {
    // Assuming we have a type hierarchy like this:
    // class Vehicle {}
    // class Car extends Vehicle {}
    // class Truck extends Vehicle {}

    // Create a type hierarchy adapter for Vehicle
    TypeHierarchyAdapter<Vehicle> vehicleAdapter = new TypeHierarchyAdapter<Vehicle>() {};

    // Attempt to decode a JSON string as a Car
    String json = "{\"type\":\"Truck\"}";
    try {
        vehicleAdapter.decode(json, Car.class);
        fail("Expected JsonTypeException");
    } catch (JsonTypeException e) {
        // Expected to pass
    }
}
