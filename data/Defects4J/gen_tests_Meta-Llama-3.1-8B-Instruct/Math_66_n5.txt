public void testBrentOptimizerFailure() {
    double[] x = {1.0, 2.0};
    double[] f = {f(x[0]), f(x[1])};
    double[] xOpt = new BrentOptimizer().minimize(x, f);
    assertTrue(xOpt[0] == x[0] || xOpt[0] == x[1]);
}

private double f(double x) {
    return x * x - 4;
}