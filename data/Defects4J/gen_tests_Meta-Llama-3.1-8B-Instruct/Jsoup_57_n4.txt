public void testRemoveIgnoreCaseConcurrentModificationException() {
    Element element = new Element("abc");
    element.addAttribute("attr1", "value1");
    element.addAttribute("Attr2", "value2");
    element.addAttribute("attr3", "value3");
    
    try {
        for (Attribute attr : element.attributes()) {
            if (attr.getName().equalsIgnoreCase("attr2")) {
                element.removeAttribute(attr);
            }
        }
        fail("Expected ConcurrentModificationException");
    } catch (ConcurrentModificationException e) {
        // expected
    }
}