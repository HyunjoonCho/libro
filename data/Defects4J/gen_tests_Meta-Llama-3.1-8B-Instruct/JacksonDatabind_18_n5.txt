java
public void testErrorRecoveryInReadValues() throws JsonProcessingException {
    ObjectMapper mapper = new ObjectMapper();
    JsonFactory jsonFactory = mapper.getFactory();
    JsonParser jp = jsonFactory.createParser("{\"a\":1,\"b\":{\"c\":2}}");
    MappingIterator<Object, Object> iter = mapper.readerForMapOf(Object.class).readValues(jp);
    try {
        iter.next();
        fail("Expected JsonProcessingException");
    } catch (JsonProcessingException e) {
        // expected
    }
    jp.nextToken(); // move past the closing '}'
    assert!iter.hasNext();
}
