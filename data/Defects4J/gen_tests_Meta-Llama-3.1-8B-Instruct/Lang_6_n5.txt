public void testEscapeSurrogatePairs() throws Exception {
    String input = "\uD83D\uDE30";
    int length = input.codePointCount(0, input.length());
    for (int i = 0; i < length; i++) {
        int codePoint = input.codePointAt(i);
        if (Character.isSurrogate(codePoint)) {
            StringEscapeUtils.escapeCsv(input.substring(0, i) + Character.toChars(codePoint)[0] + Character.toChars(codePoint + 1)[0] + input.substring(i + 2));
            break;
        }
    }
}