java
public void testStopAtNonOption() {
    PosixParser parser = new PosixParser();
    parser.setStopAtNonOption(true);
    parser.addOption("a", true);
    parser.addOption("b", true, "bar");
    String[] args = {"--zop", "-abfoo"};
    try {
        parser.parse(args);
        fail("Expected parsing to fail");
    } catch (ParseException e) {
        // expected
    }
    assertEquals("foo", parser.getRemainingArgs()[0]);
}
