public void testClassifyNonRightmostExpressions() {
    Expression exp1 = new Expression("foo((1, 2, 42)");
    exp1 = ExpressionTransformer.transform(exp1);
    assertEquals("foo((1, 3)", exp1.toString());
    assertTrue(exp1.getProblems().contains("1"));

    Expression exp2 = new Expression("foo((bar(), 2, 42)");
    exp2 = ExpressionTransformer.transform(exp2);
    assertEquals("foo((bar(), 3)", exp2.toString());
    assertFalse(exp2.getProblems().contains("bar()"));

    Expression exp3 = new Expression("foo(((1, 2, 3), (4, 5, 42))");
    exp3 = ExpressionTransformer.transform(exp3);
    assertEquals("foo((1, 4, 42)", exp3.toString());
    assertTrue(exp3.getProblems().contains("1"));
    assertFalse(exp3.getProblems().contains("2"));
    assertFalse(exp3.getProblems().contains("3"));
    assertFalse(exp3.getProblems().contains("4"));
    assertFalse(exp3.getProblems().contains("5"));
}