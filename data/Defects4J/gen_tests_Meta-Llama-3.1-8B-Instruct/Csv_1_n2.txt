java
public void testExtendedBufferReaderEOL() throws IOException {
    ExtendedBufferReader reader = new ExtendedBufferReader(new StringReader("abc\r\n"));
    assertEquals(1, reader.readLine());
    assertEquals(1, reader.getLineCount());

    reader = new ExtendedBufferReader(new StringReader("abc\r"));
    assertEquals("abc", reader.readLine());
    assertEquals(1, reader.getLineCount());

    reader = new ExtendedBufferReader(new StringReader("abc\n"));
    assertEquals("abc", reader.readLine());
    assertEquals(1, reader.getLineCount());
}
