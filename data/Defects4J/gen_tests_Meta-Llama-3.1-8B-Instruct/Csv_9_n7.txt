public void testToMapWithNoHeaders() {
    CSVFormat format = CSVFormat.DEFAULT.withHeader();
    CSVFormat noHeadersFormat = CSVFormat.DEFAULT.withoutHeader();
    CSVRecord recordWithHeaders = CSVFormat.DEFAULT.parse("name,age\nJohn,30");
    CSVRecord recordNoHeaders = noHeadersFormat.parse("John,30");
    Map<String, String> mapWithHeaders = recordWithHeaders.toMap();
    Map<String, String> mapNoHeaders = recordNoHeaders.toMap();
    assertNotNull(mapWithHeaders);
    assertNull(mapNoHeaders);
}