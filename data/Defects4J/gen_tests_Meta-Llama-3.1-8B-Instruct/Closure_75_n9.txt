public void testSwfobjectJsMinification() {
    String originalCode = "function urlEncodeIfNecessary(s) { var regex = /[\\\"<>\.;]/; var hasBadChars = regex.exec(s)!= null; return hasBadChars && typeof encodeURIComponent!= UNDEF? encodeURIComponent(s) : s; }";
    String minifiedCode = "function Z(a){return/[\"<>.;]/.exec(a)!=null&&typeof encodeURIComponent!=j?encodeURIComponent(a):a}";
    String expectedMinifiedCode = "function Z(a){return/[\"<>.;]/.exec(a)!=null&&typeof encodeURIComponent!=j?encodeURIComponent(a):a}";
    String expectedOriginalCode = "function urlEncodeIfNecessary(s) { var regex = /[\\\"<>\.;]/; var hasBadChars = regex.exec(s)!= null; return hasBadChars && typeof encodeURIComponent!= UNDEF? encodeURIComponent(s) : s; }";
    String nonAsciiChar = "\v1";
    String expectedMinifiedNonAsciiChar = "ie=!1";

    assertEquals(expectedMinifiedCode, minifiedCode);
    assertEquals(expectedOriginalCode, originalCode);
    assertEquals(expectedMinifiedNonAsciiChar, nonAsciiChar);
}