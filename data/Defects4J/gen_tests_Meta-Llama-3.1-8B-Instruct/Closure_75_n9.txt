javascript
function testUrlEncodeIfNecessary() {
    var s1 = "\"<>.;";
    var s2 = "test string";
    var s3 = "test string with < and >";
    var s4 = "test string with \\ and /";
    var s5 = "test string with \\ and / and \" and < and > and ;";

    var encoded1 = urlEncodeIfNecessary(s1);
    var encoded2 = urlEncodeIfNecessary(s2);
    var encoded3 = urlEncodeIfNecessary(s3);
    var encoded4 = urlEncodeIfNecessary(s4);
    var encoded5 = urlEncodeIfNecessary(s5);

    assertEquals(s1, encoded2);
    assertEquals(s3, encoded3);
    assertEquals(s4, encoded4);
    assertEquals(s5, encoded5);

    // Test the closure compiled version
    var s6 = "\"<>.;";
    var s7 = "test string";
    var s8 = "test string with < and >";
    var s9 = "test string with \\ and /";
    var s10 = "test string with \\ and / and \" and < and > and ;";

    var encoded6 = Z(s