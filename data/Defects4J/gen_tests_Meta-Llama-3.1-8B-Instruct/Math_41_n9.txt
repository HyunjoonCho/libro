java
public void testVarianceEvaluate() {
    double[] values = new double[] { 1, 2, 3, 4, 5 };
    double[] weights = new double[] { 1, 1, 1, 1, 1 };
    double mean = 3;
    
    // Test with full array
    double variance = Variance.evaluate(values, weights, mean, 0, values.length);
    // Since the variance is calculated over the whole array, the result should be correct
    assertEquals(2, variance, 0.001);
    
    // Test with subset of array
    double[] valuesSubset = new double[] { 1, 2, 3 };
    double[] weightsSubset = new double[] { 1, 1, 1 };
    double varianceSubset = Variance.evaluate(valuesSubset, weightsSubset, mean, 0, valuesSubset.length);
    // Since the variance is calculated over a subset of the array, the result should be different
    assertNotEquals(variance, varianceSubset, 0.001);
}
