public void testArgumentCaptorWithVarargs() {
    ArgumentCaptor<Integer> captor = ArgumentCaptor.forClass(Integer.class);
    when(mockMethod(1, captor.capture(), "hello")).thenReturn("result");
    mockMethod(1, 2, "hello");
    assertEquals(2, captor.getValue());
}