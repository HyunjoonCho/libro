public void testDefaultPrettyPrinterCreateInstanceSubClass() {
    try {
        new DefaultPrettyPrinter().createInstance();
        fail("Expected IllegalArgumentException to be thrown");
    } catch (IllegalArgumentException e) {
        // expected
    }
    try {
        new SubClassOfDefaultPrettyPrinter().createInstance();
        fail("Expected IllegalArgumentException to be thrown");
    } catch (IllegalArgumentException e) {
        // expected
    }
}

class SubClassOfDefaultPrettyPrinter extends DefaultPrettyPrinter {
    // no override of createInstance
}