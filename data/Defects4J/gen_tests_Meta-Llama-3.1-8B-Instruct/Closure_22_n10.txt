java
public void testClassifyNonRightmostExpressions() {
    // Test 1: foo((1, 2, 42))
    Expression expr = new Expression("foo((1, 2, 42)");
    expr = new CommaOperatorExpression(expr, new LiteralExpression(3));
    assertFalse(expr.isProblematic());
    assertEquals(1, expr.getProblematicElement().getChildren().size());

    // Test 2: foo((bar(), 2, 42))
    expr = new Expression("foo((bar(), 2, 42)");
    expr = new CommaOperatorExpression(expr, new LiteralExpression(3));
    assertTrue(expr.getProblematicElement().getChildren().isEmpty());

    // Test 3: foo(((1, 2, 3), (4, 5, 42)))
    expr = new Expression("foo(((1, 2, 3), (4, 5, 42)))");
    expr = new CommaOperatorExpression(expr, new LiteralExpression(6));
    assertEquals(1, expr.getProblematicElement().getChildren().size());
}
