public void testReadTreeWithDefaultTyping() throws IOException {
    ObjectMapper mapper = new ObjectMapper();
    mapper.enableDefaultTyping();
    mapper.writeValueAsString(new Foo("bar")); // {"foo.Foo":{"bar":"bar"}}
    String json = "{\"foo.Foo\":{\"bar\":\"bar\"}}";
    try {
        mapper.readTree(json);
        fail("Expected JsonMappingException");
    } catch (JsonMappingException e) {
        // expected
    }
}