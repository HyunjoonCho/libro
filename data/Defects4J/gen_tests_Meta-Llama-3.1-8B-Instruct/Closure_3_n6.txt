public void testOptimizationFailure() {
    class Test {
        public void getStack() {
            try {
                throw new Error("");
            } catch (Error e) {
                String a = e;
                return a;
            }
        }
    }
    Test test = new Test();
    String result = test.getStack();
    assertNotNull(result);
}