public void testArgumentsMoved() {
    final Object[] args = new Object[] { "arg" };
    Function<Object[]> func = new Function<Object[]>() {
        @Override
        public Object apply(Object[] args) {
            return new Function<Object[]>() {
                @Override
                public Object apply(Object[] args) {
                    return "args";
                }
            };
        }
    };
    Function<Object[]> innerFunc = func.apply(args);
    assertEquals(args, innerFunc.apply(null));
}