java
public void testCSVFormatWithHeader() throws IOException {
    CSVFormat csvFormat = CSVFormat.TDF.withHeader("x");
    CSVPrinter csvPrinter = new CSVPrinter(Files.newBufferedWriter(Paths.get("data.csv")), csvFormat);
    csvPrinter.printRecord(42);
    csvPrinter.close();
    // Check the contents of the generated CSV file
    Path filePath = Paths.get("data.csv");
    String actual = Files.lines(filePath).collect(Collectors.joining(System.lineSeparator()));
    String expected = "x\n42\n";
    assertEquals(expected, actual);
}
