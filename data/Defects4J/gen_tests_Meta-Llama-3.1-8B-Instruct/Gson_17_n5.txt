java
@Test
public void testDefaultDateTypeAdapterNullabilityIssue() {
    Gson gson = new Gson();
    Gson gson2 = new GsonBuilder().create();
    Date date = null;

    // Test that Gson 2.8.1 fails to serialize and deserialize null date
    String json1 = gson.toJson(date);
    assertNotEquals("null", json1);

    // Test that Gson 2.8.1 fails to deserialize null date
    JsonElement jsonElement = gson.fromJson("null", JsonElement.class);
    assertNotEquals(date, jsonElement);

    // Test that Gson 2.8.0 works fine
    Gson gson2_8_0 = new Gson();
    String json2 = gson2_8_0.toJson(date);
    assertEquals("null", json2);
    JsonElement jsonElement2 = gson2_8_0.fromJson("null", JsonElement.class);
    assertEquals(date, jsonElement2);
}
