java
public void testWhitespaceDiscardedInHtml() throws Exception {
    String originalHtml = "<html><body><div>   Hello   World   </div></body></html>";
    Document document = new XML().parse(new StringReader(originalHtml));
    Element element = document.getRootElement();
    String originalHtmlString = element.html();
    String expectedHtml = "<html><body><div>   Hello   World   </div></body></html>";

    // Test when prettyPrint is false
    XML xml = new XML();
    xml.setPrettyPrint(false);
    Document copiedDocument = xml.parse(new StringReader(originalHtml));
    Element copiedElement = copiedDocument.getRootElement();
    String actualHtml = copiedElement.html();
    assertEquals(expectedHtml, actualHtml);

    // Test when prettyPrint is true
    xml.setPrettyPrint(true);
    copiedDocument = xml.parse(new StringReader(originalHtml));
    copiedElement = copiedDocument.getRootElement();
    actualHtml = copiedElement.html();
    // Note: trim() is still present when prettyPrint is true, as per the original issue
    // To verify the issue, we can use a different assertion that checks for the presence of whitespace
    assertTrue(actualHtml.contains("   Hello   World   "));
