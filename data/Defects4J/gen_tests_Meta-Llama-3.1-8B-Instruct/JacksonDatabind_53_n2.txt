public void testJsonDeserializeAs() {
    // Create a custom deserializer for MyCustomIdInterface
    SimpleModule module = new SimpleModule();
    module.addAbstractTypeMapping(MyCustomIdInterface.class, Foo.class);
    ObjectMapper mapper = new ObjectMapper();
    mapper.registerModule(module);

    // Serialize and deserialize a JSON object
    String json = "{\"something\":[{\"id\":\"a uuid\",\"property\":\"value\"}]}";
    JsonNode tree = mapper.readTree(json);
    Map<UUID, MyCustomIdInterface> map = mapper.treeToValue(tree.get("something"), Map.class);
    assertNotNull(map);
}