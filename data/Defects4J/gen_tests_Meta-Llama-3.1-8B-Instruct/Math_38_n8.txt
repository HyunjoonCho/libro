public void testBOBYQAOptimizerError() {
    int dim = 10;
    BOBYQAOptimizer optim = new BOBYQAOptimizer(2 * dim + 2);
    try {
        optim.optimize(100000, new ObjectiveFunction() {
            @Override
            public double evaluate(double[] point) {
                return 0;
            }
        }, Goal.MINIMIZE, new double[dim], null);
        fail("Expected ArrayIndexOutOfBoundsException");
    } catch (ArrayIndexOutOfBoundsException e) {
        // expected
    }
}