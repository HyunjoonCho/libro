java
public void testArgumentCaptorVarargs() {
    ArgumentCaptor<Integer[]> captor = ArgumentCaptor.forClass(Integer[].class);
    when(myMethod(anyInt(), captor.capture())).thenReturn(10);

    myMethod(5, 1, 2, 3);

    Integer[] actual = captor.getValue();
    Integer[] expected = new Integer[] {1, 2, 3};
    assertArrayEquals(expected, actual);
}
