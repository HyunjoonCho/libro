java
import com.fasterxml.jackson.core.JsonProcessingException;
import com.fasterxml.jackson.databind.ObjectMapper;
import org.junit.Test;

import java.io.IOException;

public class StringCollectionDeserializerTest {

    @Test(expected = JsonProcessingException.class)
    public void testStringCollectionDeserializerFailsWithCustomCollection() throws IOException {
        // Define a custom collection class
        class ImmutableStringCollection extends StringCollection {
            // Assuming StringCollection is a custom collection interface
            @Override
            public void add(String item) {
                // Do nothing, making it immutable
            }
        }

        // Create a custom class with a field of type ImmutableStringCollection
        class TestObject {
            private ImmutableStringCollection strings;

            public TestObject() {
                strings = new ImmutableStringCollection();
            }

            public ImmutableStringCollection getStrings() {
                return strings;
            }
        }

        // Create an ObjectMapper
        ObjectMapper mapper = new ObjectMapper();

        // Serialize and deserialize the TestObject
        String json = "{\"strings\":[\"hello\",\"world\"]}";
        mapper.writeValueAsString(new TestObject());
        mapper.readValue(json, TestObject.class);
    }
}
