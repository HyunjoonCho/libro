java
public class TestDeserializationOfNestedNonWrappedLists {
    @Data
    static class Record {
        @JacksonXmlElementWrapper(useWrapping = false)
        @JacksonJsonInclude(JsonInclude.Include.NON_NULL)
        List<Field> fields;
    }

    @Data
    static class Field {
        @JacksonXmlElementWrapper(useWrapping = false)
        @JacksonJsonInclude(JsonInclude.Include.NON_NULL)
        List<String> values;
    }

    @Test
    public void testDeserializationOfNestedNonWrappedLists() throws JsonProcessingException {
        ObjectMapper mapper = new ObjectMapper();
        String json = "{\"records\":[{\"fields\":[]}]";
        try {
            mapper.readValue(json, Record.class);
            fail("Expected JsonParseException");
        } catch (JsonProcessingException e) {
            // expected
        }
    }
}
