java
public void testTruncatedZipArchive() throws IOException {
    // Create a truncated zip archive
    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    ZipArchiveOutputStream zos = new ZipArchiveOutputStream(bos);
    zos.putNextEntry(new ZipEntry("test"));
    zos.closeEntry();
    zos.finish(); // Truncate the archive
    zos.close();

    // Read from the truncated archive
    ZipArchiveInputStream zis = new ZipArchiveInputStream(new ByteArrayInputStream(bos.toByteArray()));
    int bytesRead = zis.read();
    assertEquals(-1, bytesRead); // Should return -1 for end of stream
}
