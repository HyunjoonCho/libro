java
public void testMultidimensionalCounterGetCounts() {
    MultidimensionalCounter counter = new MultidimensionalCounter(2, 4);
    for (Integer i : counter) {
        int[] x = counter.getCounts();
        System.out.println(i + " " + Arrays.toString(x));
    }
    // Verify the output
    int[] expectedCounts = new int[][] {
        {0, 0},
        {0, 1},
        {0, 2},
        {0, 3},
        {1, 0},
        {1, 1},
        {1, 2},
        {1, 3}
    };
    int count = 0;
    for (int[] x : expectedCounts) {
        int[] actualCounts = counter.getCounts();
        assertEquals(x[0] * 4 + x[1], count);
        assertEquals(x[0], actualCounts[0]);
        assertEquals(x[1], actualCounts[1]);
        count++;
    }
}
