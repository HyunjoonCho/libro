java
import org.junit.Test;

import static org.junit.Assert.assertEquals;

public class RotationTest {

    @Test
    public void testNumericalProblemsInRotationCreation() {
        double[] u1 = new double[] {-4921140.837095533, -215120942504.4, -890093.279426377};
        double[] u2 = new double[] {-272385809387.24895, -216966492134.18, 674968870880.5301};
        double[] v1 = new double[] {1, 0, 0};
        double[] v2 = new double[] {0, 0, 1};

        double[] v1Prime = calculateV1Prime(u1, u2, v1);
        double[] v2Prime = calculateV2Prime(u1, u2, v2);

        double[] k = calculateK(v1Prime, u1, v2Prime, u2);
        double c = calculateC(k, calculateCrossProduct(u1, u2));

        double expectedK[] = new double[] {38514410.36093388, -0.3740752452011804, -1168590152.105997