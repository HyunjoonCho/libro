public void testIncompleteNamespaceHandling() {
    DOMNodePointer pointer = new DOMNodePointer();
    pointer.registerNamespace("A", "http://example.com/A");
    pointer.registerNamespace("B", "http://example.com/B");
    try {
        pointer.createAttribute("A:myAttr", "MyType");
        fail("Expected UnknownNamespacePrefixException");
    } catch (UnknownNamespacePrefixException e) {
        assertEquals("A", e.getNamespacePrefix());
    }
}