public void testPolymorphicDeserialization() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    // Add types to be blocked from polymorphic deserialization
    mapper.enableDefaultTyping(DefaultTyping.NON_FINAL, As.WRAPPER_ARRAY);
    // Test deserialization of a type that should be blocked
    JavaType javaType = mapper.getTypeFactory().constructType(ArrayList.class, String.class);
    ObjectInputStream in = new ObjectInputStream(new ByteArrayInputStream(mapper.writeValueAsBytes(javaType)));
    in.readObject(); // Should throw an exception
}