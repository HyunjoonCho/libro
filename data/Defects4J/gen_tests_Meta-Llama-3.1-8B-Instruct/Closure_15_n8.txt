javascript
describe('testRemoveKey function', function() {
    var customData = { key: 'value' };

    it('should return the value of the key before deletion', function() {
        var result = testRemoveKey('key');
        expect(result).toBe('value');
    });

    it('should return null after deletion', function() {
        var result = testRemoveKey('key');
        expect(result).toBeNull();
    });

    it('should return false for key in customData after deletion', function() {
        expect('key' in customData).toBe(false);
    });

    function testRemoveKey(key) {
        var dataSlot = customData,
            retval = dataSlot && dataSlot[key],
            hadKey = dataSlot && (key in dataSlot);

        if (dataSlot) {
            delete dataSlot[key];
        }

        return hadKey? retval : null;
    }
});
