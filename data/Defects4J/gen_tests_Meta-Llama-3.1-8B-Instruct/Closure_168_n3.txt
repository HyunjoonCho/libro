javascript
describe('Issue 107', () => {
    it('should report wrong argument count error on function with @this annotation', () => {
        function makeClass(protoMethods) {
            var clazz = function() {
                this.initialize.apply(this, arguments);
            }
            for (var i in protoMethods) {
                clazz.prototype[i] = protoMethods[i];
            }
            return clazz;
        }

        var Person = makeClass({
            initialize: function(name) {
                this.name = name;
            },
            getName: function() {
                return this.name;
            },
            say: function(message) {
                window.console.log(this.getName(1) +'says:'+ message);
            }
        });

        var joe = new Person('joe');
        var error = null;
        try {
            joe.say('hi');
        } catch (e) {
            error = e;
        }
        expect(error).not.toBeNull();

        var jane = new Person('jane');
        error = null;
        try {
            jane.say('hello');
        } catch (e) {
            error = e;
        }
        expect(error).not.toBeNull();
    });

    it('should not report wrong argument count error when function with @