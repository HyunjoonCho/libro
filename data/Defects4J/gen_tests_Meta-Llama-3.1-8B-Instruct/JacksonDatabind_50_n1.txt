public void testJsonIdentityInfoDeserialization() throws JsonParseException, JsonMappingException, IOException {
    ObjectMapper mapper = new ObjectMapper();
    JsonDeserializer<Object> deserializer = mapper.getDeserializationConfig().getDeserializer(Object.class);

    // Test deserialization with both patches
    ObjectReader reader = mapper.readerFor(Object.class).with(new TypeReference<Object>() {});
    assertEquals("expected value", reader.readValue("{\"a\":{\"@id\":\"1\",\"@ref\":\"#2\"},\"b\":\"3\"}"));
    assertEquals("expected value", reader.readValue("{\"a\":{\"@id\":\"1\",\"@ref\":\"#2\"},\"b\":{\"@id\":\"3\",\"@ref\":\"#4\"},\"c\":{\"@id\":\"4\",\"@ref\":\"#5\"},\"d\":{\"@id\":\"5\",\"@ref\":\"#6\"},\"e\":{\"@id\":\"6\",\"@ref\":\"#7\"},\"f\":{\"@id\":\"7\",\"@ref\":\"#8\"},\"g\":{\"@id\":\"8\",\"@ref\":\"#9\"},\"h\":{\"@id\":\"9\",\"@ref\":\"#10\"},\"i\":{\"@id\":\"10\",\"@ref\":\"#11\"},\"j\":{\"@id\":\"11\",\"