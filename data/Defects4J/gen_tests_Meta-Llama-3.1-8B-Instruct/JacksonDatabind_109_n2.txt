public void testWriteBigDecimalAsPlainIgnoredWithJsonFormat() throws JsonProcessingException {
    ObjectMapper mapper = new ObjectMapper();
    mapper.configure(Feature.WRITE_BIGDECIMAL_AS_PLAIN, true);
    JsonFormat format = JsonFormat.empty();
    JsonNode node = mapper.valueToTree(new BigDecimal("0.0000000005"));
    String resultWithFormat = mapper.writeValueAsString(node, format);
    String resultWithoutFormat = mapper.writeValueAsString(node);
    assertFalse(resultWithFormat.contains("E"));
    assertTrue(resultWithoutFormat.contains("E"));
}