java
public void testWhitespaceDiscardInHtml() {
    // Test with prettyPrint enabled
    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
    factory.setNamespaceAware(true);
    factory.setIgnoringComments(true);
    factory.setCoalescing(true);
    factory.setExpandEntityReferences(false);
    factory.setIgnoringElementContentWhitespace(false); // enable prettyPrint
    DocumentBuilder builder = factory.newDocumentBuilder();
    Document doc = builder.parse(new InputSource(new StringReader("<html><body>   <p>   Hello   </p>   </body></html>")));
    Element element = doc.getDocumentElement();
    assertEquals("   <p>   Hello   </p>   ", element.toString());
    
    // Test with prettyPrint disabled
    factory.setIgnoringElementContentWhitespace(true); // disable prettyPrint
    builder = factory.newDocumentBuilder();
    doc = builder.parse(new InputSource(new StringReader("<html><body>   <p>   Hello   </p>   </body></html>")));
    element = doc.getDocumentElement();
    assertEquals("<html><body>   <p>   Hello   </p>   </body></html>", element.toString());
}
