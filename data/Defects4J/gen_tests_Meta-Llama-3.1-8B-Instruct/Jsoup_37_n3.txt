public void testWhitespaceInHtml() {
    Document doc = new SAXBuilder().build(new InputSource("<div   >Hello World</div>"));
    Element element = doc.getRootElement();
    String originalHtml = element.html();
    element.setText("Hello World");
    element.addContent(new Element("span").setText(" Test"));
    assertEquals("<div>Hello World<span> Test</span></div>", originalHtml);
}