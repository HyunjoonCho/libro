public void testVersionNeededToExtract() {
    ZipArchiveOutputStream zaos = new ZipArchiveOutputStream(new ByteArrayOutputStream());
    ZipEntry entry = new ZipEntry("test.txt");
    entry.setCompressedSize(0);
    entry.setSize(0);
    zaos.putArchiveEntry(entry);
    zaos.write("test".getBytes());
    zaos.closeArchiveEntry();
    ZipArchiveEntry centralDirectoryEntry = zaos.getCentralDirectory().getEntries().get(0);
    int versionNeededToExtract = versionNeededToExtract(0, hasZip64Extra(centralDirectoryEntry));
    int expectedVersionNeededToExtract = versionNeededToExtract(0, false);
    assertEquals(expectedVersionNeededToExtract, versionNeededToExtract);
}