public void testZipVersionNeededToExtract() throws IOException {
    ZipArchiveOutputStream zip = new ZipArchiveOutputStream(new ByteArrayOutputStream());
    zip.putNextEntry(new ZipEntry("test.txt"));
    zip.closeEntry();

    int localVersionNeeded = zip.getVersionNeededToExtract();
    assertEquals(ZIP64_MIN_VERSION, localVersionNeeded);

    zip.close();
    zip = new ZipArchiveOutputStream(new ByteArrayOutputStream());
    zip.putNextEntry(new ZipEntry("test.txt"));
    zip.setUseDataDescriptor(true);
    zip.closeEntry();

    int centralVersionNeeded = zip.getVersionNeededToExtract();
    assertEquals(DATA_DESCRIPTOR_MIN_VERSION, centralVersionNeeded);
}