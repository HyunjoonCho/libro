public void testGammaDistributionCloning() {
    GammaDistribution original = new GammaDistribution(1.0, 1.0);
    GammaDistribution cloned = null;
    try {
        ByteArrayOutputStream bos = new ByteArrayOutputStream();
        ObjectOutputStream oos = new ObjectOutputStream(bos);
        oos.writeObject(original);
        oos.close();
        ByteArrayInputStream bis = new ByteArrayInputStream(bos.toByteArray());
        ObjectInputStream ois = new ObjectInputStream(bis);
        cloned = (GammaDistribution) ois.readObject();
        ois.close();
    } catch (IOException | ClassNotFoundException e) {
        fail("Serialization failed");
    }
    // Test that the cloned distribution produces the same samples
    for (int i = 0; i < 100; i++) {
        double originalSample = original.sample();
        double clonedSample = cloned.sample();
        if (originalSample!= clonedSample) {
            fail("Cloned distribution does not produce the same samples");
            break;
        }
    }
}