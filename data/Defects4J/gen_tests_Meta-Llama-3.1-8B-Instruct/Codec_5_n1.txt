public void testBase64InputStream() throws IOException {
    byte[] data =...; // input data from the bug report
    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    Base64InputStream bis = new Base64InputStream(new ByteArrayInputStream(data), 1024);
    byte[] buffer = new byte[1024];
    int count = bis.read(buffer);
    bos.write(buffer, 0, count);
    count = bis.read(buffer);
    bos.write(buffer, 0, count);
    assertEquals(-1, bis.read(buffer)); // check for EOF
    byte[] result = bos.toByteArray();
    // check if the resulting bytes are correct
}