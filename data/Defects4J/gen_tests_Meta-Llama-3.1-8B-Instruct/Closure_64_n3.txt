public void testStrictModePerFile() {
    // Create two JavaScript files
    String getNumJs = "var getNum = function() { return 5; };";
    String alertJs = "alert(getNum());";

    // Compile the two files with the strict mode flag
    // (Note: This is a simplified representation, actual implementation may vary based on the compiler)
    String output = compileJs(getNumJs, alertJs, "--language_in=ECMASCRIPT5_STRICT");

    // Check that there is only one 'use strict' directive
    int strictCount = countOccurrences(output, "'use strict'");
    assertEquals(1, strictCount);
}