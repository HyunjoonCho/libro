java
public void testVarCheckCrashWhenUsingModules() throws Exception {
    String coreJs = "function jQuery(selector) { return { length: 1 }; }";
    String jqueryJs = "function jQuery(selector) { return { length: 1 }; }";
    String testJs = "function test() { var jQuery$$2 = jQuery(\" <div/> \"); var jQuery$$1 = jQuery(\" <div/> \"); equal(jQuery(\" <div/> \").length, 1, \"Make sure whitespace is trimmed.\"); }";
    
    Compiler compiler = new Compiler();
    compiler.setModuleInfo("jquery", new ModuleInfo("jquery"));
    compiler.setModuleInfo("core", new ModuleInfo("core", "jquery"));
    compiler.compileModules(coreJs, jqueryJs, testJs);
    
    // Verify that the compilation does not throw an exception
    // (Note: Since the actual behavior of the compiler is not specified, we can't verify the output)
}
