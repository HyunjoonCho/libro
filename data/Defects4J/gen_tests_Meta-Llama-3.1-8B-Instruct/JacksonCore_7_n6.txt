public void testWriteStringAfterWriteFieldName() {
    JsonGenerator gen = new JsonGenerator(new StringWriter());
    gen.writeStartObject();
    gen.writeFieldName("foo");
    try {
        gen.writeString("bar");
        fail("Expected JsonGenerationException");
    } catch (JsonGenerationException e) {
        // expected
    }
}