public void testTokenBufferDelegateDeserialization() {
    TokenBuffer tokenBuffer = new TokenBuffer(
        new TokenStream(new Token[] {
            Token.START_OBJECT, 
            Token.FIELD_NAME, "a", 
            Token.VALUE_NUMBER_INT, 1, 
            Token.FIELD_NAME, "b", 
            Token.VALUE_NULL, 
            Token.END_OBJECT
        }));
    Value.from(tokenBuffer);
    assertEquals(Token.START_OBJECT, tokenBuffer.getCurrentToken());
    assertEquals(Token.FIELD_NAME, tokenBuffer.nextToken());
    assertEquals(Token.VALUE_NUMBER_INT, tokenBuffer.nextToken());
    assertEquals(Token.FIELD_NAME, tokenBuffer.nextToken());
    assertEquals(Token.VALUE_NULL, tokenBuffer.nextToken());
    assertEquals(Token.END_OBJECT, tokenBuffer.nextToken());
}