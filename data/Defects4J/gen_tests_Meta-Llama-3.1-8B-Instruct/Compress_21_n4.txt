public void testWriting7zEmptyEntries() {
    // Scenario 1: 7 empty files
    ZipArchiveEntry[] entries = ZipArchiveEntry.createEmptyEntries(7);
    ZipArchive archive = new ZipArchive();
    archive.add(entries);
    try {
        archive.save("test.7z");
        fail("Expected IOException");
    } catch (IOException e) {
        // expected
    }

    // Scenario 2: 7 files, some empty, some with content
    entries = new ZipArchiveEntry[] {
        new ZipArchiveEntry("file1"),
        new ZipArchiveEntry("file2"),
        new ZipArchiveEntry("file3"),
        new ZipArchiveEntry("file4"),
        new ZipArchiveEntry("file5"),
        new ZipArchiveEntry("file6"),
        new ZipArchiveEntry("file7")
    };
    for (int i = 0; i < entries.length; i++) {
        if (i < 4) {
            entries[i] = entries[i].createEmpty();
        } else {
            entries[i] = entries[i].createFile("Hello World", "UTF-8");
        }
    }
    archive = new ZipArchive();
    for (ZipArchiveEntry entry :