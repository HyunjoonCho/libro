java
public void testIssueWithAdvancedOptimizations() throws Exception {
    // Create input.js file
    String inputJs = "window['anchor'] = function (obj, modifiesProp) {\n" +
            " return (function (saved) {\n" +
            " return modifiesProp(obj) + saved;\n" +
            " })(obj['prop']);";

    // Compile with ADVANCED_OPTIMIZATIONS mode
    Process process = Runtime.getRuntime().exec(new String[] {
        "java",
        "-jar",
        "compiler.jar",
        "--compilation_level",
        "ADVANCED_OPTIMIZATIONS",
        "--warning_level",
        "VERBOSE",
        "--externs",
        "window.js",
        "--js",
        "input.js",
        "--js_output_file",
        "output.js"
    });

    // Wait for compilation to complete
    process.waitFor();

    // Read output.js file
    String outputJs = new String(Files.readAllBytes(Paths.get("output.js")));

    // Expected output
    String expectedOutput = "window.foo=function(a,b){var HOLD=a.prop;return b(a)+HOLD;};";

    // Actual output
    String actualOutput = outputJs.trim();

    //