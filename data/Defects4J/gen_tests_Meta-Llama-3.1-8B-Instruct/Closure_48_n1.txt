javascript
describe('Type checking error when replacing a function with a stub after calling', function() {
    it('should throw an error when replacing a function with a stub after calling', function() {
        var Myclass = function() {};
        Myclass.prototype.fn = function(success) {};

        var myclass = new Myclass();
        myclass.fn(); // should throw an error
        myclass.fn = function() {}; // should throw an error

        expect(() => myclass.fn()).to.throw();
        expect(() => myclass.fn = function() {}).to.throw();
    });
});
