public void testInvalidFormatExceptionIndex() {
    String json = "[\"a\", \"b\"]";
    try {
        DeserializationContext context = DeserializationContext.createInstance();
        DeserializationConfig config = context.getConfig();
        JsonFactory f = config.getFactory();
        JsonParser jp = f.createParser(new ByteArrayInputStream(json.getBytes()));
        JsonDeserializer<?> deserializer = config.findRootValueDeserializer(Map.class);
        Object result = deserializer.deserialize(jp, context);
        fail("Expected JsonMappingException");
    } catch (JsonMappingException e) {
        assertEquals(0, e.getPath().get(0).getIndex());
    }
}