public void testTruncatedZipArchive() throws IOException {
    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    ZipArchiveOutputStream zos = new ZipArchiveOutputStream(bos);
    zos.closeEntry();
    zos.finish();
    zos.close();

    ZipArchiveInputStream zis = new ZipArchiveInputStream(new ByteArrayInputStream(bos.toByteArray()));
    assertEquals(-1, zis.read());
}