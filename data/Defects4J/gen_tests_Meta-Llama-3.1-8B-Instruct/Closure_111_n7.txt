java
import org.junit.Test;
import com.google.javascript.jscomp.CheckLevel;
import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.CompilerOptions;
import com.google.javascript.jscomp.Error;
import com.google.javascript.jscomp.JSError;

public class GoogIsArrayTest {
    @Test
    public void testGoogIsArray() {
        String code = "goog.isFunction(x) {\n" +
                "  if (goog.isArray(x)) {\n" +
                "    /** @type {Array} */ var x = x;\n" +
                "    return x;\n" +
                "  }\n" +
                "};";

        Compiler compiler = new Compiler();
        CompilerOptions options = new CompilerOptions();
        options.setLanguageIn(CheckLevel.WARNING);
        options.setLanguageOut(CheckLevel.WARNING);
        options.setAdvancedOptimizations(true);
        compiler.compile(code, options);

        // Verify that there are no errors
        JSError[] errors = compiler.getErrors();
        if (errors.length > 0) {
            System.out.println("Errors: ");
            for (JSError error : errors) {
                System.out.println(error);
            }
            assert false;
        }
