java
public void testCreateArchiveInputStreamDetectsTextFilesLessThan100Bytes() {
    byte[] bytes = new byte[100];
    // Create a text file less than 100 bytes
    for (int i = 0; i < 100; i++) {
        bytes[i] = (byte) i;
    }
    ByteArrayInputStream bais = new ByteArrayInputStream(bytes);
    try {
        ArchiveStreamFactory.asArchiveStreamFactory().createArchiveInputStream(bais);
        fail("Expected exception was not thrown");
    } catch (Exception e) {
        // Expected exception, no need to do anything
    }

    // Create a tar file with 101 bytes
    bytes = new byte[101];
    for (int i = 0; i < 101; i++) {
        bytes[i] = (byte) i;
    }
    bais = new ByteArrayInputStream(bytes);
    ArchiveInputStream ais = ArchiveStreamFactory.asArchiveStreamFactory().createArchiveInputStream(bais);
    assertNotNull(ais);
}
