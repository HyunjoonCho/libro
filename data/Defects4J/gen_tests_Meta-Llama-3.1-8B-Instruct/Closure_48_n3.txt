public void testTypeCheckingError() {
    class MyClass {
        public void fn(boolean success) {}
    }

    MyClass obj = new MyClass();
    obj.fn(true);

    try {
        obj.fn = () -> {};
    } catch (Exception e) {
        // This exception is expected, but should not be masked by the previous reassignment
    }

    try {
        obj.fn(true);
    } catch (Exception e) {
        // This exception should be thrown, but is masked by the previous reassignment
        fail("Expected an exception to be thrown");
    }
}