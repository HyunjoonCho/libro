java
public void testLongDirectoryNamesInTarArchive() throws Exception {
    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    TarArchiveOutputStream tarOs = new TarArchiveOutputStream(bos);

    // Create a directory with a long name that exceeds the 100 byte limit
    String longDirectoryName = new String(new char[101]).replace('\0', 'a');
    TarArchiveEntry entry = new TarArchiveEntry(longDirectoryName);
    tarOs.putArchiveEntry(entry);

    // Write some data to the entry (this is not actually used in the TarArchiveOutputStream.write() method)
    tarOs.write(new byte[1024]);

    // Close the entry
    tarOs.closeArchiveEntry();

    // Close the tar archive
    tarOs.close();

    // Check if the exception is thrown when writing the entry
    try {
        tarOs.write(new byte[1024]);
        fail("Expected IOException to be thrown");
    } catch (IOException e) {
        // Expected exception
    }
}
