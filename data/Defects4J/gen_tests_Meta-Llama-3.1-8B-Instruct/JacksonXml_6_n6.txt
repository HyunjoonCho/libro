java
public void testWriteBinaryToXML() throws Exception {
    ToXmlGenerator xmlGenerator = new ToXmlGenerator();
    ByteArrayOutputStream baos = new ByteArrayOutputStream();
    ToXmlGenerator.Writer w = new ToXmlGenerator.Writer(baos);
    xmlGenerator.setWriter(w);

    byte[] bytes = "Hello, World!".getBytes("UTF-8");
    xmlGenerator.writeBinary(Base64Variants.getDefaultVariant(), new ByteArrayInputStream(bytes), bytes.length);

    String xml = baos.toString("UTF-8");
    // Verify that the XML is as expected
    // This will depend on the expected output, so you need to fill in the expected XML
    assertEquals("Expected XML", xml);
}
