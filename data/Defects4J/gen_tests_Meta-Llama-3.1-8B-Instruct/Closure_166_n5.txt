javascript
function testAnonymousObjectTypeInference() {
    var func = function(record) {
        window.console.log(record.prop);
    };

    var func2 = function(record) {
        if (typeof record =='string') {
            window.console.log(record);
        } else {
            window.console.log(record.prop);
        }
    };

    var obj = {prop: 'a'};
    var str = 'hello';

    func(obj);
    func(str); // This should not cause an error

    func2(obj);
    func2(str); // This should not cause an error

    try {
        func2({}); // This should cause an error
    } catch (e) {
        console.log("Error: " + e.message);
    }
}
