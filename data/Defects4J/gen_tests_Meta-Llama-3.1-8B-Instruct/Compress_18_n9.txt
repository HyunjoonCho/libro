public void testTarArchiveDirectoryNameLength() throws IOException {
    TarArchiveOutputStream tasos = new TarArchiveOutputStream(new ByteArrayOutputStream());
    try {
        tasos.putArchiveEntry(new TarArchiveEntry("a".repeat(101)));
        tasos.closeArchiveEntry();
        fail("Expected IOException");
    } catch (IOException e) {
        assertEquals("request to write '101' bytes exceeds size in header of '0' bytes", e.getMessage());
    } finally {
        tasos.close();
    }
}