public void testCorruptedBzip2() {
    try (BZip2CompressorInputStream bis = new BZip2CompressorInputStream(new ByteArrayInputStream(new byte[] { 0x12, 0x34 }))) {
        TarArchiveInputStream tai = new TarArchiveInputStream(bis);
        try {
            tai.getNextEntry();
            fail("Expected IOException");
        } catch (IOException e) {
            // expected
        }
    } catch (IOException e) {
        fail("Unexpected IOException");
    }
}