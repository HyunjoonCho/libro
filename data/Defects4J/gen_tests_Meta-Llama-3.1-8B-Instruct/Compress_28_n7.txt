java
public void testTarArchiveInputStreamSilentEOF() throws IOException {
    // Create a corrupted tar file with a BZip2 compression
    String corruptedArchivePath = createCorruptedTarFile();

    // Try to open the corrupted tar file
    TarArchiveInputStream input = new TarArchiveInputStream(new BZip2CompressorInputStream(new FileInputStream(corruptedArchivePath), true));

    // Expect an IOException when EOF is reached unexpectedly
    try {
        ArchiveEntry nextMatchedEntry = input.getNextEntry();
        fail("Expected IOException");
    } catch (IOException e) {
        // Expected exception
    }
}

private String createCorruptedTarFile() throws IOException {
    // Create a temporary file
    File corruptedArchive = File.createTempFile("corrupted.tar.bz2", null);

    // Write a corrupted tar header to the file
    try (FileOutputStream fos = new FileOutputStream(corruptedArchive)) {
        fos.write("tar header".getBytes());
    }

    return corruptedArchive.getAbsolutePath();
}
