public class TestTemplateInference {
    public static class Class<T> {
        public String foo(Function<Class<T>, Class<T>> a) {
            return "string";
        }
    }

    public interface Function<T, R> {
        R apply(T t);
    }

    public void testIssue() {
        Function<Class<?>, Class<?>> a = t -> null;
        new Class().foo(a);
    }
}