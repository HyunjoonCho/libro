public void testAssigningObjectLiteral() {
    final Class<?> fooClass = new Class<?>() {};
    Runnable r = new Runnable() {
        @Override
        public void run() {
            fooClass.getDeclaredFields()[0].set(fooClass.newInstance(), new Object() {
                public void alert() {
                    System.out.println("hello world");
                }
            });
        }
    };
    r.run();
    try {
        Method alertMethod = fooClass.getMethod("alert");
        alertMethod.invoke(null);
    } catch (Exception e) {
        System.out.println("alert property not found");
    }
}