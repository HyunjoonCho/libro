java
import com.fasterxml.jackson.core.JsonFactory;
import com.fasterxml.jackson.core.JsonParser;
import com.fasterxml.jackson.core.JsonToken;
import com.fasterxml.jackson.core.util.TextBuffer;

public class TestLongKeyLength {
    public void testLongKeyLength() throws Exception {
        JsonFactory f = new JsonFactory();
        JsonParser jp = f.createParser(new StringReader("{\"key".repeat(262145) + "\":\"value\"}"));
        try {
            jp.nextToken();
            fail("Expected ArrayIndexOutOfBoundsException");
        } catch (ArrayIndexOutOfBoundsException e) {
            // expected
        }
    }
}
