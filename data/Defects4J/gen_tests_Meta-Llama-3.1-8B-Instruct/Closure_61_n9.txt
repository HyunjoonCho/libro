public void testClosureRemovesNeededCode() {
    Function fn = new Function("test") {
        public Object execute(Object[] args) {
            test.a = 5;
            return null;
        }
    };
    Object test = new Object();
    fn.execute(new Object[]{});
    assert test instanceof Object;
    fn = new Function("test") {
        public Object execute(Object[] args) {
            test.a = 5;
            return null;
        }
    };
    test = new Object();
    fn.execute(new Object[]{});
    assert test instanceof Object;
}