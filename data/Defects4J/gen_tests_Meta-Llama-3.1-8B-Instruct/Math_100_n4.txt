public void testAbstractEstimator() {
    // Create an estimator with bound and unbound parameters
    Problem problem = new Problem(2);
    problem.addParameter(0, 1.0, 1.0, 1.0);
    problem.addParameter(1, 1.0, 1.0, 1.0);
    problem.addConstraint(new LinearConstraint(0.5, ConstraintType.EQUAL_TO, 1.0));

    // Test that getCovariances() crashes with ArrayIndexOutOfBoundsException
    try {
        AbstractEstimator estimator = new AbstractEstimator(problem);
        estimator.getCovariances();
        fail("getCovariances() should have thrown an ArrayIndexOutOfBoundsException");
    } catch (ArrayIndexOutOfBoundsException e) {
        // Expected
    }

    // Test that getUnboundParameters() fixes the issue
    AbstractEstimator estimator = new AbstractEstimator(problem);
    double[] covariances = estimator.getCovariances(estimator.getUnboundParameters());
    assertEquals(1, covariances.length);
}