java
public void testPosixParser() {
    OptionSet options = new OptionSet();
    options.addOption("t", "target", true, "Generate files for the specified target machine");
    try {
        PosixParser parser = new PosixParser();
        Options parsedLine = parser.parse(new String[] {"-t", "foobar.com"}, options);
        assertEquals("foobar.com", parsedLine.getOptionValue("t"));
        
        parsedLine = parser.parse(new String[] {"-target", "foobar.com"}, options);
        assertEquals("foobar.com", parsedLine.getOptionValue("target"));
        
        parsedLine = parser.parse(new String[] {"-t"}, options);
        assertNull(parsedLine.getOptionValue("t"));
        
        parsedLine = parser.parse(new String[] {"-target"}, options);
        assertEquals("target", parsedLine.getOptionValue("target"));
        
        parsedLine = parser.parse(new String[] {"-t arget"}, options);
        assertEquals("arget", parsedLine.getOptionValue("t"));
        
    } catch (ParseException e) {
        fail("Parsing failed");
    }
}
