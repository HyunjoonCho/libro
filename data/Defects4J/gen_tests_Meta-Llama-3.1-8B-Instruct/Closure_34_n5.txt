public void testClosureCompilerStackOverflowError() {
    String jsCode = "function f() { f(); }";
    try {
        Compiler compilationResult = Compiler.compile().jsToSource(jsCode);
    } catch (Exception e) {
        // Expected to throw a RuntimeException with a StackOverflowError
        assertTrue(e.getCause() instanceof RuntimeException);
        assertTrue(e.getCause().getCause() instanceof StackOverflowError);
    }
}