java
public void testTryFoldArrayAccess() {
    String code = "console.log([console.log('hello, '), 'world!'][1])";
    CompilationLevel SIMPLE_OPTIMIZATIONS.compile(code).printTo(new PrintStream());
    String expectedCode = "(function(){console.log((console.log(\"hello\"), \"world!\"))})();";
    String actualCode = compilationResult.toString();
    assertEquals(expectedCode, actualCode);
}
