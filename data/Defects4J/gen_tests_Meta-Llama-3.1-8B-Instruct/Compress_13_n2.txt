public void testUmlautIssue() throws IOException {
    File zipFile = File.createTempFile("umlauts", ".zip");
    zipFile.deleteOnExit();

    try (ZipOutputStream zos = new ZipOutputStream(new FileOutputStream(zipFile))) {
        zos.putNextEntry(new ZipEntry("D\u00E4rrekt\u00F6ry"));
        zos.closeEntry();

        zos.putNextEntry(new ZipEntry("file1.txt"));
        zos.write("Hello".getBytes());
        zos.closeEntry();
    }

    try (ArchiveInputStream ais = ArchiveFactory.getArchiveInputStream(zipFile)) {
        ZipArchiveInputStream zais = (ZipArchiveInputStream) ais;
        ZipArchiveEntry entry = zais.getNextEntry();

        assertTrue(entry.isDirectory());

        assertEquals("Därektöry/", entry.getName());
        assertEquals("file1.txt", zais.getNextEntry().getName());
    }
}