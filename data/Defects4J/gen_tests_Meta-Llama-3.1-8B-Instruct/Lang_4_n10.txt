java
public void testLookupTranslatorWithCharSequence() {
    CharSequence cs1 = "1 < 2";
    CharSequence cs2 = CharBuffer.wrap("1 < 2".toCharArray());

    Map<CharSequence, CharSequence> lookupMap = new HashMap<>();
    lookupMap.put(cs1, "escaped");

    assertEquals("escaped", StringEscapeUtils.ESCAPE_HTML4.translate(cs1));
    // This should not be equal due to the issue in the bug report
    assertNotEquals("escaped", StringEscapeUtils.ESCAPE_HTML4.translate(cs2));
}
