java
public class Test {
    public static class MyRecord {
        public Object prop1;
        public String prop2;
        public String prop3;
    }

    public static MyRecord func(boolean a, boolean b) {
        MyRecord results;
        if (a) {
            results = new MyRecord();
            results.prop1 = new Object();
        }
        if (b) {
            results = results!= null? results : new MyRecord();
            results.prop2 = "prop2";
        } else {
            results = results!= null? results : new MyRecord();
            results.prop3 = "prop3";
        }
        return results;
    }

    public void testIssue() {
        MyRecord result1 = func(true, true);
        assertNotNull(result1);
        assertNotNull(result1.prop1);
        assertNull(result1.prop2);
        assertNull(result1.prop3);

        MyRecord result2 = func(true, false);
        assertNotNull(result1);
        assertNotNull(result1.prop1);
        assertEquals("prop2", result2.prop2);
        assertNull(result2.prop3);

        MyRecord result3 = func(false, false);
        assertNull(result3);
    }
}
