public void testCorruptedBzip2() {
    try {
        String archivePath = "path/to/test.tar.bz2"; // replace with a corrupted.bz2 file
        TarArchiveInputStream input = new TarArchiveInputStream(new BZip2CompressorInputStream(new ByteArrayInputStream(new byte[] {0x1f, 0x9d}), true));
        ArchiveEntry nextMatchedEntry = input.getNextEntry();
        assertNotNull(nextMatchedEntry);
        fail("Expected IOException");
    } catch (IOException e) {
        // expected
    }
}