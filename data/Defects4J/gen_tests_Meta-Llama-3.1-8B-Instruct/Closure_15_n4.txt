javascript
function testRemoveKey(key) {
    var dataSlot = {key: 'value'};
    var retval = dataSlot && dataSlot[key];
    var hadKey = dataSlot && (key in dataSlot);
    
    if (dataSlot) {
        var temp = dataSlot[key];
        delete dataSlot[key];
        dataSlot[key] = temp; // restore the original value for testing
    }
    
    return hadKey? retval : null;
}

console.log(testRemoveKey('key')); // 'value'
console.log('key' in dataSlot); // true
