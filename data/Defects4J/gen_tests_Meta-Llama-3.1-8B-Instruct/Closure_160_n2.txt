java
public void testCheckVarsUndefinedVarsDiagnostics() {
    // Test case for undefinedVars diagnostics
    String jsCode1 = "foo = {};\n" +
            "foo.bar = function() { alert(this.baz); };";
    List<String> expectedWarnings1 = Arrays.asList(
            "test.js:2: WARNING - variable foo is undefined"
    );
    List<String> actualWarnings1 = runJsCompilerWithWarnings(jsCode1, "--jscomp_warning undefinedVars");
    assertEquals(expectedWarnings1, actualWarnings1);

    // Test case for checkVars diagnostics
    String jsCode2 = "foo = {};\n" +
            "foo.bar = function() { alert(this.baz); };";
    List<String> expectedWarnings2 = Arrays.asList(
            "test.js:2: WARNING - dangerous use of the global this object"
    );
    List<String> actualWarnings2 = runJsCompilerWithWarnings(jsCode2, "--jscomp_warning checkVars");
    assertEquals(expectedWarnings2, actualWarnings2);

    // Test case for checkVars and undefinedVars diagnostics
    String jsCode3 = "foo = {};\n" +
            "foo.bar = function() { alert(this.baz); };";
