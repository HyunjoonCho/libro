public void testMultidimensionalCounter() {
    MultidimensionalCounter counter = new MultidimensionalCounter(2, 4);
    for (int i = 0; i < 8; i++) {
        int[] indices = counter.getCounts();
        int[] expected = (i / 4) == 1? new int[] { 1, i % 4 } : new int[] { 0, i % 4 };
        assertArrayEquals(expected, indices);
    }
}