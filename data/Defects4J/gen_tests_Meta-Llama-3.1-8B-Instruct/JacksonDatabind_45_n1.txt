public void testIssue1154() {
    // Before fix
    XMLGregorianCalendar cal = new XMLGregorianCalendar();
    cal.setYear(0);
    cal.setMonth(0);
    cal.setDay(1);
    cal.setHour(0);
    cal.setMinute(0);
    cal.setSecond(0);
    cal.setMillisecond(0);
    cal.setTimezone(new GregorianCalendar().getTimezone());
    DateTimeFormatter dtf = DateTimeFormat.forPattern("yyyy-MM-dd'T'HH:mm:ss");
    try {
        dtf.parseDateTime(cal.toXMLFormat());
        fail("Expected parse to fail");
    } catch (Exception e) {
        // Expected exception
    }
    
    // After fix
    cal = new XMLGregorianCalendar();
    cal.setYear(0);
    cal.setMonth(0);
    cal.setDay(1);
    cal.setHour(0);
    cal.setMinute(0);
    cal.setSecond(0);
    cal.setMillisecond(0);
    cal.setTimezone(new GregorianCalendar().getTimezone());
    cal.setGregorianChange(new GregorianCalendar(0, 0, 1).getTime());
    dtf = DateTimeFormat.forPattern("yyyy-MM-dd'T'HH:mm:ss