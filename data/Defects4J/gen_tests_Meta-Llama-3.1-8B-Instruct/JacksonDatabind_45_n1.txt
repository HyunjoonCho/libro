java
public void testNumberShapePrecedence() {
    // Before fix: textual representation should be enabled
    NumberFormat format = NumberFormat.getInstance(Locale.US);
    NumberFormat expectedFormat = NumberFormat.getInstance(Locale.US);
    expectedFormat.setNumberFormat(NumberFormat.INTEGER);
    assertEquals(expectedFormat, NumberFormat.getShapeFormat(NumberFormat.INTEGER, Locale.US));
    
    // After fix: textual representation should not be enabled if shape is explicitly defined as NUMBER
    NumberFormat formatWithNumberShape = NumberFormat.getShapeFormat(NumberFormat.NUMBER, Locale.US);
    NumberFormat expectedFormatWithNumberShape = NumberFormat.getInstance(Locale.US);
    expectedFormatWithNumberShape.setNumberFormat(NumberFormat.INTEGER);
    assertEquals(expectedFormatWithNumberShape, formatWithNumberShape);
}
