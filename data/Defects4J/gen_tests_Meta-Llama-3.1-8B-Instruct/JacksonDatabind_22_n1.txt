java
public class TestPojo {
    @JsonValue
    public String toJsonValue() {
        return "custom value";
    }
}

public class TestClass {
    private TestPojo testPojo;

    public String getTestPojo() {
        return testPojo.toJsonValue();
    }
}

public void testCustomSerializerNotUsed() {
    // Create a custom serializer for TestPojo
    JsonSerializer<TestPojo> customSerializer = new JsonSerializer<TestPojo>() {
        @Override
        public String serialize(TestPojo value, JsonGenerator gen, SerializerProvider provider) throws IOException {
            return "custom serialized value";
        }
    };

    // Register the custom serializer
    SimpleModule module = new SimpleModule();
    module.addSerializer(TestPojo.class, customSerializer);

    // Create a mapper with the custom module
    ObjectMapper mapper = new ObjectMapper();
    mapper.registerModule(module);

    // Create an instance of TestClass
    TestClass testClass = new TestClass();

    // The custom serializer should be used, but it's not
    assertEquals("custom serialized value", mapper.writeValueAsString(testClass));
}
