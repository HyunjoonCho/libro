java
import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.CompilerOptions;
import com.google.javascript.jscomp.ErrorCollector;
import com.google.javascript.jscomp.SourceFile;

public void testTypeAliasesInTypeAnnotations() throws Exception {
    String source = """
        goog.provide('foo.Foo');
        goog.provide('foo.Foo.Bar');

        goog.scope(function() {
          /**
           * @param {Foo.Bar} bar
           * @constructor
           */
          foo.Foo = function(bar) {
            this.bar = bar;
          };
          var Foo = foo.Foo;

          /**
           * @type {Foo.Bar}
           */
          Foo.prototype.bar = null;

          /**
           * @constructor
           */
          Foo.Bar = function() {};
        });
        """;

    CompilerOptions options = new CompilerOptions();
    ErrorCollector errors = new ErrorCollector();
    Compiler compiler = new Compiler(options);
    compiler.addSource(new SourceFile("test.js", source));
    compiler.compile();

    // Check if the error is reported
    errors.report