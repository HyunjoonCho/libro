java
import com.google.javascript.jscomp.CompilationLevel;
import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.JSError;
import com.google.javascript.jscomp.SourceFile;

public class TestBadVariableInliningInClosure {
    public void testBadVariableInliningInClosure() {
        CompilationLevel SIMPLE_OPTIMIZATIONS = CompilationLevel.SIMPLE_OPTIMIZATIONS;
        Compiler compiler = new Compiler();
        compiler.setWarningLevel(JSError.Level.OFF);
        compiler.compile(
                "function foo() { " +
                "var arr = [1, 2, 3, 4, 5];" +
                "for (var i = 0, l = arr.length; i < l; i++) {" +
                "var j = arr[i];" +
                "(function() {" +
                "var k = j;" +
                "setTimeout(function() { console.log(k); }, 0);" +
                "})();" +
                "}" +
                "}" +
                "foo();",
                new