public void testDefaultNamespaceLoop() throws Exception {
    DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();
    DocumentBuilder db = dbf.newDocumentBuilder();
    Document doc = db.parse(new ByteArrayInputStream("<root xmlns=\"test111\"><b:foo xmlns:b=\"bla\"><b:bar>a</b:bar><test></test></b:foo></root>".getBytes()));

    Node node = doc.getDocumentElement().getElementsByTagNameNS("test111", "").item(0);
    JXPathContext context = JXPathContext.newInstance(doc);
    Object result = context.getValue(".//test", node);
    assertEquals("/root[test]", result.toString());
}