public void testGroupConstraints() {
    OptionGroup groupA = new OptionGroup("groupA");
    OptionGroup groupB = new OptionGroup("groupB");
    groupA.addOption(new Option("optionA"));
    groupB.addOption(groupA);

    OptionSpec spec = new OptionSpec();
    spec.addOption(groupB);

    WriteableCommandLine cmdLine = new WriteableCommandLine(spec);

    cmdLine.addOption(groupB.getOptions().get(0)); // add an option that is part of groupA

    assertTrue(cmdLine.hasOption("groupA"));
    assertTrue(cmdLine.hasOption("groupB"));
}