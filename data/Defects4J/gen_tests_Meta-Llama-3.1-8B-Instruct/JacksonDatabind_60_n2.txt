public void testPolymorphicTypeLost() throws JsonProcessingException {
    ObjectMapper mapper = new ObjectMapper();
    mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);
    mapper.enableDefaultTyping();

    RemoteCall remoteCall = new RemoteCall();
    byte[] bytes = new byte[] {1, 2, 3};
    remoteCall.setBytes(bytes.clone());

    String json = mapper.writeValueAsString(remoteCall);
    System.out.println(json);

    RemoteCall deserializedRemoteCall = mapper.readValue(json, RemoteCall.class);
    assertNotSame(bytes, deserializedRemoteCall.getBytes());
}