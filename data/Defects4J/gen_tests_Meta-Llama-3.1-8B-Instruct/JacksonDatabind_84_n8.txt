java
import com.fasterxml.jackson.annotation.JsonProperty;
import com.fasterxml.jackson.databind.ObjectMapper;
import org.junit.Test;

import static org.junit.Assert.assertEquals;

public class JacksonRecursiveTypeBugTest {

    @Test
    public void testJacksonRecursiveTypeBug() throws Exception {
        ObjectMapper mapper = new ObjectMapper();

        IFace<Sub> base = new Base();
        Sub sub = new Sub();

        BaseWithSub baseWithSub = new BaseWithSub();
        baseWithSub.setBase(base);
        baseWithSub.setSub(sub);

        String json = mapper.writeValueAsString(baseWithSub);

        // {"base":{"base":1,"sub":2},"sub":2} is the expected output
        // But the actual output is {"base":1,"sub":2}
        // So we check if the base object is correctly serialized
        String jsonBase = mapper.writeValueAsString(base);

        assertEquals("{\"base\":1,\"sub\":2}", jsonBase);
    }

    static class Base implements IFace<Sub> {
        @JsonProperty("base")
        int base = 1;
    }

    static class Sub {
        @JsonProperty("sub")
        int sub = 2;
    }

    static class BaseWithSub implements IFace<Sub> {
        @