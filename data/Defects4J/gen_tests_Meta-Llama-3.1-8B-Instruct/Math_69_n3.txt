public void testPearsonsCorrelationPValuesPrecision() {
    double[] data1 = new double[10000];
    double[] data2 = new double[10000];
    for (int i = 0; i < 10000; i++) {
        data1[i] = 1.0;
        data2[i] = 1.0;
    }
    double correlation = PearsonsCorrelation.correlation(data1, data2);
    double p = PearsonsCorrelation.getCorrelationPValues(correlation);
    double expectedP = 2 * tDistribution.cumulativeProbability(-PearsonsCorrelation.tTestStatistic(data1, data2, correlation));
    assertEquals(expectedP, p, 1e-10);
}