java
public void testClosureCompiler() {
    // Test case for bug #123: Different output from RestAPI and command line jar
    String input = "var foreignObject = gfx.parentNode.parentNode;\n" +
                  "var parentContainer = foreignObject.parentNode.parentNode;";

    // Compile with command line jar
    ClosureCompiler compiler = new ClosureCompiler();
    compiler.setWarningLevel(ClosureCompiler.WarningLevel.SIMPLE_OPTIMIZATIONS);
    compiler.compile(input, "output.js");
    String outputCommandLine = compiler.toSource();

    // Compile with Web UI equivalent
    ClosureCompiler compilerWebUI = new ClosureCompiler();
    compilerWebUI.setWarningLevel(ClosureCompiler.WarningLevel.SIMPLE_OPTIMIZATIONS);
    compilerWebUI.compile(input, "output.js");
    String outputWebUI = compilerWebUI.toSource();

    // Verify the output
    assertEquals("if(b){if(a=b.parentNode.parentNode,b=a.parentNode.parentNode,null!==b)", outputWebUI);
    assertEquals("var b=a=a.parentNode.parentNode;", outputCommandLine);
}
