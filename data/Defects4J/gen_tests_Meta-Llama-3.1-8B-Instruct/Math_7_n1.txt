public void testEventStateNotUpdated() {
    // Create an ODE solver with two events
    EventInterceptor event1 = new EventInterceptor() {
        @Override
        public void eventOccurred(double t, double[] y) {
            // Trigger a reset of the integration state
            resetState();
        }
    };

    EventInterceptor event2 = new EventInterceptor() {
        @Override
        public void eventOccurred(double t, double[] y) {
            // Do nothing
        }
    };

    ODE ode = new ODE();
    ode.addEvent(event1);
    ode.addEvent(event2);

    // Integrate the ODE for a few steps
    ode.integrate(0, 1);

    // Verify that event2's state is not updated correctly
    double[] state = ode.getIntegrationState();
    // Add assertions here to check the values in the state array
}