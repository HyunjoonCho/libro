public void testArchiveStreamFactoryEncoding() throws IOException {
    String encoding = "UTF-8";
    ArjArchiveInputStream ais = new ArjArchiveInputStream(new ByteArrayInputStream("test".getBytes(encoding)));
    assertEquals(encoding, ais.getEncoding());
    
    CpioArchiveInputStream cis = new CpioArchiveInputStream(new ByteArrayInputStream("test".getBytes(encoding)));
    assertEquals(encoding, cis.getEncoding());
    
    DumpArchiveInputStream das = new DumpArchiveInputStream(new ByteArrayInputStream("test".getBytes(encoding)));
    assertEquals(encoding, das.getEncoding());
    
    JarArchiveInputStream jais = new JarArchiveInputStream(new ByteArrayInputStream("test".getBytes(encoding)));
    assertEquals(encoding, jais.getEncoding());
    
    JarArchiveOutputStream jaos = new JarArchiveOutputStream(new ByteArrayOutputStream());
    jaos.setEncoding(encoding);
    assertEquals(encoding, jaos.getEncoding());
}