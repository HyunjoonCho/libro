java
import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.CompilerOptions;
import com.google.javascript.jscomp.SourceFile;
import com.google.javascript.jscomp.SourceMap;
import com.google.javascript.jscomp.JSError;

public void testRuntimeExceptionWhenCompilingWithExternPrototype() throws Exception {
    // Create compiler options
    CompilerOptions options = new CompilerOptions();
    options.setCompilationLevel(CompilerOptions.CompilationLevel.ADVANCED_OPTIMIZATIONS);
    options.setExterns(SourceFile.fromCode("prototype.js", "function Str(key, holder, stack) { }"));

    // Create source file
    SourceFile bootloader = SourceFile.fromCode("bootloader.js", "function test() { }");

    // Compile
    Compiler compiler = new Compiler();
    SourceMap sourceMap = compiler.compile(bootloader, options);

    // Check if compilation was successful
    if (compiler.getErrors().length > 0) {
        for (JSError error : compiler.getErrors()) {
            System.out.println("Error: " + error.getMessage());
        }
        fail("Compilation failed");
    }
}
