java
public void testJsonParserSequenceSkipsToken() throws JsonProcessingException {
    JsonParser parser1 = new JsonFactory().createParser(new ByteArrayInputStream("{\"a\":1}".getBytes()));
    parser1.nextToken();
    JsonParser parser2 = new JsonFactory().createParser(new ByteArrayInputStream("{\"b\":2}".getBytes()));
    JsonParserSequence sequence = JsonParserSequence.createFlattened(parser1, parser2);

    JsonToken token = sequence.nextToken();
    assertEquals(JsonToken.FIELD_NAME, token);
    assertEquals("a", token.getValueAsString());
    token = sequence.nextToken();
    assertEquals(JsonToken.VALUE_NUMBER_INT, token);
    assertEquals(1, token.getBigIntegerValue().intValue());
    token = sequence.nextToken();
    assertEquals(JsonToken.FIELD_NAME, token);
    assertEquals("b", token.getValueAsString());
    // This token should not be skipped
    token = sequence.nextToken();
    assertEquals(JsonToken.VALUE_NUMBER_INT, token);
    assertEquals(2, token.getBigIntegerValue().intValue());
}
