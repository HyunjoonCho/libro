public void testTarAixSymlink() throws Exception {
    ByteArrayOutputStream baos = new ByteArrayOutputStream();
    TarArchiveOutputStream tarOut = new TarArchiveOutputStream(baos);
    TarArchiveEntry symlinkEntry = new TarArchiveEntry("symlink");
    symlinkEntry.setSize(0);
    symlinkEntry.setLinkName("target");
    tarOut.putArchiveEntry(symlinkEntry);
    tarOut.closeEntry();
    tarOut.close();

    TarArchiveInputStream tarIn = new TarArchiveInputStream(new ByteArrayInputStream(baos.toByteArray()));
    try {
        tarIn.getNextTarEntry();
        fail("Expected IOException");
    } catch (IOException e) {
        assertEquals("Invalid byte 0 at offset 0 in '{NUL}1722000726'len=12", e.getMessage());
    }
}