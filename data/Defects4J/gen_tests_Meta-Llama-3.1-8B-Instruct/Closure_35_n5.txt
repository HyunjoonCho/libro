public void testRecordAssignment() {
    RecordType result = new RecordType(null, null, null);
    if (true) {
        result.prop1 = new Object();
    }
    if (true) {
        result = result == null? new RecordType(null, null, null) : result;
        result.prop2 = "prop2";
    } else {
        result = result == null? new RecordType(null, null, null) : result;
        result.prop3 = "prop3";
    }
    // The assertion would fail because result.prop1 is an Object, not a RecordType
    // The Java equivalent of RecordType is a class with private final fields
    assertInstanceOf(RecordType.class, result);
}