javascript
describe('Assignment to object in conditional causes type error on function w/ record type return type', () => {
    it('should throw a type mismatch error', () => {
        function func(a, b) {
            var results;
            if (a) {
                results = {};
                results.prop1 = { a: 3 };
            }
            if (b) {
                results = results || {};
                results.prop2 = 'prop2';
            } else {
                results = results || {};
                results.prop3 = 'prop3';
            }
            return results;
        }

        expect(() => func(true, true)).toThrowError('JSC_TYPE_MISMATCH');
    });

    it('should not throw an error when the return type is record type | undefined', () => {
        function func(a, b) {
            var results;
            if (a) {
                results = {};
                results.prop1 = { a: 3 };
            }
            if (b) {
                results = results || {};
                results.prop2 = 'prop2';
            } else {
                results = results || {};
                results.prop3 = 'prop3';
            }
            return results || undefined;
        }

        const result = func(true, true);
