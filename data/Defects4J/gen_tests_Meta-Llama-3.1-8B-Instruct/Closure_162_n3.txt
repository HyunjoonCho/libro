import org.junit.Test;
import static org.junit.Assert.*;

public void testTypeAliases() {
    try {
        // Note: Java does not support JSDoc annotations like Closure does, so we can't exactly replicate the error.
        // However, we can test that the annotation is not recognized by the compiler.
        String source = "class Foo { " +
                "@interface FooBar { } " +
                "class Bar { } " +
                "}";
        JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();
        JavaFileObject file = new SimpleJavaFileObject() {
            @Override
            public String getCharContent(boolean ignoreEncodingErrors) {
                return source;
            }
        };
        JavaCompiler.CompilationTask task = compiler.getTask(null, null, null, null, null, Collections.singleton(file));
        task.call();
        fail("Expected compilation error");
    } catch (JavaCompiler.CompilationTask.CompilationProblemException e) {
        assertTrue(e.getProblems().stream().anyMatch(problem -> problem.getKind() == ProblemKind.ERROR && problem.getMessage().contains("unknown annotation type")));
    }
}