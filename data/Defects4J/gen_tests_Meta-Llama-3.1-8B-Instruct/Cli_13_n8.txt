java
public void testCommandLineOptionOverride() throws Exception {
    Option option = new Option("option", true);
    option.setDefault("default");
    
    WritableCommandLine cli = new WritableCommandLine(new String[] {"option", "value"});
    
    // This should throw an exception
    try {
        cli.parse();
        fail("Expected exception not thrown");
    } catch (CommandLineException e) {
        // expected
    }
    
    // Using the patched method to get the undefaulted value
    WritableCommandLine patchedCli = new WritableCommandLine(new String[] {"option", "value"});
    patchedCli.getOption(option).setUndefaulted(true);
    patchedCli.parse();
    assertEquals("value", patchedCli.getOption(option).getValue());
}
