java
public void testCSVFormatWithHeader() throws IOException {
    String expectedContent = "x\n42\n";
    try (BufferedWriter writer = new BufferedWriter(new FileWriter("data.csv"))) {
        CSVFormat tdf = CSVFormat.TDF.withHeader("x");
        try (CSVPrinter csvPrinter = new CSVPrinter(writer, tdf)) {
            csvPrinter.printRecord(42);
        }
        assertEquals(expectedContent, Files.readString(Paths.get("data.csv")));
    }
    Files.delete(Paths.get("data.csv"));
}
