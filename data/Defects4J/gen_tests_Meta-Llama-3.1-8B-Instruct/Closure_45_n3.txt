javascript
describe('Assignment removed when used as an expression result to Array.push', function() {
    it('should preserve assignment when used as an expression result to Array.push', function() {
        function f() {
            var a = [], b;
            a.push(b = []);
            b[0] = 1;
            return a;
        }
        var result = f();
        expect(result.length).toBe(1);
        expect(result[0].length).toBe(1);
        expect(result[0][0]).toBe(1);
    });
});
