java
public void testIssue() {
    // Create a switching function that increases around the first event, reaches its maximum and decreases around the second event
    final double[] g = new double[200];
    for (int i = 0; i < g.length; i++) {
        g[i] = 100 - Math.abs(i - 90);
    }
    
    // Create a pair of events
    double event1 = 90.0;
    double event2 = 135.0;
    
    // Create an integration step that spans the first event
    double stepStart = 67.5;
    double stepEnd = 112.5;
    
    // Make sure the solver converges to a value slightly before the event
    double solverConvergence = 89.9999999;
    
    // Test that the second event is not detected in this step
    // This should fail because the switching function has opposite signs at the start and end of the step
    try {
        // Assuming we have a method to detect events
        detectEvent(g, stepStart, stepEnd, solverConvergence, event2);
        fail("Expected exception");
    } catch (Exception e) {
        // Expected exception
