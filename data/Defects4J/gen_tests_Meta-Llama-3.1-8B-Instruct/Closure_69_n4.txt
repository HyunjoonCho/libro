javascript
describe('goog.graphics.Path instance method invocation', function() {
    var path;

    beforeEach(function() {
        goog.require('goog.graphics.Path');
        path = new goog.graphics.Path();
    });

    it('should throw an error when using an instance method as a function', function() {
        expect(function() {
            (function() {
                (0? path.moveTo : path.lineTo)(1, 1);
            })();
        }).toThrowError();
    });

    it('should throw an error when using an instance method as a function that references this', function() {
        expect(function() {
            (function() {
                path.moveTo = function(x, y) {
                    this.field = x + y; // This should throw an error
                };
                (0? path.moveTo : path.lineTo)(1, 1);
            })();
        }).toThrowError();
    });

    it('should issue a warning when using an instance method as a function that does not reference this', function() {
        spyOn(console, 'warn');
        (0? path.moveTo : path.lineTo)(1, 1);
        expect(console.warn).not.toHaveBeenCalled();
    });
});
