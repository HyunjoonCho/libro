java
public void testArgumentCaptorVarargs() {
    ArgumentCaptor<String> captor = ArgumentCaptor.forClass(String.class);
    when(mockMethod(anyString(), captor.capture(), anyInt())).thenReturn("success");
    mockMethod("arg1", "arg2", 1);
    List<String> capturedArgs = captor.getAllValues();
    assertEquals(2, capturedArgs.size());
    assertEquals("arg1", capturedArgs.get(0));
    assertEquals("arg2", capturedArgs.get(1));
}
