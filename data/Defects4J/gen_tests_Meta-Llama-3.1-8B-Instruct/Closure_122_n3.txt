java
import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.SourceFile;

public void testInconsistentHandlingOfNonJSDocComments() {
    String code = "/** @preserve Foo License */ alert('foo');";
    Compiler compiler = new Compiler();
    compiler.compile(new SourceFile("test", code));
    
    // Test that the warning is emitted when the comment starts with '/\* '
    compiler.compile(new SourceFile("test", "/** @preserve Foo License */ alert('foo');"));
    compiler.getWarnings().assertWarning("Parse error. Non-JSDoc comment has annotations. Did you mean to start it with '/\*\*'?");
    
    // Test that the warning goes away when the comment starts with '/\*!'
    compiler = new Compiler();
    compiler.compile(new SourceFile("test", "/\*! @preserve Foo License */ alert('foo');"));
    compiler.getWarnings().assertNoWarning();
    
    // Test that the comment is not preserved when the comment starts with '/\*!'
    compiler = new Compiler();
    compiler.compile(new SourceFile("test", "/\*! @preserve Foo License */ alert('foo');"));
    compiler.getOutput().assertNoOutput();
}
``