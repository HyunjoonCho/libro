java
public void testChiSquare() {
    double[] expected = {485, 541, 82, 61, 37};
    long[] observed = {500, 623, 72, 70, 31};
    
    double sumObserved = Arrays.stream(observed).sum();
    double sumExpected = Arrays.stream(expected).sum();
    
    double[] expectedRescaled = Arrays.stream(expected).mapToDouble(x -> x * sumObserved / sumExpected).toArray();
    
    ChiSquareTestImpl testStatistic = new ChiSquareTestImpl();
    double chiSquare = testStatistic.chiSquare(expectedRescaled, observed);
    assertEquals(9.0233, chiSquare, 1E-4);
}
