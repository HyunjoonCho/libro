public void testRemoveKey() {
    Map<String, String> customData = new HashMap<>();
    customData.put("key", "value");
    boolean hadKey = customData.containsKey("key");
    Object result = testRemoveKey("key", customData);
    assertTrue(result == null);
    assertFalse(customData.containsKey("key"));
}

public Object testRemoveKey(String key, Map<String, String> data) {
    Map<String, String> dataSlot = data;
    Object retval = dataSlot.get(key);
    if (dataSlot!= null) {
        dataSlot.remove(key);
    }
    return (dataSlot!= null && dataSlot.containsKey(key))? retval : null;
}