javascript
function testIssue() {
    var customData = { key: 'value' };
    var dataSlot = customData;
    var hadKey = dataSlot && ('key' in dataSlot);
    if (dataSlot) {
        var retval = dataSlot['key'];
        delete dataSlot['key'];
    } else {
        retval = null;
    }
    return hadKey? retval : null;
}

console.log(testIssue());  // null
console.log('key' in customData);  // false
