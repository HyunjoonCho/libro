public void testTruncatedError() {
    // Create a file with two error messages
    File tempFile = new File("temp.js");
    try (PrintWriter writer = new PrintWriter(tempFile)) {
        writer.println("alert(foo);");
        writer.println("alert(bar);");
    }

    // Compile the JavaScript file and capture the output
    String[] args = {"--warning_level", "VERBOSE", "--js", tempFile.getAbsolutePath()};
    Process process = Runtime.getRuntime().exec("java -jar compiler.jar", null, new File("."));
    BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));
    StringBuilder output = new StringBuilder();
    String line;
    while ((line = reader.readLine())!= null) {
        output.append(line).append("\n");
    }

    // Check that the output is truncated
    assert output.toString().contains("ERROR - variable foo is undefined");
    assert output.toString().contains("ERROR - variable bar is undefined");
    assert!output.toString().contains("test.js:");
    assert!output.toString().contains("^");
}