public void testOptionBuilderReset() {
    OptionBuilder builder = OptionBuilder.withOption('t', "target");
    try {
        OptionParser parser = builder.create();
        parser.parse("-target");
        fail("Expected IllegalArgumentException");
    } catch (IllegalArgumentException e) {
        OptionBuilder newBuilder = OptionBuilder.withOption('t', "target");
        assertEquals(newBuilder, OptionBuilder.reset());
        newBuilder.withOption('t', "target");
        OptionParser parser = newBuilder.create();
        parser.parse("-target");
    }
}