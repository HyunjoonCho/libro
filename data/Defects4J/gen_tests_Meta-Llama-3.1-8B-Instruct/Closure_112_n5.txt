public void testTemplateInference() {
    // Define a class with a constructor and a method with a template type
    class Class<T> {
        public <U> String foo(Function<T, U> a) {
            return "string";
        }
    }

    // Define a function that takes a number and returns a string
    Function<Integer, String> a = x -> "";

    // Try to instantiate the class and call the method with the function
    try {
        new Class().foo(a);
        fail("Expected compilation error");
    } catch (Exception e) {
        // Check if the error message contains the expected information
        assertTrue(e.getMessage().contains("No type arguments expected for class Class<T>"));
    }
}