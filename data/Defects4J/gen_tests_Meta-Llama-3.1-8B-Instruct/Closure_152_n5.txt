java
import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.Processor;
import com.google.javascript.jscomp.SourceFile;
import com.google.javascript.rhino.jstype.ObjectType;
import com.google.javascript.rhino.jstype.UnionType;

public class TestBug107 {
    public static void main(String[] args) {
        SourceFile sf = new SourceFile("test.js", "function foo() { return {a: 1, b: 2}; }");
        Compiler compiler = new Compiler();
        compiler.addSourceFile(sf);
        compiler.compile();
        Processor processor = compiler.getProcessor();
        sf = compiler.getCompiledSourceFile(sf.getName());
        sf.setType(processor.getType("foo"));
        UnionType unionType = (UnionType) sf.getType();
        ObjectType objectType = (ObjectType) unionType;
        // This should not throw a ClassCastException
        System.out.println(objectType.getName());
    }
}
