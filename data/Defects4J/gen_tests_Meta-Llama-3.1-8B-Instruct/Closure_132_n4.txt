java
public void testIssue() {
    int[] es = new int[] {1, 1};
    int esi = 0;
    if (es[esi] == es[esi + 1]) {
        es[esi] = 0;
    } else {
        es[esi] = 1;
    }
    // This should throw an ArrayIndexOutOfBoundsException
    int result = es[esi] == es[--esi][es[esi + 1] + 1]? 0 : 1;
    assert false : "Expected ArrayIndexOutOfBoundsException";
}
