java
public class TestJacksonSerialization {
    @JsonFormat(shape = JsonFormat.Shape.ARRAY)
    public List<TestInner> array;

    public TestOuter() {
        this.array = new ArrayList<>();
        this.array.add(new TestInner(1, "one"));
        this.array.add(new TestInner(0, null));
    }

    private static class TestInner {
        public int i;
        public String mayBeNull;

        public TestInner(int i, String s) {
            this.i = i;
            this.mayBeNull = s;
        }
    }

    @Test
    public void testArraySerialization() throws JsonProcessingException {
        ObjectMapper mapper = new ObjectMapper();
        String json = mapper.writeValueAsString(new TestOuter());
        String expectedJson = "{\"array\":[[1,\"one\"],[0,null]]}";
        assertEquals(expectedJson, json);
    }
}
