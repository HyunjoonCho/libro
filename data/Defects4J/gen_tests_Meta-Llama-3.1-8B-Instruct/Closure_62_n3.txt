public void testCaretInErrorOutput() {
    ByteArrayOutputStream out = new ByteArrayOutputStream();
    System.setErr(new PrintStream(out));
    try {
        Process process = Runtime.getRuntime().exec(new String[] {"java", "-jar", "compiler.jar", "--js", "test.js"}, null, new File("."));
        process.waitFor();
        assertEquals("test.js:1: ERROR - Parse error. missing ) after argument list\n1 error(s), 0 warning(s)\n", out.toString());
    } finally {
        System.setErr(System.err);
    }
    
    out = new ByteArrayOutputStream();
    System.setErr(new PrintStream(out));
    try {
        Process process = Runtime.getRuntime().exec(new String[] {"java", "-jar", "compiler.jar", "--js", "test.js"}, null, new File("."));
        process.waitFor();
        process = Runtime.getRuntime().exec(new String[] {"java", "-jar", "compiler.jar", "--js", "test.js"}, null, new File("."));
        process.waitFor();
        assertEquals("test.js:1: ERROR - Parse error. missing ) after argument list\nalert(1;\n ^\n1 error(s), 0 warning(s)\n", out.toString());
    } finally {