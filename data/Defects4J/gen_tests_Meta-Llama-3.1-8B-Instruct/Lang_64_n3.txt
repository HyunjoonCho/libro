java
public void testValuedEnumCompareToNotTypesafe() {
    ValuedEnum enum1 = new ValuedEnum(10);
    ValuedEnum enum2 = new ValuedEnum(10);
    ValuedEnum enum3 = new OtherValuedEnum(10);

    assertTrue(enum1.compareTo(enum2) == 0);
    assertTrue(enum1.compareTo(enum3) == 0);
}

class ValuedEnum extends Enum implements Comparable<ValuedEnum> {
    private final int value;

    public ValuedEnum(int value) {
        this.value = value;
    }

    @Override
    public int compareTo(ValuedEnum other) {
        return Integer.compare(this.value, other.value);
    }
}

class OtherValuedEnum extends Enum implements Comparable<ValuedEnum> {
    private final int value;

    public OtherValuedEnum(int value) {
        this.value = value;
    }

    @Override
    public int compareTo(ValuedEnum other) {
        return Integer.compare(this.value, other.value);
    }
}
