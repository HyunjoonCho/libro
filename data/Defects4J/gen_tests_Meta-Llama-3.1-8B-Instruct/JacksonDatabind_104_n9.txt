public void testLargeIso8601Dates() {
    StdDateFormat formatter = new StdDateFormat();
    long minValue = Long.MIN_VALUE;
    long maxValue = Long.MAX_VALUE;

    try {
        String formattedMinValue = formatter.format(new Date(minValue));
        String formattedMaxValue = formatter.format(new Date(maxValue));
        DateTime dtMinValue = formatter.parse(formattedMinValue);
        DateTime dtMaxValue = formatter.parse(formattedMaxValue);
        assertEquals(minValue, dtMinValue.getTime());
        assertEquals(maxValue, dtMaxValue.getTime());
    } catch (ParseException e) {
        fail("Unexpected ParseException: " + e.getMessage());
    }

    try {
        formatter.format(new Date(Long.MAX_VALUE + 1));
        fail("Expected IndexOutOfBoundsException for year greater than 9999");
    } catch (IndexOutOfBoundsException e) {
        // expected
    }
}