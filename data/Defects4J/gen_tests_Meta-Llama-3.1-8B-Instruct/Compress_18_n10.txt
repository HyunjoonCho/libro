java
public void testLongDirectoryNamesInTarArchive() throws IOException {
    TarArchiveOutputStream tarArchiveOutputStream = new TarArchiveOutputStream(new ByteArrayOutputStream());
    TarArchiveEntry directoryEntry = new TarArchiveEntry("path/to/very/long/directory/name/that/exceeds/100/bytes/in/length");
    directoryEntry.setSize(0); // This is incorrect, as it should be the actual size of the directory
    tarArchiveOutputStream.putArchiveEntry(directoryEntry);
    tarArchiveOutputStream.closeEntry();
    tarArchiveOutputStream.finish();
    
    try {
        tarArchiveOutputStream.write(new byte[100]); // Simulate writing some data
        fail("Expected IOException when writing PAX headers");
    } catch (IOException e) {
        // Expected exception
    }
}
