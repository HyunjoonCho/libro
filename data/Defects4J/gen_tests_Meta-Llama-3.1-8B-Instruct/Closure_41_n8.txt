javascript
describe('Test overridden methods with different signatures', function() {
  it('should warn about overridden methods with different signatures', function() {
    var compiler = require('jscomp').Compiler;
    var ADVANCED_OPTIMIZATIONS = 3;

    var code = [
      'goog.provide("Foo");',
      'goog.provide("Bar");',
      'Foo = function() {};',
      'Foo.prototype.add = function(a, b) { return a + b; };',
      'Foo.prototype.sub = goog.abstractMethod;',
      'Bar = function() { goog.base(this); };',
      'goog.inherits(Bar, Foo);',
      'Bar.prototype.add = function(one) { return one; };',
      'Bar.prototype.sub = function(one) { return one; };'
    ].join('\n');

    var output = compiler.compile(code, ADVANCED_OPTIMIZATIONS);
    expect(output).toContain('WARNING: Bar.prototype.add @ Bar.js');
    expect(output).toContain('WARNING: Bar.prototype.sub @ Bar.js');
  });
});
