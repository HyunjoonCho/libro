javascript
describe('ClosureCompiler issue', () => {
    it('should not inline variables in a closure', () => {
        const arr = [1, 2, 3, 4, 5];
        for (let i = 0, l = arr.length; i < l; i++) {
            const j = arr[i];
            (function() {
                const k = j;
                setTimeout(() => {
                    expect(k).toBe(j); // This should not be inlined
                }, 0);
            })();
        }
    });
});
