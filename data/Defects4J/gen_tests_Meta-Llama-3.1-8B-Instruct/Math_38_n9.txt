java
public void testBOBYQAOptimizer() {
    int dim = 2;
    BOBYQAOptimizer optim = new BOBYQAOptimizer(2 * dim + 2); // This should cause an error
    try {
        RealPointValuePair result = optim.optimize(100000, new MultivariateFunction() {
            @Override
            public double value(double[] point) {
                return 0;
            }

            @Override
            public int getDimension() {
                return 2;
            }
        }, Goal.MINIMIZE, new double[]{1, 1}, null, null);
        fail("Expected IndexOutOfBoundsException");
    } catch (IndexOutOfBoundsException e) {
        // Expected exception
    }
}
