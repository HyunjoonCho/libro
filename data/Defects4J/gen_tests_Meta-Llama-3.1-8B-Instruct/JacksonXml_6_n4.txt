java
public void testToXmlGeneratorWriteBinary() throws IOException {
    ToXmlGenerator xmlGen = new ToXmlGenerator(new StringWriter());
    xmlGen.writeStartObject();
    xmlGen.writeFieldName("binaryData");
    xmlGen.writeBinary(Base64Variant.getDefaultVariant(), new ByteArrayInputStream(new byte[] { 1, 2, 3 }), 3);
    xmlGen.writeEndObject();
    assertEquals("<?xml version=\"1.0\" encoding=\"UTF-8\"?><root><binaryData>aAA</binaryData></root>", xmlGen.getOutputAsUTF8().toString());
}
