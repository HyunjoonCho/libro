java
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class MessageVariableTest {
    @Test
    public void testMessageVariableWithPrefixMSG() {
        // Compile with advanced optimizations
        String compilationCommand = "echo \"var MSG_foo='bar'" +
                "' | closure --compilation_level ADVANCED_OPTIMIZATIONS";
        Process process = Runtime.getRuntime().exec(compilationCommand);
        int returnCode = process.waitFor();
        assertEquals(1, returnCode); // Compilation should fail

        // Compilation should succeed without prefix 'MSG_'
        compilationCommand = "echo \"var foo='bar'" +
                "' | closure --compilation_level ADVANCED_OPTIMIZATIONS";
        process = Runtime.getRuntime().exec(compilationCommand);
        returnCode = process.waitFor();
        assertEquals(0, returnCode); // Compilation should succeed

        // Compilation should succeed with prefix 'MSG2_'
        compilationCommand = "echo \"var MSG2_foo='bar'" +
                "' | closure --compilation_level ADVANCED_OPTIMIZATIONS";
        process = Runtime.getRuntime().exec(compilationCommand);
        returnCode = process.waitFor();
        assertEquals(0, returnCode); // Compilation should succeed
    }
}
