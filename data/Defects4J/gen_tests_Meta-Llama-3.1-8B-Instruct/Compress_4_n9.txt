java
public void testFinishMethod() throws IOException {
    ByteArrayOutputStream baos = new ByteArrayOutputStream();
    ArchiveOutputStream aos = new MyArchiveOutputStream(baos);
    aos.write("test".getBytes());
    // Should not be possible to call finish() directly
    try {
        aos.finish();
        fail("Should not be possible to call finish() directly");
    } catch (UnsupportedOperationException e) {
        // Expected
    }
    
    // Close the stream
    aos.close();
    // Verify that the finish() method was not called directly
    assertEquals(0, aos.getFinished());
}

class MyArchiveOutputStream extends ArchiveOutputStream {
    @Override
    public void finish() {
        // Simulate the finish method being called
        super.finish();
    }

    @Override
    public void close() throws IOException {
        finish(); // Calls finish() internally
        super.close();
    }
}
