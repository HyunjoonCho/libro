java
public void testFastDateFormatLocaleChange() throws Exception {
    // Create a FastDateFormat instance with the default locale
    FastDateFormat fdf = FastDateFormat.getInstance("yyyy-MM-dd");

    // Get the key used to store the FastDateFormat instance
    String key = fdf.getFormat().toString();

    // Set a new default locale
    Locale.setDefault(Locale.FRENCH);

    // Create a new FastDateFormat instance with the same format pattern
    FastDateFormat fdf2 = FastDateFormat.getInstance("yyyy-MM-dd");

    // The key should be different due to the locale change
    assertNotEquals(key, fdf2.getFormat().toString());
}
