java
import com.fasterxml.jackson.databind.JsonNode;
import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.SerializationFeature;
import com.fasterxml.jackson.databind.node.ObjectNode;
import org.junit.Test;

import static org.junit.Assert.assertEquals;

public class JacksonTest {

    private ObjectMapper mapper = new ObjectMapper();

    @Test
    public void testJsonStreamContexts() throws Exception {
        ObjectNode root = mapper.createObjectNode();
        root.put("key", "value");
        JsonNode json = root;

        // Use writeContext
        mapper.writer().withRootValueSeparator("\n").writeValue(System.out, json);

        // Use convert
        ObjectNode convertedRoot = mapper.createObjectNode();
        convertedRoot.put("key", "value");
        JsonNode convertedJson = convertedRoot;
        mapper.writeValue(System.out, convertedJson);
    }
}
