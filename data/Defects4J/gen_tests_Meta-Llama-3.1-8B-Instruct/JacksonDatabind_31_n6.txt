public void testWriteContextDifference() {
    ObjectReader reader = new ObjectMapper().readerFor(Map.class);
    JsonNode jsonNode = reader.readTree("{\"a\":{\"b\":1,\"c\":2}});
    JsonGenerator gen = new ObjectMapper().getFactory().createGenerator(System.out);
    gen.writeStartObject();
    gen.writeNumberField("a", jsonNode.get("a"));
    gen.writeEndObject();
    JsonStreamContext writeContext = gen.getOutputContext();
    ObjectReader writer = new ObjectMapper().readerFor(Map.class);
    writer.readTree(gen);
    JsonStreamContext readContext = writer.getOutputContext();
    assertNotSame(writeContext, readContext);
}