java
public void testLookupTranslator() {
    String input = "1 < 2";
    CharSequence cs1 = input;
    CharBuffer cs2 = CharBuffer.wrap(input.toCharArray());
    
    StringEscapeUtils.ESCAPE_HTML4.translate(cs1);
    try {
        StringEscapeUtils.ESCAPE_HTML4.translate(cs2);
        fail("Expected NullPointerException");
    } catch (NullPointerException e) {
        // expected
    }
    
    StringEscapeUtils.ESCAPE_HTML4.translate(cs1);
    StringEscapeUtils.ESCAPE_HTML4.translate(cs2.toString());
}
