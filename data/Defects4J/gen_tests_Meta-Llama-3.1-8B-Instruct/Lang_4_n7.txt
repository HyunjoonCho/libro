public void testLookupTranslatorCharSequence() {
    String str = "1 < 2";
    CharBuffer charBuffer = CharBuffer.wrap(str.toCharArray());
    LookupTranslator translator = StringEscapeUtils.ESCAPE_HTML4;
    assertEquals(str, translator.translate(str));
    assertEquals(str, translator.translate(charBuffer.toString()));
    try {
        translator.translate(charBuffer);
        fail("Expected IllegalArgumentException");
    } catch (IllegalArgumentException e) {
        // expected
    }
}