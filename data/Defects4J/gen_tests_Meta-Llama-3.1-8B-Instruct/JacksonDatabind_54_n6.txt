java
public void testOptionalEmptySerialization() throws JsonProcessingException {
    ObjectMapper mapper = new ObjectMapper();
    mapper.setSerializationInclusion(JsonInclude.Include.NON_ABSENT);
    mapper.registerModule(new Jdk8Module());

    JsonResult result = new JsonResult();
    result.setA(null);
    result.setB(Optional.empty());
    String json = mapper.writeValueAsString(result);

    // Expected JSON output: {"a":null,"b":null}
    assertEquals("{\"a\":null,\"b\":null}", json);
}

public void testOptionalEmptySerializationWithNull() throws JsonProcessingException {
    ObjectMapper mapper = new ObjectMapper();
    mapper.setSerializationInclusion(JsonInclude.Include.NON_ABSENT);
    mapper.registerModule(new Jdk8Module());

    JsonResult result = new JsonResult();
    result.setA(null);
    result.setB(Optional.of(null));
    String json = mapper.writeValueAsString(result);

    // Expected JSON output: {"a":null,"b":null}
    assertEquals("{\"a\":null,\"b\":null}", json);
}
