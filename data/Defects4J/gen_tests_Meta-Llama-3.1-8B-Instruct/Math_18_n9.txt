java
public void testCMAESOptimizerBoundsResolution() {
    // Create a simple function for testing
    double f(double x) {
        return Math.pow(x, 2);
    }

    // Set the bounds
    double lowerBound = 0.1;
    double upperBound = 10.0;

    // Create a CMAESOptimizer with the function and bounds
    CMAESOptimizer optimizer = new CMAESOptimizer(f, lowerBound, upperBound, 100, 1000);

    // Run the optimization
    double[] result = optimizer.optimize();

    // Check that the result is close to the lower bound
    double lowerResult = result[0];
    assertEquals(lowerBound, lowerResult, 1e-6);

    // Set a new upper bound that is close to the lower bound
    upperBound = 1.0;

    // Run the optimization again
    optimizer.setUpperBound(upperBound);
    result = optimizer.optimize();

    // Check that the result is close to the new upper bound
    double upperResult = result[0];
    assertEquals(upperBound, upperResult, 1e-6);
}
