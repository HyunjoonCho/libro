public void testIncompleteNamespaceHandling() {
    NamespaceRegistry registry = new NamespaceRegistry();
    registry.registerNamespace("A", "http://example.com/A");
    registry.registerNamespace("B", "http://example.com/B");
    registry.registerNamespace("xsi", "http://www.w3.org/2001/XMLSchema-instance");
    Element element = new Element("ElementA");
    element.setAttribute("A:myAttr", "MyType");
    element.setAttribute("B:myAttr", "MyType");
    element.setAttribute("xsi:noNamespaceSchemaLocation", "schema.xsd");
    try {
        DOMNodePointer pointer = new DOMNodePointer(element);
        pointer.createAttribute("A:myAttr");
    } catch (Exception e) {
        fail("Expected no exception, but got " + e.getMessage());
    }
}