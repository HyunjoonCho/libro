public void testNonEmptyExclusion() {
    ObjectMapper mapper = new ObjectMapper();
    // Note: Since this is a regression test, we should ideally use a version that reproduces the issue
    // For this example, let's assume it's jackson-databind 2.5.4
    mapper.enableDefaultTyping(DefaultTyping.NON_EMPTY);
    try {
        mapper.writeValueAsString(new NonEmptyBean());
        fail("Expected exception was not thrown");
    } catch (JsonMappingException e) {
        // expected
    }
}

class NonEmptyBean {
    @JsonProperty
    String field = "";
}