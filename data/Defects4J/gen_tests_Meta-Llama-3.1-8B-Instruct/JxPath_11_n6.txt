public void testIncompleteNamespaceHandling() {
    NamespaceContext context = new NamespaceContext();
    context.registerNamespace("A", "http://example.com/A");
    context.registerNamespace("B", "http://example.com/B");

    try {
        context.resolveNamespace("A");
        context.resolveNamespace("B");
        context.resolveNamespace("C"); // should throw exception
        fail("Expected UnknownNamespaceException");
    } catch (UnknownNamespaceException e) {
        // expected
    }
}