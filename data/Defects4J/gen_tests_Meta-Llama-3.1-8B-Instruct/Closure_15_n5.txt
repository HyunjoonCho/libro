javascript
describe('testRemoveKey', function() {
    var customData = { key: 'value' };

    it('should return value when key exists and is deleted', function() {
        var result = testRemoveKey('key');
        expect(result).toBe('value');
        expect('key' in customData).toBe(false);
    });

    function testRemoveKey(key) {
        var dataSlot = customData,
            retval = dataSlot && dataSlot[key],
            hadKey = dataSlot && (key in dataSlot);

        if (dataSlot) {
            delete dataSlot[key];
        }

        return hadKey? retval : null;
    }
});
