public void testSwitchedOrderOfDeleteAndInStatements() {
    Map<String, String> customData = new HashMap<>();
    customData.put("key", "value");
    
    boolean hadKey = customData.containsKey("key");
    Object retval = customData.remove("key");
    
    if (customData.containsKey("key")) {
        hadKey = true;
        retval = null;
    }
    
    assertEquals("value", retval);
    assertFalse(hadKey);
}