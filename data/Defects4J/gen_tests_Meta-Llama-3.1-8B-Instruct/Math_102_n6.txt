java
public void testChiSquare() {
    double[] expected = {485, 541, 82, 61, 37};
    long[] observed = {500, 623, 72, 70, 31};
    
    // Calculate the correct expected values
    double sumObserved = 0;
    for (long value : observed) {
        sumObserved += value;
    }
    
    double sumExpected = 0;
    for (int i = 0; i < expected.length; i++) {
        sumExpected += expected[i];
    }
    
    double[] correctExpected = new double[expected.length];
    for (int i = 0; i < expected.length; i++) {
        correctExpected[i] = (double) observed[i] / sumObserved * sumExpected;
    }
    
    // The correct chi-squared value
    double correctChiSquare = 0;
    for (int i = 0; i < observed.length; i++) {
        double dev = ((double) observed[i] - correctExpected[i]);
        correctChiSquare += dev * dev / correctExpected[i];
    }
    
    // The incorrect chi-squared value
    double incorrectChiSquare = 