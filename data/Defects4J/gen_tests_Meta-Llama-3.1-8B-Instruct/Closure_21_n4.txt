public void testClassifyNonRightmostExpressions() {
    ExpressionInfo info1 = new ExpressionInfo("foo((1, 2, 42)");
    info1 = ExpressionClassifier.classify(info1);
    assertEquals(1, info1.getProblematicElementCount());
    assertEquals(1, info1.getProblematicElements()[0].getStartOffset());

    ExpressionInfo info2 = new ExpressionInfo("foo((bar(), 2, 42)");
    info2 = ExpressionClassifier.classify(info2);
    assertEquals(0, info2.getProblematicElementCount());

    ExpressionInfo info3 = new ExpressionInfo("foo(((1, 2, 3), (4, 5, 42)))");
    info3 = ExpressionClassifier.classify(info3);
    assertEquals(2, info3.getProblematicElementCount());
    assertEquals(1, info3.getProblematicElements()[0].getStartOffset());
    assertEquals(6, info3.getProblematicElements()[1].getStartOffset());
}