public void testPolymorphicTypeLost() {
    ObjectMapper mapper = new ObjectMapper();
    mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);
    mapper.enableDefaultTyping();

    RemoteCall remoteCall = new RemoteCall();
    byte[] apdu = new byte[] {1, 2, 3};
    remoteCall.setBytes(apdu.clone());

    String json = mapper.writeValueAsString(remoteCall);

    RemoteCall deserializedRemoteCall = mapper.readValue(json, RemoteCall.class);
    assertEquals(byte[].class, deserializedRemoteCall.getClass().getComponentType());
}