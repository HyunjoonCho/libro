public void testOptimizationFailsWithVariableInCatchClause() {
    // Java equivalent of the JavaScript code
    Function getStack = new Function() {
        @Override
        public Object invoke(Object[] args) {
            try {
                throw new Error("");
            } catch (Error e) {
                // Variable 'e' is in the scope of the catch block
                // Java does not inline the function, so it works as expected
                return e.getStackTrace();
            }
        }
    };
    String stackTrace = getStack.invoke(null);
    assertNotNull(stackTrace);
}