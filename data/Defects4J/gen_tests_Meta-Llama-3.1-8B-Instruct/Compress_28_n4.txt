public void testTarArchiveInputStreamSilentEOF() throws IOException {
    String archivePath = PathUtil.join(testdataDir, "test.tar.bz2");
    TarArchiveInputStream input = new TarArchiveInputStream(new BZip2CompressorInputStream(
            GoogleFile.SYSTEM.newInputStream(archivePath), true));
    ArchiveEntry nextMatchedEntry = input.getNextEntry();
    // Intentionally simulate unexpected EOF by seeking to the end of the stream
    input.seek(input.size());
    // This should throw an IOException, but it doesn't
    nextMatchedEntry = input.getNextEntry();
    fail("Expected IOException when reaching unexpected EOF");
}