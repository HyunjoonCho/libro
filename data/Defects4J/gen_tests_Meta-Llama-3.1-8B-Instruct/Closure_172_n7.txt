javascript
describe('Prototype property type inference', function() {
    it('should infer the type of prototype property to string', function() {
        var a = {};
        expect(typeof a.__proto__).toBe('string');
    });

    it('should infer the type of prototype property to string when assigned a string', function() {
        var a = {};
        a.__proto__ = 'hello';
        expect(typeof a.__proto__).toBe('string');
    });

    it('should infer the type of prototype property to function when assigned a function', function() {
        var a = {};
        a.__proto__ = function() {};
        expect(typeof a.__proto__).toBe('function');
    });

    it('should throw a warning when assigning a function to prototype', function() {
        var a = {};
        expect(function() {
            a.__proto__ = function() {};
        }).toThrowWarning('assignment to property prototype of Object found : function (): undefined required: string');
    });
});
