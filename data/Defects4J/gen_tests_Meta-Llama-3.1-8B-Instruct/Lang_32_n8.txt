java
public void testToStringStyleMemoryLeak() throws Exception {
    // Create a new ThreadLocal in a separate thread
    Thread thread = new Thread(() -> {
        ToStringStyle style = ToStringStyle.JSON_STYLE;
    });
    thread.start();
    thread.join();

    // In a separate test to check if the thread local is cleared
    Thread thread2 = new Thread(() -> {
        ToStringStyle style = ToStringStyle.JSON_STYLE;
        try {
            Thread.sleep(1000); // Wait for some time to see if the thread local is cleared
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt();
        }
        assertNotSame(ToStringStyle.JSON_STYLE, Thread.currentThread().getThreadLocals().get("toStringStyle"));
    });
    thread2.start();
    thread2.join();
}
