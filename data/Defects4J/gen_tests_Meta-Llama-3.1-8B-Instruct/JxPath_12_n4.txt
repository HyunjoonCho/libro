public void testIncompleteNamespaceHandling() {
    NamespaceContext context = new NamespaceContext();
    context.registerNamespace("B", "http://example.com/B");
    context.registerNamespace("A", "http://example.com/A");
    context.registerNamespace("xsi", "http://www.w3.org/2001/XMLSchema-instance");

    try {
        DOMNodePointer.createAttribute(context, "A", "myAttr", "MyType");
        fail("Expected UnknownNamespaceException");
    } catch (UnknownNamespaceException e) {
        // expected
    }
}