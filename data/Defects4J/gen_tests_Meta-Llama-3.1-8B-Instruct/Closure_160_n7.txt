public void testCheckVarsUndefinedVars() {
    File tempFile = new File("temp.js");
    try (PrintWriter writer = new PrintWriter(tempFile)) {
        writer.println("foo = {};");
        writer.println("foo.bar = function() { alert(this.baz); };");
    }
    ProcessBuilder pb = new ProcessBuilder("java", "-jar", "compiler.jar", "--js", tempFile.getAbsolutePath());
    Process p = pb.start();
    p.waitFor();
    assertEquals(1, p.exitValue());
    assertEquals(1, p.exitValue() >> 8); // get the warning count
    pb = new ProcessBuilder("java", "-jar", "compiler.jar", "--js", tempFile.getAbsolutePath(), "--warning_level", "VERBOSE");
    p = pb.start();
    p.waitFor();
    assertEquals(1, p.exitValue());
    assertEquals(1, p.exitValue() >> 8); // get the warning count
    pb = new ProcessBuilder("java", "-jar", "compiler.jar", "--js", tempFile.getAbsolutePath(), "--jscomp_warning", "globalThis");
    p = pb.start();
    p.waitFor();
    assertEquals(1, p.exitValue());
    assertEquals(1, p.exitValue() >>