public void testDeleteFromArchive() throws IOException {
    ArchiveEntry entry1 = new ArchiveEntry("test1.xml");
    ArchiveEntry entry2 = new ArchiveEntry("test2.xml");
    Archive archive = new Archive();
    archive.addEntry(entry1);
    archive.addEntry(entry2);
    
    archive.deleteEntry("test2.xml");
    
    Iterator<ArchiveEntry> iterator = archive.getEntries().iterator();
    assert!iterator.hasNext();
    
    // Create a new archive and add the original entries to it
    Archive newArchive = new Archive();
    newArchive.addEntry(entry1);
    newArchive.addEntry(entry2);
    
    // Check that the deleted entry is still present in the original archive
    File tempFile = File.createTempFile("bla", ".ar");
    try {
        FileOutputStream fos = new FileOutputStream(tempFile);
        archive.writeTo(fos);
        fos.close();
        
        Process process = Runtime.getRuntime().exec(new String[] {"ar", "-t", tempFile.getAbsolutePath()});
        BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));
        List<String> entries = new ArrayList<>();
        String line;
        while ((line = reader.readLine())!= null) {
            entries.add(line);
        }
        reader.close();