java
public void testPearsonsCorrelationPrecision() {
    // Create a Pearson correlation with a large number of treatments
    // to reproduce the issue
    double[] data1 = new double[100000];
    double[] data2 = new double[100000];
    for (int i = 0; i < data1.length; i++) {
        data1[i] = i / 100000.0;
        data2[i] = i / 100000.0 + 0.00001;
    }

    PearsonsCorrelation correlation = new PearsonsCorrelation(data1, data2);

    // Calculate the p-value using the original implementation
    double originalPValue = correlation.getCorrelationPValues();

    // Calculate the p-value using the modified implementation
    double modifiedPValue = 2 * correlation.getTDistribution().cumulativeProbability(-correlation.getTStatistic());

    // Check that the modified p-value is not zero
    assertTrue(modifiedPValue > 0.0);
}
