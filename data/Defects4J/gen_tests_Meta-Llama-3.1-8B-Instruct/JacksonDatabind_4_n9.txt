public void testIndexInInvalidFormatException() {
    String[] array = {"a", "b"};
    try {
        // Simulate a mapping error
        throw new JsonMappingException("Test");
    } catch (JsonMappingException e) {
        InvalidFormatException ife = new InvalidFormatException(e, array);
        assertEquals(-1, ife.getCollectionIndex());
        try {
            // Simulate a mapping error with a collection
            throw new JsonMappingException("Test");
        } catch (JsonMappingException e2) {
            InvalidFormatException ife2 = new InvalidFormatException(e2, Arrays.asList(array));
            assertEquals(-1, ife2.getCollectionIndex());
        }
    }
}