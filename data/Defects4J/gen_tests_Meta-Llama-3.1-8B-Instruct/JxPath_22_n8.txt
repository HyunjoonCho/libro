public void testResettingDefaultNamespace() {
    Node testNode = new NodeImpl(null, "test", null);
    Node fooNode = new NodeImpl(null, "foo", "bla");
    fooNode.setAttribute("xmlns:b", "bla");
    fooNode.setAttribute("xmlns", "test111");
    Node barNode = new NodeImpl(fooNode, "bar", "bla");
    barNode.setTextContent("a");
    testNode.appendChild(fooNode);
    fooNode.appendChild(barNode);
    fooNode.appendChild(testNode);

    NodePointer np = new NodePointer(fooNode, testNode);
    try {
        np.asPath();
        fail("Expected NullPointerException");
    } catch (NullPointerException e) {
        // expected
    }
}