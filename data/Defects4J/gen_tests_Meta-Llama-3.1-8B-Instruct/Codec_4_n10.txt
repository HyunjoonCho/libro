java
import org.apache.commons.codec.binary.Base64;
import org.junit.Test;

import static org.junit.Assert.assertArrayEquals;

public class Base64Test {

    @Test
    public void testEncodeChunking() throws Exception {
        String input = "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa";
        byte[] inputBytes = input.getBytes("UTF-8");

        byte[] base64Encoded = Base64.encodeBase64(inputBytes);
        byte[] instanceEncoded = new Base64().encode(inputBytes);

        // Compare the first 76 characters of the instance encoded result
        byte[] first76 = new byte[76];
        System.arraycopy(instanceEncoded, 0, first76, 0, 76);
        assertArrayEquals(base64Encoded, first76);
    }
}
