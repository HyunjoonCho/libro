java
public void testArgumentCaptorWithVarargs() {
    // Arrange
    ArgumentCaptor<Integer[]> captor = ArgumentCaptor.forClass(Integer[].class);
    MyService myService = mock(MyService.class);
    when(myService.myMethod(anyString(), captor.capture())).thenReturn("result");

    // Act
    String result = myService.myMethod("test", 1, 2, 3);

    // Assert
    Integer[] actual = captor.getValue();
    assertEquals(3, actual.length);
    assertEquals(1, actual[0]);
    assertEquals(2, actual[1]);
    assertEquals(3, actual[2]);
}

interface MyService {
    String myMethod(String str, Integer... ints);
}
