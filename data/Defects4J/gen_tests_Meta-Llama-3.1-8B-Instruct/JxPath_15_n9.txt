java
import org.w3c.dom.Document;
import org.w3c.dom.Node;
import org.w3c.dom.NodeList;
import org.xml.sax.InputSource;

import javax.xml.parsers.DocumentBuilder;
import javax.xml.parsers.DocumentBuilderFactory;
import java.io.StringReader;

public void testUnionOperation() throws Exception {
    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
    DocumentBuilder builder = factory.newDocumentBuilder();
    InputSource is = new InputSource(new StringReader("<MAIN><A>avalue</A><B>bvalue</B></MAIN>"));
    Document doc = builder.parse(is);

    NodeList nodes = doc.getElementsByTagName("MAIN");
    NodeList result1 = nodes.item(0).getElementsByTagName("A");
    NodeList result2 = nodes.item(0).getElementsByTagName("B");

    NodeList union = doc.createDocumentFragment().adoptNodeList(doc.createNodeList(result1.getLength() + result2.getLength()));
    for (int i = 0; i < result1.getLength(); i++) {
        union.item(i).getParentNode().removeChild(result1.item(i));
        union.item(i).getParentNode().appendChild(result1.item(i));
    }
    for (int i = 0; i < result