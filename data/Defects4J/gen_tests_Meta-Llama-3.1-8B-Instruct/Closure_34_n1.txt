public void testStackOverflowError() throws Exception {
    String input = "var a = function() { a(); }; a();";
    String output = "Error: a is not defined";
    try {
        Compiler.compile(new StringReader(input));
        fail("Expected StackOverflowError");
    } catch (CompilationException e) {
        assertEquals(output, e.getMessage());
    }
}