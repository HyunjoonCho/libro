public void testJsonIgnorePropertiesAllowSetters() {
    ObjectMapper mapper = new ObjectMapper();
    mapper.setVisibility(mapper.getSerializationConfig().getDefaultVisibilityChecker()
           .withFieldVisibility(JsonAutoDetect.Visibility.ANY)
           .withGetterVisibility(JsonAutoDetect.Visibility.NONE)
           .withIsGetterVisibility(JsonAutoDetect.Visibility.NONE)
           .withSetterVisibility(JsonAutoDetect.Visibility.NONE)
           .withFieldVisibility(JsonAutoDetect.Visibility.ANY));

    JsonTest json = new JsonTest("user", "password");

    try {
        String jsonString = "{\"username\":\"user\",\"password\":\"password\"}";
        json = mapper.readValue(jsonString, JsonTest.class);
        assertNotNull(json.getPassword());
    } catch (IOException e) {
        fail(e.getMessage());
    }
}