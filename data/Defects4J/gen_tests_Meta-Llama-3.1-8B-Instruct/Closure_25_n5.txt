public void testConstructorInference() {
    class TestClass {
        public TestClass(String prop1, Number prop2) {
            if (prop2!= null && prop2.doubleValue() < 5) {
                System.out.println("alright!");
            }
            System.out.println(prop1);
        }
    }
    
    try {
        new TestClass("hi", null);
        fail("Expected compilation error");
    } catch (Exception e) {
        // expected
    }
    
    try {
        new TestClass("hi", 4);
        fail("Expected compilation error");
    } catch (Exception e) {
        // expected
    }
    
    try {
        new TestClass("hi", 6);
    } catch (Exception e) {
        fail("Did not expect compilation error");
    }
}