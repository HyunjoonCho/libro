java
public void testHelpFormatterFindWrapPos() {
    HelpFormatter helpFormatter = new HelpFormatter();
    String text = "a very long string that will cause an exception";
    int width = 10;
    int indent = 0;
    int start = 0;
    while (start < text.length()) {
        int end = helpFormatter.findWrapPos(text, width, indent);
        if (end == text.length()) {
            break;
        }
        if (end >= text.length()) {
            fail("Expected end index less than text length");
        }
        start = end;
    }
}
