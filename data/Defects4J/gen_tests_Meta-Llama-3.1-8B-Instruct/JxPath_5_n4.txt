java
public void testCannotComparePointers() {
    JXPathContext jc = JXPathContext.newInstance();
    jc.getVariables().put("var", jc.getTree().createNode("/MAIN"));
    try {
        jc.selectNodes("$var | /MAIN/A");
        fail("Expected JXPathException");
    } catch (JXPathException e) {
        assertEquals("Cannot compare pointers that do not belong to the same tree: '$var' and ''", e.getMessage());
    }
}
