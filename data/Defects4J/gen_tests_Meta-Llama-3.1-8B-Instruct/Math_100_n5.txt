public void testAbstractEstimator() {
    // Create an estimator with 3 parameters, where the first one is bound
    EstimableProblem problem = new EstimableProblem(3);
    problem.addParameter(new BoundParameter(0));
    problem.addParameter(new UnboundParameter(1));
    problem.addParameter(new UnboundParameter(2));

    // The original code will throw an ArrayIndexOutOfBoundsException
    try {
        problem.getAllParameters();
        fail("Expected ArrayIndexOutOfBoundsException");
    } catch (ArrayIndexOutOfBoundsException e) {
        // Expected
    }

    // The fixed code should not throw an exception
    problem.getUnboundParameters();
}