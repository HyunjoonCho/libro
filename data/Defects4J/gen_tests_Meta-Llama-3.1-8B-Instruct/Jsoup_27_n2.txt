public void testInvalidCharset() {
    String invalidCharset = "UTF8";
    byte[] byteData = "Invalid HTML content".getBytes();
    JsoupConnection connection = mock(JsoupConnection.class);
    when(connection.getByteData()).thenReturn(byteData);
    when(connection.charset()).thenReturn(invalidCharset);
    try {
        Jsoup.parse(connection, null, null);
        fail("Expected UnsupportedCharsetException");
    } catch (UnsupportedCharsetException e) {
        // expected
    }
}