public void testExtendedBufferReaderEOL() throws IOException {
    ExtendedBufferedReader reader = new ExtendedBufferedReader(new StringReader("abc\r\ndef\nghi"));
    assertEquals(0, reader.readLine());
    assertEquals(1, reader.getLineCount());
    assertEquals("def", reader.readLine());
    assertEquals(2, reader.getLineCount());
    assertEquals("ghi", reader.readLine());
    assertEquals(3, reader.getLineCount());
}