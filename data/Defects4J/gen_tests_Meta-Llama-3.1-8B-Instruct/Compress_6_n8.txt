java
import org.junit.Test;
import org.junit.Assert;

import java.io.ByteArrayOutputStream;
import java.io.IOException;
import java.util.zip.ZipEntry;
import java.util.zip.ZipOutputStream;

public class ZipOutputStreamTest {

    @Test
    public void testZipFileCreation() throws IOException {
        // Create a ZipOutputStream with 1000 entries, each with a unique filename
        ZipOutputStream zos = new ZipOutputStream(new ByteArrayOutputStream());
        for (int i = 0; i < 1000; i++) {
            ZipEntry entry = new ZipEntry("file" + i + ".txt");
            zos.putNextEntry(entry);
            zos.write("Hello World!".getBytes());
            zos.closeEntry();
        }

        // Create a ZipOutputStream with 1000 entries, each with a filename that has a hash collision
        ZipOutputStream zos2 = new ZipOutputStream(new ByteArrayOutputStream());
        for (int i = 0; i < 1000; i++) {
            ZipEntry entry = new ZipEntry("file1.txt"); // all entries have the same filename
            entry.setSize(i); // each entry has a different size
            zos2.putNextEntry(entry);
            zos2.write("Hello World!".getBytes