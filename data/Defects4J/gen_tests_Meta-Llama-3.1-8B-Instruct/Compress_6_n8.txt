public void testZipOutputStreamCorruption() {
    ZipOutputStream zos = new ZipOutputStream(new ByteArrayOutputStream());
    ZipArchiveEntry entry1 = new ZipArchiveEntry("file1.txt");
    ZipArchiveEntry entry2 = new ZipArchiveEntry("file1.txt");
    
    zos.putArchiveEntry(entry1);
    zos.closeEntry();
    
    // Setting the name of entry1 to match entry2
    entry1.setName("file1.txt");
    
    zos.putArchiveEntry(entry1);
    zos.closeEntry();
    
    // Verify that the index entries are different
    ZipArchiveEntry entry1Index = zos.getEntry("file1.txt");
    ZipArchiveEntry entry2Index = zos.getEntry("file1.txt");
    
    assertNotEquals(entry1Index, entry2Index);
}