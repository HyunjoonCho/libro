java
public void testStdDateFormatLeniency() throws JsonProcessingException {
    StdDateFormat dateFormat = new StdDateFormat();
    ObjectMapper mapper = new ObjectMapper();
    mapper.setDateFormat(dateFormat);

    // Test lenient mode (default)
    String json = "{\"date\":\"2015-01-32\"}";
    JsonNode node = mapper.readTree(json);
    DateTime date = dateFormat.parse(dateFormat.format(node.get("date").asText()));
    assertEquals(2015, date.getYear());
    assertEquals(2, date.getMonthOfYear());
    assertEquals(1, date.getDayOfMonth());

    // Test non-lenient mode
    dateFormat.setLenient(false);
    json = "{\"date\":\"2015-01-32\"}";
    try {
        mapper.readTree(json);
        fail("Expected JsonParseException");
    } catch (JsonParseException e) {
        // expected
    }
}
