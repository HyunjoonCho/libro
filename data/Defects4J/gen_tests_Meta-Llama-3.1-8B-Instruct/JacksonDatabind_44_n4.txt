java
public class Test {

    static class Base {
        @JsonProperty
        private String baseProperty;

        public String getBaseProperty() {
            return baseProperty;
        }

        public void setBaseProperty(String baseProperty) {
            this.baseProperty = baseProperty;
        }
    }

    static class Sub extends Base {
        @JsonProperty
        private String subProperty;

        public String getSubProperty() {
            return subProperty;
        }

        public void setSubProperty(String subProperty) {
            this.subProperty = subProperty;
        }
    }

    @Test
    public void testPolymorphicTypes() throws JsonProcessingException {
        ObjectMapper mapper = new ObjectMapper();
        mapper.enableDefaultTyping(DefaultTyping.NON_FINAL, JsonTypeInfo.As.PROPERTY);

        Base base = new Base();
        base.setBaseProperty("base");

        Sub sub = new Sub();
        sub.setBaseProperty("base");
        sub.setSubProperty("sub");

        String baseJson = mapper.writeValueAsString(base);
        String subJson = mapper.writeValueAsString(sub);

        // Verify that base property