java
public void testJacksonXmlRootElementMalfunction() throws Exception {
    @JacksonXmlRootElement(localName = "myname")
    public class XMLTest {

        public static void main(String[] s) throws Exception {
            final XmlMapper xmlMapper = new XmlMapper();
            final XmlMapper noAnnotationsXmlMapper = xmlMapper.copy()
                   .configure(MapperFeature.USE_ANNOTATIONS, false)
                   .configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);

            String noAnnotationsXml = noAnnotationsXmlMapper.writeValueAsString(new XMLTest());
            String xmlXml = xmlMapper.writeValueAsString(new XMLTest());

            assertEquals("myname", new XmlMapper().readTree(noAnnotationsXml).get("XMLTest").asText());
            assertEquals("XMLTest", new XmlMapper().readTree(xmlXml).get("XMLTest").asText());
        }
    }

    @Test
    public void test() throws Exception {
        XMLTest.main(new String[]{});
    }
}
