public void testVersionOption() {
    try {
        ProcessBuilder pb = new ProcessBuilder("java", "-jar", "compiler.jar", "--version");
        Process p = pb.start();
        int exitValue = p.waitFor();
        assertEquals(0, exitValue);
    } catch (IOException | InterruptedException e) {
        fail("Expected --version option to be supported");
    }
}