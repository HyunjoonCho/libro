public void testCollapseRecursiveTypeBounds() {
    Gson gson = new Gson();
    TypeAdapter<?> adapter = gson.getAdapter(Foo1.class);
    Class<?> type = adapter.getType();
    Class<?>[] bounds = type.getGenericInterfaces();
    assertEquals(1, bounds.length);
    Class<?> bound = bounds[0];
    Class<?>[] boundBounds = bound.getGenericInterfaces();
    assertEquals(1, boundBounds.length);
    Class<?> boundBound = boundBounds[0];
    Class<?>[] boundBoundBounds = boundBound.getGenericInterfaces();
    assertEquals(1, boundBoundBounds.length);
    Class<?> boundBoundBound = boundBoundBounds[0];
    assertEquals(Object.class, boundBoundBound);
}