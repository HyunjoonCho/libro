java
public void testFastDateFormatLocaleChange() throws ParseException {
    Locale originalLocale = Locale.getDefault();
    Locale.setDefault(Locale.US);
    
    FastDateFormat dateInstance = FastDateFormat.getDateInstance();
    FastDateFormat dateTimeInstance = FastDateFormat.getDateTimeInstance();
    
    // Store the dates with the new locale
    String date = dateInstance.format(new Date());
    String dateTime = dateTimeInstance.format(new Date());
    
    // Change the locale back to the original
    Locale.setDefault(originalLocale);
    
    // Create a new date formatter with the original locale
    FastDateFormat originalDateInstance = FastDateFormat.getDateInstance();
    FastDateFormat originalDateTimeInstance = FastDateFormat.getDateTimeInstance();
    
    // Try to parse the previously formatted dates with the original locale
    try {
        originalDateInstance.parse(date);
        fail("Expected ParseException for date string created with US locale");
    } catch (ParseException e) {
        // Expected
    }
    
    try {
        originalDateTimeInstance.parse(dateTime);
        fail("Expected ParseException for date/time string created with US locale");
    } catch (ParseException e) {
        // Expected
    }
}
