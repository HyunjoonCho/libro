public void testJacksonXmlRootElement() throws JsonProcessingException {
    @JacksonXmlRootElement(localName = "myname")
    public static class XMLTest {
        // empty class
    }

    final ObjectMapper xmlMapper = new XmlMapper();
    final ObjectMapper noAnnotationsXmlMapper = xmlMapper.copy()
           .configure(MapperFeature.USE_ANNOTATIONS, false)
           .configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);

    final XMLTest xmlTest = new XMLTest();
    final String noAnnotationsOutput = noAnnotationsXmlMapper.writeValueAsString(xmlTest);
    final String annotationsOutput = xmlMapper.writeValueAsString(xmlTest);

    assertNotEquals("XMLTest", noAnnotationsXmlMapper.getSerializationConfig().getAttributeNames().get("localName"));
    assertEquals("myname", xmlMapper.getSerializationConfig().getAttributeNames().get("localName"));
}