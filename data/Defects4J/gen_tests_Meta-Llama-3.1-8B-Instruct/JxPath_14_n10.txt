public void testCoreRoundingFunctions() {
    Double NaN = Double.NaN;
    Double negativeInfinity = Double.NEGATIVE_INFINITY;
    Double positiveInfinity = Double.POSITIVE_INFINITY;

    assertXPathValue(context, "floor('NaN')", NaN);
    assertXPathValue(context, "floor(-2 div 0)", negativeInfinity);
    assertXPathValue(context, "floor(2 div 0)", positiveInfinity);

    assertXPathValue(context, "ceiling('NaN')", NaN);
    assertXPathValue(context, "ceiling(-2 div 0)", negativeInfinity);
    assertXPathValue(context, "ceiling(2 div 0)", positiveInfinity);

    assertXPathValue(context, "round('NaN')", NaN);
    assertXPathValue(context, "round(-2 div 0)", negativeInfinity);
    assertXPathValue(context, "round(2 div 0)", positiveInfinity);
}