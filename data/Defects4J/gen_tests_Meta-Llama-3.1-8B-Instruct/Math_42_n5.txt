public void testNegativeValueWithRestrictNonNegative() {
    Function function = new Function(2, new double[] {1, 1}, new double[] {1, 0});
    Constraint[] constraints = new Constraint[] {new LinearConstraint(1, ConstraintType.EQUAL_TO, 1, new double[] {1, 0})};
    SimplexSolver solver = new SimplexSolver();
    double[] result = solver.optimize(function, constraints, GoalType.MINIMIZE, true);
    assertEquals(1, result[0], 0.000001);
    assert result[1] >= 0;
}