public void testJsonStreamContexts() {
    ObjectMapper mapper = new ObjectMapper();
    JsonNode json = mapper.createObjectNode().put("key", "value");
    JsonStreamContext readContext = mapper.createJsonParser(json.toString()).getCodec().createParser(json.toString()).getInputBuffer().asParser().getCodec().createContext();
    JsonStreamContext writeContext = mapper.createGenerator(json.toString()).getCodec().createGenerator().getOutputBuffer().asGenerator().getCodec().createContext();

    assertEquals(readContext.getType(), writeContext.getType());
    assertEquals(readContext.getCurrentValue(), writeContext.getCurrentValue());
    assertEquals(readContext.getCurrentName(), writeContext.getCurrentName());
}