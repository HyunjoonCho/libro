public void testInvalidAssignment() {
    String code = "var x=0,y=1;x||y=8";
    try {
        ScriptEngineManager manager = new ScriptEngineManager();
        ScriptEngine engine = manager.getEngineByName("nashorn");
        engine.eval(code);
        fail("Expected a compilation error");
    } catch (ScriptException e) {
        // expected
    }
}