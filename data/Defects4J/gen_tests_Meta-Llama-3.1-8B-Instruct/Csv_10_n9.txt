java
import org.apache.commons.csv.CSVFormat;
import org.apache.commons.csv.CSVPrinter;
import java.io.IOException;
import java.nio.file.Files;
import java.nio.file.Paths;

public void testCSVFormatWithHeader() throws IOException {
    CSVFormat csvFormat = CSVFormat.TDF.withHeader("x");
    CSVPrinter csvPrinter = csvFormat.print(Files.newBufferedWriter(Paths.get("data.csv")));
    csvPrinter.printRecord(42);
    csvPrinter.close();

    // Read the generated CSV file to verify its contents
    CSVFormat csvFormatReader = CSVFormat.TDF;
    CSVParser csvParser = csvFormatReader.parse(Files.newBufferedReader(Paths.get("data.csv")));
    assertEquals(1, csvParser.getRecords().size());
    assertEquals(1, csvParser.getRecords().get(0).size());
    assertEquals("x", csvParser.getRecords().get(0).get(0));
    assertEquals(42, csvParser.getRecords().get(0).get(1()));
}
