public void testCSVFormatWithHeader() throws IOException {
    String expected = "x\n42";
    CSVFormat csvFormat = CSVFormat.TDF.withHeader("x");
    CSVPrinter csvPrinter = new CSVPrinter(new StringWriter(), csvFormat);
    csvPrinter.printRecord(42);
    csvPrinter.close();
    assertEquals(expected, csvPrinter.toString());
}