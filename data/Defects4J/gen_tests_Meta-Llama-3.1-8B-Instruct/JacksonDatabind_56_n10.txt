public void testLocaleDeserialization() {
    String localeString = "en-US";
    String expected = "en_US";
    String actual = Locale.forLanguageTag(localeString);
    assertEquals(expected, actual);

    localeString = "en-US";
    expected = "en-US";
    actual = Locale.forLanguageTag(localeString.replace('_', '-'));
    assertEquals(expected, actual);
}