public void testEscapeXMLSupplementaryCharacters() throws IOException {
    String input = "\ud800\udc00"; // U+10000, a supplementary character
    StringWriter writer = new StringWriter();
    StringEscapeUtils.escapeXML(writer, input);
    assertEquals("&#65536;", writer.toString());
}