java
import org.mozilla.javascript.Context;
import org.mozilla.javascript.Function;
import org.mozilla.javascript.Scriptable;
import org.mozilla.javascript.ScriptableObject;
import org.junit.Test;

public class TestIssue {
    @Test
    public void testInstanceMethodInvocation() throws Exception {
        Context context = Context.enter();
        Scriptable scope = context.initStandardObjects();
        goog.graphics.Path path = (goog.graphics.Path) context.evaluateString(scope, "goog.graphics.Path", "goog.graphics.Path", 1, null).getDefaultValue(Context.TYPE_OBJECT);
        Function demo = context.evaluateString(scope, "function demo() { var points = [[1,1], [2,2]]; for (var i = 0; i < points.length; i++) { (i == 0? path.moveTo : path.lineTo)(points[i][0], points[i][1]); } }", "demo", 1, null).getFunction();
        demo.call(scope, scope, new Object[]{});
