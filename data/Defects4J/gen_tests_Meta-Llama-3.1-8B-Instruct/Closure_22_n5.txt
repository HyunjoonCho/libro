java
public void testClassifyNonRightmostExpressionsAsProblematic() {
    // Test case 1: foo((1, 2, 42))
    Expression exp1 = new Expression("foo((1, 2, 42)");
    System.out.println(exp1.transform());
    assertNotEquals("foo((1, 3)", exp1.transform());
    assertThrows(WrongSideEffect.class, () -> exp1.checkSideEffects());

    // Test case 2: foo((bar(), 2, 42))
    Expression exp2 = new Expression("foo((bar(), 2, 42)");
    System.out.println(exp2.transform());
    assertNotEquals("foo((bar(), 3)", exp2.transform());
    assertDoesNotThrow(() -> exp2.checkSideEffects());

    // Test case 3: foo(((1, 2, 3), (4, 5, 42)))
    Expression exp3 = new Expression("foo(((1, 2, 3), (4, 5, 42)))");
    System.out.println(exp3.transform());
    assertNotEquals("foo((1, 4, 42)", exp3.transform());
    assertThrows(WrongSideEffect.class, ()