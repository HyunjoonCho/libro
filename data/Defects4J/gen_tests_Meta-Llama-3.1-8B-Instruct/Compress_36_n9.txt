public void testReadEmptyEntry() throws IOException {
    SevenZArchiveEntry entry = new SevenZArchiveEntry("empty", new byte[0]);
    SevenZFile sevenZFile = new SevenZFile(new FileInputStream("path/to/archive.s7z"));
    sevenZFile.getNextEntry();
    try {
        sevenZFile.getInputStream(entry);
        fail("Expected IllegalStateException");
    } catch (IllegalStateException e) {
        // Expected
    }
}