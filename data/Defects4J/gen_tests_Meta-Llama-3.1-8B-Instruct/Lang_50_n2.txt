public void testFastDateFormatLocaleChange() {
    Locale originalLocale = Locale.getDefault();
    Locale.setDefault(Locale.US);
    FastDateFormat fdf = FastDateFormat.getInstance("yyyy-MM-dd");
    Locale.setDefault(originalLocale);
    try {
        fdf.format(new Date());
        fail("Expected IllegalArgumentException");
    } catch (IllegalArgumentException e) {
        // expected
    }
}