public void testInvokerTransformer() throws Exception {
    // Create a HashMap with an InvokerTransformer
    Map<String, String> map = new HashMap<>();
    InvokerTransformer transformer = new InvokerTransformer();
    transformer.setTarget("java.lang.Runtime.getRuntime");
    map.put("class", transformer);
    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    ObjectOutputStream oos = new ObjectOutputStream(bos);
    oos.writeObject(map);
    oos.close();
    byte[] serializedMap = bos.toByteArray();

    // Deserialize the map and invoke the Transformer
    ByteArrayInputStream bis = new ByteArrayInputStream(serializedMap);
    ObjectInputStream ois = new ObjectInputStream(bis);
    Map<String, String> deserializedMap = (Map<String, String>) ois.readObject();
    ois.close();

    // The deserialized map should be a Proxy instance
    Assert.assertTrue(deserializedMap instanceof java.lang.reflect.Proxy);

    // Invoke the Transformer using the deserialized map
    Method method = deserializedMap.getClass().getMethod("get");
    method.invoke(deserializedMap);
}