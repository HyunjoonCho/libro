java
public void testCompressorStreamFactoryWithZlibHeader() throws Exception {
    byte[] data = new byte[] {
        (byte) 0x78, (byte) 0x9c, // zlib header
        // actual compressed data...
    };

    try (InputStream is = new ByteArrayInputStream(data)) {
        CompressorStreamFactory factory = new CompressorStreamFactory();
        try (CompressorInputStream cis = factory.createCompressorInputStream(is)) {
            // This should not throw an exception
        } catch (CompressorException e) {
            fail("CompressorStreamFactory failed to handle zlib header");
        }
    }
}
