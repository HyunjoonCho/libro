public void testCompressorStreamFactoryDeflateWithHeader() throws IOException {
    // Create a deflate stream with a zlib header
    byte[] data = new byte[] {0x78, 0x9c, 0x00, 0x01, 0x00, 0x00, 0xff, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
    ByteArrayInputStream bais = new ByteArrayInputStream(data);
    
    try {
        CompressorStreamFactory.createCompressorInputStream(bais);
        fail("Expected CompressorException");
    } catch (CompressorException e) {
        assertEquals("No Compressor found for the stream signature.", e.getMessage());
    }
}