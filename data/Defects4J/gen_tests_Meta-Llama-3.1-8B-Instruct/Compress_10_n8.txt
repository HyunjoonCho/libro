public void testZipFileUnicodeExtraFields() throws Exception {
    // Create a zip file with unicode extra fields
    // (Note: This requires a test file, e.g. test.zip, in the test resources)
    ZipFile zipFile = new ZipFile(new File("test.zip"));
    Enumeration<? extends ZipArchiveEntry> entries = zipFile.getEntries();
    ZipArchiveEntry entry = null;
    while (entries.hasMoreElements()) {
        entry = entries.nextElement();
        // Get the entry's name and hash code
        String entryName = entry.getName();
        int hashCode = entry.hashCode();
        // Close the entry's input stream to free up resources
        zipFile.getInputStream(entry).close();
        // Try to retrieve the entry from the zip file again
        zipFile.getInputStream(entry);
        // Check that the entry's name and hash code are the same
        assertEquals(entryName, entry.getName());
        assertEquals(hashCode, entry.hashCode());
    }
}