public void testGammaDistributionCloning() throws Exception {
    GammaDistribution original = new GammaDistribution(1, 1);
    ObjectInputStream ois = new ObjectInputStream(new ByteArrayInputStream(serialize(original)));
    GammaDistribution cloned = (GammaDistribution) ois.readObject();
    double originalValue = original.sample();
    double clonedValue = cloned.sample();
    assertNotEquals(originalValue, clonedValue);
}

private byte[] serialize(Object obj) throws IOException {
    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    ObjectOutputStream oos = new ObjectOutputStream(bos);
    oos.writeObject(obj);
    return bos.toByteArray();
}