public void testArgumentCaptorVarargs() {
    ArgumentCaptor<String> captor = ArgumentCaptor.forClass(String.class);
    Object[] args = { "arg1", "arg2", "arg3" };
    doSomething(captor.capture(), args);
    List<String> capturedArgs = captor.getAllValues();
    assertEquals(3, capturedArgs.size());
    assertEquals("arg1", capturedArgs.get(0));
    assertEquals("arg2", capturedArgs.get(1));
    assertEquals("arg3", capturedArgs.get(2));
}

private void doSomething(ArgumentCaptor<String> captor, Object... args) {
    // implementation
}