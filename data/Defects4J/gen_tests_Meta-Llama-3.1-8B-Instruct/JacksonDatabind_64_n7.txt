public void testJsonIncludeNonDefaultString() {
    ObjectMapper mapper = new ObjectMapper();
    mapper.setSerializationInclusion(JsonInclude.Include.NON_DEFAULT);
    String result = mapper.writeValueAsString(new BeanWithNullString("not null"));
    assertTrue(result.contains("not null"));
    BeanWithNullString bean = mapper.readValue("{\"value\":\"not null\"}", BeanWithNullString.class);
    assertEquals("not null", bean.getValue());
    result = mapper.writeValueAsString(new BeanWithNullString(null));
    assertTrue(result.contains("\"value\":null"));
}

class BeanWithNullString {
    @JsonInclude(JsonInclude.Include.NON_DEFAULT)
    private String value;

    public String getValue() {
        return value;
    }

    public void setValue(String value) {
        this.value = value;
    }
}