public void testEscapeXmlSupplementaryPlanes() {
    String input = "\uD842\uDFB7" + "A";
    String escapedInput = StringEscapeUtils.escapeXml(input);
    String expectedEscapedInput = URLEncoder.encode(input, "UTF-16BE");
    assertEquals(expectedEscapedInput, escapedInput);
}