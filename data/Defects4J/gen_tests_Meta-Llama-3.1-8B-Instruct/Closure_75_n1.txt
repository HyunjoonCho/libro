javascript
function urlEncodeIfNecessary(s) {
    var regex = /[\\\"<>\.;]/;
    var hasBadChars = regex.exec(s)!= null;
    return hasBadChars && typeof encodeURIComponent!= UNDEF? encodeURIComponent(s) : s;
}

function testUrlEncodeIfNecessary() {
    var input1 = "test";
    var input2 = "test<>";
    var expected1 = "test";
    var expected2 = encodeURIComponent("test<>");

    var compiled = urlEncodeIfNecessary;
    var minified = function Z(a) { return /[\"<>.;]/.exec(a)!= null && typeof encodeURIComponent!= j? encodeURIComponent(a) : a };

    try {
        // Minify the compiled function
        var minifiedCode = minify(compiled.toString());

        // Check if the minified code raises an error
        try {
            eval(minifiedCode);
            fail("Expected a 'JSMin_UnterminatedStringException'");
        } catch (e) {
            if (e.message!== '