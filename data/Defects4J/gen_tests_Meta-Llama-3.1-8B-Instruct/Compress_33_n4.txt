java
public void testCompressorStreamFactoryDeflateHeader() throws IOException {
    // Create a zlib/deflate compressed file with the header
    byte[] input = new byte[] {
        (byte) 0x78, (byte) 0x9c, // zlib header
        (byte) 0x00, (byte) 0xff, (byte) 0xff, (byte) 0xff, (byte) 0xff, (byte) 0xff, (byte) 0xff, (byte) 0xff
    };
    
    try (ByteArrayInputStream bais = new ByteArrayInputStream(input)) {
        try {
            CompressorStreamFactory.createCompressorInputStream(bais);
            fail("Expected CompressorException");
        } catch (CompressorException e) {
            // Expected exception
        }
    }
}
