public void testStdKeyDeserializer() throws IOException {
    ObjectMapper mapper = new ObjectMapper();
    StdKeyDeserializer<FullName> keyDeserializer = (deserializerContext) -> {
        String value = deserializerContext.extractValue();
        String[] parts = value.split("\\.");
        return new FullName(parts[0], parts[1]);
    };
    StdKeyDeserializer<FullName> fieldDeserializer = StdKeyDeserializer.forType(FullName.class, (deserializerContext) -> {
        String value = deserializerContext.extractValue();
        String[] parts = value.split("\\.");
        return new FullName(parts[0], parts[1]);
    });
    assertEquals(new FullName("first", "last"), fieldDeserializer.deserialize("first.last"));
    try {
        keyDeserializer.deserialize("first.last");
        fail("Expected InvalidFormatException");
    } catch (InvalidFormatException e) {
        // expected
    }
}