javascript
goog.require('goog.graphics.Path');

function demo() {
    var path = new goog.graphics.Path();
    var points = [[1, 1], [2, 2]];
    for (var i = 0; i < points.length; i++) {
        (i == 0? path.moveTo : path.lineTo)(points[i][0], points[i][1]);
    }
}

function testDemo() {
    try {
        demo();
        fail("Expected error or warning");
    } catch (e) {
        // Check if the error is due to the incorrect context of 'this'
        if (e.message.indexOf("undefined")!== -1) {
            return true;
        }
    }
    return false;
}
