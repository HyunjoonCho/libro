java
import org.junit.Test;
import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.SerializationFeature;
import com.fasterxml.jackson.databind.util.StdConverter;
import com.fasterxml.jackson.databind.util.StdKeyDeserializer;

import java.io.IOException;
import java.util.HashMap;
import java.util.Map;

public class TestMissingKeyDeserializer {

    @Test(expected = IOException.class)
    public void testCharSequenceKey() throws IOException {
        ObjectMapper mapper = new ObjectMapper();
        Map<CharSequence, String> map = new HashMap<>();
        map.put("key", "value");

        String json = "{\"key\":\"value\"}";
        mapper.writeValueAsString(map);
    }
}
