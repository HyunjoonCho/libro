java
public void testEventDetection() {
    // Define a switching function that changes sign at t = 90 and t = 135
    final double[] y = new double[] {0, 1};
    final double[] dydx = new double[] {0, 0};
    final double[] g = new double[] {0, 0};
    final double[] dgdx = new double[] {0, 0};

    public void eventFunction(double t, double[] y, double[] dydx, double[] g, double[] dgdx) {
        if (t >= 90 && t < 135) {
            g[0] = -1;
            g[1] = 1;
        } else {
            g[0] = 1;
            g[1] = -1;
        }
    }

    // Create an ODE solver
    ODE solver = new ODE() {
        @Override
        public void eventFunction(double t, double[] y, double[] dydx, double[] g, double[] dgdx) {
            eventFunction(t, y, dydx, g, dgdx);
        }
    };

    // Set up the initial conditions
    double[]