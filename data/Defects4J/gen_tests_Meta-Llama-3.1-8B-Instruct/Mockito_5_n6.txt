java
import org.junit.Test;
import org.junit.runner.RunWith;
import org.mockito.Mock;
import org.mockito.junit.MockitoJUnitRunner;
import org.mockito.invocation.Invocation;
import org.mockito.verification.Timeout;
import java.util.Observable;

@RunWith(MockitoJUnitRunner.class)
public class VerifyErrorOnVerificationWithTimeoutTest {
    @Mock
    private Observable mockObservable;

    @Test(expected = VerifyError.class)
    public void should_throw_VerifyError_with_Mockito_1_10_1() {
        verify(mockObservable, timeout(500)).countObservers();
    }

    @Test(expected = NoClassDefFoundError.class)
    public void should_throw_NoClassDefFoundError_with_TestNG() {
        // Intentionally removing JUnit from the classpath
        System.setProperty("java.class.path", System.getProperty("java.class.path").replace("junit.jar", ""));
        verify(mockObservable, timeout(500)).countObservers();
    }
}
