java
public void testNamespacedAttributeNotSelectedWithWildcard() throws Exception {
    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
    DocumentBuilder builder = factory.newDocumentBuilder();
    InputSource is = new InputSource(new StringReader(
            "<xml xmlns:x='foo' x:pop='a'/><xml xmlns:y='bar' y:pop='b'/>"));
    Document doc = builder.parse(is);
    Node root = doc.getDocumentElement();

    XPath xpath = XPathFactory.newInstance().newXPath();
    Node result = (Node) xpath.evaluate("/*/@*", NamespaceContext.getNamespaceContext(root), XPathConstants.NODE);

    assertNull(result);

    xpath = XPathFactory.newInstance().newXPath();
    result = (Node) xpath.evaluate("/*/@x:*", NamespaceContext.getNamespaceContext(root), XPathConstants.NODE);

    assertNotNull(result);
}
