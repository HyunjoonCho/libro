public void testBase64InputStreamReadZeroBytesAtEnd() throws IOException {
    byte[] bytes = new byte[3 * 1000]; // multiple of 3 bytes
    ByteArrayInputStream bais = new ByteArrayInputStream(bytes);
    Base64InputStream base64InputStream = new Base64InputStream(bais, true);
    byte[] buffer = new byte[bytes.length];
    int bytesRead = base64InputStream.read(buffer);
    assertEquals(bytes.length, bytesRead);
    assertEquals(0, base64InputStream.read(buffer));
}