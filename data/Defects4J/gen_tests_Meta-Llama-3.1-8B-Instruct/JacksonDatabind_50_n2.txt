public void testJsonIdentityInfoDeserialization() throws JsonProcessingException {
    ObjectMapper mapper = new ObjectMapper();
    ObjectNode node = mapper.createObjectNode();
    node.put("id", 1);
    ObjectNode innerNode = mapper.createObjectNode();
    innerNode.put("id", 2);
    node.put("list", mapper.valueToTree(Arrays.asList(innerNode, innerNode)));
    ObjectNode outerNode = mapper.createObjectNode();
    outerNode.put("id", 1);
    outerNode.put("obj", node);
    String json = mapper.writeValueAsString(outerNode);

    JsonNode result = mapper.readTree(json);
    assertNotNull(result.get("list"));
    assertEquals(2, result.get("list").size());
    assertEquals(2, result.get("list").get(0).get("id").asInt());
    assertEquals(2, result.get("list").get(1).get("id").asInt());
    assertEquals(1, result.get("obj").get("id").asInt());
}