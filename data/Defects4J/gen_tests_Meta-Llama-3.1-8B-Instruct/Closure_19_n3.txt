java
import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.CompilerOptions;
import com.google.javascript.jscomp.SourceFile;
import com.google.javascript.jscomp.SourceMap;
import org.junit.Test;

public class TypeRefiningTest {
    @Test(expected = IllegalArgumentException.class)
    public void testTypeRefiningOfThis() {
        Compiler compiler = new Compiler();
        CompilerOptions options = new CompilerOptions();
        options.setWarningLevel(CompilerOptions.WarningLevel.OFF);
        SourceFile sourceFile = new SourceFile("test.js", "goog.isFunction(this);");
        SourceMap sourceMap = compiler.compile(sourceFile, options);
    }
}
