java
@Test(expected = JsonDeserializationException.class)
public void testTypeHierarchyAdapterRuntimeCheck() {
    // assuming Vehicle is a parent class and Car and Truck are its subclasses
    Class<?> adapter = new TypeHierarchyAdapter<>(Car.class, new TypeHierarchyAdapter<Vehicle>(Vehicle.class));
    String json = "{\"type\":\"Truck\"}"; // Truck is a subclass of Vehicle
    Object decodedObject = adapter.decode(json);
    // This should throw JsonDeserializationException
}
