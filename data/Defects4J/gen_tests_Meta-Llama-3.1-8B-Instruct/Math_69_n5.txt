java
public void testPearsonsCorrelationPrecision() {
    // Create a correlation with many treatments to reproduce the issue
    double[] x = new double[10000];
    double[] y = new double[10000];
    for (int i = 0; i < x.length; i++) {
        x[i] = Math.random();
        y[i] = Math.random();
    }
    PearsonsCorrelation pc = new PearsonsCorrelation(x, y);

    // Get the correlation p-value with the original method
    double pOriginal = pc.getCorrelationPValues();

    // Create a new correlation with the same data
    PearsonsCorrelation pc2 = new PearsonsCorrelation(x, y);

    // Get the correlation p-value with the modified method
    double pModified = 2 * pc2.getTDistribution().cumulativeProbability(-pc2.getTStatistic());

    // Assert that the modified method produces more precise results
    assertEquals(2.0, pModified, 1e-6); // Allow a small tolerance due to floating-point precision
}
