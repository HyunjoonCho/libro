public void testTruncatedZipArchive() throws IOException {
    // Create a truncated zip archive
    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    ZipOutputStream zos = new ZipOutputStream(bos);
    zos.putNextEntry(new ZipEntry("test"));
    zos.closeEntry();
    bos.close();

    // Create a ZipArchiveInputStream
    ZipArchiveInputStream zais = new ZipArchiveInputStream(new ByteArrayInputStream(bos.toByteArray()));
    zais.setMethod(ZipArchiveInputStream.ZIP_DEFLATED);
    zais.setEncoding("UTF-8");

    // Test that read() returns 0 but does not throw an exception
    assertEquals(0, zais.read());

    // Test that a subsequent read() throws an IOException
    try {
        assertEquals(0, zais.read());
        fail("Expected IOException");
    } catch (IOException e) {
        // Expected
    }
}