public void testExternExportWithTypedef() {
    String source = """
        @typedef {function()} MyType;
        function foo(x: MyType) {};
        function bar(x?: MyType) {};
        foo({}); // expected to be referenced as MyType
        bar({}); // expected to be referenced as {function()} with embedded type
    """;
    String externs = "externs: {\nfunction foo(x: MyType) {\n}\nfunction bar(x?:...";
    assertEquals("function foo(x: MyType) {\n}\nfunction bar(x?: MyType) {\n}", externs);
}