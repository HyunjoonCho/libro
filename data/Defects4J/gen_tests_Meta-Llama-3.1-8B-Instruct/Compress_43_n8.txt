public void testZipVersionNeededToExtract() throws IOException {
    ZipArchiveOutputStream zos = new ZipArchiveOutputStream(new ByteArrayOutputStream());
    ZipEntry entry = new ZipEntry("test.txt");
    zos.putArchiveEntry(entry);
    zos.write(new byte[1024]); // add some data
    zos.closeEntry();

    // Calculate version needed to extract for local file header
    int localVersionNeeded = entry.isCompressed()? ZipArchiveOutputStream.INITIAL_VERSION : ZipArchiveOutputStream.DATA_DESCRIPTOR_MIN_VERSION;

    // Calculate version needed to extract for central directory
    int centralVersionNeeded = ZipArchiveOutputStream.versionNeededToExtract(entry.getCompressType(), entry.hasCenDirExtraField());

    // Verify that the two values are not equal
    assertNotSame(localVersionNeeded, centralVersionNeeded);
}