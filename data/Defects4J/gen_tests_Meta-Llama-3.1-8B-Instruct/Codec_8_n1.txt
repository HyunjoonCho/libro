java
public void testBase64InputStreamRead() {
    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    Base64InputStream bis = new Base64InputStream(bos, true, 0, null);
    
    // Read 10919 times to get the buffer size to 2
    for (int i = 0; i < 10919; i++) {
        bis.read();
    }
    
    // Read one more time to trigger the exception
    try {
        bis.read();
        fail("Expected ArrayIndexOutOfBoundsException");
    } catch (ArrayIndexOutOfBoundsException e) {
        // expected
    }
}
