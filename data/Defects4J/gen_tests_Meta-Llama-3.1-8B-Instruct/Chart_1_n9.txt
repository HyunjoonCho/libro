public void testIssue983() {
    Plot plot = new CategoryPlot();
    CategoryDataset dataset = new DefaultCategoryDataset();
    plot.setDataset(0, dataset);
    AbstractCategoryItemRenderer renderer = new DefaultCategoryItemRenderer();
    renderer.setPlot(plot);
    renderer.getLegendItems();
    assertThrows(NullPointerException.class, () -> renderer.getLegendItems().size());
}