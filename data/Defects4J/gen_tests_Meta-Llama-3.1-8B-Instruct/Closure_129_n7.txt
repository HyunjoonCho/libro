public void testCastingFunction() {
    Function function = (Function) ((new Object()) instanceof Function? (Object) new Function() : (Object) new Function());
    Function function2 = (Function) (new Object());
    try {
        function.apply();
        fail("Expected TypeError");
    } catch (Exception e) {
        // expected
    }
    try {
        function2.apply();
    } catch (Exception e) {
        fail("Expected no error", e);
    }
}