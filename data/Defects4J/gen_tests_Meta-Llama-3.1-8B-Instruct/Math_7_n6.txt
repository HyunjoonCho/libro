public void testEventStateNotUpdated() {
    // Create an ODE solver with two event handlers
    // Event handler 1: triggers a RESET_STATE event
    Event event1 = new Event() {
        @Override
        public boolean isTriggered(double t, double[] y) {
            return true;
        }
        @Override
        public void eventOccurred(double t, double[] y, double[] yDot, EventState eventState) {
            eventState.resetState();
        }
    };
    
    // Event handler 2: does not trigger an event
    Event event2 = new Event() {
        @Override
        public boolean isTriggered(double t, double[] y) {
            return false;
        }
    };
    
    // Create an ODE solver with the two events
    // Simulate a step where event1 triggers a RESET_STATE event
    ODE solver = new ODE();
    solver.addEvent(event1);
    solver.addEvent(event2);
    solver.step(1.0);
    
    // Verify that event2's state is not updated
    EventState event2State = event2.getEventState();
    assertEquals(0, event2State.getStep());
    
    // Sim