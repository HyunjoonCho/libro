public void testAssignmentRemovalFailure() {
    String source = "((nodeId=someNode.id) && (nodeId=parseInt(nodeId.substr(1))) && nodeId>0)";
    String expected = "(b.id&&(a=parseInt(a.substr(1)))&&a>0)";
    String actual = ClosureCompiler.compile("function closureCompilerTest(b){var a;return (nodeId=someNode.id) && (nodeId=parseInt(nodeId.substr(1))) && nodeId>0;}");
    assertEquals(expected, actual);
}