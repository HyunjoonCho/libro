public void testIteratePointersWithMultiplePrefixes() throws JXPathException {
    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
    DocumentBuilder builder = factory.newDocumentBuilder();
    Document document = builder.newDocument();
    Element root = document.createElement("a:doc");
    document.appendChild(root);
    root.setAttributeNS("http://www.w3.org/2000/xmlns/", "xmlns:a", "ns");
    root.setAttributeNS("http://www.w3.org/2000/xmlns/", "xmlns:b", "ns");
    Element elem1 = document.createElementNS("http://www.w3.org/2000/xmlns/", "a:elem");
    Element elem2 = document.createElementNS("http://www.w3.org/2000/xmlns/", "b:elem");
    root.appendChild(elem1);
    root.appendChild(elem2);
    JXPathContext context = JXPathContext.newContext(document);
    Iterator iter = context.iteratePointers("//a:elem");
    int count = 0;
    while (iter.hasNext()) {
        iter.next();
        count++;
    }
    assertEquals(2, count);
}