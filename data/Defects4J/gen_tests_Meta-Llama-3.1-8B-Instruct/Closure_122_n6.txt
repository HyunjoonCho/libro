java
import org.junit.Test;

import com.google.javascript.jscomp.CompilationLevel;
import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.Warning;

public class TestNonJSDocCommentWarning {
  @Test
  public void testNonJSDocCommentWarning() {
    String code = "/* @preserve Foo License */ alert('foo');";
    Compiler compiler = new Compiler();
    compiler.setWarningLevel(CompilationLevel.STRICT);
    compiler.compile(code);
    Warning[] warnings = compiler.getWarnings();
    assert warnings.length == 1;
    assertEquals("Parse error. Non-JSDoc comment has annotations. Did you mean to start it with '/\*\*'?", warnings[0].getMessage());
  }

  @Test
  public void testNonJSDocCommentPreservation() {
    String code = "/!* @preserve Foo License */ alert('foo');";
    Compiler compiler = new Compiler();
    compiler.setWarningLevel(CompilationLevel.STRICT);
    compiler.compile(code);
    // The comment should be preserved, but no warning should be issued
    assert compiler.getWarnings().length == 0;
  }
}
