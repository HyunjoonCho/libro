java
import org.w3c.dom.Document;
import org.w3c.dom.Element;
import org.w3c.dom.Node;
import org.xml.sax.InputSource;

import javax.xml.parsers.DocumentBuilderFactory;
import javax.xml.parsers.ParserConfigurationException;

import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class JXPathTest {

    @Test
    public void testResettingDefaultNamespace() throws Exception {
        Document doc = DocumentBuilderFactory.newInstance().newDocumentBuilder()
               .parse(new InputSource("<root><b:foo xmlns:b=\"bla\" xmlns=\"test111\"><b:bar>a</b:bar><test xmlns=\"\"></test></b:foo></root>"));
        Element testNode = (Element) doc.getDocumentElement().getElementsByTagName("test").item(0);

        String actualPath = testNode.asPath();
        String expectedPath = "//test[1]";
        assertEquals(expectedPath, actualPath);
    }
}
