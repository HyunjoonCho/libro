public void testAddSingletonGetter() {
    Compilation compilation = Compilation.compile(
            "goog.provide('foo');\n" +
            "var foo = function() { this.values = []; };\n" +
            "goog.addSingletonGetter(foo);\n" +
            "foo.prototype.add = function(value) {this.values.push(value)};");
    compilation.execute();
    String output = compilation.getOutput();
    assertFalse(output.contains("goog.addSingletonGetter"));
}