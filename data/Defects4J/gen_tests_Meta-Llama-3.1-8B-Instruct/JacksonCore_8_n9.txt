java
public void testTextBufferInconsistentBehavior() {
    TextBuffer buffer = new TextBuffer(new BufferRecycler());
    buffer.resetWithEmpty();
    
    assertSame(null, buffer.getTextBuffer());
    assertEquals("", buffer.contentsAsString());
    
    buffer.getTextBuffer(); // Ensure this call doesn't change the result of getTextBuffer()
    assertArrayEquals(new char[0], buffer.getTextBuffer());
}
