public void testJacksonXmlRootElementWithMultipleMappers() throws Exception {
    final ObjectMapper xmlMapper = new XmlMapper();
    final ObjectMapper noAnnotationsXmlMapper = xmlMapper.copy()
           .configure(MapperFeature.USE_ANNOTATIONS, false)
           .configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);

    final XMLTest testObject = new XMLTest();
    String noAnnotationsResult = noAnnotationsXmlMapper.writeValueAsString(testObject);
    String annotationsResult = xmlMapper.writeValueAsString(testObject);

    assertEquals("@class=\"com.example.XMLTest\",\"myname\": { }", noAnnotationsResult);
    assertEquals("@class=\"com.example.XMLTest\",\"myname\": { }", annotationsResult);
}