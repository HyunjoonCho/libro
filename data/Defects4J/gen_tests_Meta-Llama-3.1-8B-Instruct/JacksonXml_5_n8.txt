java
public void testJacksonXmlRootElement() throws Exception {
    @JacksonXmlRootElement(localName = "myname")
    static class XMLTest {
    }

    final ObjectMapper xmlMapper = new XmlMapper();
    final ObjectMapper noAnnotationsXmlMapper = xmlMapper.copy()
           .configure(MapperFeature.USE_ANNOTATIONS, false)
           .configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);

    String noAnnotationsXml = noAnnotationsXmlMapper.writeValueAsString(new XMLTest());
    String annotatedXml = xmlMapper.writeValueAsString(new XMLTest());

    // The bug report states that the second print statement should use the annotation's localName
    // So, we're checking that the XML root element name is "myname"
    assertEquals("<myname/>", annotatedXml);
}
