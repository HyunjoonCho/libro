public void testBOBYQAOptimizer() {
    int dim = 3;
    BOBYQAOptimizer optim = new BOBYQAOptimizer(2 * dim + 2);
    try {
        optim.optimize(100000, new DummyFunction(dim), Goal.MINIMIZE, new double[dim], null, null);
        fail("Expected IndexOutOfBoundsException");
    } catch (IndexOutOfBoundsException e) {
        // expected
    }
}

class DummyFunction implements ObjectiveFunction {
    private final int dim;
    
    public DummyFunction(int dim) {
        this.dim = dim;
    }
    
    public double value(double[] point) {
        return 0; // dummy implementation
    }
    
    public int getDimension() {
        return dim;
    }
}