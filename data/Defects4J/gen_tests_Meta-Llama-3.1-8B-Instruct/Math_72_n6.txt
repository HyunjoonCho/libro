java
public void testBrentSolverReturnsWrongValueIfBracketEndpointIsRoot() {
    // Define a function that has a root at the endpoint
    final UnivariateRealFunction f = new UnivariateRealFunction() {
        @Override
        public double value(double x) {
            return Math.pow(x - 2, 2);
        }
    };

    // Test that the solver returns the correct value when the maximum is a root
    double result = BrentSolver.solve(f, 1, 2, 0);
    assertEquals(0, result, 0.00001);

    // Test that the solver returns the correct value when the minimum is a root
    result = BrentSolver.solve(f, 2, 1, 0);
    assertEquals(0, result, 0.00001);
}
