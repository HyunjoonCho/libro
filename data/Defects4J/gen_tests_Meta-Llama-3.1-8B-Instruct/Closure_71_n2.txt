public void testPrivatePropertyRedeclaration() {
    // Define a class with a private property
    Class<?> fooClass = Class.forName("Foo");
    Method fooConstructor = fooClass.getDeclaredConstructor();
    Field xField = fooClass.getDeclaredField("x_");
    xField.setAccessible(true);
    xField.set(null, 3);

    // Define a subclass that redeclares the private property
    Class<?> subFooClass = Class.forName("SubFoo");
    Method subFooConstructor = subFooClass.getDeclaredConstructor();
    Field subXField = subFooClass.getDeclaredField("x_");
    subXField.setAccessible(true);

    // Expect an error to be thrown
    try {
        subFooConstructor.newInstance();
        fail("Expected error when redeclaring private property");
    } catch (Exception e) {
        // Expected exception
    }
}