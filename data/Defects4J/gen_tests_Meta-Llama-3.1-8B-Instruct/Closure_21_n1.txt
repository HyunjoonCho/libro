public void testClassifyNonRightmostExpressions() {
    ExpressionAST tree = new ExpressionAST(new ASTNode[] {
        new ASTNode(ASTNode.COMMA, new ASTNode[] {
            new ASTNode(ASTNode.CALL, new ASTNode[] {
                new ASTNode(ASTNode.IDENTIFIER, "foo"),
                new ASTNode(ASTNode.LIST, new ASTNode[] {
                    new ASTNode(ASTNode.CONSTANT, 1),
                    new ASTNode(ASTNode.CONSTANT, 2),
                    new ASTNode(ASTNode.CONSTANT, 42)
                })
            }),
            new ASTNode(ASTNode.CONSTANT, 3)
        }),
        new ASTNode(ASTNode.CALL, new ASTNode[] {
            new ASTNode(ASTNode.IDENTIFIER, "bar"),
            new ASTNode(ASTNode.CONSTANT, 2),
            new ASTNode(ASTNode.CONSTANT, 42)
        })
    });
    
    ASTVisitor visitor = new ASTVisitor();
    tree.accept(visitor);
    
    assertEquals(2, visitor.getWarnings().size());
}