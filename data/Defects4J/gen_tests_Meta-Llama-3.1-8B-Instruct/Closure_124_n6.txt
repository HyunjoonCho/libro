public void testClosureCompiler() throws Exception {
    String code = "var foreignObject = gfx.parentNode.parentNode;\n" +
            "var parentContainer = foreignObject.parentNode.parentNode;";
    String expected = "if(b){if(a=b.parentNode.parentNode,b=a.parentNode.parentNode,null!==b)";
    String actual = new ProcessBuilder("java", "-jar", "compiler.jar", "--js", "test.js").redirectErrorStream(true).start().getInputStream().readAllBytes().toString("UTF-8");
    assertEquals(expected, actual);
}