public void testSideEffectsAnalysis() {
    Foo foo = new Foo();
    foo.setLocation("http://www.google.com/");
    // In JUnit, we can't directly observe side effects like window.location, but we can test if the setLocation method was called.
    assertEquals("http://www.google.com/", foo.getLocation());
}

class Foo {
    private String location;

    public Foo() {
        // Simulate the side effect
        new Thread(() -> {
            try {
                Thread.sleep(10);
            } catch (InterruptedException e) {
                Thread.currentThread().interrupt();
            }
            System.setProperty("location", location);
        }).start();
    }

    public void setLocation(String loc) {
        location = loc;
    }

    public String getLocation() {
        return location;
    }
}