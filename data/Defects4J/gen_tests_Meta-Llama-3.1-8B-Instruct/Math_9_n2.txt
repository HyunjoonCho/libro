java
public void testLineRevert() {
    Vector3D originalDirection = new Vector3D(1.234567890123456789e-1, 2.34567890123456789e-2, 3.4567890123456789e-3);
    Line line = new Line(new Vector3D(0, 0, 0), originalDirection);
    Vector3D revertedDirection = line.revert();
    
    // Before the fix, this would only preserve 10 digits
    // After the fix, this should preserve all digits
    assertEquals(1.234567890123456789e-1, revertedDirection.x, 1e-15);
    assertEquals(-2.34567890123456789e-2, revertedDirection.y, 1e-15);
    assertEquals(-3.4567890123456789e-3, revertedDirection.z, 1e-15);
}

public void testLineImmutability() {
    Line line = new Line(new Vector3D(0, 0, 0), new Vector3D(1, 2, 3));
    try {
        line.direction = new Vector3D(4, 5, 