java
public void testAnonymousObjectTypeInferenceInconsistency() {
    // Test with func
    Object record = new Object() {
        public String prop = "a";
    };
    func(record);

    // Test with func2
    record = new Object() {
        public String prop = "a";
    };
    func2(record);
}

public void func(Object record) {
    System.out.println(record.prop);
}

public void func2(Object record) {
    if (record instanceof String) {
        System.out.println(record);
    } else {
        System.out.println(((ObjectWithProp) record).prop);
    }
}

// Define the interface
interface ObjectWithProp {
    String prop;
}
