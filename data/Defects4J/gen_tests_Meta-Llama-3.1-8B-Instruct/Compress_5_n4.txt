public void testZipArchiveInputStreamTruncated() throws IOException {
    // Create a truncated ZIP archive
    ZipArchiveOutputStream zos = new ZipArchiveOutputStream(new ByteArrayOutputStream());
    zos.putNextEntry(new ZipEntry("test.txt"));
    zos.closeEntry();
    zos.close();

    // Read from the truncated archive
    ZipArchiveInputStream zis = new ZipArchiveInputStream(new ByteArrayInputStream(zos.getByteArrayOutputStream().toByteArray()));
    int read = zis.read();
    assertEquals(-1, read); // This should return -1 for a truncated archive
}