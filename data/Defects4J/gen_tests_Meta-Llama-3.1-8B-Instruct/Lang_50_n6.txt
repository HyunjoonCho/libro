public void testFastDateFormatLocaleChange() throws Exception {
    Locale originalLocale = Locale.getDefault();
    Locale.setDefault(Locale.US);
    FastDateFormat df = FastDateFormat.getInstance("yyyy-MM-dd");
    Locale.setDefault(originalLocale);
    try {
        df.applyPattern("yyyy-MM-dd");
    } catch (IllegalArgumentException e) {
        // Expected, locale has changed
    }
}