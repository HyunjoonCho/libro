java
public void testStringIndexOutOfBoundsExceptionInHelpFormatter() {
    HelpFormatter helpFormatter = new HelpFormatter();
    String text = "a".repeat(100); // a string of length 100
    int width = 50;
    int pos = 0;
    while (pos < text.length()) {
        int wrapPos = helpFormatter.findWrapPos(text, pos, width);
        if (wrapPos > pos) {
            pos = wrapPos;
        } else {
            break;
        }
    }
    // this should not throw a StringIndexOutOfBoundsException
    helpFormatter.printMessage(text, width);
}
