public void testStringIndexOutOfBoundsException() {
    HelpFormatter formatter = new HelpFormatter();
    String text = "a very long line that will wrap";
    int width = 10;
    int pos = 0;
    while (pos < text.length()) {
        int nextPos = formatter.findWrapPos(text, pos, width);
        if (nextPos >= text.length()) {
            break;
        }
        pos = nextPos + 1;
    }
    if (pos!= text.length()) {
        fail("Expected StringIndexOutOfBoundsException");
    }
}