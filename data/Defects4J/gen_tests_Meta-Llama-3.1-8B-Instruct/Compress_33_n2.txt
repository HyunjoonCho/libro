java
public void testCompressorStreamFactoryWithZlibHeader() throws Exception {
    // Create a test file with a zlib header
    String tempFile = File.createTempFile("test", ".deflatez").getAbsolutePath();
    try (OutputStream os = new FileOutputStream(tempFile)) {
        // Write a zlib header
        os.write(0x78);
        os.write(0x9c);
        // Write some compressed data (this is just a simple example, you may need to use a real compressor)
        os.write(new byte[]{0x00, 0x00, 0xff});
    }

    try (InputStream is = new FileInputStream(tempFile)) {
        try {
            CompressorStreamFactory.createCompressorInputStream(is);
            fail("Expected CompressorException");
        } catch (CompressorException e) {
            // Expected exception
        }
    }
}
