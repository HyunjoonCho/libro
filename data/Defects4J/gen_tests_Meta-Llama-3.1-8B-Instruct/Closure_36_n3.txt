javascript
// Test that goog.addSingletonGetter prevents unused class removal

describe('goog.addSingletonGetter', function() {
  it('should prevent unused class removal', function() {
    var Foo = function() {
      this.values = [];
    };

    goog.addSingletonGetter(Foo);

    var compiled = goog.addDependency('goog/addSingletonGetter.js');
    var output = goog.createCodeWriter().writeFunction('Foo', Foo);

    expect(output).not.toMatch(/\/\* \[DEBUGGER\] \*\//);
  });
});
