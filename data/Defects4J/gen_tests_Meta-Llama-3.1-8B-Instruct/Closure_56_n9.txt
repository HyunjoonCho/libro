public void testLastWarningOrErrorTruncated() {
    String expectedOutput =
        ">java -jar compiler.jar --warning_level VERBOSE --js test.js\n" +
        "test.js:1: ERROR - variable foo is undefined\n" +
        "alert(foo);\n" +
        "  ^\n" +
        "\n" +
        "test.js:2: ERROR - variable bar is undefined\n" +
        "alert(bar);\n" +
        "  ^\n" +
        "\n" +
        "2 error(s), 0 warning(s)\n";

    String actualOutput = Compiler.compile("alert(foo);\nalert(bar;)");
    assertEquals(expectedOutput, actualOutput);
}