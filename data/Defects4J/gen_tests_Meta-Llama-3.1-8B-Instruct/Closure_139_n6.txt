javascript
function assert(b) {if (!b) throw "error";}
assert(f() === 1)
var f = function() {return 2;}
assert(f() === 2)

function f() {return 1;}

// Test that the function redefinition is correctly handled
try {
    (function() {
        var code = 'function f() { return 1; }';
        eval(code);
        assert(f() === 1); // Should throw an error
    })();
} catch (e) {
    assert(e.message === "error");
}
