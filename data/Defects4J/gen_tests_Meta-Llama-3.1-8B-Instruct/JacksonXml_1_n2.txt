public void testDeserializeNestedListWithEmptyInner() throws Exception {
    // Define a POJO with an unwrapped list of Record
    class Definition {
        public List<Record> records;
    }

    // Define a POJO with an unwrapped list of Field
    class Record {
        public List<Field> fields;
    }

    // Define a POJO
    class Field {
        // empty class for simplicity
    }

    Definition definition = new Definition();
    definition.records = new ArrayList<>();

    // Add a Record with an empty list of Field to the definition
    definition.records.add(new Record());
    definition.records.get(0).fields = new ArrayList<>();

    // Add another Record to the definition
    definition.records.add(new Record());

    // Add some fields to the second Record
    definition.records.get(1).fields = Arrays.asList(new Field());

    // Serialize and deserialize the definition
    ObjectMapper mapper = new ObjectMapper();
    String json = mapper.writeValueAsString(definition);
    Definition deserializedDefinition = mapper.readValue(json, Definition.class);

    // Check that the deserialized definition has the correct structure
    assertEquals(2, deserializedDefinition.records.size());
    assertEquals(0, deserializedDefinition.records.get(0).fields.size