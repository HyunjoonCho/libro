java
import org.apache.commons.jxpath.JXPathContext;
import org.w3c.dom.Document;
import org.w3c.dom.Element;
import org.w3c.dom.Node;

import javax.xml.parsers.DocumentBuilderFactory;
import javax.xml.parsers.ParserConfigurationException;
import java.io.ByteArrayInputStream;
import java.io.IOException;

import org.junit.Test;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertTrue;

public class JXPathContextTest {

    @Test
    public void testIteratePointers() throws ParserConfigurationException, IOException {
        String xml = "<a:doc xmlns:a=\"ns\">"
                + "<a:elem />"
                + "<b:elem xmlns:b=\"ns\" />"
                + "</a:doc>";

        Document document = DocumentBuilderFactory.newInstance()
               .newDocumentBuilder().parse(new ByteArrayInputStream(xml.getBytes()));

        Element root = document.getDocumentElement();

        JXPathContext context = JXPathContext.newInstance(document);

        Node[] nodes = context.iteratePointers("//ns:*");

        int count = 0;
        for (Node node : nodes) {
            if (node.getNodeName().equals("ns:elem")) {
                count++;
            }
        }

       