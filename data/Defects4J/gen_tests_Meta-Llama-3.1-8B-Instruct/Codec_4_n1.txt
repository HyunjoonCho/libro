public void testBase64EncodingCRLF() throws Exception {
    Base64 b64 = new Base64();
    byte[] b1 = "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa".getBytes("UTF-8");
    byte[] b2 = "aaaaaaaaaa".getBytes("UTF-8");
    byte[] b3 = "a".getBytes("UTF-8");
    byte[] result;

    result = Base64.encodeBase64(b1);
    String encoded1 = new String(result, "UTF-8");
    result = b64.encode(b1);
    String encoded2 = new String(result, "UTF-8");
    assertEquals(encoded1, encoded2);

    result = Base64.encodeBase64(b2);
    String encoded3 = new String(result, "UTF-8");
    result = b64.encode(b2);
    String encoded4 = new String(result, "UTF-8");
    assertEquals(encoded3, encoded4);

    result = Base64.encodeBase64(b3);
    String encoded5 = new String(result, "UTF-8");
    result = b64.encode(b3);
    String encoded6 = new String(result, "UTF-8");
    assertEquals(encoded5, encoded6);
}