public void testAssignmentInCondition() {
    // Create a mock echo function that always returns true
    Object echo = new Object() {
        public boolean call(Object value) {
            return true;
        }
    };

    // Original code
    boolean a = null;
    if (echo.call(true) || (a = false)) {
        a = true;
    } else {
        a = null;
    }
    assertEquals(true, a);

    // Compiled code
    boolean b = null;
    b = echo.call(true) || (b = false)? b : null;
    assertEquals(true, b);
}