java
import org.junit.Test;
import org.mockito.ArgumentCaptor;
import org.mockito.Mockito;

public class ArgumentCaptorTest {

    @Test
    public void testArgumentCaptorWithVarargs() {
        // Arrange
        MyService myService = Mockito.mock(MyService.class);
        ArgumentCaptor<Integer> captor = ArgumentCaptor.forClass(Integer.class);
        when(myService.doSomething(captor.capture())).thenReturn("result");

        // Act
        String result = myService.doSomething(1, 2, 3);

        // Assert
        assertEquals("result", result);
        assertEquals(3, captor.getValue().length);
    }

    private interface MyService {
        String doSomething(Integer... integers);
    }
}
