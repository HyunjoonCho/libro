public void testArgumentCaptorWithVarargs() {
    ArgumentCaptor<String> captor = ArgumentCaptor.forClass(String.class);
    doSomething(captor.capture(), "arg1", "arg2");
    String[] captured = captor.getAllValues().toArray(new String[0]);
    assertArrayEquals(new String[] {"arg1", "arg2"}, captured);
}

void doSomething(String arg1, String... args) {
    // implementation
}