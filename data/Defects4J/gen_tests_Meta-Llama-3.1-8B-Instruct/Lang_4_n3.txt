public void testLookupTranslator() {
    CharBuffer cb = CharBuffer.wrap("1 < 2".toCharArray());
    CharSequence cs1 = "1 < 2";
    CharSequence cs2 = "1 < 2";

    LookupTranslator translator = StringEscapeUtils.ESCAPE_HTML4;
    StringWriter writer = new StringWriter();
    translator.translate(cs1, writer);
    String result1 = writer.toString();

    writer = new StringWriter();
    translator.translate(cb, writer);
    String result2 = writer.toString();

    assertEquals(result1, result2);
}