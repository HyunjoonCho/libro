public void testEncodeBase64String() {
    byte[] binaryData1 = StringUtils.getBytesUtf8("f");
    byte[] binaryData2 = StringUtils.getBytesUtf8("fo");
    byte[] binaryData3 = StringUtils.getBytesUtf8("foo");
    byte[] binaryData4 = StringUtils.getBytesUtf8("foob");
    byte[] binaryData5 = StringUtils.getBytesUtf8("fooba");
    byte[] binaryData6 = StringUtils.getBytesUtf8("foobar");
    assertEquals("Zg==", StringUtils.newStringUtf8(encodeBase64(binaryData1, true)));
    assertEquals("Zm8=", StringUtils.newStringUtf8(encodeBase64(binaryData2, true)));
    assertEquals("Zm9v", StringUtils.newStringUtf8(encodeBase64(binaryData3, true)));
    assertEquals("Zm9vYg==", StringUtils.newStringUtf8(encodeBase64(binaryData4, true)));
    assertEquals("Zm9vYmE=", StringUtils.newStringUtf8(encodeBase64(binaryData5, true)));
    assertEquals("Zm9vYmFy", StringUtils.newStringUtf8(encodeBase64(binaryData6, true)));
}