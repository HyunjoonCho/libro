public void testScopedAliasesCrash() {
    goog = new Object();
    goog.scope = new Runnable() {
        @Override
        public void run() {
            ns = new Object();
            ns.sub = new Object();
            ns.sub.C = new Object();

            sub = ns.sub;
            x = null;
        }
    };
    try {
        goog.scope.run();
    } catch (IllegalStateException e) {
        // expected
    }
}