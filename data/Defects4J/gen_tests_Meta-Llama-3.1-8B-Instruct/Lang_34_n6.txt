public void testToStringStyleMemoryLeak() {
    Thread t = new Thread(() -> {
        ToStringStyle toStringStyle = ToStringStyle.SIMPLE_STYLE;
        while (true) {
            // do nothing
        }
    });
    t.start();
    try {
        Thread.sleep(1000); // wait for the thread to start using the thread local
        t.interrupt();
        t.join();
    } catch (InterruptedException e) {
        fail("Interrupted while waiting for thread to finish");
    }
    // test that the thread is still alive after the interrupt
    assert t.isAlive();
}