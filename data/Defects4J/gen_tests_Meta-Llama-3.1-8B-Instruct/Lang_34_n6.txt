java
public void testToStringStyleMemoryLeak() throws Exception {
    // Initialize the ThreadLocal in ToStringStyle
    ToStringStyle style = ToStringStyle.SIMPLE_STYLE;

    // Simulate a web application reload by creating a new thread
    Thread thread = new Thread(() -> {
        // Access the ThreadLocal to create a reference chain
        style.appendSummary();
    });

    // Start the thread
    thread.start();

    // Wait for the thread to finish
    thread.join();

    // Verify that the ThreadLocal has been garbage collected
    assertNotSame("ToStringStyle memory leak", style, Thread.currentThread().getContextClassLoader().loadClass(ToStringStyle.class).getDeclaredField("INSTANCE").get(null));
}
