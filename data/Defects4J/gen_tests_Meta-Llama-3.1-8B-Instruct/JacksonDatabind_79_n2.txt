public void testAlwaysAsIdOnClass() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    mapper.enableDefaultTyping(DefaultTyping.NON_FINAL, JsonTypeInfo.As.PROPERTY);
    
    ReallyAlwaysAsId a = new ReallyAlwaysId(1);
    ReallyAlwaysContainer c = new ReallyAlwaysContainer();
    c.a = a;
    c.b = a;
    
    String json = mapper.writeValueAsString(c);
    String expectedJson = "{\"_class\":\"ReallyAlwaysContainer\",\"a\":{\"_class\":\"ReallyAlwaysId\",\"value\":1},\"b\":{\"_class\":\"ReallyAlwaysId\",\"value\":1}}";
    assertEquals(expectedJson, json);
}