java
import com.fasterxml.jackson.databind.ObjectMapper;
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class JacksonTest {

    @Test
    public void testWriteBigDecimalAsPlainIgnoredWithJsonFormat() throws Exception {
        ObjectMapper mapper = new ObjectMapper();
        mapper.configure(com.fasterxml.jackson.core.JsonGenerator.Feature.WRITE_BIGDECIMAL_AS_PLAIN, true);
        mapper.configure(com.fasterxml.jackson.core.JsonGenerator.Feature.WRITE_NUMBERS_AS_STRINGS, true);

        JsonFormat jsonFormat = JsonFormat.empty();
        jsonFormat.shape(JsonFormat.Shape.STRING);

        Test test = new Test(BigDecimal.valueOf(0.0000000005));
        String result = mapper.writerWithDefaultPrettyPrinter().withJsonFormat(jsonFormat).writeValueAsString(test);

        assertEquals("0.0000000005", result);
    }

    public static class Test {
        @com.fasterxml.jackson.annotation.JsonFormat(shape = JsonFormat.Shape.STRING)
        public BigDecimal value;
    }
}
