public void testArDeletion() throws IOException {
    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    ArchiveArchive ar = new ArchiveArchive(bos);
    ar.add("test1.xml");
    ar.add("test2.xml");
    ar.close();

    bos.close();
    bos = new ByteArrayOutputStream();
    ar = new ArchiveArchive(bos);
    ar.delete("test2.xml");
    ar.close();

    bos.close();
    bos = new ByteArrayOutputStream();
    ar = new ArchiveArchive(bos);
    ZipArchiveEntry entry = ar.getNextEntry();
    assertNotNull(entry);
    assertEquals("test1.xml", entry.getName());
    assertEquals(-1, ar.getNextEntry());
}