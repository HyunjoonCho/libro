java
import com.google.javascript.jscomp.CompilationLevel;
import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.CompilerOptions;

public class TestTypedCoverage {
    public void testIncompleteTypedCoverage() throws Exception {
        String jsCode = """
            /**
             * @constructor
             * @param {!Element} element
             */
            function Example(element) {
                /**
                 * @param {!string} ns
                 * @param {!string} name
                 * @return {undefined}
                 */
                this.appendElement = function appendElement(ns, name) {
                    var e = element.ownerDocument.createElementNS(ns, name);
                    element.appendChild(e);
                };
            }
            window["Example"] = Example;
        """;

        CompilerOptions options = new CompilerOptions();
        options.setSummaryDetailLevel(3);
        CompilationLevel.STRICT_CHECKS.compile(
                new Compiler().compile(new StringSource(jsCode), "v.js", options));
        assertEquals(0, options.getErrors().size());
        assertEquals(0, options.getWarnings().size());
        assertEquals(0.737, options.getTypedCoverage(), 0.01); // 73.7%
    }
