java
import org.apache.commons.compress.archivers.tar.TarArchiveEntry;
import org.apache.commons.compress.archivers.tar.TarArchiveInputStream;
import org.junit.Test;

import java.io.ByteArrayInputStream;
import java.io.ByteArrayOutputStream;
import java.io.IOException;

import static org.junit.Assert.fail;

public class TarArchiveEntryTest {

    @Test(expected = IllegalArgumentException.class)
    public void testTarFileWithOctalPermissions() throws IOException {
        ByteArrayOutputStream bos = new ByteArrayOutputStream();
        TarArchiveEntry entry = new TarArchiveEntry("test");
        entry.setPath("test");
        entry.setSize(8);
        entry.setMode(0o1750); // octal 01750
        entry.setUid(0);
        entry.setGid(0);
        entry.setModTime(0);
        entry.setAccessTime(0);
        entry.setModifyTime(0);
        TarArchiveEntry.writeTarEntryData(entry, bos);
        ByteArrayInputStream bis = new ByteArrayInputStream(bos.toByteArray());
        TarArchiveInputStream tis = new TarArchiveInputStream(bis);
        TarArchiveEntry tarEntry = tis.getNextEntry();
        fail("Expected IllegalArgumentException");
    }
}
