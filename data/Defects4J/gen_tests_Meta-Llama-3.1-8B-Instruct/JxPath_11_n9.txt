public void testIncompleteNamespaceHandling() {
    NamespaceContext context = new NamespaceContext();
    context.registerNamespace("B", "http://example.com/B");
    context.registerNamespace("A", "http://example.com/A");
    
    Document doc = new Document();
    Element element = new Element("ElementA");
    element.setAttribute("http://example.com/A", "myAttr", "Mytype");
    element.setAttributeNS("http://example.com/B", "B", "ElementB", "MY VALUE");
    
    try {
        DOMNodePointer.createAttribute(element, "A:myAttr");
        fail("Expected unknown namespace prefix exception");
    } catch (Exception e) {
        assertTrue(e.getMessage().contains("unknown namespace prefix: A"));
    }
}