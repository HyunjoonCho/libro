public void testRemoveIgnoreCaseConcurrentModificationException() {
    Element element = new Element("tag");
    element.add(new Attribute("attr1", "value1"));
    element.add(new Attribute("Attr2", "value2"));
    element.add(new Attribute("attr3", "value3"));
    
    try {
        for (Attribute attribute : element.getAttributes()) {
            if (attribute.getKey().equalsIgnoreCase("attr2")) {
                element.remove(attribute);
            }
        }
        fail("Expected ConcurrentModificationException");
    } catch (ConcurrentModificationException e) {
        // expected
    }
}