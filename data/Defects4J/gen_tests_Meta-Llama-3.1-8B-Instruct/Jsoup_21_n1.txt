java
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.jsoup.select.Elements;
import org.jsoup.select.QueryParser;
import org.jsoup.nodes.Node;
import org.jsoup.nodes.TextNode;
import org.jsoup.parser.ParseError;
import org.jsoup.parser.Parser;

public void testSelectorParsingWithCommasInRegex() {
    String html = "<div><li>1</li><li>2</li></div>";
    Document doc = Parser.parseBodyFragment(html);
    Element div = doc.selectFirst("div");

    String selector = "div, li:matches([0-9,]+)";
    try {
        Elements elements = div.select(selector);
        fail("Expected PatternSyntaxException");
    } catch (Exception e) {
        assertTrue(e instanceof ParseError);
    }
}
