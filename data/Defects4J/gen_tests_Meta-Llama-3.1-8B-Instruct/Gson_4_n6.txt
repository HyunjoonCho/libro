java
import com.fasterxml.jackson.databind.JsonNode;
import com.fasterxml.jackson.databind.ObjectMapper;

public void testJsonBug() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    // Disable leniency to reproduce the bug
    mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, true);
    mapper.configure(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY, false);

    JsonNode jsonNode = mapper.readTree("{\"value\": 10}");
    assertNotNull(jsonNode);

    // This should fail because Jackson doesn't support top-level value types without leniency
    try {
        mapper.writeValueAsString(10);
        fail("Expected JsonProcessingException to be thrown");
    } catch (JsonProcessingException e) {
        // expected
    }
}
