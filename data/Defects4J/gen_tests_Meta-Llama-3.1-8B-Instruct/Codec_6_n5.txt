java
public void testBase64InputStreamRead() throws IOException {
    // Create a Base64InputStream that reads from a byte array
    byte[] bytes = new byte[12];
    for (int i = 0; i < bytes.length; i++) {
        bytes[i] = (byte) i;
    }
    ByteArrayInputStream bais = new ByteArrayInputStream(bytes);
    Base64InputStream base64InputStream = new Base64InputStream(bais, true);

    // Read the entire stream into a byte array
    byte[] readBytes = new byte[bytes.length];
    int bytesRead = base64InputStream.read(readBytes);

    // Check that the number of bytes read is equal to the number of bytes in the original array
    assertEquals(bytes.length, bytesRead);

    // Read the stream again to reproduce the issue
    readBytes = new byte[bytes.length];
    bytesRead = base64InputStream.read(readBytes);

    // Check that the number of bytes read is 0, as expected
    assertEquals(0, bytesRead);
}
