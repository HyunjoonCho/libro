javascript
// Test that @this emits warning when used with a typedef
goog.provide('test');

/**
 * @this {test.Thing}
 */
test.sharedMethod = function() {};

/**
 * @constructor
 */
test.A = function() {};

/**
 * @constructor
 */
test.B = function() {};

/**
 * @type {test.A|test.B}
 */
test.Thing = goog.typedef;

function testIssue() {
    var obj = null;
    test.sharedMethod.call(obj); // Should emit a warning
}

goog.require('goog.testing.jsunit');
goog.setTestOnly('testIssue');
