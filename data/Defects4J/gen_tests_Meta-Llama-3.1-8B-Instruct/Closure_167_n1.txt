javascript
describe('Test invalid property in for loop in prototype function', function() {
    var ns = {};
    ns.Thing = function() {
        this.subthing = { prop: 3 };
    };

    ns.MyClass = function(thing) {
        this.thing_ = thing;
    };

    ns.MyClass.prototype.doIt = function() {
        var subthing = this.thing_.subthing;
        for (var i = 0; i < subthing.noprop; i++) {
            // Intentionally leave this line uncommented to test the bug
        }
    };

    it('should throw an error when accessing invalid property in for loop', function() {
        var thing = new ns.Thing();
        var myClass = new ns.MyClass(thing);
        expect(function() {
            myClass.doIt();
        }).toThrow();
    });
});
