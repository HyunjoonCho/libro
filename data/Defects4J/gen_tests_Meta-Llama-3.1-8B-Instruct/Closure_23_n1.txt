java
import org.junit.Test;

import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.CompilerOptions;
import com.google.javascript.jscomp.JSError;
import com.google.javascript.jscomp.JSTypeCheckingPass;
import com.google.javascript.jscomp.JSTypeCheckingPassOptions;
import com.google.javascript.jscomp.JSTypeInfo;
import com.google.javascript.rhino.Node;
import com.google.javascript.rhino.Parser;
import com.google.javascript.rhino.Token;

public class TryFoldArrayAccessTest {

    @Test
    public void testTryFoldArrayAccess() throws Exception {
        String input = "[console.log('hello, '), 'world!'][1]";
        Compiler compiler = new Compiler();
        CompilerOptions options = new CompilerOptions();
        options.setLanguageMode(CompilerOptions.LanguageMode.ECHAS scriptType);
        options.setWarningLevel(CompilerOptions.WarningLevel.VERBOSE);
        compiler.compile( input, options);
        
        // check if the output is correct
        Node root = compiler.getTopLevel();
        Node node = root.getFirstChild();
        assertEquals(Token.CONSOLE_LOG, node.getType());
        assertEquals("world!", node.getFirstChild().getString