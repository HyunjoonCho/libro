public void testInvokerTransformerSerialization() throws Exception {
    // Create a deserializable object
    Map<String, Object> map = new HashMap<>();
    map.put("method", new Method("java.lang.Runtime", "exec", new Class<?>[] {String.class}, null));
    map.put("args", new Object[] {"ls -l"});

    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    ObjectOutputStream oos = new ObjectOutputStream(bos);
    oos.writeObject(new InvokerTransformer(map));

    // Deserialize the object
    ByteArrayInputStream bis = new ByteArrayInputStream(bos.toByteArray());
    ObjectInputStream ois = new ObjectInputStream(bis);
    InvokerTransformer transformer = (InvokerTransformer) ois.readObject();

    // Invoke the deserialized object
    transformer.invoke("java.lang.Runtime", "exec", new Object[] {"ls -l"});
}