public void testJsonParserSequenceSkipsToken() {
    JsonParser parser1 = new JsonParser() {
        @Override
        public boolean nextToken() {
            return false;
        }
        @Override
        public String nextTextValue() {
            return null;
        }
    };

    JsonParser parser2 = new JsonParser() {
        @Override
        public boolean nextToken() {
            return true;
        }
        @Override
        public String nextTextValue() {
            return "value";
        }
    };

    JsonParserSequence jsonParserSequence = JsonParserSequence.createFlattened(parser1, parser2);
    jsonParserSequence.nextToken(); // should not skip the token
    assertEquals("value", jsonParserSequence.nextTextValue());
}