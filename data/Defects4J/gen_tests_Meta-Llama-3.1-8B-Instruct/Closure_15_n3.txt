public void testSwitchedOrderOfDeleteAndHasKey() {
    Map<String, String> customData = new HashMap<>();
    customData.put("key", "value");
    String key = "key";
    String retval = null;
    boolean hadKey = customData.containsKey(key);
    if (customData.containsKey(key)) {
        retval = customData.remove(key);
    }
    assertEquals("value", retval);
    assertFalse(customData.containsKey(key));
}