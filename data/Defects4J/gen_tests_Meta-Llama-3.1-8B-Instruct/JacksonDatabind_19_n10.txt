public void testPropertiesValueCoercion() {
    Properties props = new Properties();
    props.setProperty("key", "value");
    props.setProperty("keyWithNullValue", null);

    ObjectMapper mapper = new ObjectMapper();
    try {
        // This should throw an exception because the value is null
        mapper.readValue(props, Map.class);
        fail("Expected an exception for null value");
    } catch (JsonProcessingException e) {
        // Expected exception
    }

    // This should work fine because the value is a String
    mapper.writeValueAsString(props);
}