public void testArrayJoin() {
    String variable = "value from user";
    String[] array = { "constant", variable };
    assertEquals(array.length, array.join(",").split(",").length);
    assertEquals("constant,value from user", array.join(","));
    array = { "constant", confirm("value from user") };
    assertEquals(array.length, array.join(",").split(",").length);
    assertEquals("constant,value from user", array.join(","));
}