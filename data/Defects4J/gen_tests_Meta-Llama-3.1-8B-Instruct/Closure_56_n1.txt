public void testLastWarningOrErrorTruncated() {
    // Create a test file with the specified content
    String testJs = "alert(foo);\nalert(bar);";

    // Compile the test file with the JavaScript compiler
    String output = new Compiler().compile(new StringReader(testJs), null, "test.js", "test.js");

    // Check that the last error is not truncated
    assertTrue(output.contains("test.js:2: ERROR - variable bar is undefined"));
    assertTrue(output.contains("test.js:1: ERROR - variable foo is undefined"));
}