java
import org.junit.Test;
import org.junit.runner.JUnitCore;
import org.junit.runner.Result;
import org.junit.runner.notification.Failure;

public class JavaScriptCompilerTest {
    @Test
    public void testLastWarningOrErrorIsTruncated() {
        // Create a test file with two errors
        String testFile = "alert(foo);\nalert(bar);";

        // Compile the test file and check the output
        String[] args = {"--warning_level", "VERBOSE", "--js", "test.js"};
        String[] output = JUnitCore.runClasses(JavaScriptCompilerTest.class, args);

        // Check if the last error is truncated
        String lastError = output[output.length - 1];
        System.out.println(lastError);
        assert lastError.contains("test.js:1: ERROR - variable foo is undefined");
        assert lastError.contains("test.js:2: ERROR - variable bar is undefined");
        assert!lastError.contains("alert(foo);");
        assert!lastError.contains("alert(bar);");
    }
}
