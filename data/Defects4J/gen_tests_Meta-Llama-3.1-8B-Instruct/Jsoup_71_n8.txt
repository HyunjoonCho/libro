public void testTextNodeSelector() throws Exception {
    Document document = DocumentBuilderFactory.newInstance().newDocumentBuilder().newDocument();
    Element root = document.createElement("root");
    document.appendChild(root);
    Element elem = document.createElement("elem");
    Text text = document.createTextNode("Hello");
    elem.appendChild(text);
    root.appendChild(elem);
    
    XPath xpath = XPathFactory.newInstance().newXPath();
    NodeList nodes = (NodeList) xpath.evaluate("elem + :text", document, XPathConstants.NODESET);
    assertEquals(1, nodes.getLength());
    assertEquals(text, nodes.item(0));
}