java
public void testExtendedBufferedReaderEOLHandling() {
    ExtendedBufferedReader reader = new ExtendedBufferedReader(new StringReader("ABC\r\nDEF\r\nGHI"));
    
    assertEquals(0, reader.getLineCount());
    reader.read();
    assertEquals(1, reader.getLineCount());
    
    reader = new ExtendedBufferedReader(new StringReader("ABC\rDEF\r\nGHI"));
    assertEquals(0, reader.getLineCount());
    reader.read();
    assertEquals(0, reader.getLineCount()); // should not increment line count for CR alone
    reader.read();
    assertEquals(1, reader.getLineCount());
    
    reader = new ExtendedBufferedReader(new StringReader("ABC\nDEF\nGHI"));
    assertEquals(0, reader.getLineCount());
    reader.read();
    assertEquals(1, reader.getLineCount());
}
