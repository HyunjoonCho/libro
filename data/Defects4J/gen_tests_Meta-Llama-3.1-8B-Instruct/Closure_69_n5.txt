javascript
goog.require('goog.testing.jsunit');

function demo() {
  var path = new goog.graphics.Path();
  var points = [[1,1], [2,2]];
  for (var i = 0; i < points.length; i++) {
    (i == 0? path.moveTo : path.lineTo)(points[i][0], points[i][1]);
  }
}

function testInstanceMethodWarning() {
  var error = null;
  try {
    demo();
  } catch (e) {
    error = e;
  }
  assertNotNull(error);
  assertStringContains("Unexpected this context", error.message);
}
