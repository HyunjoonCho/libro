java
public void testMissingOptionExceptionMessage() throws Exception {
    OptionSet options = new OptionSet();
    options.addOption("format", "f", false, "Format options");
    options.addOption("source", "s", false, "Source options");
    options.addOption("properties", "p", false, "Properties options");

    MissingOptionException e1 = new MissingOptionException(options);
    assertEquals("Missing required options: -format -source -properties", e1.getMessage());

    MissingOptionException e2 = new MissingOptionException(options, "-format", "-source", "-properties");
    assertEquals("Missing required options: -format -source -properties", e2.getMessage());

    // Test the new implementation
    OptionSet options2 = new OptionSet();
    options2.addOption("format", "f", false, "Format options");
    options2.addOption("source", "s", false, "Source options");
    options2.addOption("properties", "p", false, "Properties options");

    MissingOptionException e3 = new MissingOptionException(options2);
    StringBuilder buff = new StringBuilder();
    Iterator<String> iter = e3.getMissingOptions().iterator();
    while (iter.hasNext()) {
        buff.append("