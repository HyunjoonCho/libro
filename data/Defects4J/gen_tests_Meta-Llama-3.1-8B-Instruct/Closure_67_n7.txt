public void testAdvancedCompilationsBug() {
    // Create a class to mimic the JavaScript behavior
    class A {
        int _x;
    }

    // Save a reference to the function
    A func1 = new A();
    A func1Ref = func1;

    // Define the function
    func1 = new A() {
        public void func1() {
            this._x = 2;
            func2();
        }
    };

    // Define the function
    func2 = new A() {
        public void func2() {
            this._x = 3;
            // This should not be removed
            func3();
        }
    };

    // Test the behavior
    A instance = new A();
    instance.func1();
    assertEquals(2, instance._x);
}