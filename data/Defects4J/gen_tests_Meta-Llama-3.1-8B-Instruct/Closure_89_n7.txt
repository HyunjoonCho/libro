public void testRemoveFunctionProperties() {
    Map<String, Runnable> map = new HashMap<>();
    Runnable f1 = new Runnable() {
        public void run() {
            System.out.println("f1");
        }
    };
    f1.alwaysCall = true;
    Runnable f2 = new Runnable() {
        public void run() {
            System.out.println("f2");
        }
    };

    map.put("f1", f1);
    map.put("f2", f2);

    Runnable callFunctionByKey = new Runnable() {
        public void run() {
            Runnable f = map.get("f1");
            if (f!= null && f.getClass().getField("alwaysCall")!= null) {
                try {
                    f.getClass().getField("alwaysCall").setBoolean(f, true);
                } catch (Exception e) {
                    fail("Exception caught");
                }
            }
            f.run();
        }
    };

    callFunctionByKey.run();
}