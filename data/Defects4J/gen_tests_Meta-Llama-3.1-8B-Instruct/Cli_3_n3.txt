java
import org.apache.commons.cli.ParseException;
import org.apache.commons.cli.PosixParser;
import org.apache.commons.cli.Options;

import org.junit.Test;
import static org.junit.Assert.assertEquals;
import static org.junit.Assert.fail;

public class PosixParserTest {

    @Test
    public void testPosixParserSpecialOption() throws ParseException {
        Options options = new Options();
        options.addOption("t", "target", true, "Generate files for the specified target machine");
        PosixParser parser = new PosixParser();
        String[] args = {"-t"};
        try {
            parser.parse(options, args);
            fail("Expected ParseException");
        } catch (ParseException e) {
            assertEquals("Missing argument for option t", e.getMessage());
        }

        args = new String[]{"-target"};
        try {
            parser.parse(options, args);
            fail("Expected ParseException");
        } catch (ParseException e) {
            assertEquals("Missing argument for option target", e.getMessage());
        }

        args = new String[]{"-t", "foobar.com"};
        try {
            parser.parse(options, args);
            assertEquals("foobar.com", parser.getOptionValue("t"));
        } catch (ParseException e) {
            fail("Expected no ParseException");
        }

       