public void testArgumentCaptorVarargs() {
    ArgumentCaptor<Integer> captor = ArgumentCaptor.forClass(Integer.class);
    when(mockMethod(1, 2, 3, 4)).thenReturn("result");
    mockMethod(1, captor.capture(), 3, 4);
    assertEquals(Arrays.asList(2, 5), captor.getAllValues());
}