javascript
function f() {
  var a = [], b;
  a.push(b = []);
  b[0] = 1;
  return a;
}

function testClosureCompilerBug() {
  var compiledFunction = compileCode("function f() { " + f.toString() + " }");
  var result = compiledFunction();
  assert(result === [undefined]);
}

// Define a simple compiler for demonstration purposes
function compileCode(code) {
  return new Function(code);
}
