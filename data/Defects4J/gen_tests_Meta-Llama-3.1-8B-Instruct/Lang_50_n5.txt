public void testFastDateFormatLocaleChange() throws Exception {
    Locale originalLocale = Locale.getDefault();
    Locale.setDefault(Locale.US);
    FastDateFormat dateFormat = FastDateFormat.getInstance("yyyy-MM-dd");
    dateFormat.format(new Date());
    Locale.setDefault(originalLocale);
    try {
        Locale.setDefault(Locale.UK);
        FastDateFormat newDateFormat = FastDateFormat.getInstance("yyyy-MM-dd");
        assertNotSame(dateFormat, newDateFormat);
    } finally {
        Locale.setDefault(originalLocale);
    }
}