javascript
function func(a, b) {
    var results;
    if (a) {
        results = {};
        results.prop1 = { a: 3 };
    }
    if (b) {
        results = results || {};
        results.prop2 = 'prop2';
    } else {
        results = results || {};
        results.prop3 = 'prop3';
    }
    return results;
}

var result1 = func(true, true);
console.assert(JSON.stringify(result1) === '{"prop1":{"a":3},"prop2":"prop2"}');

var result2 = func(true, false);
console.assert(JSON.stringify(result2) === '{"prop1":{"a":3},"prop3":"prop3"}');

var result3 = func(false, true);
console.assert(JSON.stringify(result3) === '{"prop2":"prop2"}');

var result4 = func(false, false);
console.assert(JSON.stringify(result4) === {});

var result5 = func(true, true, false);
console.assert(JSON.stringify(result5) === '{"prop1":{"a":3},"prop2":"prop2"}');
