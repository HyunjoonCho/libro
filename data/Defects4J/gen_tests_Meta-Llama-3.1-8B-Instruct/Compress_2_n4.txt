java
public void testArDeletion() throws IOException {
    // Create a temporary archive
    File tempDir = new File(System.getProperty("java.io.tmpdir"));
    File archive = new File(tempDir, "test.ar");
    try (ZipArchive zipArchive = new ZipArchive(archive)) {
        // Add two files to the archive
        zipArchive.add("test1.xml");
        zipArchive.add("test2.xml");

        // Delete one of the files
        zipArchive.delete("test2.xml");

        // Check that getNextEntry returns null for the deleted file
        ZipArchiveEntry entry = zipArchive.getNextEntry();
        assertNull(entry);
        entry = zipArchive.getNextEntry();
        assertNotNull(entry);
        assertEquals("test1.xml", entry.getName());

        // Check that the deleted file is still present when listing the archive
        // using the 'ar' command
        Process process = Runtime.getRuntime().exec(new String[] {"ar", "-t", archive.getAbsolutePath()});
        BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));
        String line;
        while ((line = reader.readLine())!= null) {
            assertEquals("test1.xml", line);
            try {
                // If the deleted file is present, the 'ar' command will return