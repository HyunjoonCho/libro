java
public void testGsonTypeAdapterFactoryCreateReturnsNull() {
    // Create a TypeAdapterFactory that always returns null
    TypeAdapterFactory typeAdapterFactory = new TypeAdapterFactory() {
        @Override
        public <T> TypeAdapter<T> create(Gson gson, TypeToken<T> type) {
            return null;
        }
    };

    Gson gson = new GsonBuilder().registerTypeAdapterFactory(typeAdapterFactory).create();

    // Test that Gson does not throw NPE
    try {
        gson.fromJson("{\"key\":\"value\"}", String.class);
    } catch (Exception e) {
        fail("Expected Gson to not throw NPE, but got " + e.getMessage());
    }
}
