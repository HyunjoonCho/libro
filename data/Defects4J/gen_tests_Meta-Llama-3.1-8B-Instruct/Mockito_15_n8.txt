public void testArgumentCaptorVarargs() {
    ArgumentCaptor<String> captor = ArgumentCaptor.forClass(String.class);
    Object[] args = new Object[] {"arg1", "arg2"};
    Mockito.doNothing().when(mock).method(captor.capture(), org.mockito.Matchers.any());
    mock.method("arg1", "arg2", "arg3");
    assertEquals(3, captor.getAllValues().size());
}