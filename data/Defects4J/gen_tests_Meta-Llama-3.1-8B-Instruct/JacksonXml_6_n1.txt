java
public void testToXmlGeneratorWriteBinary() throws Exception {
    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    ToXmlGenerator gen = new ToXmlGenerator(bos);
    byte[] data = "Hello, World!".getBytes();
    gen.writeBinary(Base64Variant.STANDARD, new ByteArrayInputStream(data), data.length);
    gen.close();
    String expectedXml = "<?xml version=\"1.0\" encoding=\"UTF-8\"?><root><binary>SGVsbG8sIFdvcmxkIQ==</binary></root>";
    assertEquals(expectedXml, bos.toString());
}
