public void testWriteBinaryWithInputStream() {
    ToXmlGenerator gen = new ToXmlGenerator();
    gen.writeStartObject();
    gen.writeFieldName("binary");
    gen.writeBinary("base64", new ByteArrayInputStream("Hello World".getBytes()), "Hello World".getBytes().length);
    gen.writeEndObject();
    // This will not throw an exception, but the XML output will be incorrect
}