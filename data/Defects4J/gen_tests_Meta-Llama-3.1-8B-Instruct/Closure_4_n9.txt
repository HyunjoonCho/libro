javascript
function testInterfaceConstructorCycle() {
  // Define an interface type
  function OtherType() {}
  OtherType.prototype = Object.create(Object.prototype);

  // Define a type that implements itself
  function MyType() {}
  MyType.prototype = Object.create(Object.prototype);
  MyType.prototype.__proto__ = OtherType.prototype;

  // Create an instance of a type that implements the interface
  var x = new Object();

  // Check that we get an infinite recursion error
  try {
    var instance = new MyType();
  } catch (e) {
    // Expected error
  }
}
