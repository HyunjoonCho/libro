public void testBlockJdkTypesFromPolymorphicDeserialization() {
    try {
        ObjectMapper mapper = new ObjectMapper();
        mapper.enableDefaultTyping(DeserializationConfig.DefaultTyping.NON_NULL, JsonTypeInfo.As.PROPERTY);
        mapper.registerSubtypes(new JavaType[]{
            JavaTypeFactory.builderInstance(mapper.getDeserializationConfig())
                   .addDefaultTyping(DeserializationConfig.DefaultTyping.NON_NULL, JsonTypeInfo.As.PROPERTY)
                   .build().constructType(Class.forName("java.io.File"))
        });
        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);
        mapper.readValue("{\"value\":\"/path/to/file\"}", Map.class);
        fail("Expected DeserializationProblemHandler to be called");
    } catch (JsonProcessingException e) {
        // expected
    }
}