public void testSwfobjectEncoding() {
    String input = "\"<>.;\"ie =!+\"\\v1\"";
    String expected = encodeURIComponent(input);
    String closureCompiled = "[\"<>.;].exec(a)!=null&&typeof encodeURIComponent!=j?encodeURIComponent(a):a".replace("j", "undefined");
    String minified = "[\"<>.;].exec(a)!=null&&typeof encodeURIComponent!=undefined?encodeURIComponent(a):a";
    assertEquals(expected, urlEncodeIfNecessary(input));
    assertEquals(expected, new JavaScriptMinifier().minify(closureCompiled));
    assertEquals(expected, minified);
}