java
@Test(expected = JsonMappingException.class)
public void testIndexNeverSetForCollection() throws JsonMappingException {
    ObjectReader reader = new ObjectMapper().readerFor(String.class);
    String json = "[\"a\", \"b\", \"c\"]";
    try {
        reader.readValue(json);
    } catch (JsonMappingException e) {
        // Verify that the index is always -1
        assertEquals(-1, e.getPath().get(0).getLeafAsInt());
        throw e;
    }
}
