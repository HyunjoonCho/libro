public void testInvalidFormatExceptionIndex() {
    // Create a collection with a single element
    String[] array = {"test"};
    // Deserialize a JSON string that is too long
    try {
        new ObjectMapper().readValue("{\"array\": [\"too long\"}", new TypeReference<List<String>>() {});
        fail("Expected InvalidFormatException to be thrown");
    } catch (InvalidFormatException e) {
        // Check that the index is correctly set to the size of the array
        assertEquals(0, e.getIndex());
    }
}