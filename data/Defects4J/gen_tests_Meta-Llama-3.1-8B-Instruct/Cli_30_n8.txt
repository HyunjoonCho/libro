public void testDefaultOptionsNotUpdated() {
    Properties defaultOptions = new Properties();
    defaultOptions.setProperty("a", "valueA");
    defaultOptions.setProperty("b", "valueB");

    OptionSet options = new OptionSet("a");
    options.add("b");

    try {
        new CommandLine(new String[] {"--a"}, defaultOptions);
        fail("Expected OptionSet to throw exception for mutually exclusive options");
    } catch (OptionException e) {
        // expected
    }
}