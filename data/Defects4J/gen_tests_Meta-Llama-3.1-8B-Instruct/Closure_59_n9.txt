public void testExcludeGlobalThisChecks() {
    // Test that globalThis checks are not excluded with command line flags
    // Create a temporary file for the input
    File inputFile = File.createTempFile("input", ".js");
    try (PrintWriter writer = new PrintWriter(inputFile)) {
        writer.println("globalThis.alert('Hello World');");
    }
    // Run the JSC compiler with the --jscomp_off globalThis flag
    ProcessBuilder processBuilder = new ProcessBuilder("java", "-jar", "compiler.jar", "--jscomp_off", "globalThis", "--jscomp_off", "nonStandardJsDocs", inputFile.getAbsolutePath());
    Process process = processBuilder.start();
    process.waitFor();
    // Check that the output still contains a warning about globalThis
    File outputFile = new File(inputFile.getAbsolutePath() + ".js");
    try (Scanner scanner = new Scanner(outputFile)) {
        while (scanner.hasNextLine()) {
            String line = scanner.nextLine();
            if (line.contains("globalThis")) {
                fail("globalThis check not excluded");
            }
        }
    }
}