public void testArDeletionFailure() throws IOException {
    // Create an archive with two entries
    Path tempFile = Files.createTempFile("bla.ar", null);
    try (ArchiveArchive archive = new ArchiveArchive(tempFile.toFile())) {
        archive.createEntry("test1.xml", "entry1".getBytes());
        archive.createEntry("test2.xml", "entry2".getBytes());
    }
    
    // Delete one of the entries
    try (ArchiveArchive archive = new ArchiveArchive(tempFile.toFile())) {
        archive.deleteEntry("test2.xml");
    }
    
    // Check if getNextEntry still returns the remaining entry
    try (ArchiveArchive archive = new ArchiveArchive(tempFile.toFile())) {
        assertEquals("test1.xml", archive.getNextEntry().getName());
    }
    
    // Check if the deleted entry still exists in the archive
    try (ArchiveArchive archive = new ArchiveArchive(tempFile.toFile())) {
        assertTrue(archive.getEntry("test2.xml")!= null);
    }
    
    // Try to add a new entry to the archive
    try (ArchiveArchive archive = new ArchiveArchive(tempFile.toFile())) {
        archive.createEntry("test.txt", "entry3".getBytes());