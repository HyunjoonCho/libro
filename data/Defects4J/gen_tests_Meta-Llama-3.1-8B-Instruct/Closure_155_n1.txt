public void testOverzealousArgumentsOptimization() {
    Object originalFunction = new Object() {
        public void call(Object... args) {
            System.out.println("Original function called with " + args.length + " arguments");
        }
    };
    Object optimizedFunction = new Object() {
        public void call(Object... args) {
            args[0] = this;
            originalFunction.call(this, args);
        }
    };
    Object[] args = new Object[1];
    optimizedFunction.call(args);
    assertEquals(1, args.length);
    assertEquals(optimizedFunction, args[0]);
}