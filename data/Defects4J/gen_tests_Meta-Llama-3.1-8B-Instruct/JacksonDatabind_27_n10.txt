public void testExternalTypeIdBeforePojo() {
    ObjectMapper mapper = new ObjectMapper();
    String json = "{\"_t\":\"com.example.TestPojo\"}";
    TestPojo pojo = new TestPojo();
    try {
        pojo = mapper.readValue(json, TestPojo.class);
        fail("Expected DeserializationException");
    } catch (JsonMappingException e) {
        // expected
    }
}

public static class TestPojo {
    @ExternalType(typeId = "com.example.TestPojo")
    private Object id;
}