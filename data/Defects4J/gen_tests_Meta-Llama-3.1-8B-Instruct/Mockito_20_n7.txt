java
public class Test {

    @Mock
    private UserAccount userAccount;

    @Before
    public void setup() {
        when(userAccount.getEmails()).thenReturn(new ArrayList<>());
        when(userAccount.addEmail(anyString())).thenAnswer(new Answer<Void>() {
            @Override
            public Void answer(InvocationOnMock invocation) throws Throwable {
                userAccount.getEmails().add(invocation.getArguments()[0]);
                return null;
            }
        });
    }

    @Test
    public void testGetEmails() {
        userAccount.addEmail("email1");
        userAccount.addEmail("email2");
        assertEquals(2, userAccount.getEmails().size());
    }
}
