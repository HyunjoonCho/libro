javascript
describe('Issue test', function() {
    it('should report error at both lines', function() {
        var Myclass = function() {};
        Myclass.prototype.fn = function(success) {};

        Myclass.prototype.test = function() {
            // This should throw an error
            this.fn();

            // This should also throw an error, but it will override the previous error
            this.fn = function() {};
        };

        expect(function() {
            new Myclass().test();
        }).toThrow();
    });
});
