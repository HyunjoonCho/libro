public void testGroupConstraints() {
    OptionGroup groupB = new OptionGroup("groupB");
    groupB.addOption(new Option("optionB"));
    groupB.addOption(new Option("optionC"));
    
    OptionGroup groupA = new OptionGroup("groupA");
    groupA.addOption(new Option("optionA"));
    groupB.addOption(groupA);
    
    WriteableCommandLine cmd = new WriteableCommandLine();
    cmd.addOption(groupB);
    
    cmd.setOptionValue("optionB", true);
    
    assertTrue(cmd.hasOption("groupB"));
    assertTrue(cmd.hasOption("optionB"));
    assertTrue(cmd.hasOption("optionA"));
    assertTrue(cmd.hasOption("groupA"));
    
    cmd.setOptionValue("optionC", true);
    
    assertTrue(cmd.hasOption("groupB"));
    assertTrue(cmd.hasOption("optionC"));
    assertTrue(cmd.hasOption("optionA"));
    assertTrue(cmd.hasOption("groupA"));
    
    cmd.setOptionValue("optionB", false);
    cmd.setOptionValue("optionC", false);
    
    assertFalse(cmd.hasOption("groupB"));
    assertFalse(cmd.hasOption("optionB"));
    assertFalse(cmd.hasOption("optionC"));
    assertFalse(cmd.hasOption("optionA"));
    assertFalse