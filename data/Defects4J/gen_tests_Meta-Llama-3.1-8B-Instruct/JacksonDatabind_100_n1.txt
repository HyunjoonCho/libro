java
import com.fasterxml.jackson.databind.JsonNode;
import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.node.TextNode;
import com.fasterxml.jackson.core.Base64Variant;
import com.fasterxml.jackson.core.JsonParser;
import com.fasterxml.jackson.core.JsonToken;
import com.fasterxml.jackson.databind.util.Base64Variants;

public void testTreeTraversingParser() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    JsonNode tree = mapper.readTree("{\"value\":\"SGVsbG8gd29ybGQ=\"}");
    JsonParser jp = mapper.treeAsTokens(tree);
    TreeTraversingParser parser = new TreeTraversingParser(jp);
    Base64Variant base64Variant = Base64Variants.MIME_NO_LINEFEEDS;
    JsonNode node = parser.readValueAsTree();
    JsonNode valueNode = node.get("value");
    assert valueNode instanceof TextNode;
    TextNode textNode = (TextNode) valueNode;
    assertEquals(base64Variant, textNode.getBase64Variant());
}
