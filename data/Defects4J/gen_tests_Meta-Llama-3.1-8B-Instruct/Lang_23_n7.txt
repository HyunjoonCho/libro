java
public void testExtendedMessageFormatEquals() {
    ExtendedMessageFormat fmt1 = new ExtendedMessageFormat("pattern");
    ExtendedMessageFormat fmt2 = new ExtendedMessageFormat("pattern");
    ExtendedMessageFormat fmt3 = new ExtendedMessageFormat("different pattern");

    // Before fixing the bug, this assertion would fail because ExtendedMessageFormat does not override equals
    assertNotSame(fmt1, fmt2);
    
    // Even though fmt1 and fmt2 are not the same object, they are equal because they have the same pattern
    assertEquals(true, fmt1.equals(fmt2));
    
    // fmt3 is not equal to fmt1 because they have different patterns
    assertEquals(false, fmt1.equals(fmt3));
}

public class ExtendedMessageFormat extends MessageFormat {
    private String pattern;

    public ExtendedMessageFormat(String pattern) {
        this.pattern = pattern;
    }

    @Override
    public boolean equals(Object obj) {
        if (this == obj) {
            return true;
        }
        if (obj == null || getClass()!= obj.getClass()) {
            return false;
        }
        ExtendedMessageFormat other = (ExtendedMessageFormat) obj;
        return this.pattern.equals(other.pattern);
    }
}
