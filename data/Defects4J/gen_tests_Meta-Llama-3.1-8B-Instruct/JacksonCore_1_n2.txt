java
public void testNullPointerWhenReadingNaNAsBigDecimal() {
    JsonFactory f = new JsonFactory();
    JsonParser jp = f.createParser(new ByteArrayInputStream("NaN".getBytes()));

    try {
        jp.enable(JsonParser.Feature.ALLOW_NON_NUMERIC_NUMBERS);
        jp.nextToken();
        BigDecimal bigDecimal = jp.getDecimalNumber();
        fail("Expected NumberFormatException, but got " + bigDecimal);
    } catch (NumberFormatException e) {
        // Expected
    }

    try {
        jp.enable(JsonParser.Feature.ALLOW_NON_NUMERIC_NUMBERS);
        jp.nextToken();
        Integer integer = jp.getIntValue();
        fail("Expected NumberFormatException, but got " + integer);
    } catch (NumberFormatException e) {
        // Expected
    }
}
