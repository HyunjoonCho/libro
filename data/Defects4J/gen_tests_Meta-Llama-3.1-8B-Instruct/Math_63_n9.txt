public void testNaNEquals() {
    double nan1 = Double.NaN;
    double nan2 = Double.NaN;
    double notNaN = 0.0;
    assertFalse(nan1 == nan2);
    assertTrue(nan1.equals(nan1));
    assertTrue(nan1.equals(nan2));
    assertFalse(nan1.equals(notNaN));
}