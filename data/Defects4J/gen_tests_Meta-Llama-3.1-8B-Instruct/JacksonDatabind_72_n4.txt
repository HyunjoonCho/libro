java
public class TestDeserializeNonStaticInnerClass {

    @Test(expected = JsonMappingException.class)
    public void testDeserializeNonStaticInnerClass() throws JsonProcessingException {
        ObjectMapper mapper = new ObjectMapper();
        String ser = mapper.writeValueAsString(new Outer(null));
        mapper.readValue(ser, Outer.class);
    }

    public static class Outer {
        public Inner a;

        @JsonCreator
        public Outer(@JsonProperty("a") Inner a) {}

        public static class Inner {
            @JsonCreator
            public Inner() {}
        }
    }
}
