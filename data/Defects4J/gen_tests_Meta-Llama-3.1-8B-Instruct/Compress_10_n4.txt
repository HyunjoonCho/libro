public void testIssue1234() throws IOException {
    // Create a zip file with Unicode extra fields
    ZipArchiveOutputStream out = new ZipArchiveOutputStream(new FileOutputStream("test.zip"));
    out.putCentralDirectoryEntry(new ZipArchiveEntry("test.txt", "UTF-8", "UTF-8", "test".getBytes()));
    out.close();

    ZipFile zipFile = new ZipFile("test.zip");
    Enumeration<? extends ZipArchiveEntry> entries = zipFile.getEntries();
    ZipArchiveEntry entry = entries.nextElement();
    ZipArchiveEntry originalEntry = entry;
    entry = zipFile.getEntry(entry.getName());
    assertNotSame(originalEntry, entry);

    // The getInputStream() should return null because the entry was not retrieved from the HashMap
    assertSame(null, zipFile.getInputStream(entry));
}