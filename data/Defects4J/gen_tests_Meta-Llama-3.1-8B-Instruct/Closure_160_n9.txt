public void testUndefinedVars() {
    String expectedStdOut = "test.js:2: WARNING - dangerous use of the global this object\ntest.js:1: ERROR - variable foo is undefined\nfoo = {};\n^\n1 error(s), 1 warning(s)";
    String expectedStdOutVerbose = "test.js:2: WARNING - dangerous use of the global this object\ntest.js:1: ERROR - variable foo is undefined\nfoo = {};\n^";
    String expectedStdOutGlobalThis = "test.js:2: WARNING - dangerous use of the global this object\n0 error(s), 1 warning(s)";
    String expectedStdOutCheckVars = "";
    String expectedStdOutUndefinedVars = "";

    // Test case 1: --jscomp_warning undefinedVars
    Process process = executeCompiler("--js test.js --jscomp_warning undefinedVars");
    String stdOut = getStdOut(process);
    assertEquals(expectedStdOutUndefinedVars, stdOut);

    // Test case 2: --jscomp_warning checkVars
    process = executeCompiler("--js test.js --jscomp_warning checkVars");
    stdOut = getStdOut(process);
    assertEquals(expectedStdOutCheckVars, stdOut