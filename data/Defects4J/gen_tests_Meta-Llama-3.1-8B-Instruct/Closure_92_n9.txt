javascript
goog.provide('test.ImplicitNamespaceBug');

goog.require('goog.testing.jsunit');

function testImplicitNamespaceBug() {
  goog.exportSymbol('apps.foo.bar', {baz: 'baz'});
  goog.exportSymbol('apps.foo.bar.B', {qux: 'qux'});

  var apps = goog.getObjectSafe('apps');
  assertNotNull(apps);
  assertNotNull(apps.foo);
  assertNotNull(apps.foo.bar);
  assertNotNull(apps.foo.bar.B);

  // Test the bug
  goog.exportSymbol('apps.foo', {quux: 'quux'});

  assertNotNull(apps.foo.bar);
  assertNotNull(apps.foo);
  assertNotNull(apps.foo.bar.B);

  // Cleanup
  delete apps.foo.bar;
  delete apps.foo;
}

goog.require('goog