java
import org.junit.Test;
import org.junit.runner.RunWith;
import org.junit.runners.JUnit4;

import com.google.javascript.jscomp.CompilationLevel;
import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.CompilerOptions;
import com.google.javascript.jscomp.JSError;
import com.google.javascript.jscomp.SourceFile;

import java.io.File;
import java.io.FileWriter;
import java.io.IOException;
import java.io.PrintWriter;

import static org.junit.Assert.assertEquals;

@RunWith(JUnit4.class)
public class AdvancedOptimizationsTest {

    @Test
    public void testIssue() throws IOException {
        // Create input file
        File inputJs = File.createTempFile("input", ".js");
        try (PrintWriter writer = new PrintWriter(new FileWriter(inputJs))) {
            writer.println("window['anchor'] = function (obj, modifiesProp) {");
            writer.println("return (function (saved) {");
            writer.println("return modifiesProp(obj) + saved;");
            writer.println("})(obj['prop']);");
        }

        // Compile with advanced optimizations
        Compiler compiler = new Compiler();
        CompilerOptions options = new CompilerOptions();
        options.setCompilationLevel(CompilationLevel.ADVANCED_OPTIMIZATIONS);
       