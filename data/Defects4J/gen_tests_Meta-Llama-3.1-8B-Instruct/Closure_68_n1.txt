java
import org.junit.Test;
import org.junit.runner.RunWith;
import com.google.common.collect.ImmutableSet;
import com.google.javascript.jscomp.CompilationLevel;
import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.JSError;
import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertTrue;

@RunWith(com.google.common.collect.TestGuiceRunner.class)
public class TypeAnnotationTest {
  @Test
  public void testIssue() {
    Compiler compiler = new Compiler();
    compiler.setCompilationLevel(CompilationLevel.WHITESPACE_ONLY);
    compiler.setWarningLevel(ImmutableSet.of(JSError.Severity.WARNING));
    compiler.compile("var callback; // @type function");
    assertEquals(1, compiler.getErrors().size());
    JSError error = compiler.getErrors().get(0);
    assertEquals("Parse error. Unexpected end of file", error.getMessage());
    assertEquals(2, error.getOffset());
  }
}
