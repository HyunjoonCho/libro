java
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.jsoup.nodes.Node;
import org.jsoup.select.Elements;

import org.junit.Test;

public class JsoupIssueTest {

    @Test
    public void testJsoupIssue() {
        String html = "<html>  " +
                "<body>  " +
                "<script type=\"text/javascript\">  " +
                "var inside = true;  " +
                "</script>  " +
                "this should be outside.  " +
                "</body>  " +
                "</html>";

        Document doc = Jsoup.parse(html);
        Element body = doc.body();

        Node node = body.childNodes().get(2);
        if (node instanceof Element) {
            Element script = (Element) node;
            assert script.text().equals("var inside = true;");
            Node nextSibling = script.nextSibling();
            if (nextSibling!= null && nextSibling instanceof TextNode) {
                assert nextSibling.toString().equals("this should be outside.");
            } else {
                assert false; // expected sibling is a TextNode
            }
        } else {
            assert false; // expected sibling is an Element (script)
        }
    }
}
