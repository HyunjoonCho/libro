public void testSerializationInclusion() {
    ObjectMapper mapper = new ObjectMapper();
    mapper.setSerializationInclusion(JsonInclude.Include.NON_ABSENT);
    mapper.registerModule(new Jdk8Module());

    JsonResult result = new JsonResult();
    result.setA(Optional.empty());
    result.setB(Optional.empty());
    result.setC(Optional.of(new ArrayList<>()));
    result.setD(Optional.of(0));
    result.setE(Optional.of(""));

    String json = mapper.writeValueAsString(result);
    assert json.contains("null") && json.contains("null") && json.contains("[ ]") && json.contains("0") && json.contains("\"\"");

    mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);
    json = mapper.writeValueAsString(result);
    assert!json.contains("null") && json.contains("[ ]") && json.contains("0") && json.contains("\"\"");
}