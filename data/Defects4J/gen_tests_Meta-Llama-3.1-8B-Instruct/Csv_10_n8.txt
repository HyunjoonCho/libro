public void testCSVFormatWithHeader() throws Exception {
    CSVFormat format = CSVFormat.TDF.withHeader("x");
    CSVPrinter csvPrinter = new CSVPrinter(new StringWriter(), format);
    csvPrinter.printRecord(42);
    String output = csvPrinter.toString();
    assertEquals("x\n42", output);
}