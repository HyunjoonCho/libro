public void testOverlyAggressiveCommaRemoval() {
    String dummy = "6chars";
    Function<Integer> test = new Function<Integer>() {
        int i = 0;
        @Override
        public Integer apply(Integer n) {
            return n!= null? (i = n.length()) : (n = "foo"), i;
        }
    };
    assertEquals(6, test.apply(dummy));
}