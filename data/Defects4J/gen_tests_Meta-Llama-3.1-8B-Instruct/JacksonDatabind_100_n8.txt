public void testTreeTraversingParser() {
    // Create a Base64 variant that is not the default
    Base64Variant base64Variant = Base64Variants.MIME_NO_LINEFEEDS;
    
    // Create a TextNode with binary value
    TextNode node = new TextNode("SGVsbG8gd29ybGQ=");
    
    // Use the custom Base64 variant to get the binary value
    byte[] actual = node.getBinaryValue(base64Variant);
    
    // Create a TreeTraversingParser with the custom Base64 variant
    TreeTraversingParser parser = new TreeTraversingParser();
    parser.setBase64Variant(base64Variant);
    
    // Use the parser to get the binary value, which should use the custom variant
    byte[] expected = parser.getBinaryValue(node);
    
    assertArrayEquals(expected, actual);
}