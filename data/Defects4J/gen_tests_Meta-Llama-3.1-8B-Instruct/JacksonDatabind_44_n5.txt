public void testDefaultImplPolymorphism() {
    // Create a simple base class with a property
    class Base {
        @JsonProperty
        public int baseProperty = 10;
    }

    // Create a sub-class with a default implementation
    class Sub extends Base {
        @JsonProperty
        public int subProperty = 20;

        @JsonDefault
        public int defaultImpl() {
            return 30;
        }
    }

    ObjectMapper mapper = new ObjectMapper();
    Sub sub = mapper.readValue("{\"baseProperty\": 40, \"subProperty\": 50}", Sub.class);
    assertEquals(40, sub.baseProperty);
    assertEquals(50, sub.subProperty);
    assertEquals(30, sub.defaultImpl());
}