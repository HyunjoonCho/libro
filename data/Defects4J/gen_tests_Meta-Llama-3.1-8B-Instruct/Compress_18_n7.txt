java
public void testLongDirectoryNamesInTarArchive() throws IOException {
    // Create a TarArchiveOutputStream
    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    TarArchiveOutputStream tarOs = new TarArchiveOutputStream(bos);

    // Create a directory name that is longer than 100 bytes
    String longDirectoryName = new String(new char[101]).replace('\0', 'a');

    // Attempt to add the directory to the TarArchive
    tarOs.putArchiveEntry(new TarArchiveEntry(longDirectoryName));
    tarOs.closeEntry();

    // Check if an IOException was thrown
    assertThrows(IOException.class, () -> tarOs.close());
}
