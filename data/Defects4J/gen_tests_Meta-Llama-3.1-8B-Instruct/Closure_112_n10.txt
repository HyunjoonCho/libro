public void testTemplateInference() {
    // Define a class with a generic method
    public class Class<T> {
        public <T> String foo(T a) {
            return "string";
        }
    }

    // Define a method that takes a Class<T> as a parameter
    public String a(Class<?> a) {
        return "";
    }

    // Try to instantiate the class with the method
    Class<?> clazz = new Class<>();
    clazz.foo(a(clazz));
}