public void testTARChecksum() {
    byte[] data = new byte[] {'0', '1', '2', '3', '4', '5', '6', '7', '8', '9',''};
    int storedChecksum = calculateChecksum(data);
    assertEquals(calculateChecksum(Arrays.copyOfRange(data, 0, 6)), storedChecksum);
}

private int calculateChecksum(byte[] data) {
    int sum = 0;
    for (byte b : data) {
        int digit = Character.getNumericValue(b);
        if (digit >= 0 && digit <= 7) {
            sum = (sum * 8 + digit) % 256;
        }
    }
    return sum;
}