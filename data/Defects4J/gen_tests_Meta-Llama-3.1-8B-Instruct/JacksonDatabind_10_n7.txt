public void testJsonAnyGetterWithJsonSerialize() {
    Object obj = new Object() {
        @JsonSerialize(using = MySerializer.class)
        @JsonAnyGetter
        public Map<String, String> getParameters() {
            return new HashMap<>();
        }
    };

    try {
        ObjectMapper mapper = new ObjectMapper();
        mapper.writeValueAsString(obj);
        fail("Expected JsonMappingException");
    } catch (JsonMappingException e) {
        // expected
    }
}