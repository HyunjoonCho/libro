public void testJsonIgnorePropertiesAllowSetters() {
    ObjectMapper mapper = new ObjectMapper();
    JsonTest json = new JsonTest("user", "password");
    try {
        String jsonStr = mapper.writeValueAsString(json);
        System.out.println(jsonStr); // prints {"username":"user"}
        assertEquals("{\"username\":\"user\"}", jsonStr);
    } catch (JsonProcessingException e) {
        // expected
    }

    String jsonString = "{\"username\":\"username\",\"password\":\"password\"}";
    try {
        json = mapper.readValue(jsonString, JsonTest.class);
        System.out.println(json.getPassword()); // should print "password"
        assertEquals("password", json.getPassword());
    } catch (IOException e) {
        fail("Should not throw exception");
    }
}