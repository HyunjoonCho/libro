java
public void testNullPointerExceptionWhenReadingNaNAsBigDecimal() throws JsonParseException {
    JsonFactory jsonFactory = new JsonFactory();
    JsonParser jp = jsonFactory.createParser(new StringReader("{\"a\":NaN}"));
    jp.enable(JsonParser.Feature.ALLOW_NON_NUMERIC_NUMBERS);
    jp.nextToken();
    jp.nextToken();
    try {
        jp.getDecimalNumber();
        fail("Expected NumberFormatException to be thrown");
    } catch (JsonParseException e) {
        assertEquals(NumberFormatException.class, e.getCause().getClass());
    }
}
