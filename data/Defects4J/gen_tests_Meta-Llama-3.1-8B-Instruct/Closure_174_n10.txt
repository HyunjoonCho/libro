java
import org.junit.Test;
import org.mozilla.javascript.Context;
import org.mozilla.javascript.Scriptable;

public class ClosureCompilerTest {

    @Test(expected = Exception.class)
    public void testScopeCrash() {
        Context context = Context.enter();
        Scriptable scope = context.initStandardObjects();
        context.evaluateString(scope, "goog.provide('main');\n" +
                "goog.scope(function (){\n" +
                "    var a = foo,\n" +
                "        b,\n" +
                "        c = 1;\n" +
                "});", "main", "main", 0, null);
        Context.exit();
    }
}
