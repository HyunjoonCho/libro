javascript
function Test() {
    /**
     * @param {{prop1: string, prop2: (number|undefined)}} parry
     */
    this.callz = function(parry) {
        if (parry.prop2 && parry.prop2 < 5) {
            console.log('alright!');
        }
        console.log(parry.prop1);
    };
}

function testAnonymousObjectTypeInference() {
    var test = new Test();
    test.callz({prop1: 'hi'});  // This should compile and run fine
    try {
        new Test().callz({prop1: 'hi'});  // This should throw an error
        assert(false, "Expected error not thrown");
    } catch (e) {
        assert(e instanceof Error);
    }
}
