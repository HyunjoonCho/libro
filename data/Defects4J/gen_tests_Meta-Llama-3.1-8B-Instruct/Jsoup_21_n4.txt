java
import org.jsoup.nodes.Document;
import org.jsoup.select.Elements;
import org.jsoup.select.QueryParser;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.junit.Test;

import static org.junit.Assert.assertEquals;

public class JsoupTest {

    @Test(expected = java.util.regex.PatternSyntaxException.class)
    public void testSelectorParsingCommaInRegex() {
        Document doc = Document.createShell("<html><div><li>1</li><li>2</li></div></html>");
        Elements elements = doc.select("div, li:matches([0-9,]+)");
    }

    @Test
    public void testSelectorParsingCommaInAttribute() {
        Document doc = Document.createShell("<html><div attr=\"a,b\"></div></html>");
        Elements elements = doc.select("div[attr=a,b]");
        assertEquals(1, elements.size());
    }
}
