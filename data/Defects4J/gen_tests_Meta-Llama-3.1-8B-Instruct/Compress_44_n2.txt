java
public void testGetValueReturnsCorrectChecksum() {
    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    ChecksumCalculatingInputStream checksumCalculatingInputStream = new ChecksumCalculatingInputStream(bos, ChecksumCalculatingInputStream.SHA1);

    checksumCalculatingInputStream.read(new byte[1024]); // read some data

    assertEquals("Digest of SHA-1 checksum", checksumCalculatingInputStream.getValue());
}

public void testGetValueThrowsNullPointerException() {
    @Test(expected = NullPointerException.class)
    public void testGetValueThrowsNullPointerException() {
        ChecksumCalculatingInputStream checksumCalculatingInputStream = new ChecksumCalculatingInputStream(null, null);
        checksumCalculatingInputStream.getValue();
    }
}
