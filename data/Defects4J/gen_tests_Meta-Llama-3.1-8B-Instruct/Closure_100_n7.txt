public void testDangerousUseOfGlobalThis() {
    class Foo {
        private int _bar = null;
    }

    Foo foo = new Foo();
    // No warning expected
    foo._bar = 123;
    foo.readMethodWithAnnotation();
    foo.readMethodWithoutAnnotation();

    // Warning expected only for writeMethodWithoutAnnotation
    try {
        ((Foo) new Object()).writeMethodWithoutAnnotation();
        fail("Expected 'dangerous use of the global this object' warning");
    } catch (Exception e) {
        // expected
    }
}