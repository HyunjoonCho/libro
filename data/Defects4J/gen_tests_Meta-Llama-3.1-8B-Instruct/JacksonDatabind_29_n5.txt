public void testNullTypeIdForPolymorphicValues() {
    // Test that polymorphic values without a type id throw a NullPointerException
    try {
        PolymorphicValue pv = new PolymorphicValue(null, "defaultImpl");
        fail("Expected NullPointerException");
    } catch (NullPointerException e) {
        // expected
    }
    
    // Test that polymorphic values with a default implementation use the default implementation
    PolymorphicValue pv = new PolymorphicValue("defaultImpl", "defaultImpl");
    assertEquals("defaultImpl", pv.getTypeId());
    
    // Test that polymorphic values without a type id but with a default implementation use the default implementation
    pv = new PolymorphicValue(null, "defaultImpl");
    assertEquals("defaultImpl", pv.getTypeId());
}