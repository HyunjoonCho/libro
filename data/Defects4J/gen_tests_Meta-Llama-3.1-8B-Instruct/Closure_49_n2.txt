javascript
function testVariableShadowing() {
    var foo = function bar() {
        var bar;
        alert(bar);
    };

    // Use a simple optimization level (like "WHITESPACE_ONLY" or "SIMPLE_OPTIMIZATIONS")
    var compiledFoo = foo.toString().replace(/\n/g, '').replace(/function /g, 'function ');
    
    // Remove the 'var foo =' part and rename the function from 'bar' to 'newBar'
    var expectedCompiledFoo = "function newBar() {var bar;alert(bar);}";
    
    assertEquals(expectedCompiledFoo, compiledFoo);
}
