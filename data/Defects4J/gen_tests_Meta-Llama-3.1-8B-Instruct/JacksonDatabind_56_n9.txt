public void testLocaleDeserialization() {
    String localeStr1 = "en_US"; // underscore separator
    String localeStr2 = "en-US"; // dash separator

    try {
        Locale locale1 = Locale.forLanguageTag(localeStr1);
        Locale locale2 = Locale.forLanguageTag(localeStr2);
        assertEquals(locale1, Locale.forLanguageTag(localeStr2));
    } catch (IllegalArgumentException e) {
        fail("Locale deserialization should accept both '_' and '-' as separators");
    }
}