java
public void testJsonGenerationException() throws IOException {
    // Create a string with a surrogate pair (U+1D306 U+0300)
    String jsonString = "{\"key\":\"\ud83d\udc06\u0300\"}";
    byte[] bytes = jsonString.getBytes(StandardCharsets.UTF_8);
    byte[] problematicBytes = Arrays.copyOfRange(bytes, 0, 5);

    // Create a JsonGenerator that will throw an exception with the problematic bytes
    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    JsonGenerator gen = new JsonFactory().createGenerator(bos, JsonEncoding.UTF8);
    gen.writeStartObject();
    gen.writeRaw(problematicBytes);
    gen.writeRaw("\"value\"");
    gen.writeEndObject();
    gen.close();

    // Verify that the exception is thrown
    try {
        bos.toByteArray();
        fail("Expected JsonGenerationException");
    } catch (JsonGenerationException e) {
        // Expected
    }
}
