public void testToXmlGeneratorWriteBinary() {
    ToXmlGenerator xmlGenerator = new ToXmlGenerator();
    byte[] bytes = new byte[] {1, 2, 3};
    try (InputStream inputStream = new ByteArrayInputStream(bytes)) {
        try {
            xmlGenerator.writeBinary(Base64Variant.STANDARD, inputStream, bytes.length);
            fail("Expected IOException");
        } catch (IOException e) {
            // expected
        }
    }
}