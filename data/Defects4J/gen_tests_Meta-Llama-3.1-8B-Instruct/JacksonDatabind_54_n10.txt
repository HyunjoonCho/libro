java
public void testOptionalSerialization() throws JsonProcessingException {
    ObjectMapper mapper = new ObjectMapper();
    mapper.setSerializationInclusion(JsonInclude.Include.NON_ABSENT);
    mapper.registerModule(new Jdk8Module());

    JsonResult result = new JsonResult();
    result.setA(Optional.empty());
    result.setB(Optional.empty());
    result.setC(Optional.of("value")); // test case to check if empty fields are ignored

    String json = mapper.writeValueAsString(result);
    System.out.println(json);

    // expected output: {"a":null,"b":null,"c":"value"}

    // test case to check if non-empty fields are not ignored
    result = new JsonResult();
    result.setA(Optional.of("value"));
    result.setB(Optional.of("value"));
    result.setC(Optional.of("value"));
    json = mapper.writeValueAsString(result);
    System.out.println(json);

    // expected output: {"a":"value","b":"value","c":"value"}
}
