public void testCorrelatedRandomVectorGeneratorWithZeroRows() {
    Array2DRowRealMatrix matrix = new Array2DRowRealMatrix(5, 5);
    for (int i = 0; i < 5; i++) {
        matrix.setEntry(0, i, 0.0);
    }
    for (int i = 1; i < 5; i++) {
        matrix.setEntry(i, i - 1, 0.013383931);
        matrix.setEntry(i, i, 0.010344006);
        matrix.setEntry(i, i + 1, 0.009913271);
        matrix.setEntry(i, i + 2, 0.010506733);
    }
    CorrelatedRandomVectorGenerator generator = new CorrelatedRandomVectorGenerator(matrix);
    assertEquals(4, generator.getRank());
}