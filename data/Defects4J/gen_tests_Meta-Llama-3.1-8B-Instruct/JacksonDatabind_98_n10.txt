public void testEnumPolymorphism() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    KindEnumKindKindEnum kind = KindEnumKindKindEnum.CONTACT;
    String json = "{\"kind\":\"CONTACT\",\"to\":{\"name\":\"Foo\"}}";
    KindEnum value = mapper.readValue(json, KindEnum.class);
    assertEquals(kind, value);
}