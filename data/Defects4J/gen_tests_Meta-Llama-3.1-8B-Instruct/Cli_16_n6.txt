public void testGroupConstraints() {
    Options opts = new Options();
    OptionGroup groupB = new OptionGroup("groupB");
    OptionGroup groupA = new OptionGroup("groupA");
    groupB.addOption(groupA);
    opts.addOption(groupB);
    
    groupB.setMinOccurs(1);
    groupB.setMaxOccurs(2);
    
    WriteableCommandLine cli = new WriteableCommandLine(opts);
    cli.addOption(groupA);
    
    assertEquals(1, groupB.getMinOccurs());
    assertEquals(2, groupB.getMaxOccurs());
    assertTrue(groupB.hasOption(groupA));
    
    cli.removeOption(groupA);
    
    assertFalse(groupB.hasOption(groupA));
    assertEquals(0, groupB.getMinOccurs());
    assertEquals(0, groupB.getMaxOccurs());
}