public void testIncompleteNamespaceHandling() {
    DOMNodePointer root = new DOMNodePointer();
    root.registerNamespace("B", "http://example.com/B");
    root.registerNamespace("A", "http://example.com/A");
    root.createElement("ElementA");
    root.createAttribute("myAttr", "MyType", "http://example.com/A");
    root.createElement("ElementB");
    try {
        root.createAttribute("myAttr", "MyType", "http://example.com/A");
        fail("Expected exception for unknown namespace prefix 'A'");
    } catch (Exception e) {
        assertTrue(e.getMessage().contains("unknown namespace prefix: A"));
    }
}