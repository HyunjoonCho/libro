public void testLocaleSeparator() throws Exception {
    Locale locale = Locale.forLanguageTag("en_US");
    String languageTag = locale.toLanguageTag();
    String[] parts = languageTag.split("_");
    String[] expectedParts = languageTag.split("-");
    assertEquals(parts.length, expectedParts.length);
    for (int i = 0; i < parts.length; i++) {
        assertEquals(parts[i], expectedParts[i]);
    }
}