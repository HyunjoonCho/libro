java
import com.google.gson.Gson;
import com.google.gson.JsonElement;
import com.google.gson.JsonObject;
import com.google.gson.JsonReader;
import com.google.gson.reflect.TypeToken;

import org.junit.Test;

import java.io.StringReader;
import java.util.HashMap;
import java.util.Map;

import static org.junit.Assert.assertEquals;

public class JsonReaderTest {

    @Test
    public void testJsonReader() throws Exception {
        Gson gson = new Gson();
        String json = "{0:1}";
        JsonReader reader = new JsonReader(new StringReader(json));
        reader.setLenient(false);
        reader.setPeekedChar(JsonReader.PEEKED_UNQUOTED);
        JsonObject jsonObject = gson.fromJson(reader, JsonObject.class);
        Map<Integer, Integer> actual = gson.fromJson(jsonObject.toString(), new TypeToken<Map<Integer, Integer>>() {}.getType());
        Map<Integer, Integer> expected = new HashMap<Integer, Integer>() {{ put(0, 1); }};
        assertEquals(expected, actual);
    }
}
