public void testIssue172() {
    AttributeContext context = new AttributeContext();
    NodeNameTest nameTest = new NodeNameTest(new QName("test"));
    NodeTypeTest typeTest = new NodeTypeTest(Compiler.NODE_TYPE_NODE);
    Node node = new Node();
    node.setAttribute("attribute", "value");
    
    context.addNode(node, nameTest);
    context.addNode(node, typeTest);
    
    context.setAttribute("attribute", "newValue");
    
    QName name = context.getName("attribute");
    assertNotNull(name);
    
    // Test wildcard
    context.addNode(node, new NodeTypeTest(Compiler.NODE_TYPE_NODE));
    name = context.getName("attribute");
    assertEquals(QName.WILDCARD, name);
}