public void testJsonValueTakesPrecedenceOverCustomSerializer() {
    JsonGenerator jsonGenerator = mock(JsonGenerator.class);
    ObjectMapper mapper = new ObjectMapper();
    mapper.addSerializer(MyObject.class, new MyCustomSerializer());
    MyObject obj = new MyObject();
    mapper.writeValue(jsonGenerator, obj);
    verify(jsonGenerator).writeString("JsonValueValue");
}

class MyObject {
    @JsonValue
    public String value() {
        return "JsonValueValue";
    }
}

class MyCustomSerializer extends JsonSerializer<MyObject> {
    @Override
    public void serialize(MyObject value, JsonGenerator gen, SerializerProvider provider) throws IOException {
        gen.writeString("CustomSerializerValue");
    }
}