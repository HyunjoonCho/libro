java
public void testWhitespacePreservation() throws Exception {
    Document document = Parser.xml().parse("<root><a>   text   </a></root>");
    Element root = document.getRootElement();
    String originalHtml = root.html();
    Document copy = Parser.xml().parse("<root><a>   text   </a></root>");
    Element copyRoot = copy.getRootElement();
    String copiedHtml = copyRoot.html();
    assertEquals(originalHtml, copiedHtml);
    
    // Test with pretty print
    document = Parser.xml().prettyPrint().parse("<root><a>   text   </a></root>");
    root = document.getRootElement();
    originalHtml = root.html();
    assertEquals(originalHtml.trim(), root.html());
}
