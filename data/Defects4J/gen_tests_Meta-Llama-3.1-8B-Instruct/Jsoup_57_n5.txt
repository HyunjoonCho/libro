java
public void testRemoveIgnoreCaseConcurrentModificationException() {
    Element element = new Element("abc");
    element.addAttribute("attr1", "value1");
    element.addAttribute("Attr2", "value2");
    List<Attribute> attributes = new ArrayList<>(element.getAttributes());
    
    // Expected to throw ConcurrentModificationException
    try {
        for (Attribute attr : attributes) {
            if (attr.getKey().equalsIgnoreCase("Attr2")) {
                element.removeAttribute(attr.getKey());
            }
        }
        fail("Expected ConcurrentModificationException");
    } catch (ConcurrentModificationException e) {
        // Expected
    }

    // Expected to pass without exception
    Iterator<Map.Entry<String, Attribute>> iter = attributes.iterator();
    while (iter.hasNext()) {
        Map.Entry<String, Attribute> entry = iter.next();
        if (entry.getKey().equalsIgnoreCase("Attr2")) {
            iter.remove();
        }
    }
}
