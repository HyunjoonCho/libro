public void testIssue983() {
    Plot plot = mock(Plot.class);
    when(plot.getIndexOf(any(Object.class)).thenReturn(0);
    when(plot.getDataset(0)).thenReturn(null);
    AbstractCategoryItemRender render = new AbstractCategoryItemRender(plot);
    LegendItemCollection result = render.getLegendItems();
    assertNotNull(result);
    verify(plot).getIndexOf(any(Object.class));
    verify(plot).getDataset(0);
    verifyNoMoreInteractions(plot);
    assertEquals(0, result.size());
}