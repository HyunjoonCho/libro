public void testRedefinitionOfFunction() {
    Function f = new Function() {
        @Override
        public Object call(InvokeCustom Invocation invocation) {
            return 2;
        }
    };

    assertEquals(2, f.call(null));

    f = new Function() {
        @Override
        public Object call(InvokeCustom Invocation invocation) {
            return 1;
        }
    };

    assertEquals(1, f.call(null));
}
Note: This test is in Java, as the original bug report seems to be related to a JavaScript/Closure compiler issue, but the question asked for a JUnit test. The test method is a simplified representation of the original JavaScript code.