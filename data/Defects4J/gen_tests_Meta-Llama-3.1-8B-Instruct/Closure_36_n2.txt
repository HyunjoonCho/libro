javascript
public void testAddSingletonGetter() {
    // Create a simple class with goog.addSingletonGetter
    class Foo {
        values = [];
        constructor() {
            this.values = [];
        }
        add(value) {
            this.values.push(value);
        }
    }
    goog.addSingletonGetter(Foo);

    // Compile the class with Advanced Optimization
    // This should result in the class being removed
    // But instead, it should result in the class being preserved
    // with a getInstance method

    // Manually check the compiled class
    var compiledFoo = Foo.getInstance();
    compiledFoo.add("test");
    assertEquals(1, compiledFoo.values.length);
}
