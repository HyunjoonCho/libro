java
public void testCSVRecordToMap() {
    CSVFormat format = CSVFormat.DEFAULT.withHeader("A", "B", "C");
    CSVRecord record = new CSVRecord(format, new String[]{"1", "2", "3"});
    Map<String, String> map = record.toMap();
    assertNotNull(map);

    format = CSVFormat.DEFAULT.withIgnoreHeaderOnEmptyLines(true);
    record = new CSVRecord(format, new String[]{"1", "2", "3"});
    map = record.toMap();
    assertNull(map);
}
