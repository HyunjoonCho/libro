java
@Test
public void mustCorrectlyMoveChildrenInsideOneParentElement() {
    Document doc = new Document( "" );
    Element body = doc.appendElement( "body" );
    Element div1 = body.appendElement( "div1" );
    Element div2 = body.appendElement( "div2" );
    Element div3 = body.appendElement( "div3" );
    Element div4 = body.appendElement( "div4" );

    ArrayList<Element> toMove = new ArrayList<Element>() {
        {
            add( div3 );
            add( div4 );
        }
    };

    body.insertChildren( 0, toMove );

    // Check if the elements are moved to the correct position
    assertEquals( 2, div1.siblingIndex() );
    assertEquals( 3, div2.siblingIndex() );
    assertEquals( 0, div3.siblingIndex() );
    assertEquals( 1, div4.siblingIndex() );

    // Check if the parent element has the correct children
    assertEquals( 4, body.children().size() );

    // Check if the moved elements are still attached to the body element
    assertEquals( body, div3.parent() );
    assertEquals( body, div