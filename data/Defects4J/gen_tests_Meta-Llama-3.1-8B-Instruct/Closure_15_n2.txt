javascript
function testRemoveKey(key) {
    var dataSlot = { key: 'value' },
        retval = dataSlot && dataSlot[key],
        hadKey = dataSlot && (key in dataSlot);

    if (dataSlot) {
        dataSlot[key] = undefined;
    }
    return hadKey? retval : null;
}

console.log(testRemoveKey('key')); // 'value'
console.log('key' in dataSlot); // false
