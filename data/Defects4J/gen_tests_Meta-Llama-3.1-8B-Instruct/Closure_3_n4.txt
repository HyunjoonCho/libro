javascript
function getStack() {
  try {
    throw new Error("");
  } catch (a) {
    return a.stack;
  }
}

function testOptimizationFailsWithVariableInCatchClause() {
  var result = getStack();
  assertResultNotInlined(result);
}

function assertResultNotInlined(result) {
  // Check if the stack trace is not inlined
  if (result === undefined) {
    throw new Error("Expected the stack trace to not be inlined");
  }
}
