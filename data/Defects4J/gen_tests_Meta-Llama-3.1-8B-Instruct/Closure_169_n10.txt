public void testIssue() {
    Object obj = new Object() {
        public void func() {}
    };
    Object fnStruc = new Object();
    fnStruc.getClass().getMethod("func", null).invoke(fnStruc);
    try {
        getClass().getMethod("test1", new Class[] { obj.getClass() }).invoke(this, obj);
        fail("Expected compilation error");
    } catch (Exception e) {
        // expected
    }
}