public void testLastWarningOrErrorTruncated() {
    String output = runCompilerWithOutput("--warning_level=VERBOSE", "alert(foo); alert(bar);");
    assertTrue(output.contains("test.js:1: ERROR - variable foo is undefined"));
    assertTrue(output.contains("test.js:2: ERROR - variable bar is undefined"));
    assertFalse(output.endsWith("test.js:1: ERROR - variable foo is undefined"));
    assertFalse(output.endsWith("test.js:2: ERROR - variable bar is undefined"));
}

private String runCompilerWithOutput(String... args) {
    // Simulate running the compiler with the given arguments and return the output
    // This may involve using a ProcessBuilder or a similar mechanism
    // For simplicity, this is left as a placeholder
    return "";
}