public void testHelpFormatterFindWrapPos() {
    HelpFormatter formatter = new HelpFormatter();
    String text = "a".repeat(1000); // Create a long string
    int max = formatter.getWidth();
    int wrapPos = 0;
    while (wrapPos < text.length()) {
        wrapPos = formatter.findWrapPos(text, wrapPos, max);
        if (wrapPos >= text.length()) {
            fail("StringIndexOutOfBoundsException should be thrown");
        }
        wrapPos++;
    }
}