javascript
describe('swfobject', function() {
  it('should not minify the regular expression in the urlEncodeIfNecessary function', function() {
    var original = function urlEncodeIfNecessary(s) { var regex = /[\\\"<>\.;]/; var hasBadChars = regex.exec(s)!= null; return hasBadChars && typeof encodeURIComponent!= UNDEF? encodeURIComponent(s) : s; };
    var minified = function Z(a){return/[\"<>.;]/.exec(a)!=null&&typeof encodeURIComponent!=j?encodeURIComponent(a):a};
    var minifiedWithQuotes = function Z(a){return /[\"<>.;]/.exec(a)!=null&&typeof encodeURIComponent!=j?encodeURIComponent(a):a};
    expect(minified).toThrowError('JSMin_UnterminatedStringException');
    expect(minifiedWithQuotes).not.toThrowError();
  });
});
