public void testBitInputStreamOverflow() throws IOException {
    ByteArrayInputStream in = new ByteArrayInputStream(new byte[]{0x57, 0x2D, 0x42, 0xF, 0x5A, 0x1D, 0x58, 0x3D, 0x21, 0x4A});
    BitInputStream bin = new BitInputStream(in, ByteOrder.LITTLE_ENDIAN);
    assertEquals(0x5A1D58, bin.readBits(24));
    assertEquals(0x21, bin.readBits(8));
    assertEquals(0x5A1D58, bin.readBits(24));
}