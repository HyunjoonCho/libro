public void testExternalTypeIdOrder() {
    ObjectMapper mapper = new ObjectMapper();
    JavaType type = mapper.getTypeFactory().constructType(Outer.class);
    String json = "{\"externalTypeId\":\"value\",\"id\":\"value\"}";
    try {
        mapper.readValue(json, type);
        fail("Expected DeserializationProblemKey to be thrown");
    } catch (JsonProcessingException e) {
        // expected
    }
}

class Outer {
    @JsonTypeInfo(use = JsonTypeInfo.Id.EXTERNAL_PROPERTY, property = "externalTypeId")
    public static class Inner {
        @JsonCreator
        public Inner(@JsonProperty("id") String id) {}
    }
}