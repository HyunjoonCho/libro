public void testCommandLineArgumentDefaults() {
    CommandLine cmd = new CommandLine(new Object() {
        @Override
        public String getOptionValue(String option) {
            if (option.equals("arg")) {
                return "default";
            }
            return null;
        }
    });
    cmd.parse("arg override");
    assertEquals(1, cmd.getUndefaultedArguments().size());
}