java
import org.mozilla.javascript.Context;
import org.mozilla.javascript.Scriptable;
import org.mozilla.javascript.ScriptableObject;

public class TestGoogProvide {
    public void testGoogProvideNonString() throws Exception {
        Context cx = Context.enter();
        try {
            Scriptable scope = cx.initStandardObjects();
            ScriptableObject.putProperty(scope, "mine", cx.newObject(scope));
            ScriptableObject.putProperty(scope, "Spike", cx.newObject(scope));
            try {
                cx.evaluateString(scope, "goog.provide(mine.Spike);", "file.js", 17, null);
                fail("Expected RuntimeException");
            } catch (Exception e) {
                // expected
            }
        } finally {
            Context.exit();
        }
    }
}
