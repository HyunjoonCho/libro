java
public void testArrayPushExpression() {
    Function function = new Function() {
        @Override
        public Object call(Context context, List<Argument> args) {
            List list = new ArrayList();
            list.add((List) new Function() {
                @Override
                public Object call(Context context, List<Argument> args) {
                    list.add(1);
                    return null;
                }
            }.call(context, new ArrayList<>()));
            return list;
        }
    };

    String compiledFunction = ClosureCompiler.compileFunction(function);
    System.out.println(compiledFunction);
    // expected output: function(){var a=[];a.push([1]);return a;}
    // actual output: function(){var a=[];a.push([]);return a;}
}
