public void testAssignmentRemovedInArrayPush() {
    CompilerOptions options = new CompilerOptions();
    CompilationLevel ADVANCED_OPTIMIZATIONS.compileTo("function f() { var a = [], b; a.push(b = []); b[0] = 1; return a; }", options);
    String compiledCode = options.getCompilationResult().getOutput();
    assertEquals("function f(){var a=[];a.push([]);return a;}", compiledCode);
}