public void testArchiveInputStreamWithUmlaut() throws IOException {
    // Create a zip file with a directory containing an umlaut
    File zipFile = File.createTempFile("test", ".zip");
    try (ZipOutputStream zos = new ZipOutputStream(new FileOutputStream(zipFile))) {
        zos.putNextEntry(new ZipEntry("ächterweg/"));
        zos.closeEntry();
        zos.putNextEntry(new ZipEntry("ächterweg/file.txt"));
        zos.write("Hello".getBytes());
        zos.closeEntry();
    }

    // Try to read the zip file
    try (ArchiveInputStream ais = new ArchiveInputStream(new FileInputStream(zipFile))) {
        ArchiveEntry entry;
        while ((entry = ais.getNextEntry())!= null) {
            if (entry.getName().contains("ä")) {
                fail("Entry " + entry.getName() + " is not marked as directory");
            }
            if (entry.isDirectory()) {
                fail("Entry " + entry.getName() + " is marked as directory");
            }
            if (entry.getName().contains("\\")) {
                fail("Entry " + entry.getName() + " has backslashes instead of slashes");
            }
        }
    }
}