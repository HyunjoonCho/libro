java
public void testWhitespaceDiscard() throws Exception {
    // Test with prettyPrint disabled
    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
    factory.setNamespaceAware(true);
    factory.setIgnoringComments(true);
    factory.setCoalescing(true);
    factory.setIgnoringElementContentWhitespace(true);
    factory.setExpandEntityReferences(true);
    factory.setNamespaceAware(true);
    DocumentBuilder builder = factory.newDocumentBuilder();
    InputSource is = new InputSource(new StringReader("<root><child>   content   </child></root>"));
    Document doc1 = builder.parse(is);
    Element root1 = doc1.getDocumentElement();
    String html1 = root1.outerHTML();
    assertEquals("<root><child>   content   </child></root>", html1);

    // Test with prettyPrint enabled
    factory.setPrettyPrint(true);
    Document doc2 = builder.parse(is);
    Element root2 = doc2.getDocumentElement();
    String html2 = root2.outerHTML();
    assertEquals("<root>\n  <child>\n    content\n  </child>\n</root>", html2);
}
