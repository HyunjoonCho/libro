java
public void testCSVParserHeaderMap() {
    // Create a CSVParser without a header
    String csv = "field1,field2\nvalue1,value2";
    CSVParser parser = CSVParser.parse(csv);

    // Get the header map, expecting it to be null
    Map<String, Integer> header = parser.getHeaderMap();
    assertNull(header);

    // Create a CSVParser with a header
    csv = "field1,field2\nvalue1,value2";
    parser = CSVParser.parse(csv, CSVFormat.DEFAULT.withHeader("field1", "field2"));

    // Get the header map, expecting it to be non-null
    header = parser.getHeaderMap();
    assertNotNull(header);
    assertEquals(2, header.size());
}
