java
public void testRuntimeExceptionWithExternPrototype() {
    // create a simple prototype.js file with a function that declares a variable
    String prototypeJs = "function Str(key, holder, stack) { }";

    // create a bootloader.js file that includes the prototype.js file
    String bootloaderJs = "goog.require('prototype.js');";

    // compile the bootloader.js file with the externs option
    String compilationArgs = "--compilation_level=ADVANCED_OPTIMIZATIONS --externs=prototype.js --js=bootloader.js";

    // compile the code
    Compiler compiler = new Compiler(compilationArgs);
    compiler.compile();

    // verify that a RuntimeException is thrown
    try {
        compiler.compile();
        fail("Expected RuntimeException to be thrown");
    } catch (RuntimeException e) {
        // verify that the error message is correct
        assertTrue(e.getMessage().contains("INTERNAL COMPILER ERROR"));
    }
}
