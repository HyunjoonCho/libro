public void testJsonIgnorePropertiesAllowSetters() {
    ObjectMapper mapper = new ObjectMapper();
    JsonTest json = new JsonTest("user", "password");

    mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);
    mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);

    String jsonStr = "{\"username\":\"user\",\"password\":\"password\"}";
    JsonTest deserializedJson = null;
    try {
        deserializedJson = mapper.readValue(jsonStr, JsonTest.class);
    } catch (IOException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }

    assertNotNull(deserializedJson);
    assertEquals("user", deserializedJson.getUsername());
    assertNull(deserializedJson.getPassword());
}