javascript
function testInlineIfOptimization() {
    function a() {
        return "a";
    }
    function b() {
        return "b";
    }

    function sum(a, b) {
        return (a == true? 2 : a) + b;
    }

    var result1 = (true == null? a() : b());
    assertEquals(b(), result1);

    var result2 = (true == false? a() : b());
    assertEquals(b(), result2);

    var result3 = sum(true, 1);
    assertEquals(3, result3);
}
