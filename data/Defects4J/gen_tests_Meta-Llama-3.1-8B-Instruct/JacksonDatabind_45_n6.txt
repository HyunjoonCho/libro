java
public void testIssue1154BeforeFix() {
    // Test that textual representation is enabled when locale is specified but shape is not defined
    DateTimeFormatter dtf = DateTimeFormat.getFormat("yyyy-MM-dd").withLocale(Locale.US);
    DateTime dt = dtf.parseDateTime("2022-01-01");
    assertEquals("January 1, 2022", dt.toString());

    // Test that textual representation is disabled when shape is explicitly defined as NUMBER
    DateTimeFormatter dtf2 = DateTimeFormat.getFormat("yyyy-MM-dd").withShape(Shape.NUMBER).withLocale(Locale.US);
    try {
        dtf2.parseDateTime("2022-01-01");
        fail("Expected DateTimeParseException to be thrown");
    } catch (DateTimeParseException e) {
        // Expected
    }
}

public void testIssue1154AfterFix() {
    // Test that textual representation is disabled when locale is specified but shape is not defined
    DateTimeFormatter dtf = DateTimeFormat.getFormat("yyyy-MM-dd").withLocale(Locale.US);
    try {
        dtf.parseDateTime("2022-01-01");
        fail("Expected DateTimeParseException to be thrown");
    } catch (DateTimeParseException e) {
        // Expected

   