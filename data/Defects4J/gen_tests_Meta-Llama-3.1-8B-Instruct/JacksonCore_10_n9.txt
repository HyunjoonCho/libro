public void testByteQuadsCanonicalizerArrayIndexOutOfBoundsException() throws Exception {
    ObjectMapper objectMapper = new ObjectMapper();
    injectReproducibleSeed(objectMapper);
    JsonFactory jsonFactory = objectMapper.getFactory();
    Field byteSymbolCanonicalizerField = JsonFactory.class.getDeclaredField("_byteSymbolCanonicalizer");
    byteSymbolCanonicalizerField.setAccessible(true);
    ByteQuadsCanonicalizer byteQuadsCanonicalizer = (ByteQuadsCanonicalizer) byteSymbolCanonicalizerField.get(jsonFactory);
    String[] names = byteQuadsCanonicalizer._names;
    assertEquals(names.length, 4096);
    byteQuadsCanonicalizer.putName(0, "test");
    byteQuadsCanonicalizer.putName(1, "test1");
    // This should throw an ArrayIndexOutOfBoundsException
    byteQuadsCanonicalizer.putName(4096, "test2");
}