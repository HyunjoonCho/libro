java
public void testNegativeValueWithRestrictNonNegative() {
    // Define a function and constraints
    MultivariateFunction function = new AbstractMultivariateFunction() {
        @Override
        public double value(double[] point) {
            return point[0] + point[1];
        }
    };

    MultivariateMatrix constraints = new Array2DRowRealMatrix(new double[][] {
        {1, 0},
        {0, 1}
    });
    double[] rightHandSides = new double[] {1, 0};

    // Optimize the function with restrictNonNegative flag
    SimplexSolver solver = new SimplexSolver();
    solver.optimize(function, constraints, rightHandSides, GoalType.MINIMIZE, true);

    // Check that the result is not negative
    double[] result = solver.getPoint();
    assertTrue("Result should not be negative", result[1] >= 0);
}
