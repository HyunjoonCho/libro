public void testTarArchiveInputStream() throws IOException {
    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    TarArchiveOutputStream out = new TarArchiveOutputStream(bos);
    TarArchiveEntry entry = new TarArchiveEntry("testfile");
    entry.setSize(0);
    entry.setUserId(0x65205a4); // 0x65205a4 is 1054444 in decimal
    out.putArchiveEntry(entry);
    out.closeEntry();
    out.close();

    TarArchiveInputStream in = new TarArchiveInputStream(new ByteArrayInputStream(bos.toByteArray()));
    try {
        in.getNextTarEntry();
        fail("Expected IllegalArgumentException");
    } catch (IllegalArgumentException e) {
        // expected
    }
}