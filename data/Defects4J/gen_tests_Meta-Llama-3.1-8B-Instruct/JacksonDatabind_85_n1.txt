public void testDateTimeSerializerBaseContextual() {
    ObjectMapper mapper = new ObjectMapper();
    JsonFormat format = new JsonFormat().withPattern("yyyy-MM-dd");
    mapper.setDateFormat(format);
    String json = mapper.writeValueAsString(new Date());
    assertEquals("yyyy-MM-dd", format.getPattern());
    json = "{\"date\":\"2022-07-26\"}";
    mapper = new ObjectMapper();
    mapper.setDateFormat(format);
    Date date = mapper.readValue(json, Date.class);
    assertEquals("yyyy-MM-dd", format.getPattern());
}