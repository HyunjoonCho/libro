public void testInconsistentHandlingOfNonJSDocComments() {
    String warningMessage = "stdin:1: WARNING - Parse error. Non-JSDoc comment has annotations. Did you mean to start it with '/\*\*'?";
    String expectedWarningMessage = "/\* @license Foo License \*/";
    String modifiedComment = "/\*! @license Foo License \*/";

    try {
        // Test with non-JSDoc comment
        Compilation compilation = Compilation.compile("alert(\"foo\");", "/** @preserve Foo License */");
        assertTrue(compilation.getWarnings().contains(warningMessage));
        assertEquals(1, compilation.getWarnings().size());

        // Test with modified comment
        compilation = Compilation.compile("alert(\"foo\");", modifiedComment);
        assertFalse(compilation.getWarnings().contains(warningMessage));
        assertEquals(0, compilation.getWarnings().size());
    } catch (CompilationException e) {
        fail("Compilation failed unexpectedly");
    }
}