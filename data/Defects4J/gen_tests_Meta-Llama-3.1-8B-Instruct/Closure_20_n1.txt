public void testStringConversionOptimization() {
    Object f = new Object() {
        public String valueOf() { return null; }
    };
    String s = String.valueOf(f);
    assertNotNull(s);
    assertEquals("[object Object]", s);
}