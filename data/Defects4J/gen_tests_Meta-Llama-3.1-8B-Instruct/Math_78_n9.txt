java
public void testODEEventDetection() {
    // Define the switching function
    public class SwitchingFunction implements ODEFunction {
        public double[] computeDerivatives(double[] y, double t) {
            return new double[] { -10 + 20 * Math.tan(t) };
        }
    }

    // Set up the ODE solver
    ODESolver solver = new DLSolver(1e-12);
    EventDetector eventDetector = new EventDetector(new SwitchingFunction());

    // Define the events
    double t1 = 90.0;
    double t2 = 135.0;
    Event event1 = new Event(t1);
    Event event2 = new Event(t2);

    // Define the initial condition
    double[] y0 = new double[] { 0 };

    // Integrate from 67.5 to 112.5
    double t = 67.5;
    solver.setInitialStepSize(45.0);
    solver.setEventDetector(eventDetector);
    double[] y = solver.integrate(y0, t, 112.5);

    // The first event should be detected at t