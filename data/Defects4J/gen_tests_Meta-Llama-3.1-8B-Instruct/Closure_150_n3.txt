function testTypeCheckerMissesAnnotationsOnFunctionsDefinedWithinFunctions() {
    var ns = {};

    // Step 1: Define ns.a as a property of the global object
    ns.a = function(b) {};

    // Step 2: Define d function
    function d() {
        ns.a();
        ns.a(123);
    }

    d();
    try {
        d();
        d(123);
    } catch (e) {
        // expected warning for 0 parameters
    }

    // Step 3: Define ns.a within an anonymous function
    (function() {
        ns.a = function(b) {};
    })();

    // Step 4: Define d function again
    function d() {
        ns.a();
        ns.a(123);
    }

    // Check that warnings are emitted for both cases
    d();
    try {
        d();
        d(123);
    } catch (e) {
        // expected warnings for both 0 and incorrect parameters
    }

    // Step 5: Define ns.a within an anonymous function, but call from global scope
    (function() {
        ns.a = function(b) {};
    })();

    ns.a();
    ns.a(123);