java
public void testCorruptedTar() throws IOException {
    String archivePath = PathUtil.join(testdataDir, "test.tar");
    // Create a corrupted tar file by truncating it
    Files.write(archivePath, new byte[1000]);

    TarArchiveInputStream input = null;
    try {
        input = new TarArchiveInputStream(new FileInputStream(archivePath));
        ArchiveEntry nextMatchedEntry = input.getNextEntry();
        fail("Expected IOException, but none was thrown");
    } catch (IOException e) {
        // Expected
    }
}
