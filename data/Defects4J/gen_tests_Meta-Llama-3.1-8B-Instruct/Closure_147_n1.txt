public void testJSCUsedGlobalThisWarning() {
    Object ns = new Object();
    ns.getClass().getField("foo").setAccessible(true);
    try {
        ns.getClass().getField("foo").get(null); // equivalent to this.foo in JavaScript
        fail("Expected JSC_USED_GLOBAL_THIS warning");
    } catch (Exception e) {
        // expected
    }
    
    try {
        ns.getClass().getField("foo").set(null, 123); // equivalent to this.foo = 123 in JavaScript
        fail("Expected JSC_USED_GLOBAL_THIS warning");
    } catch (Exception e) {
        // expected
    }
    
    Object ns2 = new Object();
    ns2.getClass().getField("foo").setAccessible(true);
    ns2.getClass().getField("foo").set(null, 123); // equivalent to ns.write() in JavaScript
}