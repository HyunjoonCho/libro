public void testZipVersionNeededToExtract() throws IOException {
    ZipArchiveOutputStream zos = new ZipArchiveOutputStream(new ByteArrayOutputStream());
    ZipEntry entry = new ZipEntry("test");
    zos.putArchiveEntry(entry);
    zos.write(new byte[1024]); // Write some data to trigger data descriptors
    zos.closeEntry();

    ZipArchiveEntry ze = zos.getEntry("test");
    assertEquals(DATA_DESCRIPTOR_MIN_VERSION, zos.versionNeededToExtract(8, false));
}