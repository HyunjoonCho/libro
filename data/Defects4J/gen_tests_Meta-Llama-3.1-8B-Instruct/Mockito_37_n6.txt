public void testMockitoJUnitRuleCompatibility() {
    try {
        // Try to create a test with JUnit 4.7
        Class<?> clazz = Class.forName("org.junit.runner.JUnitCore");
        Method method = clazz.getMethod("runClasses", Class[].class);
        Object[] args = new Object[]{new Class<?>[]{YourTestClass.class}};
        method.invoke(null, args);
        fail("JUnit 4.7 should throw an exception");
    } catch (Exception e) {
        // Ignore
    }

    try {
        // Try to create a test with JUnit 4.9
        Class<?> clazz = Class.forName("org.junit.runner.JUnitCore");
        Method method = clazz.getMethod("runClasses", Class[].class);
        Object[] args = new Object[]{new Class<?>[]{YourTestClass.class}};
        method.invoke(null, args);
        fail("JUnit