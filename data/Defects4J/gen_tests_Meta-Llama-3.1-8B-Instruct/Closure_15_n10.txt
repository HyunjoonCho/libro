public void testSwitchedOrderOfDeleteAndHasOwnProperty() {
    Map<String, String> customData = new HashMap<>();
    customData.put("key", "value");

    boolean hadKey = customData.containsKey("key");
    String retval = customData.remove("key");

    boolean hasKeyAfterDelete = customData.containsKey("key");

    assertEquals("value", retval);
    assertEquals(false, hasKeyAfterDelete);
}