java
@Test
public void testPolymorphicTypeDefaultImplLosesProperties() throws JsonProcessingException {
    ObjectMapper mapper = new ObjectMapper();
    mapper.enableDefaultTyping(DefaultTyping.NON_FINAL, JsonTypeInfo.As.PROPERTY);
    mapper.registerSubtypes(SubType.class, SuperType.class);
    
    SuperType superType = new SubType();
    superType.setSuperProperty("super-value");
    superType.setSubProperty("sub-value");
    
    String json = mapper.writeValueAsString(superType);
    System.out.println(json);
    
    SuperType deserialized = mapper.readValue(json, SuperType.class);
    assertEquals("super-value", deserialized.getSuperProperty());
    assertNull(deserialized.getSubProperty());
}
