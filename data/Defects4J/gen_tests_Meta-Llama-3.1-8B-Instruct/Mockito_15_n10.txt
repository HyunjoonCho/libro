public void testArgumentCaptorVarargs() {
    ArgumentCaptor<String> captor = ArgumentCaptor.forClass(String.class);
    verify(mock).method("arg1", captor.capture(), "arg2", "arg3");
    String[] captured = captor.getAllValues().toArray(new String[0]);
    assertArrayEquals(new String[] {"arg1"}, captured);
}