public void testPosixParser() {
    PosixParser parser = new PosixParser();
    OptionSet options = parser.parse(new String[] {"-target", "foobar.com"});
    assertEquals("foobar.com", options.getOptionValue("t"));
    assertEquals("foobar.com", options.getOptionValue("target"));
    
    // Test the bug
    options = parser.parse(new String[] {"-t"});
    assertEquals("t", options.getOptionValue("t"));
    
    options = parser.parse(new String[] {"-target"});
    assertEquals("target", options.getOptionValue("t")); // should not be "arget"
}