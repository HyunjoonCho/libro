java
public void testPaxHeaderEntryNameEndingWithSlash() throws IOException {
    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    TarArchiveOutputStream tas = new TarArchiveOutputStream(bos);
    TarArchiveEntry entry = new TarArchiveEntry("file/"); // name ends with '/'
    entry.setLinkName("file");
    entry.setPaxHeader("x"); // link flag 'x' indicates a PAX header
    tas.putArchiveEntry(entry);
    tas.close();
    
    ByteArrayInputStream bis = new ByteArrayInputStream(bos.toByteArray());
    TarArchiveInputStream tasis = new TarArchiveInputStream(bis);
    TarArchiveEntry tarEntry = tasis.getNextEntry();
    assertFalse(tarEntry.isDirectory()); // expected to return false
    
    // modify the entry name to remove the trailing slash
    tas = new TarArchiveOutputStream(bos);
    entry = new TarArchiveEntry("file"); // name does not end with '/'
    entry.setLinkName("file");
    entry.setPaxHeader("x"); // link flag 'x' indicates a PAX header
    tas.putArchiveEntry(entry);
    tas.close();
    
    bis = new ByteArrayInputStream(bos.toByteArray());
    tasis = new TarArchiveInputStream(bis);
    tarEntry = tasis.getNextEntry();
