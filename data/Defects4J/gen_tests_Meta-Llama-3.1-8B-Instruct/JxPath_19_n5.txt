java
public void testIteratePointersWithMultiplePrefixes() throws Exception {
    DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();
    DocumentBuilder db = dbf.newDocumentBuilder();
    Document doc = db.parse(new InputSource(new StringReader(
        "<a:doc xmlns:a=\"ns\">"
        + "  <a:elem />"
        + "  <b:elem xmlns:b=\"ns\" />"
        + "</a:doc>"
    )));

    JXPathContext jc = JXPathContext.newInstance(doc);
    Object[] pointers = jc.iteratePointers("//ns:elem");
    assertEquals(2, pointers.length);
    
    // Check that both elements are returned
    for (Object pointer : pointers) {
        Node node = (Node) pointer;
        assertEquals("elem", node.getNodeName());
        assertEquals("ns", node.getNamespaceURI());
    }
}
