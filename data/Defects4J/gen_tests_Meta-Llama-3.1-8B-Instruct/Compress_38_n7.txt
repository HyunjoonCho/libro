java
public void testPaxHeaderEntryNameEndingWithSlash() throws IOException {
    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    TarArchiveOutputStream tas = new TarArchiveOutputStream(bos);
    TarArchiveEntry entry = new TarArchiveEntry("path/to/file/layer.tar");
    entry.setLinkName("path/to/file/layer.tar/");
    entry.setLinkFlag(TarConstants.LF_PAX);
    entry.setSize(0);
    tas.putArchiveEntry(entry);
    tas.close();
    
    ByteArrayInputStream bis = new ByteArrayInputStream(bos.toByteArray());
    TarArchiveInputStream tasIn = new TarArchiveInputStream(bis);
    TarArchiveEntry tarEntry = tasIn.getNextEntry();
    
    // The issue is that isDirectory() returns true due to the trailing slash
    // So we expect isDirectory() to return true
    assertTrue(tarEntry.isDirectory());
    
    // However, we expect the actual file name to be without the trailing slash
    assertEquals("path/to/file/layer.tar", tarEntry.getName());
}
