java
public void testHandleNullTypeId() {
    // Test that a polymorphic value with no type id can be deserialized
    // and correctly resolved to its default implementation
    String json = "{\"defaultImpl\":\"MyDefaultImpl\",\"value\":{\"type\":\"MyType\"}}";
    Object obj = JSON.parse(json);
    
    // Check that the object is an instance of MyDefaultImpl
    assertTrue(obj instanceof MyDefaultImpl);
    
    // Test that a polymorphic value with no type id and no default implementation
    // throws a JsonException
    try {
        json = "{\"value\":{\"type\":\"MyType\"}}";
        JSON.parse(json);
        fail("Expected JsonException");
    } catch (JsonException e) {
        // expected
    }
}

class MyType {
    // empty class
}

class MyDefaultImpl {
    // empty class
}
