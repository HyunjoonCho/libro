public void testBOBYQAOptimizer() {
    int dim = 2;
    BOBYQAOptimizer optim = new BOBYQAOptimizer(2 * dim + 2);
    try {
        optim.optimize(100000, new Function(2), 1, new double[] {1, 1}, null, null);
        fail("Expected IndexOutOfBoundsException");
    } catch (IndexOutOfBoundsException e) {
        // expected
    }
}