public void testEventDetection() {
    // Set up a test function that has a single event at t = 90
    final double[] x = new double[2];
    final double[] f = new double[2];
    public void testFunc(double t, int n, double[] x, double[] f) {
        f[0] = 1 - t;
        f[1] = 0;
    }

    // Set up the event function
    public boolean eventFunc(double t, double[] x, double[] f, double[] g) {
        return f[0] == 0;
    }

    // Set up the event tolerance
    double eventTolerance = 1e-6;

    // Create an Integrator
    Integrator integrator = new Integrator(testFunc, eventFunc, eventTolerance);

    // Set the initial conditions
    double[] x0 = new double[2];
    x0[0] = 1;
    x0[1] = 0;

    // Set the initial time
    double t0 = 67.5;

    // Set the step size
    double h = 45.0;

    // Integrate the function