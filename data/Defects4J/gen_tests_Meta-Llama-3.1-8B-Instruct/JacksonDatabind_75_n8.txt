java
public void testJsonFormatOnEnum() throws JsonProcessingException {
    ObjectMapper mapper = new ObjectMapper();
    
    // Test that the enum is serialized as a string (expected behavior in 2.8)
    assertEquals("{\"color\":\"GREEN\"}", mapper.writeValueAsString(new Test.Foo(Test.Color.GREEN)));
    
    // Test that the enum is serialized as an integer (expected behavior before 2.8)
    // This test will fail if the annotation is not applied
    // We cannot easily test the old behavior in 2.8, but we can test that it's not working now
    try {
        mapper = new ObjectMapper();
        mapper.configure(SerializationFeature.WRITE_ENUMS_USING_INDEX, true);
        assertEquals("{\"color\":2}", mapper.writeValueAsString(new Test.Foo(Test.Color.GREEN)));
        fail("Expected JsonProcessingException");
    } catch (JsonProcessingException e) {
        // Expected behavior in 2.8
    }
}
