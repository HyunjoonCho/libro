public void testPrototypesWithQuotesWarning() {
    Object obj = new Object();
    obj.getClass().getDeclaredField("MyMethod").setAccessible(true);
    try {
        obj.getClass().getField("MyMethod").set(null, new Method() {
            public Object invoke(Object obj, Object... args) {
                obj.getClass().getField("a").set(obj, args[0]);
                return null;
            }
        });
    } catch (Exception e) {
        fail(e.getMessage());
    }
    try {
        obj.getClass().getField("MyMethod").get(null);
        fail("Expected JSC_USED_GLOBAL_THIS warning");
    } catch (Exception e) {
        // Expected exception
    }
}