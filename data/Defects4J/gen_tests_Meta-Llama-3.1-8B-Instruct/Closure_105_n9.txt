java
import org.junit.Test;
import static org.junit.Assert.assertTrue;
import static org.junit.Assert.assertFalse;

public class JSTest {
    @Test
    public void testArrayJoinMungedIncorrectly() {
        // Original buggy implementation
        String[] array1 = { "", "class1", "" };
        String[] array2 = { "", "class2", "" };
        boolean buggyResult = joinArray(array1,'') == -1? false : joinArray(array2,'') == -1;
        assertFalse(buggyResult);

        // Correct implementation
        String[] array3 = { "class1" };
        String[] array4 = { "class2" };
        boolean correctResult = joinArray(array3,'') == -1? false : joinArray(array4,'') == -1;
        assertFalse(correctResult);
    }

    private String joinArray(String[] array, char delimiter) {
        StringBuilder sb = new StringBuilder();
        for (String s : array) {
            if (sb.length() > 0) {
                sb.append(delimiter);
            }
            sb.append(s);
        }
        return sb.toString();
    }
}
