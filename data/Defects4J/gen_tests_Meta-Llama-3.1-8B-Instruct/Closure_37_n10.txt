java
import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.CompilerInput;
import com.google.javascript.jscomp.JsAst;
import com.google.javascript.jscomp.NodeTraversal;
import com.google.javascript.jscomp.PrepareAst;
import com.google.javascript.jscomp.Preconditions;
import com.google.javascript.jscomp.AstFactory;
import com.google.javascript.jscomp.Function;
import com.google.javascript.jscomp.FunctionNode;
import com.google.javascript.jscomp.Statement;

public void testIncompleteFunctionDefinitionCrashesCompiler() {
    String code = "function f f f; function t";
    CompilerInput input = new CompilerInput(code);
    Compiler compiler = new Compiler();
    compiler.setIdeMode(true);
    try {
        compiler.compile(input);
        fail("Expected RuntimeException to be thrown");
    } catch (RuntimeException e) {
        assertTrue(e.getMessage(), e.getMessage().contains("INTERNAL COMPILER ERROR"));
    }
}
