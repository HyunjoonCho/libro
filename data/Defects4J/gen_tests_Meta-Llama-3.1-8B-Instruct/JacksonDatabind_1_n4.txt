public void testNullValuesDuplicated() throws Exception {
    TestOuter testOuter = new TestOuter();
    ObjectMapper mapper = new ObjectMapper();
    JsonNode json = mapper.writeValueAsJsonNode(testOuter);
    JsonNode array = json.get("array");
    assertTrue(array.isArray());
    for (int i = 0; i < array.size(); i++) {
        JsonNode element = array.get(i);
        assertTrue(element.isArray());
        if (i == 1) {
            assertEquals(0, ((IntNode) element.get(0)).numberValue());
            assertEquals(null, element.get(1));
            assertEquals(1, element.size());
        } else {
            assertEquals(1, ((IntNode) element.get(0)).numberValue());
            assertEquals("one", element.get(1).asText());
            assertEquals(2, element.size());
        }
    }
}