java
public class TestSerialization {

    @JsonFormat(shape = JsonFormat.Shape.ARRAY)
    public ArrayList<TestInner> array;

    public TestOuter() {
        this.array = new ArrayList<>();
        this.array.add(new TestInner(1, "one"));
        this.array.add(new TestInner(0, null));
    }

    private class TestInner {
        public int i;
        public String mayBeNull;

        public TestInner(int i, String s) {
            this.i = i;
            this.mayBeNull = s;
        }
    }

    @Test
    public void testSerialization() throws JsonProcessingException {
        ObjectMapper mapper = new ObjectMapper();
        TestOuter outer = new TestOuter();
        String serialized = mapper.writeValueAsString(outer);
        String expected = "{\"array\":[[1,\"one\"],[0,null]]}";
        assertEquals(expected, serialized);
    }
}
