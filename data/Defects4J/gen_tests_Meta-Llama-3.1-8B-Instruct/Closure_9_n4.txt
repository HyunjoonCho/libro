java
import org.junit.Test;
import org.junit.runner.RunWith;
import org.junit.runners.JUnit4;

import java.io.File;
import java.io.FileWriter;
import java.io.IOException;
import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.Paths;
import java.nio.file.StandardCopyOption;

import com.google.common.io.Files;

import static org.junit.Assert.fail;

@RunWith(JUnit4.class)
public class CompilerTest {

    @Test
    public void testAMDModuleInSubdirectory() throws IOException {
        // Create directory structure
        Path libDir = Paths.get("lib");
        Files.createDirectories(libDir);

        // Create 1st AMD module in lib/Foo.js
        Path fooPath = libDir.resolve("Foo.js");
        try (FileWriter writer = new FileWriter(fooPath.toFile())) {
            writer.write("define('module$lib$Foo', function() {});");
        }

        // Create 2nd AMD module in Bar.js depending on lib/Foo.js
        Path barPath = Paths.get("Bar.js");
        try (FileWriter writer = new FileWriter(barPath.toFile())) {
           