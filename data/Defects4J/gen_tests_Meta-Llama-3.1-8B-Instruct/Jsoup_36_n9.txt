java
import org.jsoup.Jsoup;
import org.junit.Test;

import static org.junit.Assert.assertEquals;

public class JsoupCharsetDetectionTest {
    @Test(expected = IllegalArgumentException.class)
    public void testCharsetDetectionFailsOnInvalidContentType() {
        String url = "http://example.com";
        Jsoup.connect(url)
               .header("Content-Type", "text/html; ")
               .get();
    }

    @Test
    public void testJsoupRobustness() {
        String url = "http://www.9kuhkep.net";
        String html = Jsoup.connect(url).execute().body();
        // verify that the HTML is parsed correctly
        assertEquals(html, Jsoup.parse(html).html());
    }
}
