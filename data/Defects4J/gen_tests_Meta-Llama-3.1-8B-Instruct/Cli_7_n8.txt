public void testRequiredOptions() {
    try {
        Options options = new Options();
        options.addOption("h", false, "help");
        options.addOption("c", true, "config");
        CommandLineParser parser = new PosixParser();
        parser.parse(options, new String[] {"-c", "arg"});
        fail("Expected help option to be required");
    } catch (ParseException e) {
        // Expected exception
    }
}