java
import com.google.gson.Gson;
import org.junit.Test;

import java.util.*;

public class GsonDeserializationTest {
    static class BigClass {
        Map<String, List<SmallClass>> inBig;
    }

    static class SmallClass {
        String inSmall;
    }

    @Test(expected = ClassCastException.class)
    public void testGsonDeserializesWildcardsToLinkedHashMap() {
        Gson gson = new Gson();
        String json = "{\"inBig\":{\"key\":[{\"inSmall\":\"hello\"}]}}";
        BigClass big = gson.fromJson(json, BigClass.class);
        List<SmallClass> smallList = (List<SmallClass>) big.inBig.get("key");
        smallList.get(0).inSmall; // This should throw a ClassCastException
    }
}
