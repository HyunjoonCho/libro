java
import org.junit.Test;
import org.junit.runner.RunWith;
import org.junit.runners.JUnit4;
import org.mozilla.javascript.Context;
import org.mozilla.javascript.Scriptable;

@RunWith(JUnit4.class)
public class TestJSCompiler {

    @Test(expected = org.mozilla.javascript.ScriptRuntimeException.class)
    public void testJSCompilerTypedef() throws Exception {
        Context context = Context.enter();
        Scriptable scope = context.initStandardObjects();
        context.evaluateString(scope, "goog.provide('a.b.c');\n" +
                "goog.scope(function() {\n" +
                "    var b = a.b;\n" +
                "    var c = b.c;\n" +
                "    /** @typedef {string} */\n" +
                "    c.MyType;\n" +
                "    /** @param {c.MyType} x The variable. */\n" +
                "    c.myFunc = function(x) {};\n" +
                "});", "test.js", 1, null);
        Context.exit();
    }
}
