public void testEOLHandling() {
    ExtendedBufferReader reader = new ExtendedBufferReader("Hello\rWorld\n");
    reader.readLine();
    assertEquals(2, reader.getLineCount());
    assertEquals(0, reader.getPos());
    
    reader = new ExtendedBufferReader("Hello\r\nWorld");
    reader.readLine();
    assertEquals(2, reader.getLineCount());
    assertEquals(5, reader.getPos());
    
    reader = new ExtendedBufferReader("Hello\nWorld");
    reader.readLine();
    assertEquals(1, reader.getLineCount());
    assertEquals(6, reader.getPos());
}