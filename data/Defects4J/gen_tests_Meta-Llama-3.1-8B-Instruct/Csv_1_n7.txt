java
public void testExtendedBufferedReaderEOLHandling() {
    ExtendedBufferedReader reader = new ExtendedBufferedReader(new StringReader("abc\r\ndef\r\nghi\r\n"));
    assertEquals(0, reader.readLine());
    assertEquals("def", reader.readLine());
    assertEquals("ghi", reader.readLine());
    assertEquals(3, reader.getLineCount());
}

public void testExtendedBufferedReaderEOLHandlingLFOnly() {
    ExtendedBufferedReader reader = new ExtendedBufferedReader(new StringReader("abc\ndef\nghi\n"));
    assertEquals(0, reader.readLine());
    assertEquals("def", reader.readLine());
    assertEquals("ghi", reader.readLine());
    assertEquals(3, reader.getLineCount());
}

public void testExtendedBufferedReaderEOLHandlingCRLF() {
    ExtendedBufferedReader reader = new ExtendedBufferedReader(new StringReader("abc\r\ndef\r\nghi\r\n"));
    assertEquals(0, reader.readLine());
    assertEquals("def", reader.readLine());
    assertEquals("ghi", reader.readLine());
    assertEquals(3, reader.getLineCount());
}

public void testExtendedBufferedReaderEOLHandlingCROnly() {
    ExtendedBufferedReader reader = new ExtendedBufferedReader(new StringReader("abc\rdef\rghi\r"));
    assertEquals(0, reader.readLine());
    assertEquals("