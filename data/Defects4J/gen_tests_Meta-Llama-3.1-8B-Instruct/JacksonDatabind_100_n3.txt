public void testTreeTraversingParserBase64Variant() {
    // Create a TextNode with a Base64 value and a specified Base64 variant
    TextNode textNode = new TextNode("SGVsbG8gd29ybGQ=");
    Base64Variant base64Variant = Base64Variants.MIME_NO_LINEFEEDS;
    
    // Create a TreeTraversingParser with the TextNode
    TreeTraversingParser parser = new TreeTraversingParser();
    parser.setCurrentValue(textNode);
    
    // The default Base64 variant is used instead of the specified one
    byte[] defaultBytes = parser.getBinaryValue();
    
    // Create a new parser with the same TextNode, but with getBinaryValue called directly on the TextNode
    parser = new TreeTraversingParser();
    parser.setCurrentValue(textNode);
    byte[] expectedBytes = textNode.getBinaryValue(base64Variant);
    
    // Compare the two byte arrays
    assertArrayEquals(expectedBytes, defaultBytes);
}