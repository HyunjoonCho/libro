java
public void testUnmodifiableSetMixin() throws Exception {
    // Use a custom value instantiator to deserialize the set
    ValueInstantiator instantiator = new ValueInstantiator() {
        @Override
        public String getMemberType() {
            return UnmodifiableSetMixin.class.getName();
        }

        @Override
        public boolean canCreateFromObject() {
            return true;
        }

        @Override
        public Object createFromObject(Object src) throws JsonParseException {
            return new UnmodifiableSetMixin((Set<?>) src);
        }

        @Override
        public Object createFromString(String src) throws JsonParseException {
            throw new UnsupportedOperationException();
        }

        @Override
        public Object createFromBoolean(boolean value) {
            throw new UnsupportedOperationException();
        }

        @Override
        public Object createFromNumber(long value) {
            throw new UnsupportedOperationException();
        }

        @Override
        public Object createFromInt(int value) {
            throw new UnsupportedOperationException();
        }

        @Override
        public Object createFromLong(long value) {
            throw new UnsupportedOperationException();
        }

        @Override
        public Object createFromDouble(double value) {
            throw new UnsupportedOperationException();
        }

        @Override
        public Object createFromText(String text, Json