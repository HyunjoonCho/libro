java
public void testUtf16WithBom() throws Exception {
    byte[] utf16WithBom = new byte[] {(byte)0xfe, (byte)0xff, 'h', 'e', 'l', 'l', 'o'};
    byte[] utf8WithBom = new byte[] {(byte)0xef, (byte)0xbb, (byte)0xbf, 'h', 'e', 'l', 'l', 'o'};
    byte[] utf8WithoutBom = new byte[] {'h', 'e', 'l', 'l', 'o'};

    byte[] utf16Bytes = DataUtil.parseByteData(utf16WithBom);
    byte[] utf8Bytes = DataUtil.parseByteData(utf8WithBom);
    byte[] expectedUtf16Bytes = new byte[] {'h', 'e', 'l', 'l', 'o'};
    byte[] expectedUtf8Bytes = new byte[] {'h', 'e', 'l', 'l', 'o'};

    assertArrayEquals(expectedUtf16Bytes, utf16Bytes);
    assertArrayEquals(expectedUtf8Bytes, utf8Bytes);
}
