java
public void testIssueWithIfStatement() {
    int[] es = new int[] {1, 2, 3};
    int esi = 1;

    if (es[--esi][es[esi+1]] == 1) {
        es[esi] = 0;
    } else {
        es[esi] = 1;
    }

    int expected = es[--esi] == es[esi][es[esi + 1]]? 0 : 1;

    assertEquals(1, expected);
}
