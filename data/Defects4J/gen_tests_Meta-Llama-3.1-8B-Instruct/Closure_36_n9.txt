public void testAddSingletonGetter() {
    // Create a mock compiler
    ClosureCompiler compiler = new ClosureCompiler();
    
    // Compile the code
    String compiledCode = compiler.compile(
        "goog.provide('foo');" +
        "var foo = function() { this.values = []; };",
        "goog.addSingletonGetter(foo);",
        "foo.prototype.add = function(value) {this.values.push(value)};"
    );
    
    // Verify that the compiled code still includes the singleton getter
    assertTrue(compiledCode.contains("getInstance$"));
}