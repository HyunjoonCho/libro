public void testInferTemplateClass() {
    class Class<T> {}
    class Foo<T> {
        public <U> String foo(Foo<U> a) {
            return "string";
        }
    }
    Foo<?> foo = new Foo<>();
    try {
        foo.foo(a -> {});
        fail("Expected compilation error");
    } catch (Exception e) {
        // expected
    }
}