public void testAssignmentInConditional() {
    Object prop1 = new Object();
    String prop2 = "prop2";
    String prop3 = "prop3";

    Object result1 = new Object();
    if (true) {
        result1 = new Object();
        ((Object) result1).put("prop1", prop1);
    }
    if (true) {
        result1 = result1!= null? result1 : new Object();
        ((Object) result1).put("prop2", prop2);
    } else {
        result1 = result1!= null? result1 : new Object();
        ((Object) result1).put("prop3", prop3);
    }

    // Check that result1 is of type Map<String, Object>
    assertTrue(result1 instanceof Map);

    Object result2 = null;
    if (true) {
        result2 = new Object();
        ((Object) result2).put("prop1", prop1);
    }
    if (true) {
        result2 = result2!= null? result2 : new Object();
        ((Object) result2).put("prop2", prop2);
    } else {
        result2 = result2!= null? result2