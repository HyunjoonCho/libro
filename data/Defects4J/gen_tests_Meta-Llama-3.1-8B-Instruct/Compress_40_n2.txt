java
public void testOverflowInBitInputStream() {
    ByteArrayInputStream in = new ByteArrayInputStream(new byte[] {0x57, 0x2D, 0x42, 0xF, 0x5A, 0x1D, 0x58, 0x3D, 0x21, 0x4A});
    BitInputStream bin = new BitInputStream(in, ByteOrder.LITTLE_ENDIAN);
    
    try {
        long ret = bin.readBits(5);
        ret = bin.readBits(63); // This should cause an overflow
        ret = bin.readBits(12);
    } catch (Exception e) {
        fail("Expected no exception, but got " + e.getMessage());
    }
}
