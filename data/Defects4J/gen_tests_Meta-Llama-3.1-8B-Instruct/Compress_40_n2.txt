public void testBitInputStreamOverflow() throws IOException {
    ByteArrayInputStream in = new ByteArrayInputStream(new byte[] { 0x57, 0x29, 0x42, 0x0F, 0x5A, 0x1D, 0x58, 0x3D, 0x21, 0x4A });
    BitInputStream bin = new BitInputStream(in, ByteOrder.LITTLE_ENDIAN);
    long bitsCached = 0;
    int bitsCachedSize = 0;
    int byteOrder = ByteOrder.LITTLE_ENDIAN.ordinal();
    MASKS = new long[64];
    for (int i = 0; i < 64; i++) {
        MASKS[i] = (1L << i);
    }
    bin.bitsCached = bitsCached;
    bin.bitsCachedSize = bitsCachedSize;
    bin.byteOrder = byteOrder;
    assertEquals(0x000000000000000F0L, bin.readBits(4));
    assertEquals(0x000000000000000F0L, bin.readBits(4));
    assertEquals(0x00000000000005729L, bin.readBits(16));
    assertEquals(0x000000000