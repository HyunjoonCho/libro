public void testZipArchive() throws IOException {
    File zipFile = new File("test.zip");
    zipFile.deleteOnExit();
    ZipOutputStream zip = new ZipOutputStream(new FileOutputStream(zipFile));
    zip.putNextEntry(new ZipEntry("test"));
    zip.closeEntry();
    zip.close();
    ZipInputStream zipInputStream = new ZipInputStream(new FileInputStream(zipFile));
    zipInputStream.closeEntry(); // attempt to close the non-existent entry
    try {
        zipInputStream.read();
        fail("Expected EOFException");
    } catch (EOFException e) {
        // expected
    }
}