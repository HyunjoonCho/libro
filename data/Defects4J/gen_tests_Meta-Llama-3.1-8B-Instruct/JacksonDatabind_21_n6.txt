public void testEnumSerialization() throws JsonParseException {
    ObjectMapper mapper = new ObjectMapper();
    mapper.enable(DeserializationFeature.READ_ENUMS_USING_TO_STRING);
    mapper.enable(SerializationFeature.WRITE_ENUMS_USING_TO_STRING);

    TestEnum testEnum = TestEnum.VALUE_ONE;
    String json = mapper.writeValueAsString(testEnum);
    assertEquals("{\"value1\":\"value1\"}", json);

    TestEnum deserialized = mapper.readValue("{\"value1\":\"value1\"}", TestEnum.class);
    assertEquals(testEnum, deserialized);
}