public void testIncompleteNamespaceHandling() {
    DOMImplementation domImpl = new DOMImplementation();
    Document doc = domImpl.createDocument("http://example.com", "root");
    Element root = (Element) doc.getDocumentElement();
    root.setAttributeNS("http://example.com/namespace", "A:myAttr", "MyType");
    root.setAttributeNS("http://example.com/namespace", "B:myAttr", "MyValue");
    try {
        root.getAttributeNS("http://example.com/namespace", "A:myAttr");
    } catch (DOMException e) {
        fail("Expected attribute to be set");
    }
    try {
        root.getAttributeNS("http://example.com/namespace", "B:myAttr");
    } catch (DOMException e) {
        fail("Expected attribute to be set");
    }
}