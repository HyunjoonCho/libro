java
@Test
public void testTarDetection() throws Exception {
    // Test that ArchiveStreamFactory correctly identifies a tar file
    ArchiveStreamFactory factory = new ArchiveStreamFactory();
    ArchiveInputStream ais = factory.createArchiveInputStream(new ByteArrayInputStream(tarBytes));
    assertTrue(ais instanceof TarArchiveInputStream);

    // Test that ArchiveStreamFactory does not incorrectly identify a non-tar file as a tar file
    ais = factory.createArchiveInputStream(new ByteArrayInputStream(aiffBytes));
    assertFalse(ais instanceof TarArchiveInputStream);
}

private byte[] tarBytes = // add the bytes of a valid tar file here
private byte[] aiffBytes = // add the bytes of a valid AIFF file here
