public void testIssue983() {
    CategoryPlot plot = new CategoryPlot();
    plot.addSeries(null, null);
    AbstractCategoryItemRender render = new AbstractCategoryItemRender() {
        @Override
        public LegendItemCollection getLegendItems() {
            return super.getLegendItems();
        }
    };
    render.plot = plot;
    LegendItemCollection result = render.getLegendItems();
    try {
        result.getRowCount();
        fail("Expected NPE");
    } catch (NullPointerException e) {
        // expected
    }
}