public void testPrototypesDeclaredWithQuotes() throws Exception {
    // Create a JavaScript engine
    ScriptEngineManager manager = new ScriptEngineManager();
    ScriptEngine engine = manager.getEngineByName("js");

    // Compile the code
    engine.eval("function MyClass() {}");
    engine.eval("MyClass.prototype['MyMethod'] = function(a) { this.a = a; }");
    engine.eval("window['MyClass'] = MyClass;");

    // Check for the JSC_USED_GLOBAL_THIS warning
    String result = engine.getWarnings();
    assertTrue(result.contains("dangerous use of the global this object"));

    // Create a new JavaScript engine with externs
    engine = manager.getEngineByName("js");
    engine.eval("function MyParent() {}");
    engine.eval("MyParent.prototype.MyMethod = function(a) { }");

    // Compile the code with @implements annotation
    engine.eval("function MyClass() { }");
    engine.eval("@implements {MyParent}");
    engine.eval("MyClass.prototype['MyMethod'] = function(a) { this.a2 = a; }");
    engine.eval("window['MyClass'] = MyClass;");

    // Check for the JSC_USED_GLOBAL_THIS warning and the