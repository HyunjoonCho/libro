public void testManageClosureDependenciesWhitespaceOnly() throws Exception {
    // Create a temporary directory
    File tempDir = File.createTempFile("temp", "dir").getParentFile();
    tempDir.deleteOnExit();

    // Create a test project with a closure library
    File lib = new File(tempDir, "lib");
    lib.mkdir();
    File libFile = new File(lib, "closure-library.jar");
    libFile.createNewFile();

    // Run the compiler with --manage_closure_dependencies and WHITESPACE_ONLY
    // and verify that the compilation fails because dependencies are not managed
    File output = new File(tempDir, "output");
    output.mkdir();
    ProcessBuilder pb = new ProcessBuilder("java", "-jar", "compiler.jar", "--manage_closure_dependencies", "--compilation_level", "WHITESPACE_ONLY", "--js", "input.js", "--js_output_file", new File(output, "output.js"));
    pb.directory(tempDir);
    Process process = pb.start();
    int exitCode = process.waitFor();
    assertTrue("Compilation should fail", exitCode!= 0);

    // Run the compiler with --only_closure_dependencies and WHITESPACE_ONLY
    // and verify that the compilation fails because dependencies are not