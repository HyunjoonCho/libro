java
public void testArgumentDefaultsPreventCommandLineUsage() {
    Option option = new Option("option", "value", true, true);
    option.setDefault("default");
    CommandLine cmd = new CommandLine(new WritableCommandLine());
    cmd.addOption(option);
    try {
        cmd.parse(new String[] {"option", "value"});
        fail("Expected IllegalArgumentException");
    } catch (IllegalArgumentException e) {
        // Expected
    }
    try {
        cmd.parse(new String[] {"option", "value", "newValue"});
        fail("Expected IllegalArgumentException");
    } catch (IllegalArgumentException e) {
        // Expected
    }
    option.setUndefaulted(true);
    try {
        cmd.parse(new String[] {"option", "value"});
        fail("Expected IllegalArgumentException");
    } catch (IllegalArgumentException e) {
        // Expected
    }
}
