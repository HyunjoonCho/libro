java
public void testReadValuesIgnoredOffsetAndLength() throws JsonProcessingException {
    ObjectMapper mapper = new ObjectMapper();
    ObjectReader reader = mapper.readerFor(ArrayType(Integer.class));
    JsonToken token = new JsonToken(JsonToken.START_ARRAY);
    JsonParser jp = new JsonParser();
    jp.nextToken();
    jp.setCurrentToken(token);

    ObjectReader readerWithOffset = reader.withRootValueSeparator(JsonToken.END_ARRAY);
    readerWithOffset.readValue(jp);

    ObjectReader readerWithOffsetAndLength = reader.withRootValueSeparator(JsonToken.END_ARRAY).withValueToUpdate(new int[2]);
    readerWithOffsetAndLength.readValue(jp);

    ObjectReader readerWithOffsetAndLengthAndOffset = reader.withRootValueSeparator(JsonToken.END_ARRAY).withValueToUpdate(new int[3]).withOffset(1);
    readerWithOffsetAndLengthAndOffset.readValue(jp);
}
