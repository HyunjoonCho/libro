public void testMinAndMaxConstraintsOnGroup() {
    Options options = new Options();
    OptionGroup groupB = new OptionGroup("groupB");
    groupB.addOption(new Option("option1"));
    groupB.addOption(new Option("option2"));
    groupB.setMin(1);
    groupB.setMax(2);
    options.addOption(groupB);
    
    OptionGroup groupA = new OptionGroup("groupA");
    groupA.addOption(new Option("optionA"));
    groupA.addOption(groupB);
    options.addOption(groupA);
    
    CommandLineParser parser = new PosixParser();
    CommandLine commandLine = parser.parse(options, new String[]{"-option1"});
    
    assertEquals(1, groupB.getValues().size());
    assertTrue(groupB.hasOption("option1"));
    assertFalse(groupB.hasOption("option2"));
}