public void testHelpFormatterWrap() {
    HelpFormatter formatter = new HelpFormatter();
    formatter.setWidth(10);
    String longDescription = "This is a very long description that should wrap to multiple lines.";
    formatter.printText("Option with long description: " + longDescription);
    String[] lines = longDescription.split("\n");
    for (int i = 0; i < lines.length; i++) {
        String formattedLine = formatter.getWrappedLine(lines[i], 0);
        if (i == 0) {
            // First line should be correct length
            assertEquals(10, formattedLine.length());
        } else {
            // Subsequent lines should be shorter than the specified width
            assertTrue(formattedLine.length() < 10);
        }
    }
}