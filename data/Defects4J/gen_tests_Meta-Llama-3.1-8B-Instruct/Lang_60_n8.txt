java
public void testStrBuilderLengthUsage() {
    StrBuilder strBuilder = new StrBuilder();
    strBuilder.append("Hello, World!");
    // Check that size() is used instead of length() for bounds checking
    try {
        strBuilder.appendTo(this, 0, strBuilder.length() + 1); // Should throw IndexOutOfBoundsException
        fail("Expected IndexOutOfBoundsException");
    } catch (IndexOutOfBoundsException e) {
        // Expected
    }
    strBuilder.appendTo(this, 0, strBuilder.size()); // Should not throw IndexOutOfBoundsException
}
