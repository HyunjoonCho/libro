public void testUnicodeExtraFields() throws IOException {
    ZipFile zipFile = new ZipFile(new File("path/to/test.zip"));
    Enumeration<? extends ZipArchiveEntry> entries = zipFile.getEntries();
    while (entries.hasMoreElements()) {
        ZipArchiveEntry entry = entries.nextElement();
        ZipArchiveEntry originalEntry = entry;
        // Simulate a change in the entry name due to unicode extra fields
        // This should not change the entry's hash code in the original zip file
        entry = new ZipArchiveEntry(originalEntry.getName());
        zipFile.getEntries().put(entry.getName(), entry);
        // Test that subsequent gets from the map fail
        assertNotSame(originalEntry, zipFile.getEntries().get(entry.getName()));
    }
}