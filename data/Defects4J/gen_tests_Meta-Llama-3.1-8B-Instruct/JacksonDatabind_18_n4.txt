public void testErrorRecovery() throws Exception {
    JsonParser jp = new JsonFactory().createParser(new ByteArrayInputStream("{\"a\":{"));
    MappingIterator it = new MappingIterator(jp, JsonNodeFactory.instance.objectNode());
    try {
        it.nextValue();
        fail("Expected JsonProcessingException");
    } catch (JsonProcessingException e) {
        // Intentionally skip to the end of the JSON object
        jp.nextToken();
        jp.nextToken();
        jp.nextToken(); // END_OBJECT
        it.nextValue();
        assertNull(it.currentValue());
    }
}