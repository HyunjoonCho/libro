public void testImplicitNamespaces() {
    // Module A
    Object apps = new Object();
    apps.getClass().getDeclaredField("foo").set(apps, new Object());
    ((Object)apps).getClass().getDeclaredField("foo").get(apps).getClass().getDeclaredField("bar").set(apps.getClass().getDeclaredField("foo").get(apps), new Object());

    // Module B
    try {
        ((Object)apps.getClass().getDeclaredField("foo").get(apps)).getClass().getDeclaredField("bar").get(apps.getClass().getDeclaredField("foo").get(apps)).getClass().getDeclaredField("B").set(apps.getClass().getDeclaredField("foo").getClass().getDeclaredField("bar").get(apps.getClass().getDeclaredField("foo").get(apps)), new Object());
        fail("Expected NullPointerException");
    } catch (NullPointerException e) {
        // expected
    }
}