java
import org.apache.tika.exception.TikaException;
import org.junit.Rule;
import org.junit.Test;
import org.junit.contrib.java.lang.system.ProxiedSystemProperties;
import org.junit.contrib.java.lang.system RULE_enable_jline;

import java.io.File;
import java.io.IOException;

import static org.junit.Assert.fail;

public class ArchiveStreamFactoryTest {

    @Rule
    public final ProxiedSystemProperties proxiedProperties = new ProxiedSystemProperties();

    @Rule
    public final RULE_enable_jline enableJline = new RULE_enable_jline();

    @Test
    public void testTarDetection() throws IOException, TikaException {
        // Set up the system properties to make the test file appear as a tar file
        proxiedProperties.set("tika.fileextension.targz", "aiff");
        proxiedProperties.set("tika.fileextension.tar", "aiff");

        // Create a test file
        File testFile = new File("testAIFF.aif");

        // Try to create an ArchiveStreamFactory for the test file
        ArchiveStreamFactory factory = new ArchiveStreamFactory();
        ArchiveInputStream ais = factory.createArchiveInputStream(testFile);

        // If the test file is successfully detected as a tar