java
import org.junit.Test;
import org.junit.Assert;

import java.io.ByteArrayInputStream;
import java.io.ByteArrayOutputStream;
import java.io.IOException;
import java.util.zip.GZIPInputStream;
import java.util.zip.TarArchiveEntry;
import java.util.zip.TarArchiveInputStream;

public class TarArchiveTest {

    @Test
    public void testPaxHeaderEntryNameEndingWithSlash() throws IOException {
        // Create a TAR file with a PAX header entry ending with a slash
        ByteArrayOutputStream bos = new ByteArrayOutputStream();
        TarArchiveOutputStream tas = new TarArchiveOutputStream(new GZIPOutputStream(bos));
        tas.putArchiveEntry(new TarArchiveEntry("path/to/file/"));
        tas.closeArchiveEntry();
        tas.putArchiveEntry(new TarArchiveEntry("path/to/file2"));
        tas.closeArchiveEntry();
        tas.close();

        // Parse the TAR file
        ByteArrayInputStream bis = new ByteArrayInputStream(bos.toByteArray());
        TarArchiveInputStream tasis = new TarArchiveInputStream(new GZIPInputStream(bis));
        TarArchiveEntry entry = tasis.getNextEntry();

        // Verify the PAX header entry is not treated as a directory
        Assert.assertFalse(entry.isDirectory());
        Assert.assertEquals("path/to/file/", entry.getName());
    }
}
