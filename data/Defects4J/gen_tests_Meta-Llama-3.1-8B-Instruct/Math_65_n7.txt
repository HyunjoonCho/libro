java
public void testAbstractLeastSquaresRMS() {
    AbstractLeastSquares als = new AbstractLeastSquares() {
        @Override
        public double getChiSquare() {
            double sum = 0;
            for (int i = 0; i < rows; i++) {
                double residual = residuals[i];
                double weight = residualsWeights[i];
                sum += weight * Math.pow(residual, 2);
            }
            return sum;
        }
    };

    als.setRows(10);
    als.setResiduals(new double[] {1.0, 2.0, 3.0});
    als.setResidualsWeights(new double[] {1.0, 1.0, 1.0});

    double originalRMS = als.getRMS();
    double correctedRMS = Math.sqrt(als.getChiSquare() / als.getRows());

    assertEquals(originalRMS, correctedRMS, 0.00001);
}
