javascript
function testAnonymousObjectUnionInference() {
    let func = function(record) {
        window.console.log(record.prop);
    };

    let func2 = function(record) {
        if (typeof record =='string') {
            window.console.log(record);
        } else {
            window.console.log(record.prop);
        }
    };

    let obj1 = { prop: 'a' };
    func(obj1); // This should pass
    func2(obj1); // This should pass

    let obj2 = 'a';
    func(obj2); // This should pass
    try {
        func2(obj2); // This should throw an error
    } catch (e) {
        // Expected error: actual parameter 1 of func2 does not match formal parameter
    }
}
