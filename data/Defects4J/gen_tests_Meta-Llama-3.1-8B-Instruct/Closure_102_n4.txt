public void testShadowingArguments() {
    try {
        Object testFunction = new Object() {
            public void test(Object... arguments) {
                Object[] args = java.util.Arrays.copyOf(arguments, arguments.length);
            }
        };
        testFunction.getClass().getMethod("test", Object[].class).invoke(testFunction, new Object[]{});
        fail("Expected compilation error");
    } catch (Exception e) {
        // expected
    }
}