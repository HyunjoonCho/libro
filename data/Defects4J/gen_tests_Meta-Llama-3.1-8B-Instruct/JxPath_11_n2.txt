public void testIncompleteNamespaceHandling() {
    NamespaceResolver resolver = new NamespaceResolver() {
        @Override
        public String getURI(String prefix) {
            return null;
        }
    };
    Document document = new Document();
    Element root = document.createElement("ElementA");
    root.setAttributeNS("http://example.com", "A", "myAttr", "Mytype");
    Element child = document.createElement("B");
    child.setText("MY VALUE");
    root.appendChild(child);
    document.appendChild(root);
    try {
        DOMNodePointer pointer = new DOMNodePointer(document, resolver);
        pointer.createAttribute("A", "myAttr");
    } catch (Exception e) {
        fail("Expected no exception, but got " + e.getMessage());
    }
}