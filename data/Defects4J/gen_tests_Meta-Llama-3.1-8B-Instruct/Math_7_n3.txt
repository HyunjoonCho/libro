java
import org.junit.Test;
import org.junit.Assert;

import com.example.OdeSolver;
import com.example.Event;
import com.example.EventTrigger;

public class OdeSolverTest {

    @Test
    public void testEventStateNotUpdated() {
        // Create an ODE solver
        OdeSolver solver = new OdeSolver();

        // Create an event handler that triggers a RESET_STATE
        Event resetEvent = new Event() {
            @Override
            public boolean isTriggered(double t, double[] y) {
                return true; // Trigger the event
            }

            @Override
            public void eventOccurred(double t, double[] y) {
                // Reset the integration state
                solver.resetState();
            }
        };

        // Create an event handler that does not trigger an event
        Event nonTriggeringEvent = new Event() {
            @Override
            public boolean isTriggered(double t, double[] y) {
                return false;
            }

            @Override
            public void eventOccurred(double t, double[] y) {
                // This event should not be triggered in the same step as the reset event
            }
        };

        // Add the events to the solver
        solver.addEvent(resetEvent