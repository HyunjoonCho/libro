public void testCollapsePropertiesOnExternTypes() {
    CompilerOptions compilerOptions = new CompilerOptions();
    compilerOptions.setCollapsePropertiesOnExternTypes(true);

    Function1 function1 = new Function1() {
        public void run() {
            Function2 innerFunction = new Function2() {
                public void run() {
                    Object[] args = getOuterFunction().getArguments();
                    System.out.println(args);
                }
            };
            innerFunction.run();
        }
    };
    function1.run();

    Function2 function2 = new Function2() {
        public void run() {
            System.out.println(getArguments());
        }
    };
    function2.run();
}