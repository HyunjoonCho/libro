public void testEventStateNotUpdated() {
    // Setup the ODE solver and event handlers
    ODESolver solver = new ODESolver();
    Event1 event1 = new Event1();
    Event2 event2 = new Event2();
    solver.addEventHandler(event1);
    solver.addEventHandler(event2);

    // Set up the initial state and events
    double[] initialY = {0.0, 0.0};
    solver.setInitialConditions(initialY);
    solver.setTime(0.0);

    // Trigger event1 which asks for a RESET_STATE
    event1.eventOccurred(solver);

    // Check that the state is not updated correctly for event2
    event2.eventOccurred(solver);
    assertNotEquals(initialY, solver.getY());
}