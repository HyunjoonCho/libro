public void testLargeIso8601Dates() {
    StdDateFormat formatter = new StdDateFormat();
    long minDate = Long.MIN_VALUE;
    long maxDate = Long.MAX_VALUE;

    String minDateStr = formatter.format(new Date(minDate));
    String maxDateStr = formatter.format(new Date(maxDate));

    try {
        formatter.parse(minDateStr);
        fail("Expected IndexOutOfBoundsException for date " + minDate);
    } catch (IndexOutOfBoundsException e) {
        // expected
    }

    try {
        formatter.parse(maxDateStr);
        fail("Expected IndexOutOfBoundsException for date " + maxDate);
    } catch (IndexOutOfBoundsException e) {
        // expected
    }

    try {
        long parsedMinDate = formatter.parse(minDateStr).getTime();
        assertEquals(minDate, parsedMinDate);
        fail("Expected IndexOutOfBoundsException for date " + minDate);
    } catch (IndexOutOfBoundsException e) {
        // expected
    }

    try {
        long parsedMaxDate = formatter.parse(maxDateStr).getTime();
        assertEquals(maxDate, parsedMaxDate);
        fail("Expected IndexOutOfBoundsException for date " + maxDate);
    } catch (IndexOutOfBoundsException e) {
        // expected
    }
}