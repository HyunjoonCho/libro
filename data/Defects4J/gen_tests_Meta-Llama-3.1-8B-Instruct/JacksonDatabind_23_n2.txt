public void testNonEmptyExclusion() {
    ObjectMapper mapper = new ObjectMapper();
    AnnotatedClass annotation = new AnnotatedClass() {
        @AfterburnerModule.Feature set = new AfterburnerModule.Feature();
        @PropertyName("test") String test = "";
        @PropertyName("test2") String test2 = "value";
    };
    assertNotSame("Expected value 'value' to be excluded", "value", mapper.writeValueAsString(annotation));
    assertSame("Expected 'test' to be included", "", mapper.writeValueAsString(annotation));
}