java
import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.annotation.JsonInclude;
import com.fasterxml.jackson.module.afterburner.annotation.AfterburnerModule;
import org.junit.Test;

import static org.junit.Assert.assertEquals;

public class AfterburnerTest {

    @Test
    public void testNonEmptyExclusion() throws Exception {
        ObjectMapper mapper = new ObjectMapper().registerModule(new AfterburnerModule());
        Person person = new Person("John", "");
        String json = mapper.writeValueAsString(person);
        assertEquals("{\"name\":\"John\"}", json);

        mapper = new ObjectMapper();
        person = new Person("John", "");
        json = mapper.writeValueAsString(person);
        assertEquals("{\"name\":\"John\",\"nonEmpty\":\"\"}", json);
    }

    @JsonInclude(JsonInclude.Include.NON_EMPTY)
    static class Person {
        public String name;
        public String nonEmpty;

        public Person(String name, String nonEmpty) {
            this.name = name;
            this.nonEmpty = nonEmpty;
        }
    }
}
