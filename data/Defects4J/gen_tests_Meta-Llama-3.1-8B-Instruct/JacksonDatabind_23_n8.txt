public void testNonEmptyExclusion() {
    ObjectMapper mapper = new ObjectMapper();
    try {
        mapper.writeValueAsString(new NonEmptyString("hello"));
        fail("Expected java.lang.RuntimeException");
    } catch (JsonMappingException e) {
        // expected
    }
    
    ObjectMapper afterburnerMapper = new ObjectMapper().registerModule(new AfterburnerModule());
    afterburnerMapper.writeValueAsString(new NonEmptyString("hello"));
}