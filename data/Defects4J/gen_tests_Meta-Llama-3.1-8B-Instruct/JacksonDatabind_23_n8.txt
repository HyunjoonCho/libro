java
@Test
public void testNonEmptyExclusion() throws JsonProcessingException {
    ObjectMapper mapper = new ObjectMapper();
    ObjectWriter writer = mapper.writer().withDefaultPrettyPrinter();
    
    // Test with ints
    int[] array = {1, 2, 3};
    JsonNode json = mapper.valueToTree(array);
    String expectedJson = "[1, 2, 3]";
    String actualJson = writer.writeValueAsString(array);
    assertEquals(expectedJson, actualJson);

    // Test with Strings
    String[] arrayStr = {"a", "b", "c"};
    json = mapper.valueToTree(arrayStr);
    expectedJson = "[\"a\", \"b\", \"c\"]";
    actualJson = writer.writeValueAsString(arrayStr);
    assertEquals(expectedJson, actualJson);

    // Test with NON_EMPTY exclusion
    BeanWithNonEmptyField bean = new BeanWithNonEmptyField("a", "b", "c");
    json = mapper.valueToTree(bean);
    expectedJson = "{\"field1\":\"a\",\"field2\":\"b\",\"field3\":\"c\"}";
    actualJson = writer.writeValueAsString(bean);
    assertEquals(expectedJson, actualJson);
}

public