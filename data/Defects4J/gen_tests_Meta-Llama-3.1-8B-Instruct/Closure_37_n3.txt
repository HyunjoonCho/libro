java
public void testIncompleteFunctionDefinitionCrashesCompiler() {
    String code = "f f f ;\n" +
                  "function t";

    // Enable IDE mode to reproduce the bug
    Options options = Options.makeOptions();
    options.setPrettyPrint(true);
    options.setIDE(true);

    try {
        Compiler compiler = new Compiler();
        compiler.compile(new SourceFileExpando("test.js", code), options);
        fail("Expected compiler error");
    } catch (CompilationException e) {
        // Expected exception
    }
}
