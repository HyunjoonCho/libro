public void testTruncatedZipArchive() throws IOException {
    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    ZipArchiveOutputStream zos = new ZipArchiveOutputStream(bos);
    zos.close();
    bos.close();
    ZipArchiveInputStream zis = new ZipArchiveInputStream(new ByteArrayInputStream(bos.toByteArray()));
    zis.read(new byte[10]);
    try {
        zis.read(new byte[10]);
        fail("Expected IOException for truncated ZIP file");
    } catch (IOException e) {
        // Expected
    }
}