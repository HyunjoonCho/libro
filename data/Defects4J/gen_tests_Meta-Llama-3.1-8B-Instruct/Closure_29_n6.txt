public void testClosureCompilerIssue() {
    Function isFunction = new Function() {
        public Object apply(Object thisObj, Object... args) {
            return "[object Function]";
        }
    };

    Function compiledIsFunction = new Function() {
        public Object apply(Object thisObj, Object... args) {
            Object[] typeArray = new Object[0];
            return thisObj!= null && typeArray.toString().equals("[object Function]");
        }
    };

    assert(compiledIsFunction.apply(isFunction) == null);
}