public void testSideEffectsAnalysis() {
    Foo foo = new Foo();
    Location previousLocation = getLocation();
    foo.setLocation("http://www.google.com/");
    assertNotEquals(previousLocation, getLocation());
}

class Foo {
    private Location location;

    public Foo() {
        new Thread(() -> {
            setLocation(getLocation());
        }).start();
    }

    public void setLocation(String loc) {
        this.location = new Location(loc);
    }

    public Location getLocation() {
        return location;
    }
}

class Location {
    private String location;

    public Location(String loc) {
        this.location = loc;
    }

    public String getLocation() {
        return location;
    }
}