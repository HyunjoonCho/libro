java
public void testIncompleteNamespaceHandling() throws Exception {
    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
    DocumentBuilder builder = factory.newDocumentBuilder();
    InputSource is = new InputSource(new StringReader(
        "<ElementA xmlns:A=\"http://example.com/A\" xmlns:B=\"http://example.com/B\">" +
        "<A:ElementB xmlns:myAttr=\"http://example.com/myAttr\">MY VALUE</A:ElementB>" +
        "</ElementA>"
    ));
    Document document = builder.parse(is);
    Assert.assertEquals("http://example.com/A", document.getDocumentElement().getNamespaceURI());
    Assert.assertEquals("A", document.getDocumentElement().getPrefix());
    Assert.assertEquals("http://example.com/myAttr", document.getDocumentElement().getAttributeNode("myAttr").getNamespaceURI());
    Assert.assertEquals("myAttr", document.getDocumentElement().getAttributeNode("myAttr").getPrefix());
}
