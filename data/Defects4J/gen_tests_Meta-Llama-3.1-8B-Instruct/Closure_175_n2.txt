java
import org.junit.Test;
import java.io.ByteArrayOutputStream;
import java.io.IOException;
import java.io.PrintStream;

import com.google.javascript.jscomp.CompilationLevel;
import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.CompilerOptions;
import com.google.javascript.jscomp.JSError;
import com.google.javascript.jscomp.JSInputSource;
import com.google.javascript.jscomp.JSOutputWriter;

public class TestAdvancedOptimizationsIssue {
    @Test
    public void testAdvancedOptimizationsIssue() throws IOException {
        String input = "window['anchor'] = function (obj, modifiesProp) {" +
                " return (function (saved) {" +
                " return modifiesProp(obj) + saved;" +
                " })(obj['prop']);" +
                "}";
        
        Compiler compiler = new Compiler();
        CompilerOptions options = new CompilerOptions();
        options.setCompilationLevel(CompilationLevel.ADVANCED_OPTIMIZATIONS);
        options.setWarningLevel(CompilerOptions.WarningLevel.VERBOSE);
        compiler.compile(new JSInputSource(input), new JSOutputWriter(new ByteArrayOutputStream()), options);
        
        ByteArrayOutputStream out = new ByteArrayOutputStream();
        PrintStream