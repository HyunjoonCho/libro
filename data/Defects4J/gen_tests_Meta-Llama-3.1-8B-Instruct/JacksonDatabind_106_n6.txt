public void testTreeTraversingParser() {
    ObjectMapper mapper = new ObjectMapper();
    JsonNode tree;
    try {
        tree = mapper.readTree("{\"x\": 0}");
    } catch (IOException e) {
        fail("Expected tree to be created");
    }
    assertEquals(0, mapper.treeToValue(tree, Integer.class));
    assertEquals(0, mapper.treeToValue(tree, int.class));

    try {
        tree = mapper.readTree("{\"x\": 10}");
    } catch (IOException e) {
        fail("Expected tree to be created");
    }
    assertEquals(10, mapper.treeToValue(tree, Integer.class));
    assertEquals(10, mapper.treeToValue(tree, int.class));

    try {
        tree = mapper.readTree("{\"x\": 1e4}");
    } catch (IOException e) {
        fail("Expected tree to be created");
    }
    assertEquals(10000, mapper.treeToValue(tree, Integer.class));
    assertEquals(10000, mapper.treeToValue(tree, int.class));

    try {
        tree = mapper.readTree("{\"x\": 1e10}");
    } catch (IOException e) {
        fail("Expected tree to be created");
    }
    assertEquals(214748