public void testUtf16Bom() throws IOException {
    byte[] utf16Bom = new byte[] { (byte) 0xff, (byte) 0xfe, 0x68, 0x65, 0x6c, 0x6c, 0x6f };
    byte[] utf8Bom = new byte[] { (byte) 0xef, (byte) 0xbb, (byte) 0xbf, 0x68, 0x65, 0x6c, 0x6c, 0x6f };

    byte[] utf16Data = "hello".getBytes("UTF-16BE");
    byte[] utf8Data = "hello".getBytes("UTF-8");

    byte[] utf16DataWithBom = new byte[utf16Data.length + 2];
    System.arraycopy(utf16Bom, 0, utf16DataWithBom, 0, 2);
    System.arraycopy(utf16Data, 0, utf16DataWithBom, 2, utf16Data.length);

    byte[] utf8DataWithBom = new byte[utf8Data.length + 3];
    System.arraycopy