public void testInjectMocksWithFinalField() {
    final MyClass target = new MyClass();
    Mock mock = Mockito.mock(Mock.class);
    MockitoAnnotations.initMocks(this);
    try {
        MockitoAnnotations.injectMocks(this);
        fail("Should throw exception");
    } catch (IllegalStateException e) {
        // expected
    }
    assertEquals(mock, target.getMock());
}