public void testExternExportWithTypedef() {
    String source = "typedef {function()} MyType;\n" +
            "function testOptionalParam(a:MyType = null){}\n" +
            "function testNonOptionalParam(a:MyType){}\n" +
            "typedef {function()} MyType;";
    String expectedExport = "goog.exportSymbol('testOptionalParam', function(a) { var a = a; });" +
            "\n" +
            "goog.exportSymbol('testNonOptionalParam', function(a) { var a = a; });";
    String actualExport = Plovr.runPlovr(source);
    assertNotEquals(expectedExport, actualExport);
}