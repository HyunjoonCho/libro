javascript
// Test case to reproduce the issue
function testFunctionCastIssue() {
    var flash = new window.ActiveXObject('ShockwaveFlash.ShockwaveFlash');
    var original = /** @type {function(!string):!string} */ ((new window.ActiveXObject('ShockwaveFlash.ShockwaveFlash'))['GetVariable']);
    var wrapped = /** @type {function(!string):!string} */ ((0, (new window.ActiveXObject('ShockwaveFlash.ShockwaveFlash'))['GetVariable']));

    // Expected to fail due to the (0,...) wrapping
    try {
        wrapped('$version');
        fail("Expected an error");
    } catch (e) {
        // Expected exception
    }

    // Expected to work without wrapping
    var result = (new window.ActiveXObject('ShockwaveFlash.ShockwaveFlash')).GetVariable('$version');
    assertEquals("The Adobe Flash Player version is 11.6.602.171.", result);
}
