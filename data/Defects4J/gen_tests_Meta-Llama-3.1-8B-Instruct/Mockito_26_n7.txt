public void testInjectMocksWithFinalField() {
    // Arrange
    final MyClass myClass = new MyClass();
    MyDependency myDependency = Mockito.mock(MyDependency.class);
    doReturn("value").when(myDependency).myMethod();
    // Act & Assert
    try {
        MockitoAnnotations.initMocks(this);
        fail("Expected MockitoException");
    } catch (MockitoException e) {
        assertEquals("Cannot mock final class: MyClass", e.getMessage());
    }
}

class MyClass {
    @InjectMocks
    final MyDependency myDependency;
}

class MyDependency {
    String myMethod() {
        return "value";
    }
}