java
import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.SerializationFeature;
import com.fasterxml.jackson.module.jaxb.JaxbAnnotationIntrospector;
import com.fasterxml.jackson.module.jaxb.JaxbAnnotationIntrospectorBuilder;
import com.fasterxml.jackson.module.jaxb.JaxbAnnotationIntrospectorStd;
import com.fasterxml.jackson.module.jaxb.JaxbAnnotationIntrospectorXJC2;

import org.junit.Test;

import static org.junit.Assert.assertThrows;

public class TestJackson {

    @Test
    public void testJsonSerializeAsSuperType() throws Exception {
        // Create a custom annotation introspector that ignores the @JsonSerialize(as=superType) annotation
        JaxbAnnotationIntrospectorBuilder builder = new JaxbAnnotationIntrospectorBuilder(new JaxbAnnotationIntrospectorXJC2());
        JaxbAnnotationIntrospector introspector = builder.build();

        // Create an object mapper with the custom introspector
        ObjectMapper mapper = new ObjectMapper();
        mapper.setSerializationInclusion(SerializationFeature.FAIL_ON_EMPTY_BEANS);
        mapper.setAnnotationIntrospector(introspector);

        // Create a test object
        Foo foo = new Foo();

        // Attempt to serialize the object
