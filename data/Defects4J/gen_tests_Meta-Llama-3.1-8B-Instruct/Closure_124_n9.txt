java
import java.io.ByteArrayOutputStream;
import java.io.PrintStream;

import org.junit.Test;

import com.google.javascript.jscomp.CompilationLevel;
import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.CompilerOptions;

public class ClosureCompilerTest {

    @Test
    public void testClosureCompiler() throws Exception {
        String jsCode = "var foreignObject = gfx.parentNode.parentNode;" +
                "var parentContainer = foreignObject.parentNode.parentNode;";
        ByteArrayOutputStream out = new ByteArrayOutputStream();
        PrintStream printStream = new PrintStream(out);
        CompilerOptions options = new CompilerOptions();
        options.setLanguageIn(CompilerOptions.Language.JAVASCRIPT);
        options.setLanguageOut(CompilerOptions.Language.JAVASCRIPT);
        options.setWarningLevel(CompilerOptions.WarningLevel.DEFAULT);
        options.setCompilationLevel(CompilationLevel.SIMPLE_OPTIMIZATIONS);
        Compiler compiler = new Compiler();
        compiler.compile(new String[] { jsCode }, new String[] { "test.js" }, options, printStream);
        printStream.flush();
        String compiledCode = out.toString();
        // Manually parse the compiled code to check for the expected output
        String expectedOutput = "if(b){if(a=b.parentNode.parentNode,b=a.parentNode.parentNode