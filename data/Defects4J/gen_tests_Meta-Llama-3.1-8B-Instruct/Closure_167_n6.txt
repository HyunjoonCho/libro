public void testIssue() {
    String code = "var thing = {subthing: {prop: 3}};\n" +
            "for (var i = 0; i < thing.subthing.noprop; i++) {\n" +
            "window.console.log(i);\n" +
            "}";
    try {
        JavaScriptCompiler compiler = new JavaScriptCompiler();
        compiler.compile(code);
        fail("Expected compilation error");
    } catch (CompilationError e) {
        // expected
    }
}