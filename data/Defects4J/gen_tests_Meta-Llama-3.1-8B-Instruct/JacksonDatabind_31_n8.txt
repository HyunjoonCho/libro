public void testJsonStreamContexts() throws JsonProcessingException {
    ObjectMapper mapper = new ObjectMapper();
    JsonFactory jsonFactory = mapper.getFactory();
    JsonGenerator gen = jsonFactory.createGenerator(System.out);
    JsonParser parser = jsonFactory.createParser("[1,2,3]");
    JsonStreamContext writeContext = gen.getCodec().createContext(parser, JsonStreamContext.emptyRootContext());
    JsonStreamContext readContext = gen.getCodec().createContext(parser, JsonStreamContext.emptyRootContext());
    JsonParser p = parser;
    JsonStreamContext writeContext2 = gen.getCodec().createContext(p, JsonStreamContext.emptyRootContext());
    assertEquals(writeContext, writeContext2);
}