java
import org.junit.Test;
import org.junit.runner.RunWith;
import org.junit.runners.JUnit4;

import com.google.gwt.core.client.GWT;
import com.google.gwt.junit.client.GWTTestCase;

@RunWith(GWTTestCase.class)
public class ScopeTest extends GWTTestCase {

    @Test
    public void testScope() {
        GWT.runAsync(new Runnable() {
            @Override
            public void run() {
                final String jsCode1 = "goog.scope(function() { var x = function(){}; });";
                final String jsCode2 = "goog.scope(function() { function x() {} });";

                final String[] results1 = GWT.create(jsCode1).toString().split("\n");
                final String[] results2 = GWT.create(jsCode2).toString().split("\n");

                assertEquals(1, results1.length);
                assertEquals(1, results2.length);
            }
        });
    }
}
