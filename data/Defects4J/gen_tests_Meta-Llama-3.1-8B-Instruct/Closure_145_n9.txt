java
import com.google.javascript.jscomp.CompilationLevel;
import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.CompilerOptions;
import com.google.javascript.jscomp.SourceFile;
import org.junit.Test;

import static org.junit.Assert.assertEquals;

public class ClosureCompilerTest {

    @Test
    public void testBugWithLabeledLoopsAndBreaks() throws Exception {
        Compiler compiler = new Compiler();
        CompilerOptions options = new CompilerOptions();
        options.setLanguageIn(CompilationLevel.SIMPLE_OPTIMIZATIONS);

        SourceFile file = SourceFile.fromCode("test.js", "var i = 0;\n" +
                "lab1: do {\n" +
                " lab2: do {\n" +
                "  i++;\n" +
                "  if (1) {\n" +
                "   break lab2;\n" +
                "  } else {\n" +
