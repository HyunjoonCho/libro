public void testStackOverflowError() throws IOException {
    File tempFile = File.createTempFile("temp", ".js");
    try {
        PrintWriter writer = new PrintWriter(tempFile);
        writer.println("function a() { a(); }");
        writer.close();
        
        String[] args = {"--js", tempFile.getAbsolutePath(), "--js_output_file", "output.js"};
        ProcessBuilder pb = new ProcessBuilder("java", "-jar", "compiler.jar", args);
        Process process = pb.start();
        process.waitFor();
        assertEquals(1, process.exitValue());
    } finally {
        tempFile.delete();
    }
}