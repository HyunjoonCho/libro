java
import org.apache.commons.lang3.ArrayUtils;

public void testArraySortIssue() {
    int threshold = 250;
    int[][] array = new int[threshold][2];
    for (int i = 0; i < threshold; i++) {
        array[i][0] = i;
        array[i][1] = i;
    }

    // When threshold is small, sort() works as expected
    int[][] sortedArraySmall = ArrayUtils.clone(array);
    ArrayUtils.sort(sortedArraySmall, new Comparator<int[]>() {
        @Override
        public int compare(int[] o1, int[] o2) {
            return Integer.compare(o1[0], o2[0]);
        }
    });
    for (int i = 0; i < threshold; i++) {
        assertNotSame(array[i], sortedArraySmall[i]);
    }

   