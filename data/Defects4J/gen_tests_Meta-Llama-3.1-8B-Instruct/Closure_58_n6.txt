public void testClosureCompilerBug() {
    String input = "function keys(obj) {\n" +
            "  var a = [], i = 0;\n" +
            "  for (a[i++] in obj)\n" +
            "  ;\n" +
            "  return a;\n" +
            "}";
    String compiled = ClosureCompiler.compile(input);
    assertTrue(compiled.contains("Uncaught Error: Invalid property in for loop"));
}