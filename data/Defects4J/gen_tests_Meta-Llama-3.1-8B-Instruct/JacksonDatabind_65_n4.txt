java
public class StdKeyDeserializerTest {

    @Test
    public void testStdKeyDeserializer() throws IOException {
        ObjectMapper mapper = new ObjectMapper();
        Map<FullName, Double> map = mapper.readValue("{\"first.last\": 42}", new TypeReference<Map<FullName, Double>>() {});

        Entry<FullName, Double> entry = map.entrySet().iterator().next();
        assertEquals(entry.getKey().getFirstname(), "first");
        assertEquals(entry.getKey().getLastname(), "last");
        assertEquals(entry.getValue(), 42.0);
    }

    public static class FullName {
        private final String firstname;
        private final String lastname;

        public FullName(String firstname, String lastname) {
            this.firstname = firstname;
            this.lastname = lastname;
        }

        public String getFirstname() {
            return firstname;
        }

        public String getLastname() {
            return lastname;
        }

        @Override
        public String toString() {
            return firstname + "." + lastname;
        }
    }
}
