public void testArgumentCaptorVarargs() {
    ArgumentCaptor<String> captor = ArgumentCaptor.forClass(String.class);
    when(someMethod("a", captor.capture(), "c")).thenReturn("result");
    someMethod("b", "d", "e");
    verify(someMethod).someMethod("b", captor.capture(), "e");
    assertEquals(Arrays.asList("a", "b"), captor.getAllValues());
}