java
import org.junit.Test;
import org.junit.runner.RunWith;
import org.junit.runners.JUnit4;
import org.w3c.dom.Document;
import org.w3c.dom.Element;
import org.w3c.dom.Node;
import org.w3c.dom.NodeList;
import org.xml.sax.InputSource;

import javax.xml.parsers.DocumentBuilderFactory;
import java.io.StringReader;

import static org.junit.Assert.assertEquals;

@RunWith(JUnit4.class)
public class CoreUnionTest {

    @Test
    public void testUnionOperation() throws Exception {
        String xml = "<MAIN><A>avalue</A><B>bvalue</B></MAIN>";
        Document document = DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(new InputSource(new StringReader(xml)));
        Node nodeA = document.getElementById("A");
        Node nodeB = document.getElementById("B");

        NodeList nodes = document.getElementsByTagName("*");
        NodeList result = new NodeList() {
            @Override
            public int getLength() {
                return 2;
            }

            @Override
            public Node item(int index) {
                if (index == 0) {
                    return nodeB;
                } else {
                    return nodeA;
                }
            }
        };

        // Simulate the Core union operation
       