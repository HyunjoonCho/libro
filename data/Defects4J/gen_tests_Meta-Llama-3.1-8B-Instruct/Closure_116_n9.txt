java
import org.junit.Test;
import java.io.File;
import java.io.FileWriter;
import java.io.IOException;
import java.io.PrintWriter;

import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.CompilerOptions;
import com.google.javascript.jscomp.JSError;
import com.google.javascript.jscomp.SourceFile;

public class AdvancedOptimizationsTest {

    @Test
    public void testIssue() throws IOException {
        // Create input file
        String input = "window['anchor'] = function (obj, modifiesProp) {\n" +
                "  return (function (saved) {\n" +
                "    return modifiesProp(obj) + saved;\n" +
                "  })(obj['prop']);";

        try (PrintWriter writer = new PrintWriter(new FileWriter("input.js"))) {
            writer.print(input);
        }

        // Compile with ADVANCED_OPTIMIZATIONS
        CompilerOptions options = new CompilerOptions();
        options.setCompilationLevel(CompilerOptions.CompilationLevel.ADVANCED_OPTIMIZATIONS);
        options.setWarningLevel(CompilerOptions.WarningLevel.VERBOSE);
        Compiler compiler = new Compiler(options);

        SourceFile inputSource = SourceFile.fromCode("input.js", input);
        compiler.addSource(input