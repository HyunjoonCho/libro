java
public void testEscapeXmlSupplementaryPlanes() throws Exception {
    String input = "\uD842\uDFB7" + "A";
    String expectedEscaped = "%uD842%uDFB7A";
    String actualEscaped = StringEscapeUtils.escapeXml(input);
    assertEquals(expectedEscaped, actualEscaped);

    // Verify the issue
    String escapedInput = StringEscapeUtils.escapeXml("\uD842\uDFB7A");
    assertEquals(3, escapedInput.length());
    assertEquals(2, Character.codePointCount("\uD842\uDFB7A", 0, "\uD842\uDFB7A".length()));
    assertEquals("\u{1D0F3}", escapedInput);
}
