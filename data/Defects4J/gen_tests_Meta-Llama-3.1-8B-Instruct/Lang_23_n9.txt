java
public void testExtendedMessageFormatEquals() {
    ExtendedMessageFormat fmt1 = new ExtendedMessageFormat("Hello {0}");
    ExtendedMessageFormat fmt2 = new ExtendedMessageFormat("Hello {0}");
    ExtendedMessageFormat fmt3 = new MessageFormat("Hello {0}"); // not an ExtendedMessageFormat

    // Both fmt1 and fmt2 should be equal, but the default equals method in MessageFormat will not consider them equal
    // because they are not the same instance.
    assertFalse(fmt1.equals(fmt2));

    // fmt1 and fmt3 should not be equal, but the default equals method in Object will not know about the difference between MessageFormat and ExtendedMessageFormat.
    assertFalse(fmt1.equals(fmt3));

    // Test that fmt1 and fmt2 are equal after casting to MessageFormat
    MessageFormat fmt1AsMessageFormat = (MessageFormat) fmt1;
    MessageFormat fmt2AsMessageFormat = (MessageFormat) fmt2;
    assertTrue(fmt1AsMessageFormat.equals(fmt2AsMessageFormat));
}
