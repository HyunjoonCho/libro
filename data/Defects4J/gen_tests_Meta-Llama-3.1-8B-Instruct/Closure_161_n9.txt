public void testPeepholeConstantsFolding() {
    // Create a JavaScript engine
    ScriptEngineManager manager = new ScriptEngineManager();
    ScriptEngine engine = manager.getEngineByName("javascript");

    // Create a JavaScript source code
    String source = "var Mdt=[];Mdt[11] = ['22','19','19','16','21','18','16','20','17','17','21','17'];";

    // Compile the source code
    try {
        engine.eval(source);
    } catch (ScriptException e) {
        // Expect an exception due to the index out of bounds error
        assertEquals("Array index out of bounds: NUMBER 11.0", e.getMessage());
    }
}