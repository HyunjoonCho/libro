public void testBOBYQAOptimizerFailure() {
    int dim = 10;
    BOBYQAOptimizer optim = new BOBYQAOptimizer(2 * dim + 2);
    try {
        RealPointValuePair result = optim.optimize(100000, new MultiObjectiveFunction() {
            @Override
            public double[] value(double[] point) {
                return new double[0];
            }

            @Override
            public int getDimension() {
                return 0;
            }
        }, Goal.MINIMIZE, new double[0]);
        fail("Expected IndexOutOfBoundsException");
    } catch (IndexOutOfBoundsException e) {
        // expected
    }
}