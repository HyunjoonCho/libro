java
public void testGenericMetadataSupportSelfReference() {
    // Define the interface with self-referential type parameter
    interface GenericsSelfReference<T extends GenericsSelfReference<T>> {
        T self();
    }

    // Create a mock class that implements the interface
    class SelfReferentialClass implements GenericsSelfReference<SelfReferentialClass> {
        @Override
        public SelfReferentialClass self() {
            return this;
        }
    }

    // Get the metadata for the self() method
    GenericMetadataSupport genericMetadata = inferFrom(SelfReferentialClass.class).resolveGenericReturnType(SelfReferentialClass.class.getMethod("self"));

    // Assert that the metadata is correctly resolved
    assertThat(genericMetadata.rawType()).isEqualTo(SelfReferentialClass.class);
}
