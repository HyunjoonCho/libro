public void testPearsonsCorrelationPValuesPrecision() {
    // Generate a large t-statistic
    double[] x = new double[1000];
    double[] y = new double[1000];
    for (int i = 0; i < 1000; i++) {
        x[i] = Math.random();
        y[i] = Math.random();
    }
    PearsonsCorrelation pearsonsCorrelation = new PearsonsCorrelation(x, y);
    double t = pearsonsCorrelation.getCorrelationCoefficient();
    // Create a duplicate tDistribution
    tDistribution tDistribution1 = new tDistribution(t, 1000 - 2);
    tDistribution tDistribution2 = new tDistribution(t, 1000 - 2);
    // Calculate the p-value using the original code
    double pOriginal = 2 * (1 - tDistribution1.cumulativeProbability(t));
    // Calculate the p-value using the modified code
    double pModified = 2 * tDistribution2.cumulativeProbability(-t);
    // The p-values should be identical
    assertEquals(pOriginal, pModified, 1e-6);
}