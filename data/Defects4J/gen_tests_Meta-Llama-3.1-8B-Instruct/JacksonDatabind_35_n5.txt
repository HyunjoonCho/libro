public void testObjectIdAndTypeIdWithWrapperObject() {
    ObjectMapper mapper = new ObjectMapper();
    mapper.enableDefaultTyping(DefaultTyping.JAVA_LANG_OBJECT);
    SimpleModule module = new SimpleModule();
    module.addSerializer(new TypeIdSerializer());
    module.addDeserializer(TypeId.class, new TypeIdDeserializer());
    mapper.registerModule(module);
    TypeId typeId = new TypeId(TypeId.class, null);
    assertEquals(TypeId.class.getName(), typeId.toString());
    assertEquals(TypeId.class.getName(), typeId.getValue());
    Object result = mapper.writeValueAsString(typeId);
    assertTrue(result instanceof String);
    // expected result should be something like "TypeId" and not "java.lang.String"
    assertNotEquals("java.lang.String", result);
}