java
import org.mozilla.javascript.Context;
import org.mozilla.javascript.Scriptable;
import org.junit.Test;

public class NamespaceImplicitTest {

    @Test
    public void testImplicitNamespace() {
        Context context = Context.enter();
        Scriptable scope = context.initStandardContext();
        Scriptable moduleA = context.evaluateString(scope, "goog.provide('apps');", "moduleA", 1, null);
        Scriptable moduleB = context.evaluateString(scope, "goog.provide('apps.foo.bar.B');", "moduleB", 1, null);
        Scriptable moduleC = context.evaluateString(scope, "goog.provide('apps.foo.bar.C');", "moduleC", 1, null);

        Scriptable apps = (Scriptable) moduleA.get("apps", scope);
        Scriptable foo = (Scriptable) apps.get("foo", scope);
        Scriptable bar = (Scriptable) foo.get("bar", scope);

        try {
            bar.put("B", scope);
            fail("Expected runtime error");
        } catch (Exception e) {
