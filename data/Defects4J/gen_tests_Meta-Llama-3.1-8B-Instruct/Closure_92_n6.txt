public void testImplicitNamespaces() {
    // Module A
    Object a = new Object();
    a.getClass().getDeclaredField("foo").set(a, new Object());
    a.getClass().getDeclaredField("foo").get(a).getClass().getDeclaredField("bar").set(a.getClass().getDeclaredField("foo").get(a), new Object());

    // Module B
    a.getClass().getDeclaredField("foo").get(a).getClass().getDeclaredField("bar").get(a.getClass().getDeclaredField("foo").get(a)).getClass().getDeclaredField("B").set(a.getClass().getDeclaredField("foo").get(a).getClass().getDeclaredField("bar").get(a.getClass().getDeclaredField("foo").get(a)), new Object());

    // Check for runtime error
    try {
        a.getClass().getDeclaredField("foo").get(a).getClass().getDeclaredField("bar").get(a.getClass().getDeclaredField("foo").get(a)).getClass().getDeclaredField("C").set(a.getClass().getDeclaredField("foo").get(a).getClass().getDeclaredField("bar").get(a.getClass().getDeclaredField("foo").get(a)), new Object());
        fail("Expected NullPointerException");