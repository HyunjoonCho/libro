public void testEnumMapJsonProperty() {
    EnumMap<MyEnum, String> map = new EnumMap<>(MyEnum.class);
    map.put(MyEnum.VALUE1, "value1");
    String json = mapper.writeValueAsString(map);
    assertTrue(json.contains("\"VALUE1\""));
    // check that the correct JsonProperty value is used
    map = new EnumMap<>(MyEnum.class);
    map.put(MyEnum.VALUE1, "value1");
    json = mapper.writeValueAsString(map);
    assertFalse(json.contains("\"VALUE1\""));
    assertTrue(json.contains("\"value1\""));
}

enum MyEnum {
    @JsonProperty("value1")
    VALUE1,
    @JsonProperty("value2")
    VALUE2;
}