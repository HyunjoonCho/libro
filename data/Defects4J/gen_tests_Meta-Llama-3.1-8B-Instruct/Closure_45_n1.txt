public void testArrayPushExpressionResult() {
    Compiler compiler = new Compiler();
    CompilationUnit compilationUnit = compiler.compile("function f() { var a = [], b; a.push(b = []); b[0] = 1; return a; }");
    String compiledCode = compilationUnit.printToSource();
    String expectedCode = "function f(){var a=[],b; a.push([]); return a;}";
    assertEquals(expectedCode, compiledCode);
}