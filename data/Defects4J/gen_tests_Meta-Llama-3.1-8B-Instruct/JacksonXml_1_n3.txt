public void testDeserializeNestedList() {
    List<Record> records = new ArrayList<>();
    Record record = new Record();
    record.setFields(new ArrayList<>());
    records.add(record);
    ObjectMapper mapper = new ObjectMapper();
    String json = mapper.writeValueAsString(records);
    List<Record> deserializedRecords = mapper.readValue(json, List.class, Record.class);
    assertEquals(1, deserializedRecords.size());
    assertEquals(0, deserializedRecords.get(0).getFields().size());
}