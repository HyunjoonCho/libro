public void testIncompleteReinitialization() {
    // Initialize some state
    Object state = new Object();
    
    // Track two events in the same step
    Event event1 = new Event(state);
    Event event2 = new Event(state);
    
    // First event is accepted
    event1.accept();
    
    // Verify that the state has been reset
    assertNotSame(state, event1.getState());
    
    // Second event should still be able to proceed
    event2.proceed();
    
    // Verify that the state has been fully reinitialized
    assertSame(state, event2.getState());
}