public void testDeserializationOfNestedNonWrappedLists() {
    List<Record> records = new ArrayList<>();
    List<Field> fields = new ArrayList<>();
    records.add(new Record(fields));
    ObjectMapper mapper = new ObjectMapper();
    String json = mapper.writeValueAsString(records);
    assertEquals("{\"records\":[{\"fields\":[]}]", json);
    List<Record> deserializedRecords = mapper.readValue(json, new TypeReference<List<Record>>() {});
    assertEquals(1, deserializedRecords.size());
    assertNull(deserializedRecords.get(0).getFields());
}