public void testClosureCompilerAdvancedMode() {
    String code = "try { var x = 5; } catch(e) { var s = \"FAIL\" + e.name + \": \" + e.message; }";
    try {
        ClosureCompiler compiler = new ClosureCompiler();
        compiler.compile(code);
        fail("Expected JSC_UNDEFINED_NAME warning");
    } catch (CompilationError e) {
        assertTrue(e.getWarnings().contains("JSC_UNDEFINED_NAME"));
    }
}