java
public void testSideEffectsOfOrOperator() {
    Expression e = new Expression("Math.sin(0) || Math.cos(0)");
    try {
        e.optimize();
        fail("Expected exception");
    } catch (Exception e1) {
        // expected
    }
    
    Expression e2 = new Expression("Math.sin(0)");
    try {
        e2.optimize();
    } catch (Exception e1) {
        fail("Expected side effects of sin(0) to be calculated");
    }
    
    Expression e3 = new Expression("Math.cos(0)");
    try {
        e3.optimize();
    } catch (Exception e1) {
        fail("Expected side effects of cos(0) to be calculated");
    }
}
