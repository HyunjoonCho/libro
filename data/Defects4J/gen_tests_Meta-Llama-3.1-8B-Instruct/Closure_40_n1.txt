java
import org.junit.Test;
import org.junit.runner.RunWith;
import org.junit.runners.JUnit4;

import com.google.gwt.dev.js.JavaScriptCompiler;
import com.google.gwt.dev.js.ast.AstNode;
import com.google.gwt.dev.js.ast.FunctionNode;
import com.google.gwt.dev.js.ast.Name;
import com.google.gwt.dev.js.ast.Node;
import com.google.gwt.dev.js.ast.Statement;
import com.google.gwt.dev.js.ast.TreeLogger;

import java.io.ByteArrayOutputStream;
import java.io.PrintStream;

import static org.junit.Assert.assertThrows;

@RunWith(JUnit4.class)
public class SmartNameRemovalTest {

    @Test
    public void testSmartNameRemovalCrash() {
        ByteArrayOutputStream baos = new ByteArrayOutputStream();
        PrintStream ps = new PrintStream(baos);
        System.setOut(ps);

        JavaScriptCompiler compiler = new JavaScriptCompiler();
        compiler.setTreeLogger(new TreeLogger() {
            @Override
            public void error(String message) {
                // ignore errors
            }
        });
        compiler.compile(new String[] {
                "goog = {}",
                "goog.inherits = function(x, y) {}",
                "ns = {}",
                "/** @constructor */ ns.PageSelectionModel = function(){}",
                "/** @