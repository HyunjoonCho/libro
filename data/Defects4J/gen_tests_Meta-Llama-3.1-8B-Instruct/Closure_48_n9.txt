javascript
describe('test function override', function() {
    it('should throw error on first call', function() {
        function MyClass() {}
        MyClass.prototype.myFn = function() {};
        MyClass.prototype.test = function() {
            this.myFn();
            this.myFn = function() {
                throw new Error('Expected error on first call');
            };
        };
        var myInstance = new MyClass();
        expect(function() { myInstance.test(); }).toThrow('Expected error on first call');
    });

    it('should throw error on second call', function() {
        function MyClass() {}
        MyClass.prototype.myFn = function() {};
        MyClass.prototype.test = function() {
            this.myFn = function() {
                throw new Error('Expected error on second call');
            };
            this.myFn();
        };
        var myInstance = new MyClass();
        expect(function() { myInstance.test(); }).toThrow('Expected error on second call');
    });
});
