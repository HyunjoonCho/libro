java
public void testReturnsDeepStubs() {
    NotSerializableReturnValue notSerializable = new NotSerializableReturnValue("");
    ToBeMocked toBeMocked = mock(ToBeMocked.class, RETURNS_DEEP_STUBS);
    when(toBeMocked.getSomething()).thenReturn(notSerializable);

    // This should not throw an exception
    toBeMocked.getSomething();

    // Verify that the field1 of NotSerializableReturnValue is not null
    assertNotNull(notSerializable.getSomething2());
}
