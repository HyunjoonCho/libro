java
public void testCompilerFailsToFindAMDModuleInSubdirectory() throws Exception {
    // Create temporary directory
    File tempDir = new File(System.getProperty("java.io.tmpdir"), "amd-module-test");
    tempDir.mkdir();

    // Create Bar.js and Foo.js in lib subdirectory
    File barJs = new File(tempDir, "Bar.js");
    File libDir = new File(tempDir, "lib");
    libDir.mkdir();
    File fooJs = new File(libDir, "Foo.js");

    // Write Bar.js and Foo.js content
    try (PrintWriter barJsWriter = new PrintWriter(barJs)) {
        barJsWriter.println("define('Bar', ['lib/Foo'], function(Foo) {});");
    }

    try (PrintWriter fooJsWriter = new PrintWriter(fooJs)) {
        fooJsWriter.println("define('Foo', function() {});");
    }

    // Compile with compiler.jar
    ProcessBuilder pb = new ProcessBuilder("java", "-jar", "compiler.jar", "--transform_amd_modules",
            "--process_common_js_modules", "--common_js_entry_module=Bar.js",
            "--compilation_level=ADVANCED_OPTIMIZATIONS", "--js_output_file=out