public void testJSCDeterministicTest() {
    ClosureCompiler compiler = new ClosureCompiler();
    CompilerOptions options = new CompilerOptions();
    options.setCompilationLevel(CompilationLevel ADVANCED_OPTIMIZATIONS);
    JSErrorCollector errors = new JSErrorCollector();
    String code = "var t = null; window.test = function() { if (t!= null) { t = null; } t = 1; }";
    compiler.compile(code, options, errors);
    assert errors.getErrorCount() == 0;
}