java
import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.SourceFile;
import com.google.javascript.rhino.jstype.FunctionType;
import com.google.javascript.rhino.jstype.ObjectType;
import com.google.javascript.rhino.jstype.InterfaceType;

import org.junit.Test;

import java.io.IOException;
import java.io.File;

import static org.junit.Assert.fail;

public class Issue107Test {
    @Test
    public void testIssue107() {
        Compiler compiler = new Compiler();
        SourceFile sf = SourceFile.fromCode("test.js", """
            var test = {};
            /**
             * @interface
             */
            test.T = function() {};

            /**
             * @constructor
             * @implements {test.T}
             */
            test.A = function() {};

            /**
             * @constructor
             * @implements {test.T}
             */
            test.B = function() {};

            /**
             * @constructor
             */
            test.X = function() {
                this.type = test.A;
                this.t = this.f();
            };

            /**
             * @return {test.T}
             */
            test.X.prototype.f = function() {
                if (this.type === test.A) {
                    return