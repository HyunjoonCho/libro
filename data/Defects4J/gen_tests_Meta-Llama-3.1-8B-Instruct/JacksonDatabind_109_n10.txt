public void testWriteBigDecimalAsPlainIgnoredWithJsonFormat() throws JsonProcessingException {
    ObjectMapper mapper = new ObjectMapper();
    mapper.configure(JsonGenerator.Feature.WRITE_BIGDECIMAL_AS_PLAIN, true);
    JsonFormat format = new JsonFormat().shape(JsonFormat.Shape.STRING);
    JsonNode actual = mapper.writeValueAsBytes(new BigDecimal("0.0000000005"));
    JsonNode expected = mapper.writeValueAsBytes(BigDecimal.valueOf(0.0000000005));
    assertEquals(expected, actual);
}