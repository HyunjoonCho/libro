public void testPrototypePropertyTypeInference() {
    Object a = new Object();
    assertSame(String.class, a.getClass().getDeclaredField("prototype").getType());
    a.getClass().getDeclaredField("prototype").set(a, "");
    assertSame(String.class, a.getClass().getDeclaredField("prototype").getType());
    a.getClass().getDeclaredField("prototype").set(a, new Runnable() {});
    assertSame(Runnable.class, a.getClass().getDeclaredField("prototype").getType());
}