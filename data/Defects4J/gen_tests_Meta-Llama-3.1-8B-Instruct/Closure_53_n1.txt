java
import org.junit.Test;
import org.junit.runner.RunWith;
import com.google.testing.compile.Compilation;
import com.google.testing.compile.CompilationRule;
import com.google.testing.compile.Compiler;
import com.google.common.collect.ImmutableList;

import static com.google.testing.compile.CompilationRule.compile;
import static com.google.common.truth.Truth.assertWithMessage;

@RunWith(CompilationRule.class)
public class SoundManagerTest {

    @Test
    public void testSoundManagerCrash() {
        Compilation compilation = Compiler.javac()
               .withDeps(new ImmutableList<String>())
               .compile("soundmanager2-nodebug.js");

        assertWithMessage("Compilation should fail")
               .that(compilation).failed();
    }
}
