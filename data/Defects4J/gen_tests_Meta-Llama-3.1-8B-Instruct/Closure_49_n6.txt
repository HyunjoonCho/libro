public void testFunctionVariableShadowing() {
    JavaScriptEngine engine = new JavaScriptEngine();
    engine.executeScript("var foo = function bar(){ var bar; alert(bar); };");
    String compiled = engine.getCompiledCode();
    System.out.println(compiled);
    assertEquals("var foo = function() { alert(void 0); };", compiled);
}