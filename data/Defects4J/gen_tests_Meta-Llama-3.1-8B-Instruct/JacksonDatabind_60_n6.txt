java
public void testPolymorphicTypeLostWhenUsingJsonValue() throws JsonProcessingException, IOException {
    ObjectMapper mapper = new ObjectMapper();
    mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);
    mapper.enableDefaultTyping();

    // Create an object with a byte array field and a JsonValue getter
    byte[] apdu = new byte[] {1, 2, 3};
    RemoteCall remoteCall = new RemoteCall(apdu);

    // Serialize the object
    String json = mapper.writeValueAsString(remoteCall);

    // Deserialize the object and verify that the type is lost
    RemoteCall deserializedCall = mapper.readValue(json, RemoteCall.class);
    assertNotNull(deserializedCall.getApdu()); // This should be byte[] but is actually byte[]
    assertNotEquals(remoteCall.getClass(), deserializedCall.getClass());
    assertEquals(byte[].class, deserializedCall.getApdu().getClass());
}
