public void testSerializationToTree() throws JsonProcessingException {
    ObjectMapper mapper = new ObjectMapper();
    X<String> x = new X<String>();
    x.s = "s";
    x.items = new ArrayList<String>();
    x.items.add("item1");
    x.items.add("item2");
    
    JsonNode tree = mapper.valueToTree(x);
    JsonNode itemsNode = tree.get("items");
    assertEquals("items", itemsNode.getNodeType());
    assertEquals(2, itemsNode.size());
    assertEquals("item1", itemsNode.get(0).asText());
    assertEquals("item2", itemsNode.get(1).asText());
}