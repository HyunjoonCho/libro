java
public void testRealMatrixImplOperate() {
    RealMatrix matrix = new RealMatrixImpl(new double[][] {{1, 2, 3}, {4, 5, 6}});
    double[] input = {1, 2, 3};
    try {
        matrix.operate(input);
        fail("Expected ArithmeticException");
    } catch (ArithmeticException e) {
        // expected
    }
    
    matrix = new RealMatrixImpl(new double[][] {{1, 2}, {3, 4}});
    try {
        matrix.operate(input);
        fail("Expected ArithmeticException");
    } catch (ArithmeticException e) {
        // expected
    }
    
    matrix = new RealMatrixImpl(new double[][] {{1, 2}, {3, 4}});
    double[] expected = {5, 11};
    double[] result = matrix.operate(new double[] {1, 2});
    assertArrayEquals(expected, result, 1e-10);
}
