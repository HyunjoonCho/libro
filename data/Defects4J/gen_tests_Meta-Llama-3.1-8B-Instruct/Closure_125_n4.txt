public void testIssue107() {
    String js = "var test = {}; " +
            "test.T = function() {}; " +
            "/** @interface */" +
            "test.T = function() {}; " +
            "/** @constructor */" +
            "test.A = function() {}; " +
            "/** @constructor */" +
            "test.B = function() {}; " +
            "/** @constructor */" +
            "test.X = function() {" +
            " this.type = test.A;" +
            " this.t = this.f();" +
            "}; " +
            "/** @return {test.T} */" +
            "test.X.prototype.f = function() {" +
            " if (this.type === test.A) {" +
            " return new test.A();" +
            "} else if (this.type === test.B) {" +
            " return new test.B();" +
            "} " +
            "};";

    try {
        // This should throw an exception
        // Note: This is a simplified version of the test, as the original test uses the closure compiler
        // The actual test would involve compiling the JavaScript code using the closure compiler
        // and then checking the resulting error message