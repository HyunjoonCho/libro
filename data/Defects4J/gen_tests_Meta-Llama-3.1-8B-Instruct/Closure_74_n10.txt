javascript
function testInlineIfBug() {
    var result1 = (true == null? a() : b());
    if (result1!== b()) {
        throw new Error("Expected b() to be called");
    }

    function a() {
        return 1;
    }

    function b() {
        return 2;
    }

    var result2 = (true == false? a() : b());
    if (result2!== b()) {
        throw new Error("Expected b() to be called");
    }

    function sum(a, b) {
        return (a == true? 2 : a) + b;
    }

    var result3 = sum(true, 1);
    if (result3!== 3) {
        throw new Error("Expected sum to return 3");
    }
}
