public void testAppendToExistingTableWrapsInTable() {
    HTMLDocument doc = new HTMLDocument();
    HTMLTable table = new HTMLTable();
    doc.getBody().appendChild(table);
    
    HTMLTableRow row = new HTMLTableRow();
    table.appendChild(row);
    HTMLTableCell cell = new HTMLTableCell();
    row.appendChild(cell);
    HTMLTable table2 = new HTMLTable();
    table2.appendChild(row);
    
    assertEquals(1, doc.getBody().getElementsByTagName("table").getLength());
    HTMLTable resultTable = doc.getBody().getElementsByTagName("table").item(0);
    assertEquals(1, resultTable.getElementsByTagName("tr").getLength());
    assertEquals(1, resultTable.getElementsByTagName("tr").item(0).getElementsByTagName("table").getLength());
}