java
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class TestCommaOperator {
    @Test
    public void testCommaOperator() {
        // Test case 1: foo((1, 2, 42))
        assertEquals("foo((1, 3))", transformExpression("(1, 2, 42)");
        // Test case 2: foo((bar(), 2, 42))
        assertEquals("foo((bar(), 3))", transformExpression("(bar(), 2, 42)");
        // Test case 3: foo(((1, 2, 3), (4, 5, 42)))
        assertEquals("foo((1, 4, 42))", transformExpression("((1, 2, 3), (4, 5, 42))");
    }

    private String transformExpression(String expression) {
        // Simulate the problematic behavior
        String[] elements = expression.split(",");
        return "(" + elements[0] + ", " + elements[1] + ")";
    }
}
