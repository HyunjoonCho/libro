public void testClassifyNonRightmostExpressions() {
    Expression e1 = new Expression("foo((1, 2, 42)");
    e1 = ExpressionUtil.classify(e1);
    assertEquals("foo((1, 3)", e1.toString());
    ExpressionUtil.checkForProblematic(e1);

    Expression e2 = new Expression("foo((bar(), 2, 42)");
    e2 = ExpressionUtil.classify(e2);
    assertEquals("foo((bar(), 3)", e2.toString());
    ExpressionUtil.checkForProblematic(e2); // No warning expected

    Expression e3 = new Expression("foo(((1, 2, 3), (4, 5, 42)))");
    e3 = ExpressionUtil.classify(e3);
    assertEquals("foo((1, 4, 42)", e3.toString());
    ExpressionUtil.checkForProblematic(e3); // Warning only for first elements
}