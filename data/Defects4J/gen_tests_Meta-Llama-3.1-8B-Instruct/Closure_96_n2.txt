public void testVarArgsTypeCheck() {
    JSTypeEnvironment env = new JSTypeEnvironment();
    TypeEnvironment envWithVarArgs = env.enterFunction("foo", new String[]{String.class}, new Type[]{});
    envWithVarArgs.addParameter("var_args", new String[]{String.class});
    Type paramType = envWithVarArgs.getParameterType(1);
    try {
        envWithVarArgs.typeCheck(new int[]{123});
        fail("Expected type mismatch error");
    } catch (TypeCheckException e) {
        // expected
    }
    try {
        envWithVarArgs.typeCheck(new Object[]{123});
        fail("Expected type mismatch error");
    } catch (TypeCheckException e) {
        // expected
    }
}