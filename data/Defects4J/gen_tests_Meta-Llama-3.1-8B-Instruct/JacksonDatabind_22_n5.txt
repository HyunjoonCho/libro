public void testCustomSerializerNotUsedWithJsonValue() {
    JsonSerializer serializer = new JsonSerializer();
    serializer.registerSerializer(MyObject.class, new CustomSerializer());
    MyObject obj = new MyObject();
    MyObjectJson json = new MyObjectJson();
    assertEquals(CustomSerializer.class, json.serializerFor(MyObject.class));
    assertEquals(CustomSerializer.class, json.serializerFor(obj));
    assertEquals(CustomSerializer.class, json.serializerFor(MyObject.class));
    json = new MyObjectJson();
    json.addMixInAnnotations(MyObject.class, MyObjectJson.class);
    assertEquals(CustomSerializer.class, json.serializerFor(MyObject.class));
    assertEquals(CustomSerializer.class, json.serializerFor(obj));
}