java
public void testGenericSelfReference() {
    interface GenericsSelfReference<T extends GenericsSelfReference<T>> {
        T self();
    }

    GenericMetadataSupport genericMetadata = Mockito.mock(GenericMetadataSupport.class);
    Class<?> type = GenericsSelfReference.class;
    Method method = GenericsSelfReference.class.getMethod("self");

    try {
        genericMetadata.resolveGenericReturnType(method);
        fail("Expected StackOverflowError");
    } catch (StackOverflowError e) {
        // expected
    }
}
