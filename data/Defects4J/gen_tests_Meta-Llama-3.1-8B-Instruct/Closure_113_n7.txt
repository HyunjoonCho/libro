java
public void testProcessRequireCalls() {
    // Create a simple AST with a goog.require call that should not be removed
    // and another that should be removed
    Node node = new Node();
    Node require1 = new Node("goog.require", "validModule");
    Node require2 = new Node("goog.require", "invalidModule");
    node.addChild(require1);
    node.addChild(require2);

    // Create a requires level that is not on
    RequiresLevel requiresLevel = new RequiresLevel(false);

    // Process the requires
    ProcessClosurePrimitives process = new ProcessClosurePrimitives();
    process.processRequireCall(node, requiresLevel);

    // The invalid require should still be present in the node
    assertEquals(2, node.getChildren().size());
    assertFalse(node.getChildren().get(0).getName().equals("goog.require"));
    assertTrue(node.getChildren().get(1).getName().equals("goog.require"));
}
