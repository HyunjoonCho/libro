public void testOverflowInReadBits() {
    ByteArrayInputStream in = new ByteArrayInputStream(new byte[] {87, 45, 66, 15, 90, 29, 88, 61, 33, 74});
    BitInputStream bin = new BitInputStream(in, ByteOrder.LITTLE_ENDIAN);
    long result1 = bin.readBits(5);
    long result2 = bin.readBits(63);
    long result3 = bin.readBits(12);
    assertEquals(0, result1);
    assertEquals(0x0000000000000000fL, result2);
    assertEquals(0x0000000000000000000000000000000000000000000000000000000000000000L, result3);
}