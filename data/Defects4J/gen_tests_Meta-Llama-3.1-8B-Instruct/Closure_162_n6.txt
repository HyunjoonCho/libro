public void testTypeAliases() {
    try {
        Class<?> foo = Class.forName("Foo");
        Class<?> bar = Class.forName("Foo$Bar");
        Method constructor = foo.getMethod("void <init>(Foo$Bar)");
        constructor.invoke(null, bar);
        fail("Expected error");
    } catch (Exception e) {
        // expected
    }
}