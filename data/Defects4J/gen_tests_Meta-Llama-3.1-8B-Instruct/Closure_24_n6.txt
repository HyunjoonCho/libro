public void testGoogScope() {
    try {
        goog.scope(new Runnable() {
            @Override
            public void run() {
                Object x = new Object() {};
            }
        });
        fail("Expected compiler error");
    } catch (Exception e) {
        // expected
    }
    
    try {
        goog.scope(new Runnable() {
            @Override
            public void run() {
                class X {}
            }
        });
        fail("Expected compiler error");
    } catch (Exception e) {
        // expected
    }
}