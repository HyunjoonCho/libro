public void testDeserializingLocaleSeparator() {
    Locale locale = Locale.forLanguageTag("en-GB");
    Locale fromString = Locale.parse("en_GB");
    assertEquals(locale, fromString);
    
    locale = Locale.forLanguageTag("en-US");
    fromString = Locale.parse("en-US");
    assertEquals(locale, fromString);
    
    try {
        Locale.parse("en_123");
        fail("Expected IllegalArgumentException");
    } catch (IllegalArgumentException e) {
        // expected
    }
    
    try {
        Locale.parse("en-123");
        fail("Expected IllegalArgumentException");
    } catch (IllegalArgumentException e) {
        // expected
    }
}