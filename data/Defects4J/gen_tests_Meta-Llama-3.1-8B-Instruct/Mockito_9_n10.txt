java
public class AbstractClassSpyTest {

    @Test
    public void testSpyingOnAbstractClass() throws Exception {
        // Given
        AbstractClass abstractClass = Mockito.spy(new AbstractClassImpl());
        when(abstractClass.getAbstractMethod()).thenReturn("mocked value");

        // When
        String result = abstractClass.realMethod();

        // Then
        assertEquals("mocked value", result);
    }

    static abstract class AbstractClass {
        public abstract String getAbstractMethod();
        public String realMethod() {
            return getAbstractMethod() + " from real method";
        }
    }

    static class AbstractClassImpl extends AbstractClass {
        @Override
        public String getAbstractMethod() {
            return "default value";
        }
    }
}
