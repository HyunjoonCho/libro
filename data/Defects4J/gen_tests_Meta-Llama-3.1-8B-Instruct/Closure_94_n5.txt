javascript
import { Compiler } from 'google-closure-compiler';

describe('Closure Compiler', () => {
    it('should not throw an error when defining a constant with a long string', () => {
        const compiler = new Compiler({
            compilationLevel: 'WHITESPACE_ONLY',
            languageIn: 'ECMASCRIPT5',
            outputWrapper: false,
            warningLevel: 'QUIET',
            jsOutputFile: 'output.js'
        });
        const code = `
            /* @define {string} */
            var CONSTANT = "some very long string name that I want to wrap " +
            "and so break using a + since I don't want to " +
            "introduce a newline into the string.";
        `;
        compiler.addSourceFile({
            path: 'input.js',
            source: code,
            isModule: false
        });
        compiler.compile();
    });
});
