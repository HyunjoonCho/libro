java
public void testLineRevert() {
    // Create a line with a direction far from the origin
    Vector3D direction = new Vector3D(1e10, 1e10, 1e10);
    Line line = new Line(new Vector3D(0, 0, 0), direction);

    // Revert the line
    Line revertedLine = line.revert();

    // Calculate the expected direction using Vector3D.negate()
    Vector3D expectedDirection = direction.negate();

    // Check that the reverted line has the correct direction
    assertEquals(expectedDirection, revertedLine.getDirection());
}

public void testLineImmutability() {
    Line line = new Line(new Vector3D(0, 0, 0), new Vector3D(1, 2, 3));
    try {
        line.setDirection(new Vector3D(4, 5, 6));
        fail("Expected an UnsupportedOperationException");
    } catch (UnsupportedOperationException e) {
        // Expected
    }
}
