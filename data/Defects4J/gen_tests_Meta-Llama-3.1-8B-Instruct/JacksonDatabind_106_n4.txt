java
public class TreeTraversingParserTest {

    private ObjectMapper mapper = new ObjectMapper();

    @Test
    public void testTreeTraversingParserOverflow() throws IOException {
        JsonNode tree = mapper.readTree("{\"x\": 2147483648}");
        IntClass objFromTree = mapper.treeToValue(tree, IntClass.class);
        assertEquals(2147483647, objFromTree.x);

        String json = "{\"x\": 2147483648}";
        IntClass objFromString = mapper.readValue(json, IntClass.class);
        try {
            assertEquals(2147483648, objFromString.x);
            fail("Expected JsonMappingException");
        } catch (JsonMappingException e) {
            // expected
        }
    }

    public static class IntClass {
        public int x;
    }
}
