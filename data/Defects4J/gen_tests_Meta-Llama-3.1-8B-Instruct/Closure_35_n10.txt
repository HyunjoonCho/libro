public void testTypeMismatchInConditional() {
    Object[] result = func(true, true);
    assertNotNull(result);
    assertNull(((Map)result[0]).get("prop1"));
    assertNotNull(result[0]);
    assertEquals("prop2", ((Map)result[0]).get("prop2"));
    assertNull(result[1]);
    assertNull(result[2]);

    result = func(true, false);
    assertNotNull(result);
    assertNull(((Map)result[0]).get("prop1"));
    assertNotNull(result[0]);
    assertNull(((Map)result[0]).get("prop2"));
    assertEquals("prop3", ((Map)result[0]).get("prop3"));
    assertNull(result[1]);
    assertNull(result[2]);

    result = func(false, false);
    assertNull(result);
}