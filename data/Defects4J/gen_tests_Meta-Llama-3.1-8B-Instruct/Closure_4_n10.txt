javascript
describe('issue', () => {
    it('should throw an error when converting from an interface type to a constructor that implements itself', () => {
        class OtherType {}
        Object.defineProperty(OtherType.prototype, 'constructor', {
            value: OtherType,
            writable: true,
            configurable: true,
            enumerable: false,
        });

        class MyType extends OtherType {}
        MyType.prototype = Object.create(OtherType.prototype);
        MyType.prototype.constructor = MyType;

        expect(() => {
            new MyType();
        }).toThrow();
    });
});
