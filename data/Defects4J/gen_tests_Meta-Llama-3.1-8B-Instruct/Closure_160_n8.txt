java
public void testCheckVarsUndefinedVars() throws Exception {
    // Create a test file
    String testFile = "test.js";
    File tempFile = File.createTempFile("test", ".js");
    tempFile.deleteOnExit();
    try (PrintWriter writer = new PrintWriter(tempFile)) {
        writer.println("foo = {};");
        writer.println("foo.bar = function() { alert(this.baz); };");
    }

    // Compile with jscomp_warning checkVars
    ProcessBuilder pb = new ProcessBuilder("java", "-jar", "compiler.jar", "--js", tempFile.getAbsolutePath(), "--jscomp_warning", "checkVars");
    pb.redirectErrorStream(true);
    Process process = pb.start();
    int exitCode = process.waitFor();
    assertTrue("Expected error when using --jscomp_warning checkVars", exitCode!= 0);

    // Compile with jscomp_warning undefinedVars
    pb = new ProcessBuilder("java", "-jar", "compiler.jar", "--js", tempFile.getAbsolutePath(), "--jscomp_warning", "undefinedVars");
    pb.redirectErrorStream(true);
    process = pb.start();
    int exitCode2 = process.waitFor();
   