public void testPosixParser() {
    OptionSet options = new OptionSet();
    options.addOption("t", "target", true, "Generate files for the specified target machine");
    try {
        PosixParser parser = new PosixParser(options);
        parser.parse("-t");
        fail("Expected ParseException");
    } catch (ParseException e) {
        // Expected
    }
    try {
        PosixParser parser = new PosixParser(options);
        parser.parse("-target");
        fail("Expected ParseException");
    } catch (ParseException e) {
        // Expected
    }
    try {
        PosixParser parser = new PosixParser(options);
        parser.parse("-t foobar.com");
        assertEquals("foobar.com", parser.getRemainingArgs().get(0));
    } catch (ParseException e) {
        fail("Expected no ParseException");
    }
    try {
        PosixParser parser = new PosixParser(options);
        parser.parse("-target foobar.com");
        assertEquals("foobar.com", parser.getRemainingArgs().get(0));
    } catch (ParseException e) {
        fail("Expected no ParseException");
    }
}