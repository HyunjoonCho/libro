java
public void testZipVersionNeededToExtract() throws IOException {
    ZipArchiveOutputStream zaos = new ZipArchiveOutputStream(new ByteArrayOutputStream());
    ZipEntry entry = new ZipEntry("test.txt");
    entry.setMethod(ZipEntry.DEFLATED);
    entry.setSize(1024);
    entry.setCompressedSize(512);
    entry.setComment("Test comment");
    zaos.putCentralDirectoryRecord(entry);
    zaos.close();
    byte[] centralDir = ((ByteArrayOutputStream) zaos).toByteArray();
    ZipArchiveInputStream zais = new ZipArchiveInputStream(new ByteArrayInputStream(centralDir));
    ZipEntry centralDirEntry = zais.getNextEntry();
    int versionNeededToExtractCentralDir = centralDirEntry.getVersionNeededToExtract();
    ZipArchiveOutputStream zaos2 = new ZipArchiveOutputStream(new ByteArrayOutputStream());
    zaos2.putLocalFileHeader(entry);
    zaos2.close();
    byte[] localFileHeader = ((ByteArrayOutputStream) zaos2).toByteArray();
    ZipEntry localFileHeaderEntry = ZipArchiveEntryFactory.createEntry(localFileHeader);
    int versionNeededToExtractLocalFileHeader = localFileHeaderEntry.getVersionNeededToExtract();
    assertEquals(DATA_DESCRIPTOR_MIN_VERSION, versionNeededToExtractCentralDir);
    assertEquals(INIT