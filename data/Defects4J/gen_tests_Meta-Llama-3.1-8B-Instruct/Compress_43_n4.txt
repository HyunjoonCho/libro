public void testZipVersionNeededToExtract() throws IOException {
    ByteArrayOutputStream baos = new ByteArrayOutputStream();
    ZipArchiveOutputStream zos = new ZipArchiveOutputStream(new BufferedOutputStream(baos));
    zos.putArchiveEntry(new ZipArchiveEntry("test"));
    zos.closeEntry();
    zos.close();

    ZipFile zf = new ZipFile(new File(baos.toByteArray()));
    ZipEntry ze = zf.getEntry("test");
    int expectedVersion = ZIP64_MIN_VERSION;
    if (!isZip64Required(ze, Zip64Mode.autoDetect)) {
        expectedVersion = INITIAL_VERSION;
    }
    assertEquals(expectedVersion, ze.getLocalizedComment());
}

// Helper method to mimic Plexus Archiver's logic
private boolean isZip64Required(ZipEntry ze, Zip64Mode zip64Mode) {
    // This method should be implemented based on the actual logic in Plexus Archiver
    // For simplicity, this implementation always returns false
    return false;
}