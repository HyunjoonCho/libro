public void testNegativeValueWithRestrictNonNegative() {
    double[] coefficients = new double[] { 1, 1 };
    double[] constants = new double[] { 1 };
    boolean[] bounds = new boolean[] { true, true };
    double[] lowerBounds = new double[] { 0, 0 };
    double[] upperBounds = new double[] { Double.POSITIVE_INFINITY, Double.POSITIVE_INFINITY };
    double[] initialGuess = new double[] { 0, 0 };
    GoalType goalType = GoalType.MINIMIZE;
    boolean restrictNonNegative = true;

    SimplexSolver solver = new SimplexSolver();
    solver.optimize(coefficients, constants, goalType, bounds, lowerBounds, upperBounds, initialGuess, restrictNonNegative);
    assertTrue(solver.getOptimalPoint()[1] >= 0);
}