public void testReturnsDeepStubs() throws Exception {
    I i = mock(I.class, RETURNS_DEEP_STUBS);
    Class<?> rawType = new ParameterizedType() {
        @Override
        public Type getRawType() {
            return Supplier.class;
        }

        @Override
        public Type[] getActualTypeArguments() {
            return new Type[]{Boolean.class};
        }

        @Override
        public Type getOwnerType() {
            return null;
        }
    };
    when(i.m(Boolean.class).get()).thenReturn(true);
    Supplier<?> supplier = i.m(Boolean.class);
    Object result = supplier.get();
    assertTrue(result instanceof Boolean);
}