public void testFilteringParserDelegateMissingClosingObject() {
    JsonParser p = new JsonParser(JSONFactory.createJsonParser("{
        \"a\":123,
        \"array\":[1,2],
        \"ob\": {
            \"value0\":2,
            \"value\":3,
            \"value2\":4
        },
        \"b\":true
    }"));
    FilteringParserDelegate delegate = new FilteringParserDelegate(p,
            new NameMatchFilter("value"), true, false);
    JsonParser filtered = delegate;
    JsonParser p2 = new JsonParser(JSONFactory.createJsonParser("{}"));
    FilteringParserDelegate delegate2 = new FilteringParserDelegate(p2,
            new NameMatchFilter("value"), true, false);
    JsonParser filtered2 = delegate2;
    try {
        JsonReader reader = filtered2.getReader();
        reader.read();
        reader.readObject();
        reader.readName();
        reader.readString();
        reader.readNull();
        reader.readEndObject();
        // expecting EndObject but getting EndArray
        fail("Expected EndObject but got EndArray");
    } catch (JsonParserException e) {
        // expected exception
    }
}