public void testCommandLineGetOptionValue() {
    CommandLineParser parser = new DefaultParser();
    Options options = new Options();
    final String debugOpt = "debug";
    Option debug = OptionBuilder
           .withArgName(debugOpt)
           .withDescription("turn on debugging")
           .withLongOpt(debugOpt)
           .create('d');
    options.addOption(debug);
    String[] args = { "-d" };
    CommandLine commandLine = parser.parse(options, args);
    assertEquals("d", debugOpt, commandLine.getParsedOptionValue(debugOpt));
    assertEquals("d", debugOpt, commandLine.getParsedOptionValue('d'));
}