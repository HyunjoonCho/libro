public void testDeleteFromArchive() throws IOException {
    ByteArrayOutputStream baos = new ByteArrayOutputStream();
    ZipArchiveArchive archive = new ZipArchiveArchive(new ZipArchive(baos));
    archive.createEntry("test1.xml", "content1".getBytes());
    archive.createEntry("test2.xml", "content2".getBytes());
    archive.close();
    
    archive.open("bla.ar");
    ZipArchiveEntry entry = archive.getNextEntry();
    assertEquals("test1.xml", entry.getName());
    assertEquals("content1", new String(entry.getData()));
    
    archive.deleteEntry("test2.xml");
    assertEquals("test1.xml", archive.getNextEntry().getName());
    
    archive.close();
    
    archive.open("bla.ar");
    entry = archive.getNextEntry();
    assertNull(entry);
    archive.close();
    
    // Simulate the behavior of the command line ar tool
    archive.open("bla.ar");
    archive.createEntry("test.txt", "content3".getBytes());
    archive.close();
    
    ZipArchiveEntry resultEntry = new ZipArchive(baos.toByteArray()).getNextEntry();
    assertNull(resultEntry); // The result should be an empty archive
}