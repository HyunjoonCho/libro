java
public void testIssue107() {
    DateTimeFormatter dtf = DateTimeFormat.forPattern("xxxxMM'w'ww");
    
    // Test with incorrect date
    DateTime dt = dtf.parseDateTime("201101w01");
    assertEquals(2010, dt.getYear()); // Expected 2011, but got 2010
    assertEquals(1, dt.getMonthOfYear()); // Expected 1, got 1
    assertEquals(4, dt.getDayOfMonth()); // Expected 3, but got 4

    // Test with a valid date
    dt = dtf.parseDateTime("201101w02");
    assertEquals(2011, dt.getYear());
    assertEquals(1, dt.getMonthOfYear());
    assertEquals(3, dt.getDayOfMonth());

    // Test with a valid date at the end of the week
    dt = dtf.parseDateTime("201101w52");
    assertEquals(2011, dt.getYear());
    assertEquals(1, dt.getMonthOfYear());
    assertEquals(31, dt.getDayOfMonth());
}
