public void testAddOrUpdateDuplicatesAllowed() {
    XYSeries series = new XYSeries("test");
    series.addOrUpdate(1, 2);
    series.addOrUpdate(1, 3);
    assertEquals(2, series.getY(0));
    assertEquals(3, series.getY(1));
}

public void testAddOrUpdateDuplicatesNotAllowed() {
    XYSeries series = new XYSeries("test");
    series.setAllowDuplicateXValues(false);
    series.addOrUpdate(1, 2);
    series.addOrUpdate(1, 3);
    assertEquals(2, series.getY(0));
    try {
        series.addOrUpdate(1, 4);
        fail("Expected IndexOutOfBoundsException");
    } catch (IndexOutOfBoundsException e) {
        // expected
    }
}