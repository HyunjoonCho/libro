public void testTextNodeSelector() {
    Document document = DocumentBuilderFactory.newInstance().newDocumentBuilder().newDocument();
    Element element = document.createElement("parent");
    document.appendChild(element);
    Text textNode = document.createTextNode("Hello");
    element.appendChild(textNode);
    Text siblingTextNode = document.createTextNode(" World");
    element.appendChild(siblingTextNode);

    Node result = selectNodes(document, "ELEM + :text").item(0);
    assertNotNull(result);
    assertEquals(siblingTextNode, result);
}

private NodeList selectNodes(Document document, String xpath) {
    XPathFactory xPathfactory = XPathFactory.newInstance();
    XPath xPath = xPathfactory.newXPath();
    try {
        return (NodeList) xPath.evaluate(xpath, document, XPathConstants.NODESET);
    } catch (XPathExpressionException e) {
        fail(e.getMessage());
        return null;
    }
}