java
public void testSerializationToTree() throws JsonProcessingException {
    X<String> x = new X<>();
    x.s = "test";
    x.items = Arrays.asList("item1", "item2", "item3");

    ObjectMapper mapper = new ObjectMapper();
    JsonNode tree = mapper.valueToTree(x);

    // Check that the tree contains a JSON object
    assertTrue(tree.isObject());

    // Check that the's' field is a JSON string
    JsonNode sNode = tree.get("s");
    assertTrue(sNode.isValueNode() && sNode.asText().equals("test"));

    // Check that the 'items' field is a JSON array
    JsonNode itemsNode = tree.get("items");
    assertTrue(itemsNode.isArray());

    // Check that the 'items' array contains three JSON strings
    assertEquals(3, itemsNode.size());
    for (int i = 0; i < 3; i++) {
        JsonNode itemNode = itemsNode.get(i);
        assertTrue(itemNode.isValueNode() && itemNode.asText().equals("item" + (i + 1)));
    }
}
