javascript
describe('inline if', () => {
    it('should not optimize obvious true conditions', () => {
        function a() {
            return 'a';
        }
        function b() {
            return 'b';
        }

        let result = true == null? a() : b();
        expect(result).toBe('b');

        result = true == false? a() : b();
        expect(result).toBe('b');

        result = (true == true? 2 : true) + 1;
        expect(result).toBe(3);

        result = (true == false? 2 : true) + 1;
        expect(result).toBe(2);

        result = true == null? 2 : 1;
        expect(result).toBe(2);
    });
});
