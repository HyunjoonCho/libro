public void testPolymorphicDefaultImpl() {
    ObjectMapper mapper = new ObjectMapper();
    JavaType type = mapper.getTypeFactory().constructType(Polymorphic.class);
    Polymorphic polymorphic = new Polymorphic();
    polymorphic.setBase("base");
    polymorphic.setSub("sub");

    JsonNode json = mapper.writeValueAsString(polymorphic);
    JsonNode result = mapper.readTree(json);

    assertEquals("base", result.get("base").asText());
    assertEquals("sub", result.get("sub").asText());
    assertEquals("sub", result.get("type").asText());
}