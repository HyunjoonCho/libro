public void testTruncatedZipArchive() throws IOException {
    ByteArrayOutputStream baos = new ByteArrayOutputStream();
    ZipOutputStream zos = new ZipOutputStream(baos);
    zos.putNextEntry(new ZipEntry("test"));
    zos.closeEntry();
    zos.close();
    ZipArchiveInputStream zais = new ZipArchiveInputStream(new ByteArrayInputStream(baos.toByteArray()));
    assertEquals(-1, zais.read());
}