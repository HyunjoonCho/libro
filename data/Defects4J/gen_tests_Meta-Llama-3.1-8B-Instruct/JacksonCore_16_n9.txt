java
public void testJsonParserSequence() throws JsonParseException {
    ObjectMapper mapper = new ObjectMapper();
    JsonParser parser1 = mapper.createParser(new StringReader("{\"key\":\"value\"}"));
    JsonParser parser2 = mapper.createParser(new StringReader("{\"key2\":\"value2\"}"));
    JsonParserSequence sequence = JsonParserSequence.createFlattened(parser1, parser2);

    JsonToken token = sequence.nextToken();
    assertEquals(JsonToken.START_OBJECT, token);
    token = sequence.nextToken();
    assertEquals(JsonToken.FIELD_NAME, token);
    assertEquals("key", sequence.getCurrentName());

    // Switch to parser2
    sequence.nextToken();

    token = sequence.nextToken();
    assertEquals(JsonToken.FIELD_NAME, token);
    assertEquals("key2", sequence.getCurrentName());

    // Verify that the next token is not skipped
    token = sequence.nextToken();
    assertEquals(JsonToken.VALUE_STRING, token);
    assertEquals("value2", sequence.getText());
}
