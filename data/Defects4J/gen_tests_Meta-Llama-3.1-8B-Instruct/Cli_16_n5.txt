public void testGroupConstraints() {
    OptionGroup groupB = new OptionGroup("groupB");
    groupB.addOption(new Option("optionB"));
    OptionGroup groupA = new OptionGroup("groupA");
    groupA.addOption(new Option("optionA"));
    groupB.addOption(groupA);

    WriteableCommandLine cli = new WriteableCommandLine();
    cli.addOption(groupB);

    OptionParser parser = new OptionParser(cli);
    parser.parse("-optionB");
    assertFalse(cli.hasOption(groupB));

    parser.parse("-optionA");
    assertTrue(cli.hasOption(groupB));

    parser.parse("-optionB -optionC");
    assertTrue(cli.hasOption(groupB));
}