java
import com.google.common.base.Preconditions;
import com.google.javascript.jscomp.ScopedAliases;
import org.junit.Test;

import static org.junit.Assert.fail;

public class ScopedAliasesTest {
    
    @Test
    public void testPreconditionCrash() {
        // Create a mock scope
        ScopedAliases scope = new ScopedAliases();
        
        // Create a mock namespace
        scope.addScope("ns");
        scope.addScope("sub");
        
        // Add a class to the namespace
        scope.addAlias("C", "ns.sub.C");
        
        // Create a new scope with an alias
        scope.enterScope("sub");
        
        // Check if the alias is applied
        try {
            Preconditions.checkNotNull(scope.getAlias("sub"));
            fail("Expected IllegalStateExeption");
        } catch (IllegalStateException e) {
            // Expected
        }
    }
}
