public void testStackOverflowError() throws Exception {
    String input = "function a() { a(); }";
    try {
        Compiler compiler = new Compiler();
        compiler.compile().in(new StringReader(input)).out(System.out).run();
    } catch (RuntimeException e) {
        if (e.getCause() instanceof StackOverflowError) {
            fail("Expected StackOverflowError");
        } else {
            throw e;
        }
    }
}