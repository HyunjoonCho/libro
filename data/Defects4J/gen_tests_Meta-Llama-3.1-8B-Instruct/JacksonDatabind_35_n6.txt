public void testObjectIdAndTypeIdAsWrapperObject() {
    ObjectMapper mapper = new ObjectMapper();
    TypeReference<Map<String, String>> typeRef = new TypeReference<Map<String, String>>() {};
    Map<String, String> obj = new HashMap<>();
    obj.put("field1", "value1");
    obj.put("field2", "value2");
    String json = "{\"field1\":\"value1\",\"field2\":\"value2\"}";
    ObjectNode root = (ObjectNode) mapper.readTree(json);
    String jsonWithTypeId = mapper.writeValueAsString(root);
    assertEquals(json, jsonWithTypeId);
    json = "{\"type\":\"java.util.HashMap\",\"value\":{\"field1\":\"value1\",\"field2\":\"value2\"}}";
    jsonWithTypeId = "{\"type\":\"java.util.HashMap\",\"value\":{\"field1\":\"value1\",\"field2\":\"value2\"},\"id\":\"some-id\"}";
    ObjectNode rootWithTypeId = (ObjectNode) mapper.readTree(jsonWithTypeId);
    assertEquals(json, mapper.writeValueAsString(rootWithTypeId.getValue("value")));
}