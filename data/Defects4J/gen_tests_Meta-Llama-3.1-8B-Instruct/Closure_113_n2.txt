public void testProcessRequireCalls() {
    // Create an invalid require call
    ASTNode invalidRequireCall = new ASTNode("goog.require", "nonExistentModule");

    // Create a valid require call
    ASTNode validRequireCall = new ASTNode("goog.require", "validModule");

    // Create a requires level
    RequiresLevel requiresLevel = new RequiresLevel();

    // Test that invalid require calls are not removed when requires level is on
    ProcessClosurePrimitives processClosurePrimitives = new ProcessClosurePrimitives();
    processClosurePrimitives.processRequireCall(invalidRequireCall, requiresLevel);
    assertSame(invalidRequireCall, invalidRequireCall);

    // Test that valid require calls are removed when requires level is on
    processClosurePrimitives.processRequireCall(validRequireCall, requiresLevel);
    assertSame(null, validRequireCall);

    // Test that invalid require calls are not removed when requires level is off
    requiresLevel.setOff();
    processClosurePrimitives.processRequireCall(invalidRequireCall, requiresLevel);
    assertSame(invalidRequireCall, invalidRequireCall);

    // Test that valid require calls are not removed when requires level is off
    processClosurePrimitives.processRequireCall(valid