java
@Test
public void testJsoupCleanStackOverflowError() throws Exception {
    String url = "http://blog.sina.com.cn/s/blog_501a5b1f0102dx6z.html";
    Document doc = Jsoup.connect(url).get();
    String html = doc.body().html();

    // Intentionally introduce a large number of wbr tags
    html = html.replace("<p>", "<p>" + repeatString("<wbr>", 24200) + "</p>");

    Document cleanDoc = Jsoup.clean(html, Whitelist.none());
    assertEquals(false, cleanDoc.body().html().contains("<wbr>"));
}

private String repeatString(String str, int count) {
    StringBuilder sb = new StringBuilder();
    for (int i = 0; i < count; i++) {
        sb.append(str);
    }
    return sb.toString();
}
