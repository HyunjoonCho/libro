java
public void testJsonFormatOnEnum() {
    // Create an enum with JsonFormat annotation on the field
    @JsonFormat(shape = JsonFormat.Shape.NUMBER_INT)
    enum Color {
        RED(1),
        YELLOW(2),
        GREEN(3);

        public final int value;

        Color(int value) {
            this.value = value;
        }
    }

    // Create an object with the enum field
    static class Foo {
        public final Color color;

        Foo(Color color) {
            this.color = color;
        }
    }

    // Test serialization with JsonFormat annotation on the field
    final ObjectMapper mapper = new ObjectMapper();
    String json = "{\"color\":1}";
    assertEquals(json, mapper.writeValueAsString(new Foo(Color.RED)));

    // Test serialization without JsonFormat annotation on the field
    json = "{\"color\":\"RED\"}";
    assertEquals(json, mapper.writeValueAsString(new Foo(Color.GREEN)));
}
