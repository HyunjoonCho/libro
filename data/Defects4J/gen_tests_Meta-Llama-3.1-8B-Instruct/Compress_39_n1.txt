public void testZipArchiveEOFException() throws IOException {
    ZipOutputStream zip = new ZipOutputStream(new ByteArrayOutputStream());
    zip.putNextEntry(new ZipEntry("test"));
    zip.write(new byte[]{'t', 'e','s', 't'});
    zip.closeEntry();
    zip.close();

    try {
        ZipInputStream zis = new ZipInputStream(new ByteArrayInputStream(zip.toString().getBytes()));
        while (zis.getNextEntry()!= null) {
            zis.read();
        }
    } catch (EOFException e) {
        // Verify that the error message does not contain the entire zip file contents
        Assert.assertFalse(e.getMessage().contains("byte[]"));
    }
}