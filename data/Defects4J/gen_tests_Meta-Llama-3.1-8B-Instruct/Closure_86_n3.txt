public void testSideEffectsAnalysis() {
    // Create a mock window object
    Window window = mock(Window.class);
    when(window.getLocation()).thenReturn("http://www.example.com");

    Foo foo = new Foo(window);
    foo.setLocation("http://www.google.com");

    verify(window, never()).getLocation();
    verify(window, never()).setTimeout(any(), anyInt(), any());
}

class Foo {
    private Window window;

    public Foo(Window window) {
        this.window = window;
        window.setTimeout(() -> {
            window.setLocation(window.getLocation());
        }, 0);
    }

    public void setLocation(String location) {
        window.setLocation(location);
    }
}