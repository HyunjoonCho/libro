public void testStringConversionOptimization() {
    Object f = new Object() {
        public String valueOf() {
            return null;
        }
    };
    assertEquals("[Ljava.lang.Object;@", (f + "").toString());
}