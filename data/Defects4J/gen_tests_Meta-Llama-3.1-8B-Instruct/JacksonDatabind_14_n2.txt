public void testDeserializationWithParentUpdate() throws IOException {
    ObjectMapper mapper = new ObjectMapper();
    SimpleModule module = new SimpleModule();
    module.addDeserializer(DataA.class, new DataADeserializer());
    mapper.registerModule(module);

    DataB db = new DataB();
    db.da.i = 11;
    db.k = 13;
    String jsonBString = mapper.writeValueAsString(db);
    JsonNode jsonBNode = mapper.valueToTree(db);

    // update parent
    DataB dbUpdViaNode = new DataB();
    DataA da = new DataA();
    da.i = 5;
    da.j = 6;
    dbUpdViaNode.da = da;

    // FAILS HERE:
    JsonNode node = jsonBNode.get("da");
    DataA deser = new DataADeserializer().deserialize(node, mapper.getDeserializationConfig());
    dbUpdViaNode.da = deser;

    Assert.assertEquals(5, dbUpdViaNode.da.i);
    Assert.assertEquals(6, dbUpdViaNode.da.j);
    Assert.assertEquals(3, dbUpdViaNode.k);
}