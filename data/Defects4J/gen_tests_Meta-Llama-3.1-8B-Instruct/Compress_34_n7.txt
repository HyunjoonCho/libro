java
import org.apache.commons.compress.archivers.zip.ZipArchiveEntry;
import org.apache.commons.compress.archivers.zip.ZipArchiveInputStream;
import org.apache.commons.compress.archivers.zip.ZipArchiveOutputStream;
import org.junit.Test;

import java.io.ByteArrayInputStream;
import java.io.ByteArrayOutputStream;
import java.io.IOException;
import java.util.zip.ZipEntry;

import static org.junit.Assert.assertThrows;

public class ZipArchiveInputStreamTest {

    @Test
    public void testZeroSizedLocalEntry() throws IOException {
        // Create a zip file with a 0-sized 'ux' local entry
        ByteArrayOutputStream bos = new ByteArrayOutputStream();
        ZipArchiveOutputStream zos = new ZipArchiveOutputStream(bos);
        ZipArchiveEntry entry = new ZipArchiveEntry("test.txt");
        zos.putArchiveEntry(entry);
        zos.closeArchiveEntry();
        zos.putArchiveEntry(new ZipArchiveEntry("test2.txt"));
        zos.putArchiveEntry(new ZipArchiveEntry("ux", new byte[]{0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00