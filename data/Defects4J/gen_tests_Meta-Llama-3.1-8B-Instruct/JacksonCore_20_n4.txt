java
public void testWriteEmbeddedObjectByteArray() throws IOException {
    ObjectMapper mapper = new ObjectMapper();
    JsonGenerator gen = mapper.getFactory().createGenerator(System.out);
    gen.writeStartObject();
    gen.writeFieldName("bytes");
    gen.writeEmbeddedObject(new byte[] { 1, 2, 3 });
    gen.writeEndObject();
    gen.close();

    JsonGenerator gen2 = mapper.getFactory().createGenerator(System.out);
    gen2.writeStartObject();
    gen2.writeFieldName("bytes");
    gen2.writeObject(new byte[] { 1, 2, 3 });
    gen2.writeEndObject();
    gen2.close();

    // Compare the generated JSON
    String json1 = new String(System.out.toByteArray());
    String json2 = new String(System.out.toByteArray());
    assertEquals(json1, json2);
}

public void testWriteEmbeddedObjectNull() throws IOException {
    ObjectMapper mapper = new ObjectMapper();
    JsonGenerator gen = mapper.getFactory().createGenerator(System.out);
    gen.writeStartObject();
    gen.writeFieldName("bytes");
    gen.writeEmbeddedObject(null);
    gen.writeEndObject();
    gen.close();

    JsonGenerator gen2 = mapper.getFactory().createGenerator(System.out);
    gen2.writeStartObject