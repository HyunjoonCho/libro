public void testConstructorParameterInference() {
    String jsCode = "function callz(parry) { " +
            "  if (parry.prop2 && parry.prop2 < 5) alert('alright!'); " +
            " alert(parry.prop1);" +
            " }" +
            " new callz({prop1: 'hi'});";
    try {
        // This should throw a compilation error
        new JavaScriptEngineManager().executeScript(jsCode);
        fail("Expected compilation error");
    } catch (ScriptException e) {
        // Expected exception
    }

    jsCode = "function callz(parry) { " +
            "  if (parry.prop2 && parry.prop2 < 5) alert('alright!'); " +
            " alert(parry.prop1);" +
            " }" +
            " callz({prop1: 'hi'});";
    new JavaScriptEngineManager().executeScript(jsCode);
}