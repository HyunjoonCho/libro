java
public class JacksonSerializationTest {

    private ObjectMapper mapper;

    @Before
    public void setUp() {
        mapper = new ObjectMapper();
    }

    @Test
    public void testJacksonSerialization() throws Exception {
        // Test case to reproduce the ArrayIndexOutOfBoundsException
        ServerIndexPair sip = new ServerIndexPair(new byte[2080]);
        byte[] bytes = mapper.writeValueAsBytes(sip);

        // Verify that the serialization does not throw an ArrayIndexOutOfBoundsException
        assert bytes.length <= 2080;
    }

    @Test
    public void testJacksonDeserialization() throws Exception {
        // Test case to reproduce the ArrayIndexOutOfBoundsException
        byte[] bytes = new byte[4096];
        new Random().nextBytes(bytes);
        Map<String, ServerIndexPair> map = mapper.readValue(bytes, new TypeReference<Map<String, ServerIndexPair>>() {});

        // Verify that the deserialization does not throw an ArrayIndexOutOfBoundsException
        assert map.size() == 0;
    }
}
