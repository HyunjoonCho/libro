public void testTokenBufferDelegateDeserialization() {
    TokenBuffer buffer = new TokenBuffer(new byte[] {
        // START_OBJECT
        123, // 0x7B
        // FIELD_NAME
        97,  // 'a'
        0x2C, //,
        // VALUE_NUMBER_INT
        49,  // '1'
        0x00, // null terminator
        // FIELD_NAME
        98,  // 'b'
        0x2C, //,
        // VALUE_NULL
        116, // 't'
        0x00, // null terminator
        // END_OBJECT
        125 // '}'
    });
    Value.from(buffer);
    assertEquals(START_OBJECT, buffer.nextToken());
    assertEquals("a", buffer.nextTokenAsString());
    assertEquals(VALUE_NUMBER_INT, buffer.nextToken());
    assertEquals(1, buffer.nextTokenNumberValue());
    assertEquals(FIELD_NAME, buffer.nextToken());
    assertEquals("b", buffer.nextTokenAsString());
    assertEquals(VALUE_NULL, buffer.nextToken());
    assertEquals(END_OBJECT, buffer.nextToken());
}