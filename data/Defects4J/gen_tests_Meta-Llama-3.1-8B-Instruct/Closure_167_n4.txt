javascript
// inloop.js
/**
 * @param {ns.Thing} thing
 * @constructor
 */
ns.MyClass = function(thing) {
  /**
   * @type {ns.Thing}
   */
  this.thing_ = thing;
};

ns.MyClass.prototype.doIt = function() {
  var subthing = this.thing_.subthing;
  // This should error
  for (var i = 0; i < subthing.noprop; i++) {
    window.console.log(i);
  }
};

var thing = ({subthing: {prop: 3}});
var c = new ns.MyClass(thing);

try {
  c.doIt();
  assert.fail("Expected error");
} catch (e) {
  // expected
}
