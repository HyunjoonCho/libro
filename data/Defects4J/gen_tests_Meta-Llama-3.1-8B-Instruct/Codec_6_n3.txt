public void testBase64InputStreamRead() throws IOException {
    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    for (int i = 0; i < 3; i++) {
        bos.write(new byte[] { 1, 2, 3 });
    }
    ByteArrayInputStream bis = new ByteArrayInputStream(bos.toByteArray());
    Base64InputStream bis64 = new Base64InputStream(bis, true);
    byte[] buffer = new byte[1024];
    int bytesRead = bis64.read(buffer);
    assertEquals(0, bytesRead);
}