java
public void testBase64InputStreamRead() throws IOException {
    // Create a Base64InputStream that will return a stream of bytes that is a multiple of 3 in length
    byte[] data = new byte[3 * 100]; // 300 bytes
    for (int i = 0; i < data.length; i++) {
        data[i] = (byte) i;
    }
    ByteArrayInputStream bais = new ByteArrayInputStream(data);
    Base64InputStream bis = new Base64InputStream(bais, true);

    // Read the stream into a byte array
    byte[] readData = new byte[300];
    int bytesRead = bis.read(readData);
    assertEquals(300, bytesRead); // Should read the entire stream

    // Now try to read from the stream again, expecting an IOException
    try {
        bis.read(readData);
        fail("Expected IOException");
    } catch (IOException e) {
        // Expected
    }
}
