java
public void testStringIndexOutOfBoundsExceptionInHelpFormatter() {
    HelpFormatter helpFormatter = new HelpFormatter();
    String text = "a very long line that will wrap across multiple lines";
    int max = 10;
    int wrapPos = helpFormatter.findWrapPos(text, max);
    while (wrapPos < text.length()) { // Changed from <= to <
        if (text.charAt(wrapPos) == '\n') {
            break;
        }
        wrapPos++;
    }
    assertTrue(wrapPos <= text.length());
}
