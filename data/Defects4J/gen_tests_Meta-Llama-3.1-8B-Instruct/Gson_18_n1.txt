java
import com.google.gson.Gson;
import com.google.gson.reflect.TypeToken;
import org.junit.Test;

import java.lang.reflect.Type;
import java.util.List;
import java.util.Map;

import static org.junit.Assert.assertThrows;

public class GsonTest {

    @Test
    public void testDeserializeWildcard() {
        Gson gson = new Gson();
        String json = "{\"inBig\":{\"key\":[{\"inSmall\":\"hello\"}]}}";
        Type type = new TypeToken<Map<String, List<SmallClass>>>()
               .where(new TypeParameter<Map<String, List<SmallClass>>>() {})
               .getType();
        Map<String, List<SmallClass>> bigClass = gson.fromJson(json, type);
        assertThrows(ClassCastException.class, () -> bigClass.get("key").get(0));
    }

    static class BigClass {
        Map<String, List<SmallClass>> inBig;
    }

    static class SmallClass {
        String inSmall;
    }
}
