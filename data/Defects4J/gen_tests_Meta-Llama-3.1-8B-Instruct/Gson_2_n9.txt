java
public void testTypeHierarchyAdapters() {
    // Define the hierarchy
    public class Vehicle {}
    public class Car extends Vehicle {}
    public class Truck extends Vehicle {}

    // Create a type hierarchy adapter for Vehicle
    TypeHierarchyAdapter<Vehicle> vehicleAdapter = new TypeHierarchyAdapter<Vehicle>() {
        @Override
        public Class<? extends Vehicle> getType(Class<?> type) {
            if (type.equals(Car.class)) {
                return Car.class;
            } else if (type.equals(Truck.class)) {
                return Truck.class;
            } else {
                return type;
            }
        }
    };

    // Attempt to decode a JSON string as a Car
    String json = "{\"name\":\"Truck\"}";
    try {
        Vehicle decoded = vehicleAdapter.decode(json, Car.class);
        fail("Expected JsonParseException");
    } catch (JsonParseException e) {
        // Expected exception
    }
}
