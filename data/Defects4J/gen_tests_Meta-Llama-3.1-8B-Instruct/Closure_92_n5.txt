java
import org.mozilla.javascript.Context;
import org.mozilla.javascript.Scriptable;
import org.mozilla.javascript.ScriptableObject;

public class TestImplicitNamespaces {
    public void testImplicitNamespaces() throws Exception {
        // Create a Scriptable object for the root module
        Scriptable root = Context.enter().getTopScope();

        // Create a Scriptable object for the first module (A)
        Scriptable moduleA = Context.newObject(root);
        root.put("apps", root, moduleA);

        // Create a Scriptable object for the second module (B)
        Scriptable moduleB = Context.newObject(moduleA);
        moduleA.put("foo", moduleA, Context.newObject());
        moduleA.put("foo", moduleA, "bar", moduleB);

        // Create a Scriptable object for the third module (C)
        Scriptable moduleC = Context.newObject(moduleB);
        moduleB.put("C", moduleB, Context.newObject());

        // Now execute the code in the context of