public void testVarianceEvaluate() {
    double[] values = new double[] {1.0, 2.0, 3.0, 4.0, 5.0};
    double[] weights = new double[] {1.0, 1.0, 1.0, 1.0, 1.0};
    double mean = 3.0;
    double expectedVariance = 2.5;
    double[] valuesTruncated = new double[] {1.0, 2.0, 3.0, 4.0};
    double[] weightsTruncated = new double[] {1.0, 1.0, 1.0, 1.0};
    double result = Variance.evaluate(values, weights, mean, 0, 4);
    double resultTruncated = Variance.evaluate(valuesTruncated, weightsTruncated, mean, 0, 4);
    assertEquals(expectedVariance, result, 1e-9);
    assertEquals(expectedVariance, resultTruncated, 1e-9);
}