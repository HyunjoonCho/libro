java
public void testAlwaysAsIdOnClass() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    mapper.enableDefaultTyping(DefaultTyping.NON_NULL, As.WRAP_ROOT_VALUE);
    mapper.setVisibility(mapper.getSerializationConfig().getDefaultVisibilityChecker()
           .withFieldVisibility(JsonAutoDetect.Visibility.ANY)
           .withGetterVisibility(JsonAutoDetect.Visibility.NONE)
           .withIsGetterVisibility(JsonAutoDetect.Visibility.NONE)
           .withConstructorVisibility(JsonAutoDetect.Visibility.NONE));
    ReallyAlwaysContainer container = new ReallyAlwaysContainer();
    container.b = new ReallyAlwaysId(13);
    String json = mapper.writeValueAsString(container);
    assertEquals("{\"a\":1,\"b\":2}", json);
}
