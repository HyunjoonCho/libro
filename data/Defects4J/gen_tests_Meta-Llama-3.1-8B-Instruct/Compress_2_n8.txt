public void testArDeletion() throws IOException {
    // Create an archive
    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    ArchiveOutputStream aos = new ArchiveArchiveOutputStream(bos);
    aos.putArchiveEntry("test1.xml");
    aos.write("test1.xml content".getBytes());
    aos.putArchiveEntry("test2.xml");
    aos.write("test2.xml content".getBytes());
    aos.closeArchiveEntry();
    aos.close();

    // Delete an entry
    ArchiveInputStream ais = new ArchiveArchiveInputStream(new ByteArrayInputStream(bos.toByteArray()));
    ais.getNextEntry();
    ais.closeArchiveEntry();

    // Check if the entry is deleted
    assertEquals("test1.xml", ais.getNextEntry().getName());

    // Check the archive contents
    bos = new ByteArrayOutputStream();
    aos = new ArchiveArchiveOutputStream(bos);
    ais = new ArchiveArchiveInputStream(new ByteArrayInputStream(bos.toByteArray()));
    assertEquals("test1.xml", ais.getNextEntry().getName());
    assertEquals("test2.xml", ais.getNextEntry().getName());
    assert ais.getNextEntry() == null;

    // Create a new archive
    bos = new ByteArrayOutputStream();
    aos = new ArchiveArchiveOutputStream(bos);
    aos.putArchiveEntry("test.txt");
    aos.write("test.txt content".getBytes