public void testNamespacedAttribute() {
    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
    factory.setNamespaceAware(true);
    DocumentBuilder builder = factory.newDocumentBuilder();
    Document doc = builder.parse(new InputSource(new StringReader("<xml xmlns:x='foo' x:pop='a'/>")));
    Element root = doc.getDocumentElement();
    XPath xPath = XPathFactory.newInstance().newXPath();
    try {
        Node node = (Node) xPath.compile("@*").evaluate(root);
        assertNull(node);
    } catch (XPathExpressionException e) {
        fail("Unexpected exception: " + e.getMessage());
    }
    try {
        Node node = (Node) xPath.compile("@x:*").evaluate(root);
        assertNotNull(node);
    } catch (XPathExpressionException e) {
        fail("Unexpected exception: " + e.getMessage());
    }
}