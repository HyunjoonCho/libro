public void testExcludeGlobalThisChecks() {
    ProcessBuilder pb = new ProcessBuilder("java", "-jar", "compiler.jar", "--warning_level", "VERBOSE", "--jscomp_off", "globalThis", "--jscomp_off", "nonStandardJsDocs", "--js_source_file", "input.js");
    Process p = pb.start();
    try {
        int exitCode = p.waitFor();
        fail("Expected non-zero exit code");
    } catch (InterruptedException e) {
        fail("Interrupted while waiting for process");
    }
    // check the output for the expected warnings
    // you can use a library like JUnit Rules for this
}