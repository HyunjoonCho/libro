javascript
describe('Closure Compiler issue', () => {
    it('should fail to parse a negative number without a space between the "-"s', () => {
        const code = `
            var g = 0;
            g--0.0;
        `;
        const compiledCode = compileCode(code);
        expect(() => eval(compiledCode)).toThrow();
    });

    function compileCode(code) {
        const compiler = require('google-closure-compiler').ClosureCompiler();
        compiler.addSourceMap = false;
        compiler.jsCompiler = true;
        compiler.advancedOptions = true;
        return compiler.compile(code).code;
    }
});
