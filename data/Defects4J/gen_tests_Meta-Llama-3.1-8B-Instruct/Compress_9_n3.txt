public void testTarArchiveOutputStreamBytesWritten() throws Exception {
    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    ArchiveOutputStream sTarOut = new ArchiveStreamFactory().createArchiveOutputStream(ArchiveStreamFactory.TAR, bos);
    TarArchiveEntry sEntry = new TarArchiveEntry(new File("test.txt"));
    sTarOut.putArchiveEntry(sEntry);
    sTarOut.write("Hello, World!".getBytes());
    sTarOut.closeArchiveEntry();
    sTarOut.close();
    assertEquals(13, sTarOut.getBytesWritten());
}