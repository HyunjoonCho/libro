java
import org.jxpath.JXPathContext;
import org.jxpath.JXPathContextFactory;
import org.jxpath.nodes.NodeSet;
import org.junit.Test;

import javax.xml.parsers.DocumentBuilderFactory;
import javax.xml.parsers.DocumentBuilder;
import javax.xml.parsers.ParserConfigurationException;
import javax.xml.transform.Transformer;
import javax.xml.transform.TransformerFactory;
import javax.xml.transform.dom.DOMSource;
import javax.xml.transform.stream.StreamResult;

import org.w3c.dom.Document;
import org.w3c.dom.Element;
import org.w3c.dom.Node;
import org.xml.sax.InputSource;

import java.io.StringReader;
import java.io.StringWriter;

import static org.junit.Assert.assertEquals;

public class JXPathTest {

    @Test
    public void testDescendantOrSelf() throws ParserConfigurationException, Exception {
        DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();
        DocumentBuilder db = dbf.newDocumentBuilder();
        String xml = "<root id=\"1234\"/>";

        Document doc = db.parse(new InputSource(new StringReader(xml)));

        JXPathContextFactory jxpathFactory = JXPathContextFactory.newInstance();
        JXPathContext context = jxpathFactory.newContext(doc);

        String value = context.selectSingleNode("//root/@id/text()");

        assertEquals("1234",