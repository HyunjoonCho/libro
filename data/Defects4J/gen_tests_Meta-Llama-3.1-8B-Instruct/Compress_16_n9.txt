java
@Test
public void testTarDetection() throws Exception {
    // Create a test archive with a tar file and an AIFF file
    TarArchive tarArchive = new TarArchive();
    tarArchive.addFile("test.tar", "Hello World!".getBytes());
    tarArchive.addFile("test.aiff", "AIFF file contents".getBytes());
    File tempFile = File.createTempFile("test", ".tar");
    try (OutputStream out = new FileOutputStream(tempFile)) {
        tarArchive.write(out);
    }

    // Test that the ArchiveStreamFactory correctly identifies the tar file
    ArchiveStreamFactory factory = new ArchiveStreamFactory();
    try (ArchiveInputStream ais = factory.openArchiveStream(tempFile)) {
        Assert.assertTrue(ais.getArchive().getFormat().equals("tar"));
    }

    // Test that the ArchiveStreamFactory does not incorrectly identify the AIFF file as tar
    try (ArchiveInputStream ais = factory.openArchiveStream(tempFile, 0, 1)) {
        Assert.assertFalse(ais.getArchive().getFormat().equals("tar"));
    }
}
