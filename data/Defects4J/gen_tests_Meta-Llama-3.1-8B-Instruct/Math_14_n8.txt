java
import org.junit.Test;
import org.junit.runner.RunWith;
import org.junit.runners.Parameterized;
import org.junit.runners.Parameterized.Parameters;

import static org.junit.Assert.assertThrows;

import org.apache.commons.math3.optim.linear.Equation;
import org.apache.commons.math3.optim.linear.LinearConstraint;
import org.apache.commons.math3.optim.linear.LinearObjectiveFunction;
import org.apache.commons.math3.optim.linear.Relationship;
import org.apache.commons.math3.optim.linear.SimplexSolver;

import java.util.Arrays;

@RunWith(Parameterized.class)
public class LargeNumberWeightsTest {

    @Parameters
    public static Iterable<Object[]> data() {
        return Arrays.asList(new Object[][]{
                {1000000}, // 1 million
                {2000000}, // 2 million
                {3000000}, // 3 million
                {41200}    // 41,200 (example from bug report)
        });
    }

    private final int n;

    public LargeNumberWeightsTest(int n) {
        this.n = n;
    }

    @Test
    public void testLargeNumberWeights() {
        LinearObjectiveFunction f = new LinearObjectiveFunction(new double[n], 0);
        LinearConstraint[] constraints = new LinearConstraint[n];
        for (int