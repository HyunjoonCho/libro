public void testStringCollectionDeserializer() {
    CustomImmutableStringCollection collection = new CustomImmutableStringCollection();
    ObjectMapper mapper = new ObjectMapper();
    mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);
    try {
        mapper.readValue("{\"strings\": []}", CustomObject.class);
        fail("Expected exception to be thrown");
    } catch (JsonProcessingException e) {
        // expected
    }
}

class CustomImmutableStringCollection extends ArrayList<String> {
    private static final long serialVersionUID = 1L;
}

class CustomObject {
    @JacksonXmlElementWrapper
    @JacksonXmlElementValue
    private CustomImmutableStringCollection strings;

    public CustomObject() {}
}