public void testAdvancedCompilations() {
    // Create a class to mimic the JavaScript behavior
    class A {
        int _x;

        public A() {
            this._x = 1;
        }

        public void func1() {
            this._x = 2;
            func2();
        }

        public void func2() {
            this._x = 3;
        }
    }

    // Create a public reference to func1
    A.prototype = new A();
    A.prototype.func1 = A.prototype.func1;

    // Test that func1 still works as expected
    A instance = new A();
    instance.func1();
    assertEquals(3, instance._x);
}