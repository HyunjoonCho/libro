public void testExtendedBufferReaderEOLHandling() {
    ExtendedBufferReader reader = new ExtendedBufferReader(new byte[] {'\r', '\n', '\r'}, 0);
    reader.read();
    assertEquals(1, reader.getLineCount());
    
    reader = new ExtendedBufferReader(new byte[] {'\n'}, 0);
    reader.read();
    assertEquals(1, reader.getLineCount());
    
    reader = new ExtendedBufferReader(new byte[] {'\r', '\n'}, 0);
    reader.read();
    reader.read();
    assertEquals(2, reader.getLineCount());
}