public void testDangerousUseOfGlobalThis() {
    Foo foo = new Foo();
    foo.writeMethodWithAnnotation();
    assertDoesNotThrow(() -> foo.readMethodWithAnnotation());
    assertDoesNotThrow(() -> foo.writeMethodWithoutAnnotation());
    assertDoesNotThrow(() -> foo.readMethodWithoutAnnotation());
}