public void testElementHtmlWhitespace() throws JDOMException, IOException {
    Document doc = new SAXBuilder().build(new StringReader("<root><child>  test </child></root>"));
    Element root = doc.getRootElement();
    String originalHtml = root.html();
    Element copy = root.detach();
    copy.setAttribute("newAttr", "newValue");
    copy.addContent(new Element("newChild"));
    String newHtml = copy.html();
    assertNotEquals(originalHtml, newHtml);
}