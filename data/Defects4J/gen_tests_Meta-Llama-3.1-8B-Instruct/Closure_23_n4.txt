java
public class PeepholeFoldConstantsTest {
    public void testTryFoldArrayAccess() {
        // Define a function with side effects
        Function<String, String> sideEffect = () -> {
            System.out.println("Hello, ");
            return "world!";
        };

        // Create an array with the function and a string
        Function<String, String>[] array = new Function[] {sideEffect, "world!"};

        // Use the array to preserve side effects
        String result = array[1];

        // Check that the side effect was executed
        // The test will fail if the side effect was not executed
        // due to the tryFoldArrayAccess optimization
        System.out.println(result); // Should print "world!"
    }
}
