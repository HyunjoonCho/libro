java
import com.google.javascript.jscomp.CompilationLevel;
import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.SourceFile;

public class TestGoogAddSingletonGetter {
    public static void main(String[] args) {
        Compiler compiler = new Compiler();
        CompilationLevel ADVANCED_OPTIMIZATIONS = CompilationLevel.ADVANCED_OPTIMIZATIONS;
        ADVANCED_OPTIMIZATIONS.setLanguageIn(CompilationLevel.LANGUAGE_LEVEL_ES5);
        ADVANCED_OPTIMIZATIONS.setWarningLevel(CompilationLevel.WARNING_LEVEL_VERBOSE);
        ADVANCED_OPTIMIZATIONS.setFormatCode(true);
        ADVANCED_OPTIMIZATIONS.setClosureLibrary(true);

        SourceFile foo = SourceFile.fromCode("goog.provide('foo');\n" +
                "var foo = function() { this.values = []; };\n" +
                "goog.addSingletonGetter(foo);\n" +
                "foo.prototype.add = function(value) {this.values.push(value)};");

        compiler.compile(ADVANCED_OPTIMIZATIONS, foo);

        String compiledCode = compiler.toSource();

        // Expected output: "goog.provide('foo');\n"
        // Actual output: