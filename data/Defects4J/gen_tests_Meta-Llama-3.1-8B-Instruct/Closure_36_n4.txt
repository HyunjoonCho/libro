public void testGoogAddSingletonGetter() throws Exception {
    // Create a compiler
    ClosureCompiler compiler = new ClosureCompiler();

    // Define the input JavaScript code
    String input = "goog.provide('foo');\n" +
            "var foo = function() { this.values = []; };\n" +
            "goog.addSingletonGetter(foo);\n" +
            "foo.prototype.add = function(value) {this.values.push(value)};";

    // Compile the code
    String compiledCode = compiler.compile(input);

    // Check that the code is not removed
    Assert.assertFalse(compiledCode.contains("goog.addSingletonGetter"));
}