java
public void testOverlyAggressiveCommaRemoval() {
    Function<Integer> test = new Function<Integer>() {
        private int i = 0;
        public Integer apply(Integer n) {
            return (n!= null)? (i = n.length()) : (n = "foo"), i;
        }
    };
    String dummy = "6chars";
    Object result = test.apply(dummy);
    assertEquals(6, result);
}
