java
public void testLargeFirstStepWithEmbeddedRungeKutta() {
    // Create an integrator
    Integrator integrator = new Integrator(new DormandPrince853Integrator());

    // Set up the function to integrate
    Function function = new Function() {
        @Override
        public double value(double t, double[] y, double[] dy) {
            return y[0] + dy[0]; // simple function that just returns the input
        }
    };

    // Set up the initial conditions
    double[] y0 = new double[] { 1.0 };
    double t0 = 0.0;
    double tEnd = 1.0; // extremely short integration range

    // Set the initial step size to a large value
    double h0 = 1000000.0;

    // Integrate
    integrator.integrate(t0, y0, tEnd, h0, function);

    // Check if the solution is within the integration range
    assertEquals(tEnd, integrator.getLastIntegrationResult().getT(), 1e-12);
}
