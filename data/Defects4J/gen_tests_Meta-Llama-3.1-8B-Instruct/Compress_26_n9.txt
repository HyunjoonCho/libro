java
public void testIOUtilsSkip() throws IOException {
    // Create a CipherInputStream that stops at the end of each byte buffer
    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    CipherInputStream cis = new CipherInputStream(new ByteArrayInputStream(bos.toByteArray()), new NullCipher());

    // Make sure the stream is not yet at the end
    cis.mark(1);
    cis.read();

    // Try to skip 1000 bytes
    long skipped = IOUtils.skip(cis, 1000);
    assertEquals(0, skipped);

    // Read one byte to move the stream forward
    cis.read();

    // Now the skip should succeed
    skipped = IOUtils.skip(cis, 1000);
    assertEquals(1000, skipped);
}
