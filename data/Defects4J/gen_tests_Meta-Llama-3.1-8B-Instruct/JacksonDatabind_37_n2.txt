java
public class JsonMapSchemaTest {

    @JsonType(defaultImpl = JsonSchema.class)
    public abstract static class JsonSchema {
        public String name;
    }

    @JsonType
    public static class JsonMapSchema extends JsonSchema {
        public String name;
        public List<JsonMapTable> tables;
    }

    @JsonType
    public static class JsonMapTable {
        public String name;
        public List<JsonMapColumn> columns;
    }

    @JsonType
    public static class JsonMapColumn {
        public String name;
    }

    @Test
    public void testJsonMapSchema() throws JsonProcessingException {
        String json = "{\"name\":\"FoodMart\",\"tables\":[{\"name\":\"time_by_day\",\"columns\":[{\"name\":\"time_id\"}]}]}";
        ObjectMapper mapper = new ObjectMapper();
        JsonMapSchema schema = mapper.readValue(json, JsonMapSchema.class);
        assertEquals("FoodMart", schema.name);
    }
}
