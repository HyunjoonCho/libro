java
import org.apache.commons.compress.archivers.tar.TarArchiveEntry;
import org.apache.commons.compress.archivers.tar.TarArchiveInputStream;
import org.apache.commons.compress.archivers.tar.TarArchiveOutputStream;
import org.apache.commons.compress.compressors.gzip.GzipCompressorOutputStream;
import org.apache.commons.compress.utils.IOUtils;

import java.io.*;

public class TarArchiveTest {

    public void testTarArchiveInputStream() throws IOException {
        // Create a tar archive with a file that has a name with a null character
        try (TarArchiveOutputStream tarOut = new TarArchiveOutputStream(new GzipCompressorOutputStream(new FileOutputStream("test.tar.gz"))) {
            TarArchiveEntry entry = new TarArchiveEntry("test.txt");
            entry.setSize(0);
            tarOut.putArchiveEntry(entry);
            tarOut.closeArchiveEntry();
        }) {
        }

        // Try to extract the tar archive
        try (TarArchiveInputStream tarIn = new TarArchiveInputStream(new GzipInputStream(new FileInputStream("test.tar.gz")))) {
            TarArchiveEntry entry = tarIn.getNextTarEntry();
            assertEquals("test.txt", entry.getName());
        } catch (IllegalArgumentException e) {
            // Expected exception
        }
