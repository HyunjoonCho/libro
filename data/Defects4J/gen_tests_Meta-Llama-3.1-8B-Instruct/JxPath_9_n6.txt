public void testNaNComparison() {
    double NaN1 = Double.parseDouble("NaN");
    double NaN2 = Double.parseDouble("NaN");
    assertTrue(NaN1 == NaN2);
    assertFalse(Double.compare(NaN1, NaN2) == 0);
}