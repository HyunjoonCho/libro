java
public class ScopedAliasesTest {
    public void testPreconditionCrash() {
        // Create a scope with an alias
        goog = new Object();
        goog.scope = new Scope();

        // Define a namespace with a nested class
        ns = new Object();
        ns.sub = new Object();
        ns.sub.C = new Class() {};

        // Define the scope with the alias
        goog.scope.execute(new Scope.Callback() {
            public void apply() {
                // Define the alias
                sub = ns.sub;

                // Declare a variable with the aliased type
                x = null;
            }
        });
    }

    private static class Scope {
        public interface Callback {
            void apply();
        }

        public void execute(Callback callback) {
            try {
                callback.apply();
            } catch (Exception e) {
                // Simulate the Preconditions.checkState exception
                throw new RuntimeException(e);
            }
        }
    }

    private static Object goog;
    private static Object ns;
    private static Object sub;
    private static Object x;
}
