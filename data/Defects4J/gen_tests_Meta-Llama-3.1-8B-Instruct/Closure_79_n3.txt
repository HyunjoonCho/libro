public void testIssueWithExternPrototype() {
    try {
        Compiler compiler = new Compiler();
        compiler.setCompilationLevel(CompilationLevel.ADVANCED_OPTIMIZATIONS);
        compiler.setExterns(Arrays.asList(new String[] {"prototype.js"}));
        compiler.compile("bootloader.js");
        fail("Expected RuntimeException");
    } catch (RuntimeException e) {
        // expected
    }
}