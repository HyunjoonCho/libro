java
public void testIteratePointers() throws JXPathException {
    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
    DocumentBuilder builder = factory.newDocumentBuilder();
    Document doc = builder.parse(new InputSource(new StringReader(
            "<a:doc xmlns:a='ns'><a:elem/><b:elem xmlns:b='ns'/></a:doc>")));

    JXPathContext ctx = JXPathContext.newInstance(doc);
    List<NodePointer> pointers = ctx.iteratePointers("//ns:*");
    assertEquals(2, pointers.size());

    NodePointer ptr1 = pointers.get(0);
    NodePointer ptr2 = pointers.get(1);

    assertEquals("ns", ptr1.getNamespaceURI());
    assertEquals("elem", ptr1.getLocalName());
    assertEquals("ns", ptr2.getNamespaceURI());
    assertEquals("elem", ptr2.getLocalName());
}
