java
import org.junit.Test;
import static org.junit.Assert.assertEquals;
import org.mozilla.javascript.Context;
import org.mozilla.javascript.Function;
import org.mozilla.javascript.ScriptableObject;

public class SideEffectsAnalysisTest {
    @Test
    public void testSideEffectsAnalysis() throws Exception {
        // Create a Foo object
        ScriptableObject foo = Context.jsCreateObject();
        foo.put("location", Context.jsUndefined);
        Context.evaluateString(Context.enter(), "function Foo() { var self = this; window.setTimeout(function() { window.location = self.location; }, 0); }", "Foo", 1, null);
        Context.evaluateString(Context.enter(), "Foo.prototype.setLocation = function(loc) { this.location = loc; }", "Foo", 1, null);
        Context.evaluateString(Context.enter(), "var f = new Foo(); f.setLocation('http://www.google.com/');", "test", 1, null);

        // Check if the setLocation call was removed in advanced mode
        Context.enter();
        Context.setOptimizationLevel(-1); // Advanced mode
        Context.evaluateString(Context.enter(), "var f = new Foo(); f.setLocation('http://www.google.com/');", "test", 1, null);
       