public void testZipArchiveEOFException() {
    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    ZipArchive zip = new ZipArchive(bos);
    zip.putEntry("test.txt", "Hello World".getBytes());
    zip.close();
    bos.close();
    bos = new ByteArrayOutputStream();
    bos.write(bos.toByteArray(), 0, bos.size() - 1); // truncate the ByteArrayOutputStream
    bos.close();
    try {
        ZipArchive zip2 = new ZipArchive(bos);
        fail("Expected EOFException");
    } catch (EOFException e) {
        // expected
    }
}