java
import org.junit.Test;
import org.junit.runner.RunWith;
import org.junit.runners.JUnit4;
import org.apache.commons.cli.CommandLine;
import org.apache.commons.cli.Option;
import org.apache.commons.cli.Options;
import org.apache.commons.cli.ParseException;

import java.util.Arrays;

import static org.junit.Assert.assertEquals;

@RunWith(JUnit4.class)
public class TestCommandLineParser {

    @Test
    public void testLeadingTrailingQuotes() throws ParseException {
        Options options = new Options();
        options.addOption("b", "balloo", true, "balloo option");
        CommandLine cmd = new CommandLine(new Option("b", "balloo", true, "balloo option"));
        cmd.parse(new String[] {"--balloo", "\"this is a \\\"test\""});
        
        assertEquals("\"this is a \\\"test\"", cmd.getOptionValue("b"));
    }
}
