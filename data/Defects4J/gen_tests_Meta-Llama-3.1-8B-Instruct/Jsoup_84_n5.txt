public void testW3CDomNamespaceHandling() {
    String html = "<html><body><fb:like>test</fb:like></body></html>";
    Document doc = Jsoup.parse(html).outputSettings().w3cdom().getDocument();
    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
    factory.setNamespaceAware(true);
    try {
        factory.newDocumentBuilder().parse(new InputSource(new StringReader(doc.toString())));
        fail("Expected NAMESPACE_ERR to be thrown");
    } catch (ParserConfigurationException | SAXException e) {
        // expected
    }
}