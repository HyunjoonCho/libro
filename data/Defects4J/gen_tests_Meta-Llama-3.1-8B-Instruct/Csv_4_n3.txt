public void testCSVParserGetHeaderMap() {
    CSVParser parser = new CSVParser("test");
    parser.parse("field1,field2,field3");
    parser.parse("value1,value2,value3");
    Map<String, Integer> header = parser.getHeaderMap();
    assertNotNull(header);
    assertEquals(3, header.size());
    
    parser = new CSVParser("test");
    parser.parse("value1,value2,value3");
    header = parser.getHeaderMap();
    assertNull(header);
}