public void testInvalidTypeFunction() {
    String jsCode = "/**\n" +
            " * @type function\n" +
            " */\n" +
            "var callback;";
    try {
        Compiler compiler = new Compiler();
        compiler.compile(jsCode);
        fail("Expected warning about parse error");
    } catch (CompilationException e) {
        assertTrue(e.getMessages().contains("Parse error. Unexpected end of file"));
    }
}