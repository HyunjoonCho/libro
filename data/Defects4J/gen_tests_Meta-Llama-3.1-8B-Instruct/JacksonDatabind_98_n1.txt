public void testEnumPolymorphicDeserialization() throws JsonProcessingException {
    ObjectMapper mapper = new ObjectMapper();
    String json = "{\"kind\":\"CONTACT\",\"to\":{\"name\":\"Foo\"}}";
    KindEnum kind = mapper.readValue(json, KindEnum.class);
    assertEquals(KindEnum.CONTACT, kind);
}

enum class KindEnum {
    CONTACT, MESSAGE, EVENT
}