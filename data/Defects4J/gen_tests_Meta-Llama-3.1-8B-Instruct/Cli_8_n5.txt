public void testHelpFormatterWrap() {
    HelpFormatter formatter = new HelpFormatter();
    String longOption = "This is a very long option that should be wrapped across multiple lines";
    String helpMessage = "Usage: myProgram [-" + HelpFormatter.DEFAULT_LEFT_PAD + "] " + longOption;
    String[] lines = formatter.splitText(helpMessage, 20);
    for (int i = 0; i < lines.length; i++) {
        if (i == 0) {
            assertEquals(19, lines[i].length());
        } else {
            assertEquals(21, lines[i].length());
        }
    }
}