javascript
function testTypeChecker() {
    var ns = {};
    (function() {
        /** @param {string=} b */
        ns.a = function(b) {}
    })();
    
    function d() {
        ns.a();
        ns.a(123);
    }
    
    try {
        d();
        assert.fail("Expected warning about calling ns.a with 0 parameters");
    } catch (e) {
        // expected warning
    }
    
    try {
        ns.a(456); // this should not trigger a warning
        assert.fail("Expected warning about type error");
    } catch (e) {
        // expected type error warning
    }
    
    var ns2 = {};
    (function() {
        /** @param {string=} b */
        ns2.a = function(b) {}
    })();
    
    ns2.a();
    ns2.a(123);
    
    try {
        ns2.a(456);
        assert.fail("Expected warning about type error");
    } catch (e) {
        // expected type error warning
    }
    
    var ns3 = {};
    (function() {
        /** @param {string=} b */
        ns3.a = function(b) {}
    })();
    
    ns3.a();
