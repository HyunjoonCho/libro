public void testArrayIndexOutOfBoundsExceptionOnInnerClassConstructor() {
    ObjectMapper mapper = new ObjectMapper();
    try {
        mapper.writeValueAsString(new Something(null));
        fail("Expected ArrayIndexOutOfBoundsException");
    } catch (JsonProcessingException e) {
        assertTrue(e.getCause() instanceof ArrayIndexOutOfBoundsException);
    }
}