java
public class TestJacksonDeserialization {
    @Test(expected = JsonMappingException.class)
    public void testDeserializeNonStaticInnerClass() throws JsonParseException, JsonMappingException, IOException {
        ObjectMapper mapper = new ObjectMapper();
        String json = "{\"a\":null}";
        mapper.readValue(json, TestJacksonDeserialization.TestInner.class);
    }

    public static class TestInner {
        @JsonCreator
        public TestInner(@JsonProperty("a") TestInner.A a) {}

        public static class A {
            @JsonCreator
            public A() {}
        }
    }
}
