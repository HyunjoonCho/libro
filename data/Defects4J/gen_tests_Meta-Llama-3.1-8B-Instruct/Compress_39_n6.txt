java
import java.io.*;
import java.util.zip.*;

import org.junit.Test;

public class ZipTest {

    @Test(expected = ZipException.class)
    public void testDefectiveZipFile() throws IOException {
        // Create a truncated ZIP file
        try (ZipOutputStream zos = new ZipOutputStream(new ByteArrayOutputStream())) {
            zos.putNextEntry(new ZipEntry("test"));
            zos.write(new byte[0]);
            zos.closeEntry();
        }

        // Attempt to extract the truncated ZIP file
        try (ZipFile zf = new ZipFile(new ByteArrayInputStream(((ByteArrayOutputStream) new ByteArrayOutputStream()).toByteArray()))) {
            zf.entries();
        }
    }
}
