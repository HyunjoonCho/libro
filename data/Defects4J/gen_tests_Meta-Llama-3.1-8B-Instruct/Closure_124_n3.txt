public void testClosureCompiler() {
    String code = "var foreignObject = gfx.parentNode.parentNode;\n" +
            "var parentContainer = foreignObject.parentNode.parentNode;";
    String expected = "if(b){if(a=b.parentNode.parentNode,b=a.parentNode.parentNode,null!==b)";
    String actual = new Compiler().compile(code);
    assertEquals(expected, actual);
}

public class Compiler {
    public String compile(String code) {
        // Simulate the command line compiler behavior
        String result = code.replace("parentNode.parentNode", "a.parentNode.parentNode");
        return result;
    }
}