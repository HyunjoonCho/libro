public void testArgumentsMoved() {
    final Object[] args = new Object[]{1, 2, 3};
    Function func = new Function() {
        public Object invoke() {
            final Object[] localArgs = args;
            new Thread(new Runnable() {
                public void run() {
                    assertSame(localArgs, arguments);
                }
            }).start();
            return null;
        }
    };
    func.invoke();
}