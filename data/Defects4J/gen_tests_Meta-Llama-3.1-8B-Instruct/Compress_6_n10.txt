java
import org.apache.commons.compress.archivers.zip.ZipArchiveEntry;
import org.junit.Test;

import java.io.ByteArrayOutputStream;
import java.io.IOException;
import java.util.HashMap;
import java.util.Map;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertThrows;

public class ZipOutputStreamTest {

    @Test
    public void testZipFileCorruption() throws IOException {
        // Create a zip file with two entries with the same name but different constructors
        ByteArrayOutputStream bos = new ByteArrayOutputStream();
        ZipArchiveEntry entry1 = new ZipArchiveEntry("entry1.txt");
        ZipArchiveEntry entry2 = new ZipArchiveEntry("entry1.txt");

        Map<ZipArchiveEntry, Integer> offsetMap = new HashMap<>();
        offsetMap.put(entry1, 0);

        // Set the name of the second entry to match the first one
        entry2.setName("entry1.txt");

        // Add the entries to the offset map
        offsetMap.put(entry2, 10);

        // Check that the offsets are correct for the first entry
        assertEquals(0, offsetMap.get(entry1));

        // Check that the offsets are correct for the second entry
        assertEquals(10, offsetMap.get(entry2));

        // Now check that