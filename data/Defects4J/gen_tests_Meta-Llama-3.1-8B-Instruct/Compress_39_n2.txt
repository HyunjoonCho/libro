java
public void testDefectiveZipArchive() throws IOException {
    ByteArrayOutputStream baos = new ByteArrayOutputStream();
    ZipArchiveOutputStream zaos = new ZipArchiveOutputStream(baos);
    ZipEntry zipEntry = new ZipEntry("test.txt");
    zaos.putArchiveEntry(zipEntry);
    zaos.closeEntry();
    zaos.close();
    
    // truncate the ByteArrayOutputStream to simulate a defective.zip file
    byte[] bytes = baos.toByteArray();
    bytes = Arrays.copyOf(bytes, bytes.length - 1); // truncate the last byte
    
    try {
        ZipInputStream zis = new ZipInputStream(new ByteArrayInputStream(bytes));
        zis.getNextEntry();
        fail("Expected EOFException");
    } catch (EOFException e) {
        // expected
    } catch (Exception e) {
        fail("Unexpected exception: " + e.getMessage());
    }
}
