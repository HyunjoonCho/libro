javascript
public void testUrlEncodeIfNecessary() {
    String input1 = "\"<>.;";
    String expected1 = encodeURIComponent(input1);
    String actual1 = urlEncodeIfNecessary(input1);
    assertEquals(expected1, actual1);

    String input2 = "no bad chars";
    String expected2 = input2;
    String actual2 = urlEncodeIfNecessary(input2);
    assertEquals(expected2, actual2);

    String input3 = "ie =!+\v1"; // this input should be preserved in the closure compiled version
    String expected3 = "ie =!+\v1";
    String actual3 = urlEncodeIfNecessary(input3);
    assertEquals(expected3, actual3);

    String input4 = "ie =!1"; // this input should be preserved in the closure compiled version
    String expected4 = input4;
    String actual4 = urlEncodeIfNecessary(input4);
    assertEquals(expected4, actual4);
}
