javascript
// Test for incorrect prototype method removal in Closure Compiler

function testPrototypeMethodRemoval() {
    var foo = {};
    foo.bar = {
        'bar1': function() { console.log('bar1'); }
    };

    function Foobar() {}
    Foobar.prototype = foo.bar;

    foo.foobar = new Foobar;

    // Expected output: bar1
    console.log(foo.foobar['bar1']);
}
