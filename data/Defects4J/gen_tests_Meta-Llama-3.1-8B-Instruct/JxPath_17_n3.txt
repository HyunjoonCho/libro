java
public void testNamespacedAttributeWildcard() {
    DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();
    DocumentBuilder db = dbf.newDocumentBuilder();
    Document doc = db.parse(new InputSource(new StringReader(
        "<xml xmlns:x='foo' x:pop='a'/>")));
    Node root = doc.getDocumentElement();
    NodeList nodeList = root.getAttributes();
    for (int i = 0; i < nodeList.getLength(); i++) {
        Attr attr = (Attr) nodeList.item(i);
        if (attr.getName().startsWith("x:")) {
            NodeList selected = root.selectNodes("//@*");
            assertEquals(1, selected.getLength());
            return;
        }
    }
    NodeList selected = root.selectNodes("//@*");
    assertEquals(1, selected.getLength());
    selected = root.selectNodes("//@x:*");
    assertEquals(1, selected.getLength());
    NodeList nullSelected = root.selectNodes("//@foo:*");
    assertEquals(0, nullSelected.getLength());
}
