java
public void testSmartNameRemoval() {
    // Create a JavaScript engine
    javax.script.ScriptEngineManager manager = new javax.script.ScriptEngineManager();
    javax.script.ScriptEngine engine = manager.getEngineByName("nashorn");

    // Compile the code
    try {
        engine.eval(
            "var goog = {}; " +
            "goog.inherits = function(x, y) {}; " +
            "var ns = {}; " +
            "/** @constructor */ ns.PageSelectionModel = function(){}; " +
            "/** @constructor */ ns.PageSelectionModel.FooEvent = function() {}; " +
            "/** @constructor */ ns.PageSelectionModel.SelectEvent = function() {}; " +
            "goog.inherits(ns.PageSelectionModel.ChangeEvent, ns.PageSelectionModel.FooEvent); "
        );
    } catch (javax.script.ScriptException e) {
        // Expected exception
        return;
    }

    // This should not be thrown
    engine.eval("var x = new ns.PageSelectionModel.ChangeEvent();");
}
