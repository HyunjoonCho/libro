public void testWriteBigDecimalAsPlainIgnoredWithJsonFormat() {
    ObjectMapper mapper = new ObjectMapper();
    mapper.configure(Feature.WRITE_BIGDECIMAL_AS_PLAIN, true);
    JsonFormat jsonFormat = new JsonFormat();
    jsonFormat.setShape(JsonFormat.Shape.STRING);
    mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);
    mapper.configure(SerializationFeature.WRITE_DATE_TIMESTAMPS_AS_NANOSECONDS, false);
    mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);
    mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);
    Test test = new Test(BigDecimal.valueOf(0.0000000005));
    assertEquals("0.0000000005", mapper.writeValueAsString(test));
}