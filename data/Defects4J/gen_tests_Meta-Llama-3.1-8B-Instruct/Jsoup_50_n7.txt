public void testBomHandling() {
    byte[] utf16Bom = new byte[] { (byte) 0xFE, (byte) 0xFF };
    byte[] utf8Bom = new byte[] { (byte) 0xEF, (byte) 0xBB, (byte) 0xBF };
    byte[] data = "Hello, World!".getBytes(Charset.forName("UTF-16BE"));
    byte[] expectedUtf16Data = new byte[] { utf16Bom, data };
    byte[] expectedUtf8Data = new byte[] { utf8Bom, data };

    byte[] utf16Result = DataUtil.parseByteData(expectedUtf16Data);
    byte[] utf8Result = DataUtil.parseByteData(expectedUtf8Data);

    assertArrayEquals(data, utf16Result);
    assertArrayEquals(data, utf8Result);
}