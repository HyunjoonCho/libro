public void testWriteEmbeddedObjectByteArr() {
    try {
        JsonGenerator gen = new JsonGenerator(new ByteArrayOutputStream());
        gen.writeStartObject();
        gen.writeFieldName("test");
        gen.writeEmbeddedObject(new byte[]{1, 2, 3});
        gen.writeEndObject();
        fail("Expected exception");
    } catch (JsonProcessingException e) {
        // expected
    }
}