java
import com.fasterxml.jackson.core.JsonGenerator;
import com.fasterxml.jackson.databind.ObjectMapper;
import org.junit.Test;

import java.io.ByteArrayOutputStream;
import java.io.IOException;

public class JsonGeneratorTest {

    @Test(expected = UnsupportedOperationException.class)
    public void testWriteEmbeddedObjectThrowsException() throws IOException {
        ByteArrayOutputStream bos = new ByteArrayOutputStream();
        JsonGenerator gen = new ObjectMapper().getFactory().createGenerator(bos);
        gen.writeEmbeddedObject(new byte[]{1, 2, 3});
    }

    @Test
    public void testWriteByteArrrayWithObjectMapper() throws IOException {
        ByteArrayOutputStream bos = new ByteArrayOutputStream();
        JsonGenerator gen = new ObjectMapper().getFactory().createGenerator(bos);
        gen.writeObject(new byte[]{1, 2, 3});
        bos.close();
        // Verify that the output is as expected (e.g., base64 encoded)
        String output = new String(bos.toByteArray());
        // Use a regular expression to verify the output
        assert output.matches("[a-zA-Z0-9+/=]{*}");
    }
}
