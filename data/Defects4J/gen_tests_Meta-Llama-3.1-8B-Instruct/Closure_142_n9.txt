java
public void testSortByValueIssue() {
    int threshold = 250;
    int[][] array = new int[threshold][];
    for (int i = 0; i < threshold; i++) {
        array[i] = new int[]{i};
    }
    Arrays.sort(array, new Comparator<int[]>() {
        @Override
        public int compare(int[] o1, int[] o2) {
            // Simulate the Closure compiler's behavior of passing arrays by reference
            o1[0]++;
            o2[0]++;
            return o1[0] - o2[0];
        }
    });
    // Verify that the sort is correct
    for (int i = 0; i < threshold - 1; i++) {
        if (array[i][0] > array[i + 1][0]) {
            fail("Arrays not sorted correctly");
        }
    }
}
