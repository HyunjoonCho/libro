public void testZipArchiveInputStream() {
    ZipArchiveInputStream zip = new ZipArchiveInputStream(new ByteArrayInputStream(new byte[0]));
    ArchiveEntry entry = new ArchiveEntry("test", ZipMethod.BZIP2.getCode(), 10, 0, 0, 0);
    zip.setCurrentEntry(entry);
    try {
        zip.getNextZipEntry();
        fail("Expected IOException when compressed size is unknown");
    } catch (IOException e) {
        assertTrue(e.getMessage().contains("Compressed size is unknown for entry"));
    }
}