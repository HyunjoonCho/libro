public void testInternalCompilerErrorOnBullet() {
    // Try to compile the Bullet physics library using the Closure Compiler
    // This will fail with an internal compiler error
    try {
        ProcessBuilder pb = new ProcessBuilder("java", "-jar", "compiler.jar",
                "--compilation_level", "ADVANCED_OPTIMIZATIONS",
                "--variable_map_output_file", "js.vars",
                "--js", "bullet_1_1_q1.js",
                "--js_output_file", "bullet_1_1_q1.cc.js");
        pb.directory(new File("path/to/bullet"));
        Process p = pb.start();
        p.waitFor();
        fail("Expected internal compiler error");
    } catch (Exception e) {
        // Expected exception
    }

    // Try to compile the Bullet physics library without the Closure Compiler's
    // optimization level
    try {
        ProcessBuilder pb = new ProcessBuilder("java", "-jar", "compiler.jar",
                "--js", "bullet_1_1_q1