public void testAnonymousObjectTypeInference() {
    interface Record {
        String prop();
        default String prop2() { return null; }
    }
    
    interface RecordOrString {
        String prop();
        default String prop2() { return null; }
        default String value() { return null; }
    }
    
    void func(Record record) {
        System.out.println(record.prop());
    }
    
    void func2(RecordOrString record) {
        if (record instanceof RecordOrString) {
            System.out.println(record.value());
        } else {
            System.out.println(((Record) record).prop());
        }
    }
    
    func(new Record() {});
    func2(new Record() {});
}