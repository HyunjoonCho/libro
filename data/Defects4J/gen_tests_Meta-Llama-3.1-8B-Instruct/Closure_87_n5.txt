java
import org.junit.Test;
import org.junit.runner.RunWith;
import org.mozilla.javascript.Context;
import org.mozilla.javascript.Scriptable;
import org.mozilla.javascript.ScriptableObject;

import static org.junit.Assert.assertEquals;

@RunWith(org.mozilla.javascript.junit.JsTestRunner.class)
public class TestIssue {

    @Test
    public void testIssue() throws Exception {
        Context context = Context.enter();
        try {
            ScriptableObject b = context.newObject();
            ScriptableObject e = context.newObject();
            e.put("onchange", context.evalString("function() { _extendedByPrototype:Prototype.emptyFunction, target: this }"));
            if (e.get("onchange", b)!= null) {
                ((Scriptable) e.get("onchange", b)).call(b, new Object[]{});
            }
            assertEquals("b.onchange&&b.onchange({_extendedByPrototype:Prototype.emptyFunction,target:b})", context.evaluateString(context, "b.onchange&&b.onchange({_extendedByPrototype:Prototype.emptyFunction,target:b})", "global", 1, null).toString()));
        } finally {
            Context.exit();
        }
    }
}
