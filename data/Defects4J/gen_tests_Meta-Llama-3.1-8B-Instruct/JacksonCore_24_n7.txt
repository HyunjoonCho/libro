java
public void testInputCoercionException() {
    try {
        ObjectNode node = new ObjectNode();
        node.put("value", 2147483648L); // int overflow
        ObjectMapper mapper = new ObjectMapper();
        mapper.treeToValue(node, Integer.class);
        fail("Expected InputCoercionException");
    } catch (InputCoercionException e) {
        // verify the exception has the correct metadata
        assertEquals(InputCoercionException.Type.OVERFLOW, e.getType());
        assertEquals(JsonToken.VALUE_NUMBER_INT, e.getInitialTokenType());
        assertEquals(Integer.class, e.getExpectedType());
    }

    try {
        ObjectNode node = new ObjectNode();
        node.put("value", "123.456"); // cannot be coerced to int
        ObjectMapper mapper = new ObjectMapper();
        mapper.treeToValue(node, Integer.class);
        fail("Expected InputCoercionException");
    } catch (InputCoercionException e) {
        // verify the exception has the correct metadata
        assertEquals(InputCoercionException.Type.COERCION, e.getType());
        assertEquals(JsonToken.VALUE_NUMBER_FLOAT, e.getInitialTokenType());
        assertEquals(Integer.class, e.getExpectedType());
    }
}
