public void testWriteEmbeddedObjectByteArray() {
    ByteArrayOutputStream baos = new ByteArrayOutputStream();
    JsonGenerator jgen = new JsonFactory().createGenerator(baos, JsonEncoding.UTF8);
    jgen.writeObject(null);
    jgen.writeEmbeddedObject(new byte[0]);
    jgen.writeEmbeddedObject(new byte[]{1, 2, 3});
    jgen.close();
    byte[] bytes = baos.toByteArray();
    String json = new String(bytes, JsonEncoding.UTF8);
    assertTrue(json.contains("null"));
    assertTrue(json.contains("<<byte[0]>>"));
    assertTrue(json.contains("<<byte[1,3]>>"));
}