java
public void testOverlyAggressiveCommaRemoval() {
    String originalFunction = "function Test(n) { var i = 0; return typeof n!== \"undefined\"? (i = n.length) : (n = \"foo\"), i }";
    String expectedFunction = "function Test(n) { var i = 0; return typeof n!== \"undefined\"? (i = n.length) : (n = \"foo\"), i }";
    String modifiedFunction = "function Test(a) { return 0 }";

    assertEquals(expectedFunction, originalFunction);
    assertEquals(expectedFunction, originalFunction.replaceAll(",", ""));
    assertNotEquals(expectedFunction, modifiedFunction.replaceAll(",", ""));
}
