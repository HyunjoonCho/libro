public void testPropertiesOnRecordTypes() {
    // Create a compiler
    JavaScriptCompiler compiler = new JavaScriptCompiler();

    // Define a record type with properties
    RecordType recordType1 = new RecordType("RecordType1", "name", "string", "id", "number");

    // Define another record type with a property that should not be accessible
    RecordType recordType2 = new RecordType("RecordType2", "name2", "string");

    // Define a function that uses the first record type
    Function function1 = new Function("function(rec) { alert(rec.name2); }");
    compiler.addFunction(function1, recordType1);

    // Compile the function with the first record type
    compiler.compile();

    // Check for error
    assertTrue(compiler.getErrors().contains("Property name2 never defined on rec"));

    // Define a function that uses the second record type
    Function function2 = new Function("function(rec) { alert(rec.name2); }");
    compiler.addFunction(function2, recordType2);

    // Compile the function with the second record type
    compiler.compile();

    // Check for no error
    assertEquals(0, compiler.getErrors().size());
}