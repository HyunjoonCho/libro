java
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class RotationCreationTest {

    @Test
    public void testNumericalProblemsInRotationCreation() {
        double u1[] = new double[] {-4921140.837095533, -215120942504.40013, -890093.279426377};
        double u2[] = new double[] {-272385809387.24895E9, -216966492134.18776E9, 674968870880.5301E10};
        double v1[] = new double[] {1, 0, 0};
        double v2[] = new double[] {0, 0, 1};

        // Perform manual computation with high precision
        double highPrecisionK[] = new double[] {38514410.36093388, -0.37407524520118041, -1168590152.1059971};
        double highPrecisionC = 558382746168463196.7079627;

        // Perform computation using commons math
        double k[] = computeK(u1, u2, v1, v2);
        double c = computeC(k, crossProduct(u1