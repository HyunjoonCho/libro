public void testStringCollectionDeserializer() {
    // Create a custom collection class
    class CustomCollection extends ArrayList<String> {
        public CustomCollection() {
            // Make it immutable
            this.add("foo");
            this.add("bar");
            this.add("baz");
            this.addAll(Collections.emptyList());
        }
    }

    // Create a class with a property of the custom collection
    class TestObject {
        public CustomCollection strings;
    }

    ObjectMapper mapper = new ObjectMapper();
    TestObject obj = mapper.readValue("{\"strings\":[\"foo\",\"bar\",\"baz\"]}", TestObject.class);
    assertNotNull(obj);
}