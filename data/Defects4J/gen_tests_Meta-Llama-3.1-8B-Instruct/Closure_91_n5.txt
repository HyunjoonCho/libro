public void testLendsAnnotation() {
    @JsClass
    class MyClass {
        @JsName("foo")
        void foo() {
            this.bar();
        }

        @JsName("bar")
        void bar() {
            // empty method
        }
    }

    ClosureCompiler compiler = new ClosureCompiler();
    CompilationLevel ADVANCED_OPTIMIZATIONS.compileToJs(compiler, MyClass.class);
    // assertion to verify that bar is accessible in foo method
}