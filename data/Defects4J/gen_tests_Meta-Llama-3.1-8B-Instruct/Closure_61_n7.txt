public void testClosureRemovesNeededCode() {
    final Object test = new Object();
    final Object originalMathBlah = Math.class.getField("blah");
    try {
        Math.class.getField("blah").set(null, new Runnable() {
            public void run() {
                test.a = 5;
            }
        });
        Math.blah(test);
    } catch (Exception e) {
        fail("Closure removed Math.blah");
    } finally {
        Math.class.getField("blah").set(null, originalMathBlah);
    }
}