public void testExternExportWithTypedef() {
    String source = "typedef F = function(a: number, b: string = null): string; " +
            "function test(a: F, b: F = null): void { a(); b(); }";
    String expected = "extern externs:\n" +
            "function test(a: (a: number, b: string) => string, b: (a: number, b: string) => string = null): void";
    String actual = ExternalCompiler.compile(source).getExterns();
    assertEquals(expected, actual);
}