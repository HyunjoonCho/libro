public void testRedefinitionOfFunction() {
    Object assertFunction = new Object() {
        public void assert(boolean b) {
            if (!b) throw new RuntimeException("error");
        }
    };

    ((Runnable) assertFunction).run();
    ((Runnable) assertFunction).run();

    Runnable f = new Runnable() {
        @Override
        public void run() {
            System.out.println(2);
        }
    };

    ((Runnable) assertFunction).run();

    f.run();

    Runnable f2 = new Runnable() {
        @Override
        public void run() {
            System.out.println(1);
        }
    };

    ((Runnable) assertFunction).run();
}