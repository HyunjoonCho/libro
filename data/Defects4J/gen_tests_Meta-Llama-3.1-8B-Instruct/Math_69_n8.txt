java
public void testPearsonsCorrelationPValuesPrecision() {
    // Create a correlation object with many treatments to reproduce the issue
    double[] x = new double[1000];
    double[] y = new double[1000];
    for (int i = 0; i < x.length; i++) {
        x[i] = i;
        y[i] = i;
    }
    PearsonsCorrelation correlation = new PearsonsCorrelation(x, y);

    // Get the correlation coefficient
    double correlationCoefficient = correlation.getCorrelationCoefficient();

    // Create a new correlation object with the same data
    PearsonsCorrelation correlation2 = new PearsonsCorrelation(x, y);

    // Directly calculate the p-value using the suggested change
    double pValueDirectCalculation = 2 * correlation2.getDistribution().cumulativeProbability(-correlation2.getT());

    // Get the p-value from the getCorrelationPValues() method
    double pValueOriginalMethod = correlation.getCorrelationPValues();

    // Assert that the two p-values are equal
    assertEquals(pValueDirectCalculation, pValueOriginalMethod, 1e-10);
}
