java
public void testOverflowInReadBits() throws IOException {
    ByteArrayInputStream in = new ByteArrayInputStream(new byte[] {
        87, 45, 66, 15,
        90, 29, 88, 61, 33, 74
    });
    BitInputStream bin = new BitInputStream(in, ByteOrder.LITTLE_ENDIAN);
    assertEquals(0x00000000E, bin.readBits(5));
    assertEquals(0x000000000000000003C, bin.readBits(63)); // this should not overflow
    assertEquals(0x00000000000000000F, bin.readBits(12));
}
