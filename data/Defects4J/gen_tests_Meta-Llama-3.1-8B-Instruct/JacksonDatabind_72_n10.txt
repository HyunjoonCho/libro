java
public class TestNonStaticInnerClassDeserialization {

    public static class OuterClass {
        public NonStaticInnerClass a;

        @JsonCreator
        public OuterClass(@JsonProperty("a") NonStaticInnerClass a) {}

        class NonStaticInnerClass {
            @JsonCreator
            public NonStaticInnerClass() {}
        }
    }

    public static void main(String[] args) throws JsonProcessingException {
        ObjectMapper mapper = new ObjectMapper();
        String ser = mapper.writeValueAsString(new OuterClass(null));
        try {
            mapper.readValue(ser, OuterClass.class);
            fail("Expected ArrayIndexOutOfBoundsException");
        } catch (JsonProcessingException e) {
            // expected
        }
    }
}
