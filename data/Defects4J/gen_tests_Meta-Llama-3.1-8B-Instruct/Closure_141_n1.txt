public void testSideEffects() {
    Expression expression = new Expression() {
        @Override
        public Object eval() {
            return (Math.sin(0) || Math.cos(0));
        }
    };
    ClosureCompiler compiler = new ClosureCompiler();
    CompilerOptions options = new CompilerOptions();
    CompilationLevel.ADVANCED_OPTIMIZATIONS.setShrinkPos(true);
    CompilationLevel.ADVANCED_OPTIMIZATIONS.setLanguageIn(options.setLanguageLevel(LanguageLevel.ECMA5));
    compiler.compile(expression, options);
    assertTrue(compiler.isSideEffectFree());
}