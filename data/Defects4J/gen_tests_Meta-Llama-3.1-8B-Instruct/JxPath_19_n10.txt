public void testIteratePointers() {
    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
    DocumentBuilder builder = factory.newDocumentBuilder();
    InputSource is = new InputSource(new StringReader(
        "<a:doc xmlns:a=\"ns\"><a:elem/><b:elem xmlns:b=\"ns\"/></a:doc>");
    Document doc = builder.parse(is);
    JXPathContext context = JXPathContext.newContext(doc);
    List<String> paths = new ArrayList<>();
    context.iteratePointers("//ns:elem", new XPathIterator() {
        @Override
        public void iterate(Object context, Object object, QName name, Object value) {
            paths.add(name.toString());
        }
    });
    assertEquals(2, paths.size());
    for (String path : paths) {
        System.out.println(path);
    }
}