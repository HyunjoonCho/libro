public void testJSCUsedGlobalThis() {
    var NS = new Object() {
        Object foo = null;
        Object read() {
            return this.foo;
        }
        void write() {
            this.foo = 123;
        }
    };
    try {
        NS.read();
        fail("Expected JSC_USED_GLOBAL_THIS warning");
    } catch (AssertionError e) {
        // ignore
    }
    try {
        NS.write();
        fail("Expected JSC_USED_GLOBAL_THIS warning");
    } catch (AssertionError e) {
        // ignore
    }
    try {
        new Object() {
            Object foo = null;
            Object read() {
                return this.foo;
            }
            void write() {
                this.foo = 123;
            }
        }.read();
        fail("Expected JSC_USED_GLOBAL_THIS warning");
    } catch (AssertionError e) {
        // ignore
    }
    try {
        new Object() {
            Object foo = null;
            Object read() {
                return this.foo;
            }
            void write() {
                this.foo = 123;
            }
        }.write();
        fail("Expected JSC_USED_GLOBAL_THIS warning");
    } catch (AssertionError e) {