public void testPrototypeMethodRemoved() {
    Map<String, Object> foo = new HashMap<>();
    foo.put("bar", new HashMap<String, Runnable>() {{
        put("bar1", () -> System.out.println("bar1"));
    }});
    
    Object foobar = new Object() {
        @Override
        public Map<String, Runnable> getBar() {
            return (Map<String, Runnable>) foo.get("bar");
        }
    };
    
    foo.put("foobar", foobar);
    
    System.out.println(foo.get("foobar").getClass().getMethod("getBar").invoke(foo.get("foobar")).get("bar1"));
}