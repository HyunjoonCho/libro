public void testArgumentCaptorVarargs() {
    ArgumentCaptor<Integer> captor = ArgumentCaptor.forClass(Integer.class);
    doSomething(captor.capture(), captor.capture(), captor.capture());
    List<Integer> args = captor.getAllValues();
    assertEquals(3, args.size());
}

private void doSomething(Integer... args) {
    // implementation
}