java
public void testIteratePointers() throws Exception {
    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
    DocumentBuilder builder = factory.newDocumentBuilder();
    Document document = builder.parse(new File("test.xml"));

    JXPathContext context = JXPathContext.newContext(document);
    Set<String> pointers = new HashSet<>();
    context.iteratePointers("//elem", new XPathObjectBuilder() {
        @Override
        public void build(XPathObject object) {
            pointers.add(object.toString());
        }
    });

    assertEquals(2, pointers.size());
    assertTrue(pointers.contains("ns:elem"));
    assertTrue(pointers.contains("ns:elem"));
}
