java
import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.CompilerOptions;
import com.google.javascript.jscomp.JSError;
import com.google.javascript.jscomp.Warning;

public class TestIssue {
    public void testIssue() throws Exception {
        Compiler compiler = new Compiler();
        CompilerOptions options = new CompilerOptions();
        options.setLanguageIn(CompilerOptions.LanguageMode.ECMASCRIPT5_STRICT);
        options.setCompilationLevel(CompilerOptions.CompilationLevel.ADVANCED_OPTIMIZATIONS);
        options.setWarningLevel(CompilerOptions.WarningLevel.VERBOSE);

        String input = "var getNum = function() { return 5; };\n" +
                "alert(getNum());";
        JSError[] errors = new JSError[0];
        Warning[] warnings = new Warning[0];

        compiler.compile(new String[]{input}, null, options, null, errors, warnings);

        // Check that there is only one 'use strict' directive
        // and it is at the top of the output
        String output = compiler.getResult();
        assertEquals(1, countOccurrences(output, "'use strict';"));
        assertTrue(output.startsWith("'use strict';"));
    }

    private int countOccurrences(String str,