public void testEnumPolymorphicDeserialization() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    mapper.enable(DeserializationFeature.USE_DEFAULT_TYPING_FOR_PRIMITIVES_ASwrap);
    mapper.registerModule(new JavaTimeModule());
    mapper.registerModule(new KotlinModule());
    KindEnum to = new KindEnum();
    String json = "{\"kind\":\"CONTACT\",\"to\":{\"name\":\"Foo\"}}";
    KindEnum result = mapper.treeToValue(mapper.readTree(json), KindEnum.class);
    assertEquals(KindEnum.CONTACT, result);
}