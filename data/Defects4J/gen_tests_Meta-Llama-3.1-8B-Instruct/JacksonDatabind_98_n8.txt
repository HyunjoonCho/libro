java
import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.module.kotlin.KotlinFeature;
import com.fasterxml.jackson.module.kotlin.KotlinObjectMapper;
import com.fasterxml.jackson.module.kotlin.KotlinSerializationFeature;
import org.junit.Test;

import static org.junit.Assert.assertThrows;

public class EnumPolymorphismTest {

    @Test
    public void testEnumPolymorphism() throws Exception {
        // Create an ObjectMapper with Kotlin features
        ObjectMapper mapper = new KotlinObjectMapper()
               .enable(KotlinFeature.AllowExecutables)
               .enable(KotlinFeature.PropertyGetterFactoryMethod)
               .enable(KotlinFeature.StrictEquality)
               .enable(KotlinSerializationFeature.WRITE_ENUMS_USING_TO_STRING);

        // Define the Enum class
        EnumClass enumClass = new EnumClass();

        // Define the JSON string
        String json = "{\"kind\":\"CONTACT\",\"to\":{\"name\":\"Foo\"}}";

        // Deserialize the JSON string
        assertThrows(JsonMappingException.class, () -> mapper.readValue(json, EnumClass.class));
    }

    public static class EnumClass {
        public enum KindEnum {
            CONTACT, MESSAGE
        }

        private KindEnum kind;

        public KindEnum getKind() {
            return kind;
        }

        public void setKind