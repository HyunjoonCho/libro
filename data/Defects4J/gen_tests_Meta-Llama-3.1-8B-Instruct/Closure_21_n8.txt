public void testClassifyNonRightmostExpressions() {
    Expression exp1 = new Expression(new Expression[]{new Expression(new Expression[]{1, 2}, 42), 3});
    Expression exp2 = new Expression(new Expression[]{new Expression("bar"), 2, 42}, 3);
    Expression exp3 = new Expression(new Expression[]{new Expression[]{1, 2, 3}, new Expression[]{4, 5, 42}});
    // Test 1: foo((1, 2, 42))
    assertEquals(1, exp1.getExpression()[0].getExpression()[0]);
    assertEquals(3, exp1.getExpression()[1]);
    // Test 2: foo((bar(), 2, 42))
    assertEquals("bar", exp2.getExpression()[0].toString());
    assertEquals(3, exp2.getExpression()[1]);
    assertEquals(42, exp2.getExpression()[2]);
    // Test 3: foo(((1, 2, 3), (4, 5, 42)))
    assertEquals(1, exp3.getExpression()[0].getExpression()[0]);
    assertEquals(4, exp3.getExpression()[1].getExpression()[0]);
}