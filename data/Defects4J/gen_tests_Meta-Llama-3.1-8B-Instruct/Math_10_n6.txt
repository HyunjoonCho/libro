java
public void testAtan2SpecialCases() {
    DerivativeStructure x = new DerivativeStructure(1, 1, 0, 0);
    DerivativeStructure y = new DerivativeStructure(1, 1, 0, 0);
    
    assertEquals(0, DerivativeStructure.atan2(y, x).getValue(), 1e-10);
    assertEquals(Double.POSITIVE_INFINITY, DerivativeStructure.atan2(x, y).getValue(), 1e-10);
    
    x.setValue(0);
    assertEquals(0, DerivativeStructure.atan2(y, x).getValue(), 1e-10);
    assertEquals(-Math.PI/2, DerivativeStructure.atan2(x, y).getValue(), 1e-10);
    
    y.setValue(0);
    assertEquals(Math.PI/2, DerivativeStructure.atan2(y, x).getValue(), 1e-10);
    assertEquals(Double.NEGATIVE_INFINITY, DerivativeStructure.atan2(x, y).getValue(), 1e-10);
}
