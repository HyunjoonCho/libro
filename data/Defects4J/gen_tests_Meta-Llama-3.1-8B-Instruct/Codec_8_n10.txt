public void testBase64InputStreamReads() throws IOException {
    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    Base64InputStream b64stream = new Base64InputStream(bos, true, 0, null);
    int n = 0;
    for (int i = 0; i < 10920; i++) {
        b64stream.read();
        n++;
    }
    assertEquals(10920, n);
    b64stream.read();
    fail("Expected ArrayIndexOutOfBoundsException");
}