public void testZipArchiveEOFException() throws IOException {
    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    ZipArchiveOutputStream zos = new ZipArchiveOutputStream(bos);
    zos.setLevel(Deflater.DEFAULT_COMPRESSION);
    zos.closeEntry();
    zos.finish();
    zos.close();
    bos.close();

    // Attempt to read from the truncated ZIP file
    ZipArchiveInputStream zis = new ZipArchiveInputStream(new ByteArrayInputStream(bos.toByteArray()), "ISO-8859-1");
    try {
        zis.getNextEntry();
        fail("Expected EOFException");
    } catch (EOFException e) {
        // Expected exception
    } catch (Exception e) {
        fail("Unexpected exception: " + e.getMessage());
    }
}