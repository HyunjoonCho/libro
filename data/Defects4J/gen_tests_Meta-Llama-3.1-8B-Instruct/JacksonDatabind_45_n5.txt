java
@Test
public void testShapeExplicitlyDefined() {
    // Before fix
    GeometryFactory gf = new GeometryFactory();
    Coordinate[] coordinates = new Coordinate[] { new Coordinate(0, 0), new Coordinate(1, 1) };
    Geometry geom = gf.createGeometry(coordinates);
    geom.setSRID(4326);
    geom.setSRID(4326); // Setting SRID again to simulate locale specified
    assertEquals(false, geom.isTextual());
    geom.setShapeType(org.opengis.geom.GeometryFactory.WKTWriterFactory.ShapeType.NUMBER);
    assertEquals(false, geom.isTextual());

    // After fix
    geom.setShapeType(org.opengis.geom.GeometryFactory.WKTWriterFactory.ShapeType.NUMBER);
    geom.setSRID(4326); // SRID should not affect textual representation
    assertEquals(false, geom.isTextual());
}
