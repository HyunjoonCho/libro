public void testAssignmentRemovalFailure() {
    Node someNode = new Node("123");
    Expression expectedExpression = new Expression("nodeId=someNode.id && nodeId=parseInt(nodeId.substr(1)) && nodeId>0");
    Expression actualExpression = new ExpressionCompiler().compile(new ClosureCompilerTestExpression(someNode));
    assertEquals(expectedExpression.toString(), actualExpression.toString());
}

class Node {
    String id;
    public Node(String id) {
        this.id = id;
    }
}

class ClosureCompilerTestExpression {}