public void testDeserializeAsKeyWithTwoArgFactory() throws IOException {
    try {
        Map<FullName, Double> map =
            new ObjectMapper().readValue("{\"first.last\": 42}", new TypeReference<Map<FullName, Double>>() {
            });
    } catch (InvalidFormatException e) {
        assertEquals("not a valid representation: wrong number of arguments",
                e.getMessage().split(";")[0].split(":")[1].trim());
    }
}