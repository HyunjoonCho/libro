public void testBugCannotComparePointersSameTree() {
    JXPathContext context = JXPathContext.newContext(" MAIN/A");
    context.setVar("var", context.getSingleNode("/MAIN/A"));
    try {
        context.selectNodes("$var | /MAIN/A");
        fail("Expected JXPathException not thrown");
    } catch (JXPathException e) {
        assertEquals("Cannot compare pointers that do not belong to the same tree: '$var' and ''", e.getMessage());
    }
}