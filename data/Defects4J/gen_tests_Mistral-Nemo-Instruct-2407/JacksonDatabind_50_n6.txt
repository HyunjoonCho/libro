public void testJsonIdentityInfoDeserializationFailure() {
    String json = "{\"@type\":\"foo.Foo\",\"bar\":[1,2]}";
    ObjectMapper mapper = new ObjectMapper();
    mapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);
    Bar obj = mapper.readValue(json, Bar.class);
    assertEquals(1, obj.getBar().get(0));
    assertEquals(2, obj.getBar().get(1));
}