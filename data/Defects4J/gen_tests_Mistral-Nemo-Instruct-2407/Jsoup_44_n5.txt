public void testUnexpectedElementLocation() throws IOException {
    File in = getFile("/htmltests/table-invalid-elements.html");
    Document doc = Jsoup.parse(in, "UTF-8");
    doc.outputSettings().prettyPrint(true);
    String rendered = doc.toString();
    int commentEnd = rendered.indexOf("<!--/Comment-->");
    int pTagEnd = rendered.indexOf("</p>");
    assertTrue("Unexpected element not found", pTagEnd > -1);
    assertTrue("Unexpected element not moved to wrong location", pTagEnd < commentEnd);
}