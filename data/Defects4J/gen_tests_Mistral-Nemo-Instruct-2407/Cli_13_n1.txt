public void testCommandLineOptionDefaultOverride() {
    WritableCommandLine cmd = new WritableCommandLine("test");
    cmd.addOption(OptionBuilder.withValueSeparator()
           .withLongOpt("myopt")
           .hasArg()
           .withDefaultValue("default")
           .create("myopt"));
    try {
        cmd.parse("-myopt", "override");
        fail("Expected ParseException");
    } catch (ParseException e) {
        // expected
    }
    assertEquals("override", cmd.getOptionValue("myopt"));
}