public void testNaNSingularValueFromSVD() {
  Array2DRowRealMatrix A = new Array2DRowRealMatrix(new double[][]{{1.0, 2.0, 3.0},{2.0,3.0,4.0},{3.0,5.0,7.0}});
  SingularValueDecompositionImpl decomp = new SingularValueDecompositionImpl(A);
  double[] singularValues = decomp.getSingularValues();
  assertEquals(0, singularValues[2], 1e-15); // last singular value should be close to 0
}