public void testEmbeddedObjectInTree() throws Exception {
    X<String> x = new X<>();
    x.s = "test";
    x.items = Arrays.asList("one", "two", "three");

    ObjectMapper mapper = new ObjectMapper();
    mapper.registerModule(new SimpleModule().addSerializer(new ListAttributeSerializer()));

    JsonNode tree = mapper.readTree(mapper.writeValueAsString(x));
    assertTrue(tree.has("itemType"));
    assertFalse(tree.has("items"));
}