public void testTruncatedZipFile() {
  byte[] truncatedZipFile = new byte[]{'P', 'K','', '\0'};
  try {
    ZipInputStream zis = new ZipInputStream(new ByteArrayInputStream(truncatedZipFile));
    zis.getNextEntry();
    zis.closeEntry();
  } catch (IOException e) {
    assertEquals("Unexpected error message format", "java.io.EOFException: truncated zip archive", e.getMessage());
  }
}