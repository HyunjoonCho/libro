public void testIllegalCharsetNameException() {
    String html = "<html lang=\"en-US\">\n"
        + "<head>\n"
        + "    <meta charset=\"UTF-8\">\n"
        + "    <meta http-equiv=\"Content-Type\" content=\"text/html;\" />\n"
        + "</head>\n";
    try {
        Jsoup.connect("data:text/html;charset=utf-8," + URLEncoder.encode(html, "UTF-8")).execute();
        fail("Expected IllegalCharsetNameException");
    } catch (IllegalCharsetNameException e) {
        // expected
    }
}