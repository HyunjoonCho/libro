public void testTokenBufferDelegateDeserialization() {
    ObjectMapper mapper = new ObjectMapper();
    JsonNode root = mapper.readTree("{\"a\":1, \"b\":null}");
    TokenBuffer buffer = new TokenBuffer(mapper);
    buffer.append(root);
    assertEquals(TokenBuffer.StartObject, buffer.nextToken());
    assertEquals("a", buffer.nextToken());
    assertEquals(ValueNumberInt, buffer.nextToken());
    assertEquals("b", buffer.nextToken());
    assertEquals(ValueNull, buffer.nextToken());
    assertEquals(TokenBuffer.EndObject, buffer.nextToken());
}