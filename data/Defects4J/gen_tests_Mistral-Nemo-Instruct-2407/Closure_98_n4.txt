public void testBadVariableInliningInClosure() {
    StringWriter sw = new StringWriter();
    PrintStream ps = new PrintStream(sw);
    System.setOut(ps);

    foo();

    String output = sw.toString();
    assertTrue(output.contains("1"));
    assertTrue(output.contains("2"));
    assertTrue(output.contains("3"));
    assertTrue(output.contains("4"));
    assertTrue(output.contains("5"));
}