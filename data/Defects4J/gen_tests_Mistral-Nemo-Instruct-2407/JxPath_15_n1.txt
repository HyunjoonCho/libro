public void testUnionSorting() {
    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
    DocumentBuilder builder = factory.newDocumentBuilder();
    Document document = builder.newDocument();

    Element main = document.createElement("MAIN");
    Element a = document.createElement("A");
    a.appendChild(document.createTextNode("avalue"));
    Element b = document.createElement("B");
    b.appendChild(document.createTextNode("bvalue"));

    main.appendChild(a);
    main.appendChild(b);

    document.appendChild(main);

    XPathFactory xpathFactory = XPathFactory.newInstance();
    XPath xpath = xpathFactory.newXPath();
    String expression = "/MAIN/B | /MAIN/A";
    String result = (String) XPathFactory.newInstance().newXPath().evaluate(expression, document, XPathConstants.STRING);

    assertEquals("avalue", result);
}