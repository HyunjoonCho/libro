public void testZipEntryCorruption() {
    byte[] zip =...; // The given byte array
    ByteArrayInputStream bin = new ByteArrayInputStream(zip);
    try (ZipArchiveInputStream in = new ZipArchiveInputStream(bin)) {
        ZipArchiveEntry entry = in.getNextZipEntry();
        assertNotNull("Entry should not be null", entry);
        assertEquals("test.txt", entry.getName());
        byte[] buf = new byte[(int) entry.getSize()];
        in.read(buf);
        assertEquals("data\n", new String(buf));
    } catch (IOException e) {
        fail("IOException should not occur: " + e);
    }
}