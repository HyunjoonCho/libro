public void testNonEmptyExclusionWithIntsAndStrings() {
    ObjectMapper mapper = newObjectMapper();
    mapper.setSerializationInclusion(JsonInclude.Include.NON_EMPTY);
    assertEquals("[]", mapper.writeValueAsString(new int[]{0, 1, 2}));
    assertEquals("[]", mapper.writeValueAsString(new String[]{"", "a"}));
}