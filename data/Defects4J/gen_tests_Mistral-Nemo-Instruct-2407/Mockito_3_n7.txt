public void testArgumentCaptorVarargs() {
    ArgumentCaptor<Object[]> captor = ArgumentCaptor.forClass(Object[].class);
    MyClass mock = mock(MyClass.class);
    when(mock.myMethod("test", "test2", "test3")).thenReturn("expected");
    mock.myMethod("test", "test2", "test3");
    verify(mock).myMethod(captor.capture());
    assertEquals("test", captor.getValue()[0]);
    assertEquals("test2", captor.getValue()[1]);
    assertEquals("test3", captor.getValue()[2]);
}