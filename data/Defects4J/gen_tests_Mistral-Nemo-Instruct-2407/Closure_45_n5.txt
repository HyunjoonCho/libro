public void testAssignmentRemovedInArrayPush() {
    String code = "function f() { var a = [], b; a.push(b = []); b[0] = 1; return a; }";
    String expected = "function f(){var a=[];a.push(b=[]);b[0]=1;return a;}";
    String actual = ClosureCompiler.compile(code);
    assertEquals(expected, actual);
}