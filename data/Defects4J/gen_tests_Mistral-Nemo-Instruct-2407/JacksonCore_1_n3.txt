public void testNaNAsBigDecimal() throws IOException {
    JsonFactory factory = new JsonFactory();
    factory.enable(JsonParser.Feature.ALLOW_NON_NUMERIC_NUMBERS);
    JsonParser parser = factory.createParser("NaN");
    assertEquals(JsonToken.VALUE_NUMBER_FLOAT, parser.nextToken());
    assertEquals(Double.NaN, parser.getFloatValue(), 0);
    parser.nextToken();
    assertThrows(NullPointerException.class, () -> parser.getDecimalValue());
}