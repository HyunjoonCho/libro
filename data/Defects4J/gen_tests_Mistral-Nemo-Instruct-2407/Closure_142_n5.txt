public void testIE6CompilationIssue() {
    // Given
    String html = "<script type='text/javascript'>\n" +
                  "  var threshold = 500;\n" +
                  "  var data = new Array(threshold);\n" +
                  "  for (var i = 0; i < threshold; i++) {\n" +
                  "    data[i] = new Array(i);\n" +
                  "  }\n" +
                  "  data.sort(function(a, b) { return a - b; });\n" +
                  "</script>\n" +
                  "<div id='expected'>Original Output</div>\n" +
                  "<div id='actual'>Closure Output</div>";

    // When
    // (Assuming there's a method 'compile' that compiles the Closure script and replaces the 'actual' div with the result)
    compile(html);

    // Then
    // (Assuming there's a method 'getElementText' that gets the text content of a DOM element)
    assertEquals("Original Output", getElementText("expected"));
    assertEquals("Closure Output", getElementText("actual"));
}