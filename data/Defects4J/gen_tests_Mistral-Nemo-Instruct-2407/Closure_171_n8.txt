public void testBugReport() {
    class Foo {
        public void alert() {
            System.out.println("hello world");
        }
    }
    new class() {
        {
            Foo.prototype = new Foo();
        }
    }();
    try {
        System.out.println(Foo.prototype.alert);
        fail("Expected undefined property warning");
    } catch (NullPointerException e) {
        // Expected exception
    }
}