public void testJsonParserSequenceSkipsToken() {
    JsonFactory factory = new JsonFactory();
    JsonParser p1 = factory.createParser("{\"name\":\"John\"}");
    JsonParser p2 = factory.createParser(",\"age\":30}");
    JsonParserSequence sequence = JsonParserSequence.createFlattened(p1, p2);
    assertEquals(JsonToken.START_OBJECT, sequence.nextToken());
    assertEquals(JsonToken.FIELD_NAME, sequence.nextToken());
    assertEquals("name", sequence.getCurrentName());
    assertEquals(JsonToken.VALUE_STRING, sequence.nextToken());
    assertEquals("John", sequence.getText());
    assertEquals(JsonToken.START_OBJECT, sequence.nextToken()); // should not skip this token
    assertEquals(JsonToken.FIELD_NAME, sequence.nextToken());
    assertEquals("age", sequence.getCurrentName());
    assertEquals(JsonToken.VALUE_NUMBER_INT, sequence.nextToken());
    assertEquals(30, sequence.getIntValue());
}