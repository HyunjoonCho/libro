public void testZipReadIssue16() {
    byte[] zip =...; // the same byte array as in the issue description
    ByteArrayInputStream bin = new ByteArrayInputStream(zip);
    ZipArchiveInputStream in = new ZipArchiveInputStream(bin);
    try {
        ZipArchiveEntry entry = in.getNextZipEntry();
        byte[] buf = new byte[(int) entry.getSize()];
        in.read(buf);
        assertArrayEquals("data\n".getBytes(), buf);
    } catch (IOException e) {
        fail("IOException: " + e);
    } finally {
        try {
            in.close();
        } catch (IOException e) {
            fail("IOException: " + e);
        }
    }
}