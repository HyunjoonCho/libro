public void testPolymorphicDeserialization() {
    ObjectMapper mapper = new ObjectMapper();
    mapper.addMixIn(DeserializationFeature.class, JDKMixIn.class);

    String json = "{\"@type\":\"java.lang.String\",\"value\":\"foo\"}";
    try {
        DeserializationFeature f = mapper.readValue(json, DeserializationFeature.class);
        fail("Should have thrown IllegalArgumentException");
    } catch (IOException e) {
        // expected
    }
}

class JDKMixIn {
    public JDKMixIn() {
        throw new IllegalArgumentException("Black-listed type");
    }
}