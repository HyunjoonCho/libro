public void testExternalPropertyPolymorphicEnumDeserialization() throws Exception {
    String json = "{\"kind\": \"CONTACT\", \"to\": {\"name\": \"Foo\"}}";
    ObjectMapper mapper = new ObjectMapper();
    mapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);
    JsonNode node = mapper.readTree(json);
    mapper.registerModule(new KotlinModule());
    Invite invite = mapper.treeToValue(node, Invite.class);
    assertEquals("CONTACT", invite.getKind().toString());
}