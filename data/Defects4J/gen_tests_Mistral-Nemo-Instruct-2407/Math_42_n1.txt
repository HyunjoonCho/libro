public void testNegativeValueWithRestrictNonNegative() {
  NonNegativeConstraint nnc = new NonNegativeConstraint();
  SimplexSolver simplex = new SimplexSolver();
  LinearConstraint[] constraints = new LinearConstraint[] {new LinearConstraint(new double[]{1,0}, RelationType.EQUAL, 1)};
  nnc.setVariables(new int[]{0});
  LinearObjectiveFunction f = new LinearObjectiveFunction(new double[]{1,1,0}, new double[]{0});
  double[] result = simplex.optimize(f, constraints, GoalType.MINIMIZE, true, nnc);
  assertEquals(1, result[0], 0);
  assertEquals(0, result[1], 0);
}