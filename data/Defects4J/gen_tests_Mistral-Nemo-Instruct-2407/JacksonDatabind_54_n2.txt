public void testOptionalEmptySerialization() {
    ObjectMapper mapper = new ObjectMapper();
    mapper.setSerializationInclusion(JsonInclude.Include.NON_ABSENT);
    mapper.registerModule(new Jdk8Module());

    JsonResult result = new JsonResult();
    result.setA(Optional.empty());
    result.setB(Optional.empty());

    try {
        String json = mapper.writeValueAsString(result);
        assertTrue(json.contains("a") && json.contains("b"));
    } catch (JsonProcessingException e) {
        fail("Serialization failed: " + e.getMessage());
    }
}