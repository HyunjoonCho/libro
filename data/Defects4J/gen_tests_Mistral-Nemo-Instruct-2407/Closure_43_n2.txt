public void testLendsWithoutClassDefinition() {
    String code = "class Person { constructor(name) { this.name = name; } }" +
                  "function makeClass(classDef, baseClass) {" +
                  "  var pseudoClass = function() {};" +
                  "  pseudoClass.prototype = baseClass.prototype;" +
                  "  pseudoClass.prototype.constructor = pseudoClass;" +
                  "  pseudoClass.prototype.@lends = classDef;" +
                  "  return pseudoClass;" +
                  "}" +
                  "var Employee = makeClass({ work: function() { return this.name +'is working'; } }, Person);";
    assertTrue("Code should compile without errors", compiler.compile(code).success);
}