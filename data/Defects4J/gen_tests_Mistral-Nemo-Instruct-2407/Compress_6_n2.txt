public void testCorruptedZipWithHashCollision() throws Exception {
    ZipOutputStream zos = new ZipOutputStream(new FileOutputStream("testCorruptedZip.zip"));
    for (int i = 0; i < 10000; i++) {
        ZipArchiveEntry entry = new ZipArchiveEntry("file" + i + ".txt");
        zos.putNextEntry(entry);
        zos.closeEntry();
    }
    zos.close();
    // Check if the zip file is corrupted
    try (ZipInputStream zis = new ZipInputStream(new FileInputStream("testCorruptedZip.zip"))) {
        while (zis.getNextEntry()!= null) {
            fail("Zip file should be corrupted");
        }
    }
}