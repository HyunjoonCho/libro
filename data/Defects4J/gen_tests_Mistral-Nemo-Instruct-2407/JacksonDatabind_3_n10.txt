public void testNullSerializationDeserialization() {
    String[] arr = {null, "foo", null, "bar"};
    ObjectMapper mapper = new ObjectMapper();
    try {
        String json = mapper.writeValueAsString(arr);
        String[] deserialized = mapper.readValue(json, String[].class);
        assertArrayEquals(arr, deserialized);
    } catch (JsonProcessingException e) {
        fail("Serialization/Deserialization should not throw an exception");
    }
}