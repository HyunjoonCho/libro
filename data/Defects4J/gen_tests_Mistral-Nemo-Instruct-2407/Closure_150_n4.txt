public void testMissedAnnotationsInFunctions() {
    String code = "var ns = {};\n" +
                  "(function() {\n" +
                  "  /** @param {string=} b */\n" +
                  "  ns.a = function(b) {}\n" +
                  "})();\n" +
                  "\n" +
                  "function d() {\n" +
                  "  ns.a();\n" +
                  "  ns.a(123);\n" +
                  "}\n";
    assertFalse("No warnings emitted", JavacTestCompiler.compile(code).contains("warning"));
}