public void testBugReport() {
    class Foo {
        public void alert() {
            System.out.println("hello world");
        }
    }
    new Object() {
        {
            Foo.prototype = new Foo();
        }
    };
    Foo foo = new Foo();
    try {
        foo.alert();
        fail("Expected NoSuchMethodError");
    } catch (NoSuchMethodError e) {
        // expected
    }
}