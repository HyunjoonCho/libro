public void testArgumentCaptorVarargs() {
    ArgumentCaptor<int[]> captor = ArgumentCaptor.forClass(int[].class);
    // Given
    List<Integer> list = new ArrayList<>();
    // When
    someMethodThatAcceptsVarargs(list, 1, 2, 3);
    // Then
    verify(list, times(1)).add(captor.capture());
    int[] captured = captor.getValue();
    assertArrayEquals(new int[]{1, 2, 3}, captured);
}