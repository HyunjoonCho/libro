public void testGenericTypeResolver() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    mapper.setDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);
    mapper.addMixIn(Container.class, MixInContainer.class);

    Container<Number> container = new Container<>();
    container.add(1);
    container.add(2.0);

    String json = mapper.writeValueAsString(container);
    Container<?> deserialized = mapper.readValue(json, Container.class);

    assertTrue(deserialized.getList().get(0) instanceof Number);
}