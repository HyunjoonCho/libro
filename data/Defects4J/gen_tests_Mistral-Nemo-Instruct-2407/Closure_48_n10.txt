public void testTypeCheckingError() {
    var myclass = function() {};
    myclass.prototype.fn = function(success) {};
    myclass.prototype.test = function() {
        this.fn();
        this.fn = function() { };
    };
    assertThrows(TypeError, () => { new myclass().test(); });
}