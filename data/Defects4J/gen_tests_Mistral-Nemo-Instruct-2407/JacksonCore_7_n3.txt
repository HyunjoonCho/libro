public void testWriteStringAfterWriteFieldName() {
    JsonFactory factory = new JsonFactory();
    try (JsonGenerator generator = factory.createGenerator(new ByteArrayOutputStream())) {
        generator.writeStartObject();
        generator.writeFieldName("foo");
        generator.writeString("bar"); // Should throw an exception
        fail("Expected JsonMappingException to be thrown");
    } catch (JsonMappingException e) {
        // Expected
    }
}