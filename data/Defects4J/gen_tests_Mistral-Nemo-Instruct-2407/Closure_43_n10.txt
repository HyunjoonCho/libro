public void testLendsWithoutClassDefinition() {
    String code = "class Foo { @lends(Bar); constructor() {} } class Bar { method() {} }";
    assertThrows(CompileErrorException.class, () -> compiler.compile(code));
}