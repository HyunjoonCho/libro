public void testCharSequenceKeyDeserializer() {
    Map<String, String> map = new HashMap<>();
    map.put("key", "value");
    ObjectMapper mapper = new ObjectMapper();
    String json = "{\"key\": \"value\"}";
    try {
        map.putAll(mapper.readValue(json, new TypeReference<Map<CharSequence, String>>() {}));
        fail("Expected MapDeserializationException");
    } catch (MapDeserializationException e) {
        // expected
    }
}