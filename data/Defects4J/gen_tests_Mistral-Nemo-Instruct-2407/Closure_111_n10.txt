public void testGoogIsArrayHints() {
    String code = "function test(object) { if (goog.isArray(object)) { var x = object; return x; } }";
    try {
        Compiler compiler = new Compiler();
        compiler.optimize(code, "test.js", CompilerOptions.defaultOptions());
        fail("Expected a type checking error");
    } catch (Exception e) {
        assertTrue(e.getMessage(), e.getMessage().contains("required: (Array|null)"));
    }
}