public void testBase64InputStreamNPE() throws Exception {
    byte[] inputData =...; // input data from the bug report
    Base64InputStream bis = new Base64InputStream(new ByteArrayInputStream(inputData), 1024);
    byte[] buf = new byte[1024];
    int readBytes = bis.read(buf);
    assertEquals(1190, readBytes);
    readBytes = bis.read(buf);
    assertEquals(-1, readBytes); // EOF
}