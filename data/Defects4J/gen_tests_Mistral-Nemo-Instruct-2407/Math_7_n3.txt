public void testEventResetState() {
    // Set up initial state and events
    double[] y = {0.1, 0.2, 0.3};
    EventHandler event1 = new EventHandler() {
        public void eventOccurred(double t, double[] y) {
            if (t > 5) {
                throw new RuntimeException("RESET_STATE");
            }
        }
    };
    EventHandler event2 = new EventHandler() {
        public void eventOccurred(double t, double[] y) {
            // This event should not be affected by event1's RESET_STATE
            assertEquals(0.1, y[0], 0.0);
            assertEquals(0.2, y[1], 0.0);
            assertEquals(0.3, y[2], 0.0);
        }
    };
    // Integrate and check for failure
    try {
        integrate(new double[]{0}, new double[]{0.1, 0.2, 0.3}, 10, 0.1, new EventHandler[]{event1, event2});
        fail("Expected exception not thrown");
    } catch (RuntimeException e) {