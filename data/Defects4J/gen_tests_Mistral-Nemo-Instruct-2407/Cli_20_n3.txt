public void testNonRecognizedLongOption() {
    // Given
    Options options = OptionsBuilder.getStandardOptions()
       .withOptions("a", "b<arg>")
       .build();
    PosixParser parser = new PosixParser(options);
    parser.setStopAtNonOption(true);

    // When
    String[] args = {"--zop", "-abfoo"};
    try {
        parser.parse(args);
        fail("An OptionException should have been thrown");
    } catch (OptionException e) {
        // Then
        assertEquals("--zop", e.getOptions().getRemaining().get(0));
    }
}