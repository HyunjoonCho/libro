public void testTarArchiveInputStreamCorruptFile() {
  byte[] corruptData = new byte[512];
  Arrays.fill(corruptData, (byte) -1);
  try (TarArchiveInputStream is = new TarArchiveInputStream(new ByteArrayInputStream(corruptData))) {
    is.getNextEntry();
    fail("Expected IOException not thrown");
  } catch (IOException ex) {
    // expected
  }
}