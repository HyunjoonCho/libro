public void testExternalPropertyDeserialization() {
    String json = "{\"id\":1,\"type\":\"bar\",\"externalId\":{\"id\":\"123\",\"type\":\"foo\"}}";
    MyObject obj = new ObjectMapper().readValue(json, MyObject.class);
    assertNotNull(obj.getExternalId());
    assertEquals("123", obj.getExternalId().getId());
    assertEquals("foo", obj.getExternalId().getType());
}