public void testFailsWithDeserialize() throws JsonParseException, JsonMappingException, IOException {
    ObjectMapper mapper = new ObjectMapper().enableDefaultTyping(DefaultTyping.NON_FINAL);
    TestClass testInstance = mapper.readValue(TEST_INSTANCE_SERIALIZED, TestClass.class);
    assertEquals(mapper.writeValueAsString(new HashMap<CompoundKey, String>() {{
        put(new CompoundKey("Compound", "Key"), "Value");
    }}), mapper.writeValueAsString(testInstance));
}