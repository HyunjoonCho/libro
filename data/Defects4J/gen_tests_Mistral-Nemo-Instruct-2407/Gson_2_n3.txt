public void testDecodeJsonAsCarWithVehicleAdapter() {
  String json = "{\"type\": \"truck\", \"weight\": 10000}";
  VehicleAdapter vehicleAdapter = new VehicleAdapter();
  try {
    vehicleAdapter.decode(json, Car.class);
    fail("Should have thrown exception for Truck as Car");
  } catch (IOException e) {
    // expected
  }
}