public void testEventHandlingBug() {
    // Arrange
    EventHandler eventHandler = new EventHandler();
    Event event1 = new Event(1);
    Event event2 = new Event(2);
    eventHandler.addEventListener(event1::handle);
    eventHandler.addEventListener(event2::handle);

    // Act
    eventHandler.fireEvent(event1);
    eventHandler.fireEvent(event2);

    // Assert
    assertTrue(event1.isHandled());
    assertFalse(event2.isHandled()); // This should be true, but fails due to incomplete reinitialization
}