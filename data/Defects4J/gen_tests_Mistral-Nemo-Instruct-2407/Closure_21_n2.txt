public void testNonRightmostExpressions() {
    // Test case 1
    String code1 = "foo((1, 2, 42))";
    assertEquals("foo((1, 3))", transformAndCheck(code1, "1"));
    assertWarningIssued(code1);

    // Test case 2
    String code2 = "foo((bar(), 2, 42))";
    assertEquals("foo((bar(), 3))", transformAndCheck(code2, "bar()"));
    assertNoWarningIssued(code2);

    // Test case 3
    String code3 = "foo(((1, 2, 3), (4, 5, 42)))";
    assertEquals("foo((1, 4, 42))", transformAndCheck(code3, "1", "4"));
    assertWarningIssued(code3, "1");
    assertNoWarningIssued(code3, "4");
}

private String transformAndCheck(String code, String... safeExpressions) {
    // Implement transformation logic here and return the transformed code
    // Also, check if the safeExpressions are correctly classified
    // Return the transformed code
    return