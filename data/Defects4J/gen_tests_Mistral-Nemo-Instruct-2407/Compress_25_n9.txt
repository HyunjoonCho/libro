public void testZipReadIssueWithCommonsCompress17() {
    byte[] zip =...; // the same byte array as in the provided code
    ByteArrayInputStream bin = new ByteArrayInputStream(zip);
    try (ZipArchiveInputStream in = new ZipArchiveInputStream(bin)) {
        while (true) {
            ZipArchiveEntry entry = in.getNextZipEntry();
            if (entry == null) {
                break;
            }
            byte[] buf = new byte[(int) entry.getSize()];
            in.read(buf);
            assertEquals("test.txt", entry.getName());
            assertEquals("data\n", new String(buf, "UTF-8"));
        }
    } catch (IOException e) {
        fail("IOException: " + e);
    }
}