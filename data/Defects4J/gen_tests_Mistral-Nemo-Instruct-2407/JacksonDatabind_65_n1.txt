public void testDeserializeAsKey() throws IOException {
    Map<FullName, Double> map = new ObjectMapper().readValue("{\"first.last\": 42}", new TypeReference<Map<FullName, Double>>() {});
    Entry<FullName, Double> entry = map.entrySet().iterator().next();
    assertEquals(entry.getKey()._firstname, "first");
    assertEquals(entry.getKey()._lastname, "last");
    assertEquals(entry.getValue().doubleValue(), 42, 0);
}