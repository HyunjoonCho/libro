public void testNonJSDocCommentHandling() {
    String code = "/** @preserve Foo License */ alert(\"foo\");";
    try {
        assertTrue(compiler.compile(code).errors().isEmpty());
        fail("Expected a warning or comment preservation");
    } catch (Exception e) {
        assertTrue(e.getMessage().contains("WARNING - Parse error. Non-JSDoc comment has annotations"));
    }
    String codeWithExclamation = "/*! @preserve Foo License */ alert(\"foo\");";
    try {
        assertTrue(compiler.compile(codeWithExclamation).warnings().isEmpty());
        fail("Expected a warning or comment preservation");
    } catch (Exception e) {
        assertTrue(e.getMessage().contains("Comment not preserved"));
    }
}