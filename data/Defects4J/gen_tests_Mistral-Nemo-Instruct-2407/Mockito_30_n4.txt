public void testFailingTestsOnWindows() {
    // Arrange
    URLClassLoader classLoader = new URLClassLoader(new URL[] {}, NoJUnitDependenciesTest.class.getClassLoader()) {
        @Override
        protected Class<?> findClass(String name) throws ClassNotFoundException {
            if (name.startsWith("junit") || name.startsWith("org.junit")) {
                throw new ClassNotFoundException("classes with prefix : [" + name + "] are excluded");
            }
            return super.findClass(name);
        }
    };
    Thread.currentThread().setContextClassLoader(classLoader);

    // Act & Assert
    try {
        NoJUnitDependenciesTest.pure_mockito_should_not_depend_JUnit___ByteBuddy();
        fail("Expected AssertionError");
    } catch (AssertionError e) {
        assertEquals("'org.mockito.internal.progress.TimesTest' has some dependency to JUnit", e.getMessage());
    }
}