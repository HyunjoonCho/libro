public void testStringCollectionDeserialization() {
    CustomStringCollection customCollection = new CustomStringCollection(Arrays.asList("a", "b", "c"));
    ObjectMapper objectMapper = new ObjectMapper();
    objectMapper.registerModule(new MyModule());
    try {
        objectMapper.readerForUpdating(customCollection).readValue("[\"d\", \"e\", \"f\"]");
        fail("Expected exception not thrown");
    } catch (JsonMappingException e) {
        // expected
    }
}