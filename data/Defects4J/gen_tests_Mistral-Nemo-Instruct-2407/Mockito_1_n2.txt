public void testArgumentCaptorVarargs() {
    ArgumentCaptor<String> captor = ArgumentCaptor.forClass(String.class);
    when(mock.someMethod("arg1", "arg2")).thenReturn("test");
    mock.someMethod("arg1", "arg2");
    verify(mock).someMethod(captor.capture());
    assertEquals("arg1", captor.getAllValues().get(0));
    assertEquals("arg2", captor.getAllValues().get(1));
}