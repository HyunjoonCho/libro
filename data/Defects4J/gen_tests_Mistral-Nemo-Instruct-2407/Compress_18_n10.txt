public void testLongDirectoryNameInTar() {
    File longDir = new File("path/to/super/duper/long/directory/name/that/exceeds/100/bytes");
    longDir.mkdirs();
    try (TarArchiveOutputStream out = new TarArchiveOutputStream(new FileOutputStream("test.tar"))) {
        out.putArchiveEntry(new TarArchiveEntry(longDir));
    } catch (IOException e) {
        // expected exception
    }
}