public void testMultiplePrefixesInSameNamespace() {
    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
    DocumentBuilder builder = factory.newDocumentBuilder();
    InputStream is = getClass().getResourceAsStream("/bug.xml");
    Document document = builder.parse(is);

    JXPathContext ctx = new JXPathContext(document);
    ctx.setLenient(true);

    List<Pointer> pointers = ctx.iteratePointers("//*[local-name()='elem']");

    assertEquals(2, pointers.size());
    assertEquals("a:elem", pointers.get(0).getNode().getLocalName());
    assertEquals("b:elem", pointers.get(1).getNode().getLocalName());
}