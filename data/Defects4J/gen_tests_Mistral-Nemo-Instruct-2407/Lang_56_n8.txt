public void testNonSerializableRules() {
    FastDateFormat format = FastDateFormat.getInstance("MM/dd/yyyy");
    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    ObjectOutputStream out = new ObjectOutputStream(bos);
    out.writeObject(format);
    out.close();

    ByteArrayInputStream bis = new ByteArrayInputStream(bos.toByteArray());
    ObjectInputStream in = new ObjectInputStream(bis);
    Object obj = in.readObject();
    in.close();

    assertTrue(obj instanceof FastDateFormat);
}