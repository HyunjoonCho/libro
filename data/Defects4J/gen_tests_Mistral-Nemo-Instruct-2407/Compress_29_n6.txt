public void testEncodingNotPassed() {
    ArchiveStreamFactory factory = new ArchiveStreamFactory();
    InputStream in = factory.createArchiveInputStream("jar", new ByteArrayInputStream(new byte[0]), "UTF-8");
    assertNull(in); // ArjArchiveInputStream, CpioArchiveInputStream, DumpArchiveInputStream are not created for empty input
    OutputStream out = factory.createArchiveOutputStream("jar", new ByteArrayOutputStream(), "UTF-8");
    assertTrue(out instanceof JarArchiveOutputStream);
}