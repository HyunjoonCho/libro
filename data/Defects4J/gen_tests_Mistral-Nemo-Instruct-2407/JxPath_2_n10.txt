public void testNodeSetReturningFunction() {
    JXPathContext context = new JXPathContext(new MyCustomObject());
    context.registerFunction("observations", new MyCustomFunction());
    NodeSet result = (NodeSet) context.selectNodes("observations()");
    assertFalse(result.isEmpty());
    assertEquals("Should return a list of pointers", NodePointer.class, result.get(0).getNodeType());
}