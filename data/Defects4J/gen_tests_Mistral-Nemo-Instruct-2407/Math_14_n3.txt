public void testLargeWeights() {
    int n = 41200;
    double[] weights = new double[n];
    Arrays.fill(weights, 1.0);
    Weigth weigth = new Weigth(weights);
    try {
        PolynomialCurveFitter fitter = PolynomialCurveFitter.create(1);
        fitter.fit(weigth);
        fail("Expected OutOfMemoryError");
    } catch (OutOfMemoryError e) {
        // expected
    }
}