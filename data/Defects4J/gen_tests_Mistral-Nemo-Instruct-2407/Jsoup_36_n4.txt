public void testInvalidCharsetDetection() {
    String url = "https://example.com/bug";
    try {
        Jsoup.connect(url).execute();
        fail("Expected IllegalCharsetNameException");
    } catch (IllegalCharsetNameException e) {
        // expected
    }
}