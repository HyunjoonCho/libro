public void testWriteStringAfterWriteFieldName() throws IOException {
    JsonGenerator generator = new JsonFactory().createGenerator(new StringWriter());
    generator.writeStartObject();
    generator.writeFieldName("test");
    generator.writeString("value");
    assertEquals("{\"test\":\"value\"}", ((StringWriter) generator.getOutputTarget()).toString());
}