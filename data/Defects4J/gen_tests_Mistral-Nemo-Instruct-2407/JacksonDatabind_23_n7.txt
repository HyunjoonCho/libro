public void testNonEmptyExclusionIntsStrings() {
    JsonNode jsonNode = Json.createObjectBuilder()
       .put("foo", 123)
       .put("bar", "")
       .build();
    ObjectMapper objectMapper = new ObjectMapper();
    objectMapper.setSerializationInclusion(Include.NON_EMPTY);
    try {
        objectMapper.writeValueAsString(jsonNode);
        fail("Expected JsonMappingException to be thrown");
    } catch (JsonMappingException e) {
        // expected
    }
}