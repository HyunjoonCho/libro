public void testNegativeValueWithRestrictNonNegative() {
    NonlinearConstraint constraint = NonlinearConstraint.createEquality(OptimizerUtils.createVariable("x"), 1);
    SimplexSolver solver = new SimplexSolver();
    PointValuePair solution = solver.optimize(new SimpleObjectiveFunction(new double[] {1, 1, 0}), new LinearConstraint[] {constraint}, GoalType.MINIMIZE, true);
    assertEquals(1.0, solution.getPoint()[0], 0.0);
    assertEquals(0.0, solution.getPoint()[1], 0.0);
}