public void testNullTypeAdapterFactory() {
    TypeAdapterFactory factory = null;
    Gson gson = new GsonBuilder().registerTypeAdapterFactory(factory).create();
    assertThrows(NullPointerException.class, () -> gson.toJson("test"));
}