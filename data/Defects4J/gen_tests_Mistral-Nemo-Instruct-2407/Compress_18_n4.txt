public void testLongDirectoryName() {
    File testDir = new File("testLongDirectoryName");
    for (int i = 0; i < 101; i++) {
        new File(testDir, "longdir" + i).mkdir();
    }
    try (TarArchiveOutputStream out = new TarArchiveOutputStream(new FileOutputStream("test.tar"))) {
        TarUtilities.addDirectory(out, testDir);
    } catch (IOException e) {
        // Expected to fail
    }
}