public void testNoSideEffects() {
  boolean[] called = { false };
  void function() {
    called[0] = true;
  }
  function();
  assertTrue(called[0]);
}