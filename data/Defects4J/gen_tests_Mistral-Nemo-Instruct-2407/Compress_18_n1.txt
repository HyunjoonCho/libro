public void testLongDirectoryNameException() {
    String longDirectoryName = new String(new char[114]).replace("\0", "a");
    File dir = new File(longDirectoryName);
    TarArchiveOutputStream out = new TarArchiveOutputStream(new ByteArrayOutputStream());
    try {
        TarUtilities.addDirectory(out, dir);
        fail("Expected IOException was not thrown");
    } catch (IOException e) {
        // expected
    } finally {
        out.close();
    }
}