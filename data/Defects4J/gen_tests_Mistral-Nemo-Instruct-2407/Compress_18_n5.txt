public void testLongDirectoryNameInTarArchive() {
    String longDirName = "./PaxHeaders.X/layers/openstreetmap__osm.disy.net/.tiles/1.0.0/openstreetmap__osm.disy.net/default/extraLongDirectoryNameThatShouldFail";
    TarArchiveOutputStream out = new TarArchiveOutputStream(new ByteArrayOutputStream());
    try {
        out.putArchiveEntry(new TarArchiveEntry(longDirName));
        out.closeArchiveEntry();
        fail("Expected IOException was not thrown");
    } catch (IOException ex) {
        // expected
    }
}