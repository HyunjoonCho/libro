public void testBase64InputStreamReadBug() throws Exception {
    byte[] data = new byte[6]; // Multiple of 3 bytes
    InputStream in = new ByteArrayInputStream(data);
    InputStreamReader reader = new InputStreamReader(new Base64InputStream(in, true));
    char[] chars = new char[1];
    assertEquals(-1, reader.read(chars)); // Should return -1 at end of stream
}