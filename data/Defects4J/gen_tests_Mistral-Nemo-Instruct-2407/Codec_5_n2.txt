public void testBase64InputStreamNpe() throws Exception {
    byte[] input =...; // the 1190 byte input data
    Base64InputStream in = new Base64InputStream(new ByteArrayInputStream(input), true);
    byte[] buf = new byte[1024];
    int read = in.read(buf);
    assertEquals(1190, read);
    try {
        read = in.read(buf);
        fail("Expected NullPointerException");
    } catch (NullPointerException e) {
        // expected
    }
}