public void testDefaultImplPropertyResolution() {
    ObjectMapper mapper = new ObjectMapper();
    mapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);

    BaseType baseType = new BaseType("base");
    SubType subType = new SubType("sub");

    ObjectNode baseNode = mapper.valueToTree(baseType);
    ObjectNode subNode = mapper.valueToTree(subType);

    assertTrue(baseNode.has("baseProp"));
    assertFalse(subNode.has("baseProp"));
    assertTrue(subNode.has("subProp"));
}