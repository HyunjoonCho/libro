public void testEOFException() throws IOException {
    String archivePath = "path/to/truncated/test.tar.bz2";
    TarArchiveInputStream input = new TarArchiveInputStream(new BZip2CompressorInputStream(
        GoogleFile.SYSTEM.newInputStream(archivePath), true));
    input.getNextEntry(); // should throw IOException due to unexpected EOF
}