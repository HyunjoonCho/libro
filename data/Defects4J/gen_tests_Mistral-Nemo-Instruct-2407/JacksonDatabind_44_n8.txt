public void testDefaultImplSubtypeResolution() {
    ObjectMapper mapper = new ObjectMapper();
    SubType subType = new SubType();
    mapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL, SubType.class);
    try {
        String json = mapper.writeValueAsString(subType);
        assertTrue(json.contains("SuperType"));
        Object obj = mapper.readValue(json, Object.class);
        assertTrue(obj instanceof SubType);
    } catch (IOException e) {
        fail("Unexpected exception: " + e.getMessage());
    }
}