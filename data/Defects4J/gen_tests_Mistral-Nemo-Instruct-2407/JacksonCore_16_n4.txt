public void testJsonParserSequenceSkipsToken() {
    JsonFactory factory = new JsonFactory();
    JsonParser parser1 = factory.createJsonParser("{\"a\": 1}");
    JsonParser parser2 = factory.createJsonParser("{\"b\": 2}");

    JsonParserSequence sequence = JsonParserSequence.createFlattened(parser1, parser2);

    assertEquals(JsonToken.START_OBJECT, sequence.nextToken());
    assertEquals(JsonToken.FIELD_NAME, sequence.nextToken());
    assertEquals("a", sequence.getCurrentName());
    assertEquals(JsonToken.VALUE_NUMBER_INT, sequence.nextToken());
    assertEquals(1, sequence.getIntValue());

    // This token should not be skipped
    assertEquals(JsonToken.START_OBJECT, sequence.nextToken());
    assertEquals(JsonToken.FIELD_NAME, sequence.nextToken());
    assertEquals("b", sequence.getCurrentName());
    assertEquals(JsonToken.VALUE_NUMBER_INT, sequence.nextToken());
    assertEquals(2, sequence.getIntValue());
}