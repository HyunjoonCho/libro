public void testNonSquareMatrixOperation() {
    double[][] data = {{1, 2, 3}, {4, 5, 6}, {7, 8, 9}};
    RealMatrix matrix = MatrixUtils.createRealMatrix(data);
    double[] vector = {1, 2, 3, 4};
    double[] result = matrix.operate(vector);
    assertEquals(2, result.length);
    assertEquals(14, result[0], 0);
    assertEquals(32, result[1], 0);
}