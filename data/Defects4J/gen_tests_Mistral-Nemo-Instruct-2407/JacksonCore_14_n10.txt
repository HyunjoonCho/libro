public void testBufferReuse() {
    IOContext ctx = new IOContext(null);
    byte[] buf1 = new byte[1024];
    ctx.ensureManagedBuffer(buf1, 512);
    byte[] buf2 = new byte[1024];
    ctx.ensureManagedBuffer(buf2, 512);
    assertNotSame(buf1, buf2);
}