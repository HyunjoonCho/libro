public void testRemoveIgnoreCaseConcurrentModificationException() {
    Element element = new Element("div");
    element.addAttr("attr1", "value1");
    element.addAttr("attr2", "value2");
    element.addAttr("attr3", "value3");

    List<Attribute> attributes = element.select("div").first().getAttributes();
    attributes.removeIf(attr -> attr.getKey().equalsIgnoreCase("attr1"));
    attributes.removeIf(attr -> attr.getKey().equalsIgnoreCase("attr2"));

    assertEquals(1, attributes.size());
    assertEquals("attr3", attributes.get(0).getKey());
}