public void testJsonIdentityInfoDeserializationFail() throws IOException {
    ObjectMapper mapper = new ObjectMapper();
    mapper.enableDefaultTyping();

    String json = "{\"@type\":\"com.example.TestBean\",\"id\":1,\"list\":[\"@type\":\"com.example.TestBean\",\"id\":2]}";

    TestBean bean = mapper.readValue(json, TestBean.class);
    assertEquals(1, bean.getId().intValue());
    assertEquals(1, bean.getList().size());
    assertEquals(2, bean.getList().get(0).getId().intValue());
}