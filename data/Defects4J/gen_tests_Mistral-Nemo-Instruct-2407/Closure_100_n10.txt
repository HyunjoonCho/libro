public void testThisWarning() {
    try {
        ClosureCompiler.compile("-warnings -O", "thisWarning.js");
        fail("Expected warnings, but none were issued");
    } catch (IOException e) {
        assertTrue(e.getMessage().contains("dangerous use of the global this object"));
    }
}