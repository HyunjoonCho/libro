public void testDelegatingMethodEquals() {
    // Arrange
    Mockito.mock(InterfaceWithAMethod.class);
    ArgumentCaptor<InterfaceWithAMethod> captor = ArgumentCaptor.forClass(InterfaceWithAMethod.class);
    InterfaceWithAMethod mock = mock(InterfaceWithAMethod.class);
    mock.foo();

    // Act
    verify(mock).foo();
    verify(mock, captor.capture()).foo(); // This line should fail with the bug described

    // Assert
    fail("Expected an exception due to the bug in DelegatingMethod.equals()");
}