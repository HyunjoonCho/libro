public void testCommandLineOptionValue() {
    final String debugOpt = "debug";
    Option debug = OptionBuilder
           .withArgName(debugOpt)
           .withDescription("turn on debugging")
           .withLongOpt(debugOpt)
           .create('d');
    CommandLineParser parser = new DefaultParser();
    CommandLine cmd = parser.parse(new String[]{"-d"}, new Options().addOption(debug));
    String dbg = cmd.getOptionValue(debugOpt);
    assertNull(dbg);
    dbg = cmd.getOptionValue('d');
    assertEquals("d", dbg);
}