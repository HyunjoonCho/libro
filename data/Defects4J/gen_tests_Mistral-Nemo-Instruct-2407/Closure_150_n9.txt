public void testTypeCheckerMissesAnnotations() {
    String code = "var ns = {};\n" +
            "(function() {\n" +
            "  /** @param {string=} b */\n" +
            "  ns.a = function(b) {}\n" +
            "})();\n" +
            "function d() {\n" +
            "  ns.a();\n" +
            "  ns.a(123);\n" +
            "}";
    assertTrue(compiler.getDiagnostics(code).stream().noneMatch(d -> d.getMessage().contains("warning")));
}