public void testClosureCompilerFunctionNameTranslation() {
    String jqueryCode = "var preload_check_all = function() {}; $(document).ready(function() { preload_check_all(); });";
    try {
        CompilerOptions options = new CompilerOptions().setOptimizationLevel(OptimizationLevel.SIMPLE);
        JavaScriptCompilationResult result = Compiler.compile(jqueryCode, options);
        assertTrue(result.isSuccess());
        assertTrue(result.getOutput().contains("a"));
    } catch (Exception e) {
        fail("Compilation should not throw an exception");
    }
}