public void testRequiredOptions() {
    Parser parser = new PosixParser();
    Options options = new Options();
    options.addOption("h", false, "help");
    try {
        CommandLine cmd = parser.parse(options, new String[]{"-c", "arg"});
        fail("Expected a ParseException");
    } catch (ParseException e) {
        // Expected
    }
    assertEquals(1, parser.getOptions().size());
    assertEquals("h", parser.getOptions().get(0).getOpt());
}