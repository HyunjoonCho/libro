public void testWriteBigDecimalAsPlainIgnoredWithJsonFormat() {
    ObjectMapper mapper = new ObjectMapper().configure(JsonGenerator.Feature.WRITE_BIGDECIMAL_AS_PLAIN, true);
    mapper.addMixIn(Test.class, TestMixIn.class);
    Test test = new Test(BigDecimal.valueOf(0.0000000005));
    try {
        assertEquals("{\"value\":\"0.0000000005\"}", mapper.writeValueAsString(test));
    } catch (JsonProcessingException e) {
        fail("Failed to serialize test object");
    }
}

class TestMixIn {
    @JsonFormat(shape = JsonFormat.Shape.STRING)
    public BigDecimal value;
}