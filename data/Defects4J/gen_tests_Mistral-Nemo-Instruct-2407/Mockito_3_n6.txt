public void testArgumentCaptorVarargs() {
    ArgumentCaptor<int[]> captor = ArgumentCaptor.forClass(int[].class);
    when(mock.someVarargsMethod(anyInt(), captor.capture())).thenReturn(null);
    mock.someVarargsMethod(1, new int[]{1, 2, 3});
    assertEquals(Arrays.asList(1, 2, 3), captor.getAllValues().get(0));
}