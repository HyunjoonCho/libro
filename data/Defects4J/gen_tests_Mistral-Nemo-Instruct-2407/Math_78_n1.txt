public void testCloseEventsNotDetected() {
    // Given
    double t1 = 90.0, t2 = 135.0;
    double eps = 1e-6;
    double g1 = 1e-9; // small positive value
    double g2 = -1.0;

    // When
    double t = 89.9999999 + eps; // slightly before t1
    double g = t < t1? g1 : (t > t2? g2 : 0.0);

    // Then
    assertTrue(g < 0.0); // g should be negative, but it's not due to the bug
}