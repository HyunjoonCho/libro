public void testIssue172WithWildcard() {
    AttributeContext context = new AttributeContext() {
        private static final QName WILDCARD = new QName("", "*");
        @Override
        public boolean matches(Attribute attribute, NodeTest nodeTest) {
            final QName name;
            if (nodeTest instanceof NodeTypeTest) {
                if (((NodeTypeTest) nodeTest).getNodeType() == Compiler.NODE_TYPE_NODE) {
                    name = WILDCARD;
                } else {
                    return false;
                }
            } else if (nodeTest instanceof NodeNameTest) {
                name = ((NodeNameTest) nodeTest).getNodeName();
            } else {
                return false;
            }
            // add assertion to fail the test if name is WILDCARD and attribute's name is not "*"
            assertFalse("Wildcard should not match specific attribute", name.equals(WILDCARD) &&!attribute.getName().equals("*"));
            return true;
        }
    };
    // add test case to trigger the bug
    assertTrue(context.matches(new Attribute(new QName("test"), "value"), new NodeNameTest(new QName("element"))));
}