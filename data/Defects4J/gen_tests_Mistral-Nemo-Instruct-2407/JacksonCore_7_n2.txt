public void testWriteStringAfterWriteFieldName() {
    JsonGenerator generator = new JsonFactory().createJsonGenerator(new ByteArrayOutputStream());
    generator.writeStartObject();
    generator.writeFieldName("field");
    generator.writeString("value"); // This should fail
    generator.close();
    // The above should throw an exception, not produce invalid output
}