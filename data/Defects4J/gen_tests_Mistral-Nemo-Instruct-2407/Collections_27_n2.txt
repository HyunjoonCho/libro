public void testInvokerTransformerRCE() throws Exception {
    Collection<String> collection = new ArrayList<String>();
    InvokerTransformer transformer = new InvokerTransformer("java.lang.Runtime#getRuntime");
    transformer.transform(collection);

    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    ObjectOutputStream out = new ObjectOutputStream(bos);
    out.writeObject(collection);
    out.close();

    ObjectInputStream in = new ObjectInputStream(new ByteArrayInputStream(bos.toByteArray()));
    @SuppressWarnings("unchecked")
    Collection<String> deserialized = (Collection<String>) in.readObject();

    deserialized.forEach(Runtime::getRuntime);
}