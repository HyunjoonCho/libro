public void testJsonWriterNaN() {
    try (JsonWriter out = new JsonWriter(new PrintWriter(new OutputStreamWriter(new ByteArrayOutputStream())))) {
        out.value(Double.NaN); // This should throw an exception
    } catch (IllegalArgumentException e) {
        assertEquals("Numeric values must be finite, but was NaN", e.getMessage());
    }
}