public void testPrototypeMethodRemoval() {
    var foo = {};
    foo.bar = {
        'bar1': function() { console.log('bar1'); }
    };

    function foobar() {}
    foobar.prototype = foo.bar;

    foo.foobar = new foobar;

    assertEquals('bar1', console.log.call(foo.foobar['bar1']));
}