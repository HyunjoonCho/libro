public void testLocaleChange() {
    Locale originalLocale = Locale.getDefault();
    Locale newLocale = new Locale("fr", "FR");

    Locale.setDefault(newLocale);
    FastDateFormat fmt = FastDateFormat.getDateInstance();
    assertEquals(newLocale, fmt.getLocale());

    Locale.setDefault(originalLocale);
    assertEquals(originalLocale, fmt.getLocale()); // This should fail
}