public void testUnionSortOrder() {
    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
    DocumentBuilder builder = factory.newDocumentBuilder();
    Document doc = builder.parse(new InputSource(new StringReader("<MAIN><A>avalue</A><B>bvalue</B></MAIN>")));

    XPathFactory xpathFactory = XPathFactory.newInstance();
    XPath xpath = xpathFactory.newXPath();
    String expr = "/MAIN/B | /MAIN/A";

    try {
        String result = (String) xpath.evaluate(expr, doc, XPathConstants.STRING);
        assertEquals("avalue", result);
    } catch (XPathExpressionException e) {
        fail("XPath evaluation failed");
    }
}