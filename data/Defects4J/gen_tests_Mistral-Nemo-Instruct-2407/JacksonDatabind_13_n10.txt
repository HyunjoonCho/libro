public void testNullObjectIdDeserialization() throws IOException {
    ObjectMapper mapper = new ObjectMapper();
    ObjectIdGenerator generator = new ObjectIdGenerator() {
        public ObjectId nextObjectId(Object forPurpose) {
            return null;
        }
    };
    ObjectMapper mapperWithGenerator = new ObjectMapper();
    mapperWithGenerator.setObjectIdGenerator(generator);
    assertThrows(NullPointerException.class, () -> mapperWithGenerator.readValue("{}", Object.class));
}