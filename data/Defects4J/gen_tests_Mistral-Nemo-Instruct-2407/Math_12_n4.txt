public void testGammaDistributionCloning() throws Exception {
    GammaDistribution original = new GammaDistribution(2, 3);
    ByteArrayOutputStream baos = new ByteArrayOutputStream();
    ObjectOutputStream oos = new ObjectOutputStream(baos);
    oos.writeObject(original);
    oos.close();

    ObjectInputStream ois = new ObjectInputStream(new ByteArrayInputStream(baos.toByteArray()));
    GammaDistribution cloned = (GammaDistribution) ois.readObject();

    double epsilon = 1e-15;
    for (int i = 0; i < 1000; i++) {
        assertEquals(original.sample(), cloned.sample(), epsilon);
    }
}