public void testGammaDistributionCloning() throws Exception {
    GammaDistribution original = new GammaDistribution(2, 3);
    try (ByteArrayOutputStream bos = new ByteArrayOutputStream();
         ObjectOutput out = new ObjectOutputStream(bos)) {
        out.writeObject(original);
    }
    try (ByteArrayInputStream bis = new ByteArrayInputStream(bos.toByteArray());
         ObjectInput in = new ObjectInputStream(bis)) {
        GammaDistribution clone = (GammaDistribution) in.readObject();
        assertEquals(original.getShape(), clone.getShape(), 0);
        assertEquals(original.getScale(), clone.getScale(), 0);
        for (int i = 0; i < 1000; i++) {
            assertEquals(original.nextValue(), clone.nextValue(), 0);
        }
    }
}