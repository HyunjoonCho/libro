public void testGoogAddSingletonGetter() {
  String code = "goog.provide('foo');\n" +
                "var foo = function() { this.values = []; };\n" +
                "goog.addSingletonGetter(foo);\n" +
                "foo.prototype.add = function(value) {this.values.push(value)};";
  assertTrue(ClosureCompiler.compile(code).contains("function() {"));
}