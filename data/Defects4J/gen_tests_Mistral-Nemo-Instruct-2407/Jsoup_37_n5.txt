public void testHtmlWhitespace() {
    Document doc = DocumentBuilderFactory.newInstance().newDocumentBuilder().newDocument();
    Element elem = doc.createElement("div");
    elem.setTextContent("   Hello, World!   ");
    assertEquals("&nbsp;&nbsp;&nbsp;Hello, World!&nbsp;&nbsp;&nbsp;", elem.getElementsByTagName("div").item(0).getTextContent());
}