public void testRequiredOptions() {
    Option[] options = new Option[] { OptionBuilder.withArgName("arg").hasArg().create('c') };
    try {
        CommandLineParser parser = new DefaultParser();
        String[] args = { "-c", "arg" };
        CommandLine cmd = parser.parse(options, args);
        assertEquals(Arrays.asList('-', 'h'), cmd.getOptions());
    } catch (ParseException e) {
        fail("Unexpected exception: " + e);
    }
}