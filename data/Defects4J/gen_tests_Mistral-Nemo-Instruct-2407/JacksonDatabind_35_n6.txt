public void testObjectIdTypeIdWrapperRegression() {
    ObjectMapper mapper = new ObjectMapper();
    mapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL, JsonTypeInfo.As.WRAPPER_OBJECT);
    mapper.enable(ObjectMapper.Feature.OBJECT_ID);

    MyPojo pojo = new MyPojo("test");
    assertEquals("{\"@type\":\"com.example.MyPojo\",\"@id\":\"#0\",\"@value\":\"test\"}", mapper.writeValueAsString(pojo));
}