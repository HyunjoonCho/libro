public void testUUIDDeserializationWithHandler() throws IOException {
  ObjectMapper mapper = new ObjectMapper().addHandler(new DeserializationProblemHandler() {
    @Override
    public Object handleWeirdStringValue(final DeserializationContext ctxt, final Class<?> targetType, final String valueToConvert, final String failureMsg) throws IOException {
      return null;
    }
  });

  try {
    mapper.readValue("{\"id\" : \"I am not a UUID\"}", IdBean.class);
    fail("Expected InvalidFormatException to be thrown");
  } catch (InvalidFormatException e) {
    // expected
  }
}