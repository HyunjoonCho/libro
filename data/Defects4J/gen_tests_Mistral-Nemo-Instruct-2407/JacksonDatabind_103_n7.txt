public void testJsonMappingExceptionDuplicateLocation() {
    try {
        ObjectMapper mapper = new ObjectMapper();
        mapper.readTree("not a valid JSON");
    } catch (JsonMappingException e) {
        assertTrue(e.getMessage().indexOf(" at [source]") < e.getMessage().lastIndexOf(" at [source]"));
    }
}