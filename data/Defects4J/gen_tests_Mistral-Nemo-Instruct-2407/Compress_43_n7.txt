public void testVersionNeededToExtractMismatch() {
    try (ZipArchiveOutputStream outputStream = new ZipArchiveOutputStream(new BufferedOutputStream(new FileOutputStream("test.zip")))) {
        ZipArchiveEntry entry = new ZipArchiveEntry("test.txt");
        entry.setMethod(ZipMethod.DEFLATED);
        outputStream.putArchiveEntry(entry);
        outputStream.write("test".getBytes());
        outputStream.closeArchiveEntry();
    }
    ZipArchiveInputStream inputStream = new ZipArchiveInputStream(new FileInputStream("test.zip"));
    ZipArchiveEntry entry = inputStream.getNextZipEntry();
    assertEquals(20, entry.getVersionNeededToExtract()); // Should be 20, but fails if not using Zip64
    inputStream.closeEntry();
    inputStream.close();
}