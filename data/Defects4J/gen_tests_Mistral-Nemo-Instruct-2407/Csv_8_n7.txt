public void testDuplicateHeaders() {
    String[] headers = {"a", "b", "a"};
    try {
        CSVFormat.forHeader(headers);
        fail("Expected IllegalArgumentException with duplicate headers");
    } catch (IllegalArgumentException e) {}
}