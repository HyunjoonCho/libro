public void testIssue107Crash() {
    String code = "var g=function(m){return m*Math.random()|0},d=document,h=d.getElementById('h'),c=d.getElementById('c'),l;"
            + "(l=function(){requestAnimationFrame(l);h.style.textShadow=\"0 0 1px #000,\"+(g(10)-5)+\"px \"+(g(10)-5)+\"px 0 #888,0 0 180px rgb(\"+g(255)+\",\"+g(255)+\",\"+g(255)+")"})();"
            + "d.addEventListener('mousemove',function(v){c.style.marginTop=(v.pageY/10+15|0)+'px'})";
    when(jsCompiler.compile(any(String.class))).thenThrow(new RuntimeException("INTERNAL COMPILER ERROR. Please report this problem. Unexpected variable l"));
    assertThrows(RuntimeException.class, () -> jsCompiler.compile(code));
}