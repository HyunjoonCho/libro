public void testTruncatedError() throws Exception {
    StringBuilder output = new StringBuilder();
    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    PrintStream ps = new PrintStream(bos);
    System.setOut(ps);
    String[] args = {"--warning_level", "VERBOSE", "--js", "test.js"};
    YourCompilerClass.main(args);
    String outputStr = bos.toString();
    output.append(outputStr);
    assertTrue(output.toString(), output.toString().contains("test.js:2: ERROR - variable bar is undefined"));
}