public void testProvideWithNonString() {
    try {
        String code = "goog.provide(mine.Spike);";
        // Compilation should fail and throw an exception
        assertCompileError(code, "GETPROP 17 [originalname: Spike] [source_file: file.js] is not a string node");
    } catch (AssertionFailedError e) {
        fail("Compilation did not fail as expected");
    }
}