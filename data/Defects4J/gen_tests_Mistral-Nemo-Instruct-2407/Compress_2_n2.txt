public void testArDelete() throws Exception {
    try ( JarOutputStream out = new JarOutputStream(new FileOutputStream("bla.ar")) ) {
        out.putNextEntry(new JarEntry("test1.xml"));
        out.putNextEntry(new JarEntry("test2.xml"));
    }
    try ( JarFile ar = new JarFile("bla.ar") ) {
        JarEntry entry = ar.getJarEntry("test2.xml");
        assertNotNull("Entry should exist", entry);
    }
    try ( JarFile ar = new JarFile("bla.ar");
         JarOutputStream out = new JarOutputStream(ar)) {
        out.deleteEntry("test2.xml");
    }
    try ( JarFile ar = new JarFile("bla.ar") ) {
        JarEntry entry = ar.getJarEntry("test2.xml");
        assertNull("Entry should be deleted", entry);
    }
}