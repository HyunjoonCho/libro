public void testJsoupCleanStackOverflow() {
    String html = "<html><body><p>Test <wbr>test</wbr></p></body></html>";
    for (int i = 0; i < 24205; i++) {
        html = html.replace("<p>Test <wbr>test</wbr></p>", "<p>Test <wbr>test</wbr></p><p>Test <wbr>test</wbr></p>");
    }
    try {
        Document doc = Jsoup.parse(html);
        doc.select("p").first().text("Replaced");
    } catch (StackOverflowError e) {
        // expected
    }
}