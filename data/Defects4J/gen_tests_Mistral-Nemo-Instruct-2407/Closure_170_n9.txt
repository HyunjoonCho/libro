public void testOverlyAggressiveCommaRemoval() {
    String code = "function Test(n) { var i = 0; return typeof n!== \"undefined\"? (i = n.length) : (n = \"foo\"), i } var dummy = \"6chars\"; console && console.log( Test(dummy) );";
    try {
        assertNotEquals("0", new Object() {}.execScript(code, "JavaScript").toString());
    } catch (Exception e) {
        // Handle exception if needed
    }
}