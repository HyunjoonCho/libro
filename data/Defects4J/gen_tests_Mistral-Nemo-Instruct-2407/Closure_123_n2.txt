public void testForInAssignment() {
    String code = "window.Foo = function(A, B, C, D) { if ( A ) { if ( B ) { C = 0; } else { C = 0 in D; } while ( C-- ) {} } }";
    try {
        compiler.compile(code);
        fail("Expected CompilationException");
    } catch (CompilationException e) {
        assertTrue(e.getMessage(), e.getMessage().contains("invalid for/in left-hand side"));
    }
}