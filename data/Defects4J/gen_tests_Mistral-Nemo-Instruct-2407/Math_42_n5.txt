public void testNegativeValueWithRestrictNonNegative() {
    LinearConstraint[] constraints = new LinearConstraint[] {
        new LinearConstraint(new double[]{1, 0}, Relationship.EQUAL, 1)
    };
    NonNegativeConstraint nnc = new NonNegativeConstraint(constraints);
    SimplexSolver solver = new SimplexSolver(false);
    solver.addConstraint(nnc);
    double[] result = solver.optimize(new double[]{1, 1, 0}, constraints, GoalType.MINIMIZE, true);
    assert (result[0] >= 0 && result[1] >= 0);
}