public void testValuedEnumCompareToTypesafety() {
    EnumA a1 = EnumA.VALUE1;
    EnumB b1 = EnumB.VALUE1;
    assertEquals(0, a1.compareTo(b1));
    assertNotSame(a1, b1);
}

enum EnumA extends ValuedEnum {
    VALUE1(1);

    private final int value;
    EnumA(int value) {
        super(value);
        this.value = value;
    }
}

enum EnumB extends ValuedEnum {
    VALUE1(1);

    private final int value;
    EnumB(int value) {
        super(value);
        this.value = value;
    }
}