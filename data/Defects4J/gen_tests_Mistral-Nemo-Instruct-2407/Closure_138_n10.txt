public void testJSCDeterministicTest() {
    // Arrange
    String code = "// ==ClosureCompiler==\n" +
                  "// @output_file_name default.js\n" +
                  "// @compilation_level ADVANCED_OPTIMIZATIONS\n" +
                  "==/ClosureCompiler==\n" +
                  "var t = null;" +
                  "window.test = function() {" +
                  "  if (t!= null) {" +
                  "    t = null;" +
                  "  }" +
                  "  t = 1;" +
                  "};";
    // Act
    boolean hasWarning = false;
    try {
        Compiler compiler = new Compiler();
        compiler.compile(code);
    } catch (CompilerException e) {
        hasWarning = e.getMessage().contains("JSC_DETERMINISTIC_TEST");
    }
    // Assert
    assertTrue(hasWarning);
}