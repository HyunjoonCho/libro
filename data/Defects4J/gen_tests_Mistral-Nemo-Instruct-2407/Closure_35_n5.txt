public void testBugReport() {
    Object result = func(true, false);
    assertEquals("prop3", result.get("prop3"));
    assertNull(result.get("prop1"));
    assertNull(result.get("prop2"));
}