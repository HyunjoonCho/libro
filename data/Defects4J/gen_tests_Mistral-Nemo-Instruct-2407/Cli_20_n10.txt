public void testPosixParserFailsOnUnrecognizedLongOption() {
    Options options = new Options();
    options.addOption("a", false, null);
    options.addOption("b", true, null);

    String[] args = {"--zop", "-abfoo"};
    PosixParser parser = new PosixParser();
    try {
        parser.parse(options, args);
        fail("Expected ParseException for unrecognized long option");
    } catch (ParseException e) {
        assertEquals("Unexpected argument: zop", e.getMessage());
        assertEquals(1, parser.getRemaining().length);
        assertEquals("foo", parser.getRemaining()[0]);
    }
}