public void testLargeIso8601DatesSerialization() throws Exception {
    StdDateFormat formatter = new StdDateFormat();
    assertEquals("9999-12-31T23:59:59.999+0000", formatter.format(new Date(Long.MAX_VALUE)));
    assertEquals("10000-12-31T23:59:59.999+0000", formatter.format(new Date(Long.MAX_VALUE + 1)));
    try {
        formatter.parse("10000-12-31T23:59:59.999+0000");
        fail("Expected IndexOutOfBoundsException for years > 9999");
    } catch (IndexOutOfBoundsException e) {
        // expected
    }
}