public void testLocaleChange() {
    Locale savedLocale = Locale.getDefault();
    try {
        Locale.setDefault(Locale.GERMANY);
        FastDateFormat dateInstance = FastDateFormat.getDateInstance();
        assertEquals("dd.MM.yyyy", dateInstance.toPattern());
        Locale.setDefault(Locale.US);
        dateInstance = FastDateFormat.getDateInstance();
        assertEquals("MM/dd/yyyy", dateInstance.toPattern());
    } finally {
        Locale.setDefault(savedLocale);
    }
}