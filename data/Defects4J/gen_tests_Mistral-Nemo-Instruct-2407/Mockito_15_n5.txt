public void testArgumentCaptorVarargs() {
    ArgumentCaptor<int[]> captor = ArgumentCaptor.forClass(int[].class);
    myMethodThatTakesVarargs(1, 2, 3);
    verify(myMock).myMethodThatTakesVarargs(captor.capture());
    assertEquals(new int[]{1, 2, 3}, captor.getValue());
}