public void testVehicleAdapterException() {
    // given
    Vehicle vehicle = new Truck();
    when(jsonMapper.readValue(jsonString, Vehicle.class)).thenReturn(vehicle);

    // when
    try {
        vehicleService.decodeVehicle(jsonString);
    } catch (Exception e) {
        // then
        assertTrue(e instanceof InvalidCastException);
    }
}