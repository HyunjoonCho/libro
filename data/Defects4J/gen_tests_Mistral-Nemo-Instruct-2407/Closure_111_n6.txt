public void testGoogIsArrayDoesntHintCompiler() {
    String code = "/**\n" +
                  "* @param {*} object\n" +
                  "* @return {*}\n" +
                  "*/\n" +
                  "var test = function(object) {\n" +
                  "  if (goog.isArray(object)) {\n" +
                  "    /** @type {Array} */ var x = object;\n" +
                  "    return x;\n" +
                  "  }\n" +
                  "};";
    assertThrows(CompilerException.class, () -> Compiler.javac().withOptions("-AdOptimizations").compile(code));
}