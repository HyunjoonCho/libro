public void testUndefinedNamespaceAttribute() {
    String xml = "<ElementA xmlns:A=\"http://www.example.com\">"
        + "<ElementA A:myAttr=\"Mytype\">"
        + "<B:ElementB xmlns:B=\"http://www.example.com\">MY VALUE</B:ElementB>"
        + "</ElementA>"
        + "</ElementA>";
    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
    factory.setNamespaceAware(true);
    Document doc = null;
    try {
        DocumentBuilder builder = factory.newDocumentBuilder();
        doc = builder.parse(new InputSource(new StringReader(xml)));
    } catch (Exception e) {
        fail("Failed to parse XML: " + e.getMessage());
    }
    assertNotNull(doc);
    Element root = doc.getDocumentElement();
    NodeList attrs = root.getAttributes();
    assertEquals(1, attrs.getLength());
    Attr attr = (Attr) attrs.item(0);
    assertEquals("A", attr.getPrefix());
    assertEquals("myAttr", attr.getLocalName());
}