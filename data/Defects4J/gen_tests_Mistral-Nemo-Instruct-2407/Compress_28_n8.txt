public void testCorruptedTarBzip2() throws IOException {
    String archivePath = PathUtil.join(testdataDir, "test.trimmed.tar.bz2");
    TarArchiveInputStream input = new TarArchiveInputStream(new BZip2CompressorInputStream(
        GoogleFile.SYSTEM.newInputStream(archivePath), true));
    input.getNextEntry(); // This should throw IOException for a trimmed archive
}