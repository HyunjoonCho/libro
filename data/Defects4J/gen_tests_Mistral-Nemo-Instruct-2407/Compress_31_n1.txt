public void testTarArchiveInputStreamInvalidTGZFile() throws Exception {
    // Given
    String fileName = "invalid.tgz";
    String tempDirPath = "temp/";
    File tempDir = new File(tempDirPath);
    if (!tempDir.exists()) {
        tempDir.mkdir();
    }
    File file = new File(tempDir, fileName);
    FileUtils.writeByteArrayToFile(file, new byte[]{0, 5, 4, 1, 2, 10, 11, 8}); // Invalid TGZ file content

    // When
    TarArchiveInputStream tarIn = new TarArchiveInputStream(
            new GZIPInputStream(
                    new BufferedInputStream(
                            new FileInputStream(file))));

    // Then
    try {
        tarIn.getNextTarEntry(); // This should throw an exception
        fail("Expected IllegalArgumentException was not thrown");
    } catch (IllegalArgumentException e) {
        // Expected exception
    }

    // Cleanup
    tarIn.close();
    file.delete();
    tempDir.delete();
}