public void testAnonymousObjectTypeInference() {
    var func = function(record) {
        console.log(record.prop);
    };
    var func2 = function(record) {
        if (typeof record =='string') {
            console.log(record);
        } else {
            console.log(record.prop);
        }
    };
    func2({prop: 'a'}); // Expected no error, but fails with "actual parameter 1 of func2 does not match formal parameter"
}