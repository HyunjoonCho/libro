public void testPaxHeaderEndingWithSlash() throws Exception {
    byte[] tarContent = Files.readAllBytes(Paths.get("path/to/broken.tar"));
    try (TarArchiveInputStream in = new TarArchiveInputStream(new ByteArrayInputStream(tarContent))) {
        TarArchiveEntry entry;
        while ((entry = in.getNextTarEntry())!= null) {
            if (entry.getLinkName()!= null && entry.getLinkName().endsWith("/") && entry.isPaxHeader()) {
                assertFalse("isDirectory() should return false for PAX header with name ending in '/'", entry.isDirectory());
            }
        }
    }
}