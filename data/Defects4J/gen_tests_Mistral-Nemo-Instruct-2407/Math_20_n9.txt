public void testCMAESOptimizerBounds() {
    // Given
    double[] lowerBounds = {0, 0};
    double[] upperBounds = {10, 10};
    CMAESOptimizer optimizer = new CMAESOptimizer(2, lowerBounds, upperBounds);

    // When
    double[] result = optimizer.optimize(new ObjectiveFunction() {
        public double evaluate(double[] x) {
            return x[0] * x[1];
        }
    }).getParameters();

    // Then
    assertTrue("Lower bounds not enforced", result[0] >= lowerBounds[0] && result[1] >= lowerBounds[1]);
    assertTrue("Upper bounds not enforced", result[0] <= upperBounds[0] && result[1] <= upperBounds[1]);
}