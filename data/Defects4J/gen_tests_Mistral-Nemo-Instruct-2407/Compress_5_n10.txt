public void testTruncatedZipArchive() throws Exception {
    byte[] truncatedZip = {... truncated zip file bytes here... };
    InputStream in = new ByteArrayInputStream(truncatedZip);
    ZipArchiveInputStream zis = new ZipArchiveInputStream(in);
    assertEquals(0, zis.read());
    try {
        zis.read();
        fail("Expected IOException for truncated ZIP file");
    } catch (IOException e) {
        assertEquals("Truncated ZIP file", e.getMessage());
    }
}