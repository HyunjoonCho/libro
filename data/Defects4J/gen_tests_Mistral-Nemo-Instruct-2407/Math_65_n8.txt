public void testWeightInGetChiSquare() {
    AbstractLeastSquares als = new AbstractLeastSquares() {
        @Override
        public double getChiSquare() {
            return 1.0; // fixed value for testing
        }

        @Override
        public int rows() {
            return 1; // fixed value for testing
        }

        @Override
        public double[] residualsWeights() {
            return new double[] { 2.0 }; // non-trivial weight for testing
        }
    };
    assertEquals(1.0, als.getRMS(), 0.0); // expected to pass after fix
}