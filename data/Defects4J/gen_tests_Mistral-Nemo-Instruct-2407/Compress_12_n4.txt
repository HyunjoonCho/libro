public void testTarArchiveInputStreamCorruptFile() {
    byte[] corruptedTarFile = new byte[]{0, 0, 0, 0, 0, 0, 0, 0, (byte) -1, 0, 0, 0, 0, 0, 0, 0, 0};
    try (TarArchiveInputStream tis = new TarArchiveInputStream(new ByteArrayInputStream(corruptedTarFile))) {
        tis.getNextTarEntry();
        fail("Expected IOException was not thrown");
    } catch (IOException ex) {
        // expected
    }
}