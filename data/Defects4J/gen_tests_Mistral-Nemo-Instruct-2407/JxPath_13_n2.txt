public void testUndefinedNamespaceAttribute() {
    String xml = "<ElementA xmlns:A=\"http://www.example.com\">\n" +
                 "    <A:myAttr>Mytype</A:myAttr>\n" +
                 "    <B:ElementB xmlns:B=\"http://www.example.com\">MY VALUE</B:ElementB>\n" +
                 "</ElementA>";
    try {
        DocumentBuilder.parse(new InputSource(new StringReader(xml)));
        fail("No exception thrown for undefined namespace prefix in attribute");
    } catch (SAXException e) {
        // expected
    }
}