public void testArgumentCaptorVarargs() {
    final MyClass myClass = mock(MyClass.class);
    ArgumentCaptor<String[]> captor = ArgumentCaptor.forClass(String[].class);
    myClass.someMethod("foo", "bar");
    verify(myClass).someMethod(captor.capture());
    assertArrayEquals(new String[]{"foo", "bar"}, captor.getValue());
}