public void testBufferReuse() {
    IOContext context = new IOContext(null);
    ByteBuffer buffer1 = ByteBuffer.allocate(10);
    ByteBuffer buffer2 = ByteBuffer.allocate(10);

    context.setBuffer(buffer1);
    assertNotSame(buffer1, context.getBuffer());

    context.setBuffer(buffer2);
    assertNotSame(buffer2, context.getBuffer());
}