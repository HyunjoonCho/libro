public void testNonSerializableFastDateFormatRules() {
    FastDateFormat format = FastDateFormat.getInstance("yyyy-MM-dd");
    ByteArrayOutputStream bout = new ByteArrayOutputStream();
    ObjectOutputStream out = new ObjectOutputStream(bout);
    out.writeObject(format);
    out.close();

    ByteArrayInputStream bin = new ByteArrayInputStream(bout.toByteArray());
    ObjectInputStream in = new ObjectInputStream(bin);
    FastDateFormat deserializedFormat = (FastDateFormat) in.readObject();
    in.close();

    assertNotEquals(format, deserializedFormat);
}