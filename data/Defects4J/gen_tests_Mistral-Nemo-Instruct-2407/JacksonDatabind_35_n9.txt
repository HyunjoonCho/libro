public void testObjectIdAndTypeIdWrapper() throws JsonMappingException, JsonProcessingException {
    ObjectMapper mapper = new ObjectMapper();
    mapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL, ObjectMapper.DefaultTyping.JAVA_LANG_OBJECT);

    MyBean bean = new MyBean();
    bean.id = "123";
    bean.type = MyBean.class;

    String json = mapper.writeValueAsString(bean);
    MyBean deserialized = mapper.readValue(json, MyBean.class);

    assertEquals(bean.id, deserialized.id);
    assertEquals(bean.type, deserialized.type);
}

class MyBean {
    String id;
    Class<?> type;
}