public void testHelpFormatterIndexOutOfBoundsException() {
    HelpFormatter formatter = new HelpFormatter();
    String text = "This is a very long string that should trigger the issue.";
    try {
        formatter.findWrapPos(text, 80);
        fail("Expected StringIndexOutOfBoundsException was not thrown");
    } catch (StringIndexOutOfBoundsException e) {
        // expected
    }
}