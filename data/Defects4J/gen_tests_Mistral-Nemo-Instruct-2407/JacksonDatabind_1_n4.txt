public void testNullDuplicationInArraySerialization() {
    ObjectMapper mapper = new ObjectMapper();
    TestOuter outer = new TestOuter();
    try {
        String json = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(outer);
        assertFalse(json.contains("[[0, null, null]]"));
    } catch (JsonProcessingException e) {
        fail("Exception while serializing: " + e.getMessage());
    }
}