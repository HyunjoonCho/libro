public void testDefaultPrettyPrinterSubclassCreation() {
    ObjectMapper mapper = new ObjectMapper();
    PrettyPrinter printer = mapper.getDefaultPrettyPrinter();

    assertTrue(printer instanceof DefaultPrettyPrinter);

    try {
        // Create instance of sub-class without overriding factory method
        DefaultPrettyPrinter subPrinter = new DefaultPrettyPrinter() {
        };

        fail("Expected IllegalArgumentException, but sub-class creation succeeded");
    } catch (IllegalArgumentException e) {
        // Expected exception
    }
}