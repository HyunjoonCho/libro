public void testCompileWithAdvancedOptimizations() {
    String jsCode = "function test() { var x = 5; goog.exportSymbol('test', test); }";
    String[] args = {"--js", "-", "--compilation_level", "ADVANCED_OPTIMIZATIONS"};
    try {
        CompilerCompiler.compile(args, jsCode);
        fail("Expected IllegalArgumentException");
    } catch (IllegalArgumentException e) {
        // expected
    }
}