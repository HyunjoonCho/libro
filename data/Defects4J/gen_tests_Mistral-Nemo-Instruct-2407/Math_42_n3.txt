public void testNegativeValueWithRestrictNonNegative() {
    LinearConstraint[] constraints = {
        new LinearConstraint(new double[]{1.0, 0.0}, Relationship.EQUAL, 1.0)
    };
    NonNegativeConstraint nnc = new NonNegativeConstraint();
    nnc.setIncludeLowerBound(true);
    nnc.setIncludeUpperBound(true);
    SimplexSolver solver = new SimplexSolver();
    double[] result = solver.optimize(
        new SimpleFunction(new double[]{1.0, 1.0, 0.0}),
        constraints,
        GoalType.MINIMIZE,
        true,
        nnc
    );
    assertEquals(1.0, result[0], 1e-6);
    assertEquals(0.0, result[1], 1e-6);
}