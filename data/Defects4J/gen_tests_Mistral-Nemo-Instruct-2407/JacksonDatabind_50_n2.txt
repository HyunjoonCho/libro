public void testJsonIdentityInfoDeserializationFail() {
    ObjectMapper mapper = new ObjectMapper();
    mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);
    mapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);
    Object deserialized = mapper.readValue("{ \"@type\": \"com.example.Circle\", \"radius\": 5, \"center\": { \"@type\": \"com.example.Circle\", \"radius\": 3, \"center\": { \"@type\": \"com.example.Circle\", \"radius\": 1 } } }", Object.class);
    assertEquals(Circle.class, deserialized.getClass());
    Circle circle = (Circle) deserialized;
    assertEquals(5, circle.radius);
    assertEquals(Circle.class, circle.center.getClass());
    assertEquals(3, ((Circle) circle.center).radius);
    assertEquals(Circle.class, ((Circle) circle.center).center.getClass());
    assertEquals(1, ((Circle) ((Circle) circle.center).center).radius);
}