public void testThreadLocalLeak() {
    ToStringStyle style = new ToStringStyle();
    style.setUseShortClassName(false);
    style.setUseIdentityHashCode(false);
    style.setNullText("null");
    style.setContentStart("(");
    style.setContentEnd(")");
    style.setFieldSeparator(", ");

    style.setNullText("null");
    style.setUseShortClassName(false);
    style.setUseIdentityHashCode(false);

    style.setContentStart("{");
    style.setContentEnd("}");
    style.setFieldSeparator(", ");

    // Simulate webapp reload by creating a new thread
    new Thread(() -> {
        ToStringStyle anotherStyle = new ToStringStyle();
    }).start();
}