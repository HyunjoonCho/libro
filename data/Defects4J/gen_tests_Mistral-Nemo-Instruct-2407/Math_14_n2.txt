public void testLargeWeights() {
    double[] weights = new double[41200];
    Arrays.fill(weights, 1.0);
    PolynomialCurveFitter fitter = PolynomialCurveFitter.create(5);
    try {
        fitter.fit(weights, new double[41200]);
        fail("Expected OutOfMemoryError");
    } catch (OutOfMemoryError e) {
        // Expected
    }
}