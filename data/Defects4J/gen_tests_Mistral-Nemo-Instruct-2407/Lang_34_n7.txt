public void testThreadLocalsLeak() {
    // Create a web application context
    mockApplicationContext();

    // Access a class that uses ToStringStyle, triggering the loading of ToStringStyle class
    new MyObject();

    // Reload the web application
    reloadWebApplication();

    // Verify that there is a memory leak
    assertMemoryLeakDetected();
}