public void testAllowConvenientSpyingOnAbstractClasses() {
    UserAccount userAccount = mock(UserAccount.class);
    when(userAccount.addEmail("test@email.com")).thenAnswer(invocation -> {
        List<String> emails = userAccount.getEmails();
        emails.add("test@email.com");
        return null;
    });
    assertEquals(List.of("test@email.com"), userAccount.getEmails());
}