public void testTruncatedZipFile() {
    try {
        ZipInputStream zis = new ZipInputStream(new FileInputStream("path/to/truncated.zip"));
        ZipEntry ze = zis.getNextEntry();
        byte[] buffer = new byte[1024];
        while (zis.read(buffer)!= -1) {}
        zis.closeEntry();
        zis.close();
    } catch (IOException e) {
        // Expecting an IOException, but instead, get a java.io.EOFException with a lot of byte[] data in the error message
        fail("Expected IOException, but got " + e.getClass().getName());
    }
}