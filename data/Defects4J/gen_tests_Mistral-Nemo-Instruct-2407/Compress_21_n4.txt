public void testEmptyFilesArchive() throws Exception {
    File tempDir = createTempDir();
    try {
        for (int i = 0; i < 8; i++) {
            createEmptyFile(tempDir, "file" + i);
        }
        createArchive(tempDir, "emptyFiles.7z");
        assertTrue("Archive should not be corrupt", isArchiveValid("emptyFiles.7z"));
    } finally {
        deleteTempDir(tempDir);
    }
}