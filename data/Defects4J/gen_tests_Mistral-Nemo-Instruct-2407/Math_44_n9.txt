public void testEventHandlingBug() {
    EventHandler handler = new EventHandler();
    handler.addEvent("event1");
    handler.addEvent("event2");

    handler.handleEvent("event1"); // This should reset the state but not complete
    handler.handleEvent("event2"); // This should fail to find its way

    // Assert that event2 fails to handle due to incomplete reinitialization
    assertFalse(handler.isHandled("event2"));
}