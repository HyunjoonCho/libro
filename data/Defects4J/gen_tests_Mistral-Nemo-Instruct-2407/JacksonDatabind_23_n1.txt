public void testNonEmptyExclusionWithIntsAndStrings() {
    ObjectMapper mapper = new ObjectMapper();
    mapper.setSerializationInclusion(Include.NON_EMPTY);
    int intValue = 42;
    String stringValue = "non empty string";
    assertEquals(42, mapper.writeValueAsInt(intValue));
    assertEquals("non empty string", mapper.writeValueAsString(stringValue));
}