public void testBlockC3p0Gadgets() {
    try {
        ObjectMapper mapper = new ObjectMapper();
        mapper.setVisibility(mapper.getSerializationConfig().getDefaultVisibilityChecker()
               .withFieldVisibility(JsonAutoDetect.Visibility.ANY)
               .withGetterVisibility(JsonAutoDetect.Visibility.NONE)
               .withIsGetterVisibility(JsonAutoDetect.Visibility.NONE)
               .withSetterVisibility(JsonAutoDetect.Visibility.NONE));
        // Test fails if c3p0 classes are not blocked
        mapper.readValue("{\"@class\": \"org.apache.commons.dbcp2.BasicDataSource\"}", Object.class);
        fail("Expected IllegalArgumentException not thrown");
    } catch (IllegalArgumentException e) {
        // Expected behavior
    } catch (Exception e) {
        fail("Unexpected exception thrown: " + e.getClass().getName());
    }
}