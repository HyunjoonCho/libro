public void testCSVPrinterHeader() throws IOException {
    try (CSVPrinter csvPrinter = CSVFormat.TDF.withHeader("x").print(Files.newBufferedWriter(Paths.get("data.csv")))) {
        csvPrinter.printRecord(42);
    }
    List<String> lines = Files.readAllLines(Paths.get("data.csv"));
    assertEquals(2, lines.size());
    assertEquals("x", lines.get(0));
    assertEquals("42", lines.get(1));
}