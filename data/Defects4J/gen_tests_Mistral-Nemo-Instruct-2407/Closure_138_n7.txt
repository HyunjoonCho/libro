public void testInvalidJSCDeterministicTest() {
    final String code = "// ==ClosureCompiler==\n" +
        "// @output_file_name default.js\n" +
        "// @compilation_level ADVANCED_OPTIMIZATIONS\n" +
        "==/ClosureCompiler==\n" +
        "var t = null;\n" +
        "\n" +
        "window.test = function()\n" +
        "{\n" +
        " if (t!= null)\n" +
        " {\n" +
        " t = null;\n" +
        " }\n" +
        "\n" +
        " t = 1;\n" +
        "};\n";
    try (InputStream inputStream = new ByteArrayInputStream(code.getBytes())) {
        Compiler compiler = new Compiler();
        compiler.compile(inputStream);
        fail("Expected 'JSC_DETERMINISTIC_TEST: condition always evaluates to false' warning");
    } catch (Exception e) {
        assertTrue(e.getMessage(), e.getMessage().contains("JSC_DETERMINISTIC_TEST: condition always evaluates to false"));
    }
}