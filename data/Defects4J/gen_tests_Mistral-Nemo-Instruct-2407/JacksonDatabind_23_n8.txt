public void testNonEmptyExclusionWithIntsAndStrings() {
    ObjectMapper mapper = newObjectMapper();
    mapper.setSerializationInclusion(JsonInclude.Include.NON_EMPTY);
    String json = mapper.writeValueAsString(new Object[] { 0, "", null, "foo" });
    assertEquals("[0,\"\",null,\"foo\"]", json);
}