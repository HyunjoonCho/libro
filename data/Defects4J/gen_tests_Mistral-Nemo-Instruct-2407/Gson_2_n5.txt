public void testDecodeVehicleAsCar() {
    Vehicle vehicle = new Car("Toyota", "Corolla");
    String json = "{ \"make\": \"Toyota\", \"model\": \"Corolla\", \"type\": \"Truck\" }";
    try {
        Vehicle decodedVehicle = vehicle.getClass().getMethod("decodeFromJson", String.class).invoke(vehicle, json);
        fail("Expected ClassCastException was not thrown");
    } catch (ClassCastException e) {
    } catch (Exception e) {
        fail("Unexpected exception thrown: " + e.getClass().getName());
    }
}