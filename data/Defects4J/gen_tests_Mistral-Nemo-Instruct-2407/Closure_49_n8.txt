public void testBugWithFunctionAssignment() {
    String code = "var foo = function bar(){ var bar; alert(bar) };";
    Compiler compiler = new Compiler();
    compiler.compile(code, CompilerOptions.getDefault().setOptimizationLevel(2));
    assertEquals("var foo = function() { alert(void 0) };", compiler.getOutput());
}