public void testLongDirectoryName() {
    String longDirectoryName = "/path/to/very/long/directory/name/that/exceeds/100/bytes/with/additional/characters/that/should/cause/an/error";
    TarArchiveOutputStream out = new TarArchiveOutputStream(new ByteArrayOutputStream());
    try {
        out.putArchiveEntry(new TarArchiveEntry(longDirectoryName));
        fail("Expected IOException was not thrown");
    } catch (IOException e) {
        // expected
    } finally {
        out.close();
    }
}