public void testEnumDeserializationFailure() throws Exception {
    String json = "{\"kind\": \"CONTACT\", \"to\": {\"name\": \"Foo\"}}";
    ObjectMapper mapper = new ObjectMapper();
    mapper.registerModule(new KotlinModule());
    mapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);
    mapper.addMixIn(Enum.class, ExternalEnumMixIn.class);
    Contact contact = mapper.readValue(json, Contact.class);
    assertEquals("Foo", contact.getTo().getName());
    assertEquals(Contact.Kind.CONTACT, contact.getKind());
}