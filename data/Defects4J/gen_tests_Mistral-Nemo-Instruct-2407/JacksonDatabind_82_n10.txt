public void testJsonIgnorePropertiesAllowSetters() {
    ObjectMapper mapper = new ObjectMapper();
    JsonTest json = new JsonTest("user", "password");
    try {
        String jsonString = mapper.writeValueAsString(json);
        assertTrue(jsonString.contains("\"password\":\"password\""));
    } catch (JsonProcessingException e) {
        e.printStackTrace();
    }

    String invalidJsonString = "{ \"username\":\"username\",\"password\":\"password\" }";
    try {
        json = mapper.readValue(invalidJsonString, JsonTest.class);
        assertNull(json.getPassword());
    } catch (IOException e) {
        e.printStackTrace();
    }
}