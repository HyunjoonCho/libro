public void testInvalidForInAssignment() {
    String code = "window.Foo = function(A, B, C, D) { if ( A ) { if ( B ) { C = 0; } else { C = 0 in D; } while ( C-- ) {} } }";
    try {
        assertTrue("Compilation should fail with a SyntaxError",
            compiler.compile(code).hasErrors());
    } catch (Exception e) {
        fail("Compilation should not throw an exception");
    }
}