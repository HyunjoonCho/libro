public void testDefaultImplProperties() {
    ObjectMapper objectMapper = new ObjectMapper();
    Base base = new Base();
    Derived derived = new Derived();

    base.commonProperty = "base";
    derived.commonProperty = "derived";
    derived.derivedProperty = "derived";

    objectMapper.setDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL, ObjectMapper.DefaultTyping.DATA);
    String json = objectMapper.writeValueAsString(derived);

    Base readBase = objectMapper.readValue(json, Base.class);
    assertEquals("derived", readBase.commonProperty);
    assertEquals(null, readBase.derivedProperty);
}