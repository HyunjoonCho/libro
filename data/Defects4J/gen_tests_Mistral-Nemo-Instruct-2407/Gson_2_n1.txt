public void testDecodeJSONWithTypeHierarchyAdapter() {
    // Given
    Vehicle vehicle = new Car();
    String json = "{\"type\": \"truck\", \"brand\": \"Ford\"}";
    TypeAdapter<Vehicle> adapter = new VehicleTypeAdapter();

    // When
    try {
        adapter.decode(json, vehicle);
        fail("Expected RuntimeException to be thrown");
    } catch (RuntimeException e) {
        // Then
        assertEquals("Cannot deserialize instance of `com.example.Car` out of START_OBJECT token", e.getMessage());
    }
}