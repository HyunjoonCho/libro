public void testInvalidTGZFile() throws IOException {
    File file = new File("path/to/invalid.tgz");
    try (TarArchiveInputStream tarIn = new TarArchiveInputStream(
            new GZIPInputStream(
                    new BufferedInputStream(
                            new FileInputStream(file)))) {
        TarArchiveEntry entry = tarIn.getNextTarEntry();
        assertNull(entry); // Expecting an IOException before reaching here
    } catch (IOException e) {
        // Expected exception
        assertTrue(e.getMessage().contains("Error detected parsing the header"));
    }
}