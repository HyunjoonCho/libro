public void testArgumentCaptorVarargs() {
    final MyClass mock = mock(MyClass.class);
    ArgumentCaptor<String[]> captor = ArgumentCaptor.forClass(String[].class);
    verify(mock).myMethod(captor.capture());
    assertEquals("arg1", captor.getValue()[0]);
}