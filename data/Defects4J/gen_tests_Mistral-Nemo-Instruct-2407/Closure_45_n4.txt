public void testAssignmentInArrayPush() {
    String code = "function f() { var a = [], b; a.push(b = []); b[0] = 1; return a; }";
    assertEquals("[f]", code.replaceAll("b =", "").trim());
}