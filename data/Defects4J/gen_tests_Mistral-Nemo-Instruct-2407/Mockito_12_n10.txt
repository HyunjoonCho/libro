public void testArgumentCaptorVarargs() {
    final ArgumentCaptor<String[]> captor = ArgumentCaptor.forClass(String[].class);
    SomeClass someClass = mock(SomeClass.class);
    someClass.someMethod("hello", "world");
    verify(someClass).someMethod(captor.capture());
    assertEquals(2, captor.getValue().length);
    assertEquals("hello", captor.getValue()[0]);
    assertEquals("world", captor.getValue()[1]);
}