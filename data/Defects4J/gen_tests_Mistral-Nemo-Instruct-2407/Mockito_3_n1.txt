public void testArgumentCaptorVarargs() {
    // Given
    ArgumentCaptor<int[]> captor = ArgumentCaptor.forClass(int[].class);

    // When
    someMethodThatTakesVarargs(1, 2, 3);

    // Then
    // This line should throw an exception, but it doesn't in the bug report
    verify(someMock).someMethod(captor.capture());

    // This line should also throw an exception, but it doesn't in the bug report
    assertThat(captor.getValue()).contains(1, 2, 3);
}