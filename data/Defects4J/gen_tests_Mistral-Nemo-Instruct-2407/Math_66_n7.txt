public void testBrentOptimizerBug() {
    BrentOptimizer optimizer = new BrentOptimizer();
    double result = optimizer.minimize(new Function() {
        public double evaluate(double x) {
            return Math.sin(x);
        }
    }, 0, Math.PI / 2);
    assertEquals(Math.PI / 2, result, 1e-6);
}