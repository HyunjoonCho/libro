public void testBufferReuse() {
    ByteBuffer buffer1 = ByteBuffer.allocate(10);
    IOContext context = new IOContext(null, buffer1);
    byte[] newBuffer = new byte[10];
    ByteBuffer buffer2 = ByteBuffer.wrap(newBuffer);

    // Simulate a case where a new buffer is returned instead of increasing the size of the existing one
    context.setBuffer(buffer2);

    // Assert that the code does not throw an exception, as the bug report suggests that it should be legal to return another buffer with similar size
    assertNotNull(context.getBuffer());
}