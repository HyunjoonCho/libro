public void testToggleQuoteFieldNames() {
    JsonFactory jsonFactory = new JsonFactory();
    jsonFactory.getJsonGeneratorFeatures().configure(JsonGenerator.Feature.QUOTE_FIELD_NAMES, true);

    try (JsonGenerator jsonGenerator = jsonFactory.createJsonGenerator(new StringWriter())) {
        jsonGenerator.writeStartObject();
        jsonGenerator.writeStringField("name", "value");
        jsonGenerator.writeEndObject();
    } catch (IOException e) {
        // This should not throw an exception as QUOTE_FIELD_NAMES is enabled
        e.printStackTrace();
    }

    jsonFactory.getJsonGeneratorFeatures().configure(JsonGenerator.Feature.QUOTE_FIELD_NAMES, false);

    try (JsonGenerator jsonGenerator = jsonFactory.createJsonGenerator(new StringWriter())) {
        jsonGenerator.writeStartObject();
        jsonGenerator.writeStringField("name", "value");
        jsonGenerator.writeEndObject();
    } catch (IOException e) {
        // This should throw an exception as QUOTE_FIELD_NAMES is disabled but still trying to write a field with a name
        e.printStackTrace();
    }
}