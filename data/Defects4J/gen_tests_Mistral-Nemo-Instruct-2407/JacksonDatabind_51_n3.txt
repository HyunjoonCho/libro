public void testGenericTypeResolver() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    mapper.enable(SerializationFeature.INDENT_OUTPUT);
    mapper.getDeserializationConfig().withTypeResolverBuilder(new CustomTypeResolverBuilder());
    String json = mapper.writeValueAsString(new GenericBean<String>("test"));
    GenericBean<String> bean = mapper.readValue(json, GenericBean.class);
    assertEquals("test", bean.getValue());
}