public void testTruncatedError() throws Exception {
    String[] args = {"--warning_level", "VERBOSE", "test.js"};
    System.setIn(new FileInputStream("test.js"));
    MyCompiler.main(args);
    String output = System.out.toString();
    assertTrue(output.contains("test.js:2: ERROR - variable bar is undefined"));
}