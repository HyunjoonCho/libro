public void testGoogScopeDeclaration() {
    try {
        String code = "goog.scope(function() { var x = function(){}; });";
        assertTrue("Expected a compilation error", compiler.isErrorPresent(code));
    } catch (Exception e) {
        fail("Unexpected exception: " + e.getMessage());
    }
}