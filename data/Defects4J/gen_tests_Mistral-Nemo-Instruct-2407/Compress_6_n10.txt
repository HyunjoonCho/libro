public void testCorruptedZipWithHashCollision() {
    ZipOutputStream zos = new ZipOutputStream(new FileOutputStream("test.zip"));
    for (int i = 0; i < 1000; i++) {
        ZipArchiveEntry ze = new ZipArchiveEntry("file" + i + ".txt");
        ze.setSize(0);
        zos.putNextEntry(ze);
        zos.closeEntry();
    }
    zos.close();

    // Verify the zip file is corrupted and fails to unzip
    assertTrue("Zip file is corrupted",!ZipUtils.unzipAndValidate("test.zip"));
}