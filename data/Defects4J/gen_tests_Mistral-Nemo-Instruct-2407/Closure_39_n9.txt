public void testTypedefExternExportIssue() {
    String source = "@typedef {string=} AliasedStringType;\n"
        + "var x = new AliasedStringType('test');\n"
        + "externs: [\n"
        + "  var AliasedStringType = function(a) {};\n"
        + "]";

    String externExport = ClosureCompiler.compile(source, CompilerOptions.createForCaja())
       .getLastResult().getExternExport();

    assertTrue(externExport, externExport.contains("AliasedStringType"));
}