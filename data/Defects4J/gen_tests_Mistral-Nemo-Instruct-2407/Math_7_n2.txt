public void testResetStateEventOrder() {
    ODESolver odeSolver = new ODESolver();
    EventHandler eventHandler1 = new EventHandler() {
        @Override
        public void eventOccurred(double t, double[] y) {
            if (t == 1.0) {
                odeSolver.resetState();
            }
        }
    };
    EventHandler eventHandler2 = new EventHandler() {
        @Override
        public void eventOccurred(double t, double[] y) {
            if (t == 2.0) {
                // This should not be called with the wrong y values
                assertTrue(y.length == 1 && Math.abs(y[0]) < 1.0);
            }
        };
    };
    odeSolver.addEventHandler(eventHandler1);
    odeSolver.addEventHandler(eventHandler2);
    odeSolver.solve(0.0, 3.0, 0.1);
}