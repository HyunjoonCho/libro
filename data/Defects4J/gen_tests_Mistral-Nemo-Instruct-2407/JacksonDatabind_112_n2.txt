public void testStringCollectionDeserialization() {
    String json = "{\"prop\": [\"a\", \"b\", \"c\"]}";
    MyObject obj = new MyObject();
    obj.setProp(new CustomStringCollection());
    try {
        new ObjectMapper().readValue(json, obj);
        fail("Deserialization should have failed");
    } catch (JsonMappingException e) {
        assertTrue(e.getMessage().contains("Cannot construct instance of `CustomStringCollection`"));
    }
}

class MyObject {
    private CustomStringCollection prop;

    public CustomStringCollection getProp() {
        return prop;
    }

    public void setProp(CustomStringCollection prop) {
        this.prop = prop;
    }
}

class CustomStringCollection extends AbstractCollection<String> {
    public CustomStringCollection() {
        super(new ImmutableCustomStringCollection());
    }
}

class ImmutableCustomStringCollection extends AbstractCollection<String> {
    // implementation details
}