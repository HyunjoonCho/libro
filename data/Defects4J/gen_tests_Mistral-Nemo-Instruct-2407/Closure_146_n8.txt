public void testBadTypeInference() {
    function g(x) {}
    function f(x) {
        if (x!= undefined) { g(x); }
    }
    f(undefined); // This should not throw a type mismatch error
}