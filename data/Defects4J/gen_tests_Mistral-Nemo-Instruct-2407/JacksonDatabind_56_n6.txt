public void testDeserializeLocaleRFC5646() {
    Locale expected = Locale.forLanguageTag("en-US");
    String serialized = "en_US";
    ObjectMapper objectMapper = new ObjectMapper();
    objectMapper.registerModule(new JavaTimeModule());
    try {
        Locale deserialized = objectMapper.readValue(serialized, Locale.class);
        assertEquals(expected, deserialized);
    } catch (IOException e) {
        fail("Exception while deserializing locale: " + e.getMessage());
    }
}