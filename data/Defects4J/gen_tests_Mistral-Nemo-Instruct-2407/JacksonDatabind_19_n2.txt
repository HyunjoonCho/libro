public void testPropertiesCoercion() {
    Properties props = new Properties();
    props.setProperty("key", 123);

    ObjectMapper mapper = new ObjectMapper();
    mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);

    try {
        mapper.writeValueAsString(props);
        fail("Expected an exception to be thrown");
    } catch (JsonMappingException e) {
        // expected
    }
}