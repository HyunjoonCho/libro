public void testUndefinedNamespaceAttribute() {
    String xml = "<ElementA A:myAttr=\"Mytype\"><B:ElementB>MY VALUE</B:ElementB></ElementA>";
    Document doc = DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(new InputSource(new StringReader(xml)));
    DOMNodePointer pointer = new DOMNodePointer(doc);
    try {
        pointer.createAttribute(doc.createElement("ElementA"), "A:myAttr", "Mytype");
        fail("Expected exception for undefined namespace");
    } catch (DOMException e) {
        assertEquals(DOMException.NAMESPACE_ERR, e.getCode());
    }
}