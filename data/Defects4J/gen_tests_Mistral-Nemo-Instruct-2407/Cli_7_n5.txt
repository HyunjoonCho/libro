public void testRequiredOptions() {
    CommandLineParser parser = new PosixParser();
    Options options = new Options();
    options.addRequiredOption("h");
    try {
        parser.parse(options, new String[]{"-c", "arg"});
        fail("Expected exception for missing required option '-h'");
    } catch (ParseException ex) {
        assertEquals("[-h]", ex.getMessage());
    }
}