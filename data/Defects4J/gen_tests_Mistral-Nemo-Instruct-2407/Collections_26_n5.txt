public void testMultiKeySubclassDeserialization() throws IOException, ClassNotFoundException {
    class MultiKey2<A, B> extends MultiKey<A, B> {
        private static final long serialVersionUID = 1L;
        public MultiKey2(A key1, B key2) {
            super(key1, key2);
        }
    }
    MultiKey2<String, String> one = new MultiKey2<>("key1", "key2");
    ByteArrayOutputStream out = new ByteArrayOutputStream();
    ObjectOutputStream objOut = new ObjectOutputStream(out);
    objOut.writeObject(one);
    objOut.close();
    ByteArrayInputStream in = new ByteArrayInputStream(out.toByteArray());
    ObjectInputStream objIn = new ObjectInputStream(in);
    MultiKey2<String, String> two = (MultiKey2<String, String>) objIn.readObject();
    assertEquals(one.hashCode(), two.hashCode());
}