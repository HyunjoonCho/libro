public void testIOUtilsSkipWithCipherInputStream() throws Exception {
    try (InputStream in = new CipherInputStream(new ByteArrayInputStream(new byte[1024]))) {
        long numToSkip = 1024;
        long skipped = IOUtils.skip(in, numToSkip);
        assertTrue("Skipped 0 bytes but expected to skip more", skipped < numToSkip);
    }
}