public void testNegativeValueWithRestrictNonNegative() {
    // given
    LinearConstraint[] constraints = {new LinearConstraint(new double[]{1, 0}, Relationship.EQUAL, 1)};
    NonNegativeConstraint nonNegativeConstraint = new NonNegativeConstraint();
    SimpleToRealFunction function = new SimpleToRealFunction(new double[]{1, 1, 0}, 0);

    // when
    NonlinearOptimizer optimizer = new SimplexSolver();
    PointValuePair result = optimizer.optimize(function, constraints, GoalType.MINIMIZE, true);

    // then
    assertEquals(1, result.getPoint()[0], 0);
    assertEquals(-1, result.getPoint()[1], 0);
}