public void testCorruptTarFile() {
    byte[] corruptBytes = new byte[] { /* fill with corrupt data */ };
    ByteArrayInputStream bis = new ByteArrayInputStream(corruptBytes);
    TarArchiveInputStream tais = new TarArchiveInputStream(bis);
    try {
        tais.getNextEntry();
        fail("Expected IllegalArgumentException was not thrown");
    } catch (IllegalArgumentException e) {
        fail("TarArchiveInputStream should wrap IllegalArgumentException in IOException");
    } catch (IOException e) {
        // expected
    } finally {
        try {
            tais.close();
        } catch (IOException e) {
            // ignore
        }
    }
}