public void testNullRootWithConfig() {
    XmlSerializerProvider prov = new XmlSerializerProvider();
    prov.setRootName("customRoot");
    ObjectMapper mapper = new XmlMapper(prov);
    try {
        mapper.writeValue(new StringWriter(), null);
        fail("Expected IllegalArgumentException");
    } catch (IllegalArgumentException e) {
        // Expected
    }
}