public void testEncodingPassThrough() throws Exception {
    String encoding = "UTF-8";
    ArchiveStreamFactory factory = new ArchiveStreamFactory();

    try (ArjArchiveInputStream input = factory.createArjArchiveInputStream(new ByteArrayInputStream(new byte[0]), encoding)) {
        fail("Expected IOException for unsupported encoding");
    } catch (IOException e) {
        // expected
    }

    try (JarArchiveOutputStream output = factory.createJarArchiveOutputStream(new ByteArrayOutputStream(), encoding)) {
        fail("Expected IOException for unsupported encoding");
    } catch (IOException e) {
        // expected
    }
}