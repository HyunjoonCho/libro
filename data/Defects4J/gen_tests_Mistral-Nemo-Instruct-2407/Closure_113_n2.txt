public void testRequireCallProcessing() {
    // Setup
    Mockito.when(requiresLevel.isOn()).thenReturn(false);
    ProcessClosurePrimitives pass = new ProcessClosurePrimitives(requiresLevel);

    // Test with valid require symbol
    RequireCall requireCall = new RequireCall("valid_symbol");
    pass.processRequireCall(requireCall);

    // Verify that valid require call is not removed
    verify(requireCall, never()).remove();

    // Test with invalid require symbol
    requireCall = new RequireCall("invalid_symbol");
    pass.processRequireCall(requireCall);

    // Verify that invalid require call is collected for error reporting
    verify(pass, times(1)).addInvalidRequireSymbol("invalid_symbol");
}