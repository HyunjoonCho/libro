public void testThisAssignmentWarning() {
    String code = "..."; // Insert the provided code here
    assertTrue("Should get two warnings", compiler.getMessages().stream()
       .anyMatch(msg -> msg.getSeverity() == Message.WARNING && msg.getMessage().contains("dangerous use of the global this object")));
    assertFalse("Should not get a warning for readMethodWithAnnotation", compiler.getMessages().stream()
       .anyMatch(msg -> msg.getSeverity() == Message.WARNING && msg.getMessage().contains("readMethodWithAnnotation")));
}