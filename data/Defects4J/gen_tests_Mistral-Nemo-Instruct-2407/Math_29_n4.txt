public void testEbeMultiplyWithNanOrInfinity() {
    RealVector v = new OpenMapRealVector(new double[]{Double.NaN, Double.POSITIVE_INFINITY, 2.0});
    RealVector w = new OpenMapRealVector(new double[]{1.0, 2.0, 3.0});
    RealVector result = w.ebeMultiply(v);
    assertEquals(Double.NaN, result.getEntry(0), 0.0);
    assertEquals(Double.NEGATIVE_INFINITY, result.getEntry(1), 0.0);
    assertEquals(6.0, result.getEntry(2), 0.0);
}