public void testLongDirectoryNameInTar() {
    String longDirName = "a".repeat(101) + "/";
    try (TarArchiveOutputStream tarOut = new TarArchiveOutputStream(new ByteArrayOutputStream())) {
        tarOut.putArchiveEntry(new TarArchiveEntry(longDirName));
        fail("Expected IOException to be thrown");
    } catch (IOException ex) {
        // Expected exception
    }
}