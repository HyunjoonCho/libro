public void testGetLegendItems_NPE() {
    AbstractCategoryItemRenderer renderer = new AbstractCategoryItemRenderer() {
        @Override
        public CategoryDataset getDataset(int index) {
            return null;
        }
    };
    assertThrows(NullPointerException.class, () -> renderer.getLegendItems());
}