public void testTarArchiveInputStreamBug() throws Exception {
    byte[] header = "000000000000000000007573722e696e6669636174696f6e2e74720000000000".getBytes();
    byte[] uidHeader = "gid".getBytes();
    byte[] uidValue = "4294967294".getBytes(); // uid >= 0x80000000

    InputStream in = new ByteArrayInputStream(Arrays.concatenate(header, uidHeader, uidValue));
    TarArchiveInputStream tarIn = new TarArchiveInputStream(in);

    try {
        TarArchiveEntry entry = tarIn.getNextTarEntry();
        fail("Expected NumberFormatException");
    } catch (NumberFormatException e) {
        // expected
    }
}