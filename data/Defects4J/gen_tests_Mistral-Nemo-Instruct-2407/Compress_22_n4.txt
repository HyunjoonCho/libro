public void testReadTruncatedFile() throws Exception {
    byte[] compressedData = new byte[] {...}; // truncated data from CPython's test_read_truncated
    try (InputStream in = new BZip2CompressorInputStream(new ByteArrayInputStream(compressedData))) {
        byte[] buffer = new byte[1024];
        int bytesRead = in.read(buffer);
        assertEquals(770, bytesRead); // should throw AssertionError under Jython
    }
}