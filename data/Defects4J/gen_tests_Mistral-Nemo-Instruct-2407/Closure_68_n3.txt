public void testInvalidTypeFunctionAnnotation() {
    String jsCode = "/**\n"
        + " * @type function\n"
        + " */\n"
        + "var callback;";
    try (PrintStream out = new PrintStream(new OutputStream() {
        @Override
        public void write(int b) throws IOException {
            throw new IOException("Unexpected end of file");
        }
    })) {
        JsCompiler.compile(jsCode, out);
    } catch (IOException e) {
        assertEquals("test.js:3: WARNING - Parse error. Unexpected end of file\n */\n ^", e.getMessage());
    }
}