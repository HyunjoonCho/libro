public void testArbitraryRemoteCodeExecution() {
    ArrayList<String> list = new ArrayList<>();
    list.add("foo");
    InvokerTransformer transformer = new InvokerTransformer("toArray", new Class<?>[] {Object[].class}, new Object[] {});
    list.add(transformer);

    Object[] array = (Object[]) list.toArray();
    transformer.invoke(array[1]);
}