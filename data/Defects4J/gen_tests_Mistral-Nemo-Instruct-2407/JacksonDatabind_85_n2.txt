public void testDateFormatOverride() {
    ObjectMapper mapper = new ObjectMapper();
    mapper.setDateFormat(new SimpleDateFormat("yyyy-MM-dd"));
    DateTimeSerializerBase serializer = new DateTimeSerializerBase();
    serializer.setFormat(mapper.getDateFormat());
    assertEquals("yyyy-MM-dd", serializer.getFormat().toPattern());
    serializer.createContextual(null);
    assertEquals(StdDateFormat.DATE_FORMAT_STR_ISO8601, serializer.getFormat().toPattern());
}