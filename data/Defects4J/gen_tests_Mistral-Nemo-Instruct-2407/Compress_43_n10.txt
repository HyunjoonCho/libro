public void testLocalVersionNeededToExtractMismatch() throws Exception {
    try (ZipArchiveOutputStream zos = new ZipArchiveOutputStream(new BufferedOutputStream(new FileOutputStream("test.zip")))) {
        zos.setUseZip64(true);
        ZipArchiveEntry entry = new ZipArchiveEntry("test.txt");
        entry.setMethod(ZipMethod.DEFLATED);
        zos.putArchiveEntry(entry);
        zos.closeArchiveEntry();
    }
    try (ZipFile zipFile = new ZipFile("test.zip")) {
        ZipEntry localEntry = zipFile.getEntry("test.txt");
        ZipEntry centralEntry = zipFile.getEntry("test.txt");
        assertNotEquals(localEntry.getExtra().length, centralEntry.getExtra().length);
        assertNotEquals(localEntry.getMethod(), centralEntry.getMethod());
    }
}