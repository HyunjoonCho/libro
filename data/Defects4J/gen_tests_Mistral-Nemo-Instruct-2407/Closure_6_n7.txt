public void testThisTypeChecking() {
    Function.prototype.baz = function() { };
    var F = function() {};
    F.prototype.bar = function() { this.baz(); };
    var G = function() {};
    G.prototype.bar = F.prototype.bar;
    assertThrows(TypeError.class, () -> new G().bar());
}