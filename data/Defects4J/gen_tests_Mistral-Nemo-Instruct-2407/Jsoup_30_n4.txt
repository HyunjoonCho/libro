public void testStackOverflowError() {
    String html = "<html><body><p>This is a test with <wbr>lots of <wbr>tags.</p></body></html>";
    for (int i = 0; i < 24205; i++) {
        html = html.replace("<p>", "<p><wbr>");
    }
    try {
        Document doc = Jsoup.parse(html);
        doc.select("body").html(doc.select("body").html());
        fail("Expected StackOverflowError");
    } catch (StackOverflowError e) {
        // expected
    }
}