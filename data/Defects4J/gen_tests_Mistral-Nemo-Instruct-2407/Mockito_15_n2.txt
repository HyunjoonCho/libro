public void testArgumentCaptorVarargs() {
    // Given
    ArgumentCaptor<int[]> captor = ArgumentCaptor.forClass(int[].class);
    // When
    someMethodThatCapturesVarargs(1, 2, 3);
    // Then
    // This line is expected to fail with an exception
    verify(someMock).someMethod(captor.capture());
    // Asserting on captured value will fail
    assertEquals(new int[]{1, 2, 3}, captor.getValue());
}