public void testIssueOnWindows() {
    try {
        System.setProperty("sun.mirror.url", "file:///" + System.getProperty("user.dir") + "/target/test-classes");
        ClassLoader original = Thread.currentThread().getContextClassLoader();
        Thread.currentThread().setContextClassLoader(new URLClassLoader(new URL[] {
            new File("src/test/resources").toURI().toURL()
        }, original));

        Class.forName("org.mockito.internal.progress.TimesTest");
        fail("Should have thrown NoClassDefFoundError");
    } catch (NoClassDefFoundError expected) {
        // expected
    } catch (Exception e) {
        fail("Unexpected exception: " + e.getMessage());
    } finally {
        Thread.currentThread().setContextClassLoader(original);
    }
}