public void testJsonIdentityInfoDeserializationFailure() {
    String json = "{\"@id\":\"1\",\"name\":\"Object1\",\"list\":[{\"@id\":\"2\",\"name\":\"Object2\"}],\"map\":{\"@id\":\"2\",\"name\":\"Object2\"},\"field\":{\"@id\":\"2\",\"name\":\"Object2\"}}";
    ObjectMapper mapper = new ObjectMapper();
    mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);
    mapper.enableDefaultTyping(ObjectMapper.DefaultTyping.CUSTOM, new MyCustomTypeResolver());
    mapper.addMixIn(ObjectId.class, NoJsonManager.class);
    Object obj = mapper.readValue(json, Object.class);
    assertNotNull(obj);
    assertEquals("Object1", ((ObjectWithId) obj).getName());
    assertNotNull(((ObjectWithId) obj).getList());
    assertEquals(1, ((ObjectWithId) obj).getList().size());
    assertEquals("Object2", ((ObjectWithId) obj).getList().get(0).getName());
    assertNotNull(((ObjectWithId) obj).getMap());
    assertEquals("Object2", ((ObjectWithId) obj).getMap().getName