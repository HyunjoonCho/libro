public void testJsonValuePolymorphicTypeLoss() {
    CommandAPDU cmd = new CommandAPDU(new byte[]{1, 2, 3});
    String json = mapper.writeValueAsString(cmd);
    Object deserialized = mapper.readValue(json, Object.class);
    assertTrue(deserialized instanceof byte[]);
    assertArrayEquals(new byte[]{1, 2, 3}, (byte[]) deserialized);
}