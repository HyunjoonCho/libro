public void testLendsAnnotation() {
    String jsdoc = "/**\n" +
                   "* @name MyClass\n" +
                   "* @class\n" +
                   "* @extends superClass1\n" +
                   "* @extends superClass2\n" +
                   "*/\n" +
                   "dojo.declare(\"MyClass\", [superClass1, superClass2], /** @lends MyClass.prototype */ {\n" +
                   "  foo: function(){ this.fooMethod(); }\n" +
                   "  bar: function(){ this.barMethod(); }\n" +
                   "});";
    try {
        ClosureCompiler.compile(jsdoc);
        fail("Expected compilation to fail due to missing @this annotations");
    } catch (CompilationException e) {
        // expected
    }
}