public void testBase64InputStreamRead() throws Exception {
    ByteArrayInputStream in = new ByteArrayInputStream("aaaa".getBytes("UTF-8"));
    InputStreamReader isr = new InputStreamReader(new Base64InputStream(in, true));
    char[] cbuf = new char[4];
    assertEquals(4, isr.read(cbuf));
    assertEquals(0, isr.read(cbuf));
}