public void testBase64Encode() {
    Base64 b64 = new Base64();
    String s1 = "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa";
    byte[] b1 = s1.getBytes(StandardCharsets.UTF_8);
    byte[] result = b64.encode(b1);
    String encoded = new String(result, StandardCharsets.UTF_8);
    assertTrue(encoded.contains("\r\n")); // CRLF check
    assertEquals(encoded.length(), encoded.replaceAll("[\r\n]", "").length() + 2); // Chunk length check (76 + 2 for CRLF)
}