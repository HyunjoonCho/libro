public void testPeepholeConstantsFolding() {
    String code = "var Mdt=[];\nMdt[11] = ['22','19','19','16','21','18','16','20','17','17','21','17'];";
    ClosureCompiler compiler = new ClosureCompiler();
    try {
        compiler.compile(code, CompilationLevel.ADVANCED_OPTIMIZATIONS);
        fail("Expected IndexOutOfBoundsException");
    } catch (IndexOutOfBoundsException e) {
        // expected
    }
}