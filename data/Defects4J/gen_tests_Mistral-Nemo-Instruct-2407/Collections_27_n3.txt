public void testInvokerTransformerRemoteCodeExecution() {
    InvokerTransformer transformer = new InvokerTransformer("java.lang.Runtime.getRuntime().exec(\"touch /tmp/flag\")");
    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    try (ObjectOutputStream out = new ObjectOutputStream(bos)) {
        out.writeObject(transformer);
    } catch (IOException e) {
        fail("Should not throw IOException");
    }
    ByteArrayInputStream bis = new ByteArrayInputStream(bos.toByteArray());
    try (ObjectInputStream in = new ObjectInputStream(bis)) {
        in.readObject();
        fail("Expected RemoteCodeExecution vulnerability");
    } catch (RemoteCodeExecution e) {
        // expected
    } catch (Exception e) {
        fail("Should throw RemoteCodeExecution");
    }
}