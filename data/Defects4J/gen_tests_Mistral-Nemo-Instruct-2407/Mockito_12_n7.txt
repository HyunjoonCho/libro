public void testArgumentCaptorVarargs() {
    ArgumentCaptor<String> captor = ArgumentCaptor.forClass(String.class);
    when(mock.foo("bar")).thenReturn("baz");
    mock.foo("bar");
    verify(mock).foo(captor.capture());
    assertEquals("bar", captor.getValue());
}