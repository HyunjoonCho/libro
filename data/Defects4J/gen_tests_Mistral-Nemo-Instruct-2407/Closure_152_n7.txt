public void testUnionTypeCastException() {
  // Arrange
  String code = "function f() { return {x: 1, y: 2, z: 3}; }";
  String[] args = {"--create_name_map_files", "true", "--jscomp_warning", "missingProperties",
      "--jscomp_warning", "undefinedVars", "--jscomp_warning", "checkTypes", "--warning_level",
      "VERBOSE", "--summary_detail_level", "3", "--process_closure_primitives", "true",
      "--jscomp_error", "strictModuleDepCheck", "--jscomp_error", "invalidCasts",
      "--logging_level", "ALL", "--compilation_level", "ADVANCED_OPTIMIZATIONS"};

  // Act & Assert
  assertThrows(RuntimeException.class, () -> Compiler.compile(code, args));
}