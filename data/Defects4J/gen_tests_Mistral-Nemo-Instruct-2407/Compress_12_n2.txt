public void testTarArchiveInputStreamCorruptFile() {
    byte[] corruptTarBytes =...; // insert bytes here that cause the exception
    try (TarArchiveInputStream tarInput = new TarArchiveInputStream(new ByteArrayInputStream(corruptTarBytes))) {
        tarInput.getNextEntry();
        fail("Expected IOException was not thrown");
    } catch (IOException expected) {
        // success
    }
}