public void testNonRightmostExpressions() {
    // Test case for bug #1
    String expr1 = "foo((1, 2, 42))";
    assertEquals("foo((1, 3))", transform(expr1));
    assertEquals(1, getWarnings(expr1).size());

    // Test case for bug #2
    String expr2 = "foo((bar(), 2, 42))";
    assertEquals("foo((bar(), 3))", transform(expr2));
    assertTrue(getWarnings(expr2).isEmpty());

    // Test case for bug #3
    String expr3 = "foo(((1, 2, 3), (4, 5, 42)))";
    assertEquals("foo((1, 4, 42))", transform(expr3));
    assertEquals(2, getWarnings(expr3).size());
}