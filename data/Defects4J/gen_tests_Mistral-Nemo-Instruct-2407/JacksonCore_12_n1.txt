public void testTokenLocationAfterFieldName() throws Exception {
    JsonFactory jf = new JsonFactory();
    JsonParser jp = jf.createJsonParser(new StringReader("{\"name\":123}"));

    assertEquals(JsonToken.START_OBJECT, jp.nextToken());
    assertEquals(JsonToken.FIELD_NAME, jp.nextToken());
    assertEquals(JsonToken.VALUE_NUMBER_INT, jp.nextToken());
    assertEquals(1, jp.getTokenLocation().getLineNr());
    assertEquals(9, jp.getTokenLocation().getColumnNr());

    // This should update the token location
    jp.nextToken();
    assertEquals(JsonToken.END_OBJECT, jp.getCurrentToken());

    // The bug is that getTokenLocation() doesn't update after field names
    assertEquals(1, jp.getTokenLocation().getLineNr());
    assertEquals(9, jp.getTokenLocation().getColumnNr());
}