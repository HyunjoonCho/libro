public void testNonRightmostExpressions() {
    // Test case 1
    String code1 = "foo((1, 2, 42))";
    String transformed1 = "foo((1, 3))";
    assertTransformed(code1, transformed1);

    // Test case 2
    String code2 = "foo((bar(), 2, 42))";
    String transformed2 = "foo((bar(), 3))";
    assertTransformed(code2, transformed2);

    // Test case 3
    String code3 = "foo(((1, 2, 3), (4, 5, 42)))";
    String transformed3 = "foo((1, 4, 42))";
    assertTransformed(code3, transformed3);
}

private void assertTransformed(String code, String expectedTransformed) {
    // Logic to assert that the code is transformed as expected
    // This method should be implemented according to the transformation logic in your code
    // For now, it's just a placeholder
    assertEquals(expectedTransformed, code); // Replace with actual transformation logic
}