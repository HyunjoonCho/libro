public void testUnionOfVariableAndNode() {
    JXPathContext context = JXPathContext.newContext(new DocumentBuilderFactory().newDocumentBuilder().newDocument());
    context.setVariables(new HashMap<String, Object>() {{
        put("var", context.getContextDocument().createElement("ELEMENT"));
    }});
    try {
        context.selectNodes("$var | /MAIN/A");
        fail("Expected JXPathException");
    } catch (JXPathException e) {
        // expected
    }
}