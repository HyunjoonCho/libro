public void testRequireCallProcessingBug() {
  // Arrange
  ProcessClosurePrimitives pass = new ProcessClosurePrimitives();
  AstNode node = mock(AstNode.class);
  when(node.getString()).thenReturn("goog.require('invalidSymbol')");
  when(node.getParent()).thenReturn(null);
  when(requiresLevel.isOn()).thenReturn(true);

  // Act
  pass.processRequireCall(node, requiresLevel);

  // Assert
  // The node should not have been removed, as the require symbol is invalid
  verify(node, never()).remove();
}