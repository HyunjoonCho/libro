public void testJsoupParseHang() {
    String bogusInput = "<?xml version=\"1.0\" encoding=\"UTF-8\"?><!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"><html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\" lang=\"en\"><head><meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /><title>Title</title></head><body></body></html>";
    try {
        Document doc = Jsoup.parse(bogusInput);
        fail("Jsoup.parse should have thrown an exception or returned an empty string");
    } catch (Exception e) {
        // expected
    }
}