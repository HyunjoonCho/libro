public void testEventStateReset() {
    // Setup initial state and events
    double[] initialState = {0, 0};
    Event event1 = new Event() {
        public boolean eventOccurred(double t, double[] y) {
            // Ask for RESET_STATE
            return false;
        }
    };
    Event event2 = new Event() {
        public boolean eventOccurred(double t, double[] y) {
            // This event should be updated correctly
            return false;
        }
    };

    // Process a step with event1 triggering RESET_STATE
    ODESolver solver = new ODESolver();
    solver.setInitialState(initialState);
    solver.addEvent(event1);
    solver.addEvent(event2);
    solver.processStep(1);

    // Check if event2 is updated correctly
    assertEquals(0, event2.getLastTime(), 1e-6);
    assertEquals(0, event2.getLastState()[0], 1e-6);
    assertEquals(0, event2.getLastState()[1], 1e-6);
}