public void testArDelete() throws Exception {
    File tmpFile = File.createTempFile("bla", ".ar");
    try (RandomAccessFile raf = new RandomAccessFile(tmpFile, "rw")) {
        raf.writeBytes("test1.xml\n");
        raf.writeBytes("test2.xml\n");
        raf.close();

        ArArchive archive = new ArArchive(tmpFile);
        archive.delete("test2.xml");
        assertNull(archive.getNextEntry());

        try (RandomAccessFile raf2 = new RandomAccessFile(tmpFile, "r")) {
            assertEquals("test1.xml\n", raf2.readLine());
        }
    }
}