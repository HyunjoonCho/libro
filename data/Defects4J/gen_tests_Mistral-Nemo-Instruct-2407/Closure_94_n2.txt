public void testDefineAnnotationLineSplit() {
    String jsCode = "/** @define {string} */\n" +
            "var CONSTANT = \"some very long string name that I want to wrap \"" +
            "and so break using a + since I don't want to " +
            "introduce a newline into the string.\"";
    // Replace the + with a newline to reproduce the bug
    jsCode = jsCode.replace(" +", "\n");
    try {
        // Compile the JS code using closure-compiler
        // This will throw an exception if the bug is present
        // closure-compiler.Compiler.compile(jsCode);
        fail("Expected an exception to be thrown");
    } catch (Exception e) {
        // The exception is expected, so do nothing
    }
}