public void testZipVersionMismatch() throws Exception {
    try (ZipArchiveOutputStream zaos = new ZipArchiveOutputStream(new BufferedOutputStream(new FileOutputStream("test.zip")))) {
        zaos.putArchiveEntry(new ZipArchiveEntry("test.txt"));
        zaos.write("test".getBytes());
        zaos.closeArchiveEntry();
    }
    ZipFile zipFile = new ZipFile("test.zip");
    ZipEntry entry = zipFile.getEntry("test.txt");
    assertEquals(entry.getExposedTime(), entry.getTime());
    assertEquals(entry.getMethod(), ZipMethod.DEFLATED);
    assertEquals(entry.getVersion(), entry.getVersionNeededToExtract());
}