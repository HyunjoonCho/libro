public void testTarArchiveInputStreamCorruptFile() {
    byte[] corruptFileBytes = new byte[] { /* fill with some corrupt bytes */ };
    ByteArrayInputStream bis = new ByteArrayInputStream(corruptFileBytes);
    try (TarArchiveInputStream tais = new TarArchiveInputStream(bis)) {
        tais.getNextEntry();
        fail("Expected an IOException to be thrown");
    } catch (IOException e) {
        // expected
    }
}