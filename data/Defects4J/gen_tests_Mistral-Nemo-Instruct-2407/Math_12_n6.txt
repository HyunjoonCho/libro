public void testGammaDistributionCloning() {
    GammaDistribution gamma = new GammaDistribution(3.0, 2.0);
    byte[] serialize = serialize(gamma);
    GammaDistribution deserialized = (GammaDistribution) deserialize(serialize);
    assertEquals(gamma.getShape(), deserialized.getShape(), 0);
    assertEquals(gamma.getScale(), deserialized.getScale(), 0);

    double[] samples = gamma.sample(1000);
    double[] deserializedSamples = deserialized.sample(1000);

    for (int i = 0; i < 1000; i++) {
        assertEquals(samples[i], deserializedSamples[i], 0);
    }
}