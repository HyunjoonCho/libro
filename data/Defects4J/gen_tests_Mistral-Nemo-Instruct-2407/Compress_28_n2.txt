public void testCorruptedBzip2() throws IOException {
    String archivePath = PathUtil.join(testdataDir, "testCorrupted.tar.bz2");
    TarArchiveInputStream input = new TarArchiveInputStream(new BZip2CompressorInputStream(
            GoogleFile.SYSTEM.newInputStream(archivePath), true));
    ArchiveEntry nextMatchedEntry = input.getNextEntry();
    assertNull("Expected IOException for corrupted archive, but got an entry", nextMatchedEntry);
}