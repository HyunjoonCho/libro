public void testNodeSetReturningFunction() {
    JXPathContext context = new JXPathContext(new StringReader("<root><child>Test</child></root>"));
    context.setExpressionCache(new LRUExpressionCache(10, 10));
    NodeSet result = (NodeSet) context.selectNodes("root/child()");
    assertEquals(1, result.size());
    assertEquals("Test", result.getNode(0).getText());
    Expression expr = context.getExpression("ems:observations()");
    result = (NodeSet) expr.iteratePointers(context, null);
    assertTrue(result instanceof BasicNodeSet);
    assertEquals(0, result.size());
}