public void testZeroBasedOriginalLineNumbers() {
    LineNumberReader reader = new LineNumberReader(new StringReader("public class Bug { @Override public String toString() { return \"Bug\"; } }"));
    int line = 0;
    String lineText;
    while ((lineText = reader.readLine())!= null) {
        ++line;
        assertEquals(line - 1, reader.getLineNumber());
    }
}