public void testGroupConstraintNotConsideringChildGroups() {
    OptionGroup groupA = new OptionGroup().addOption(Option.builder().longOpt("a").build());
    OptionGroup groupB = new OptionGroup().addOption(Option.builder().longOpt("b").build()).addGroup(groupA);
    groupB.setRequired(true);
    groupB.setMinOccurrences(1);
    CommandLineParser parser = new DefaultParser();
    ParseResult<Option> result = parser.parse(Arrays.asList("-b"), groupB);
    assertTrue(result.hasErrors());
}