public void testIntToIntegerRefinement() {
    ObjectMapper mapper = newObjectMapper();
    ObjectWriter writer = mapper.writerFor(MyClass.class);
    MyClass myClass = new MyClass(123); // MyClass has a single field of type int
    String json = writer.writeValueAsString(myClass);
    MyClass deserialized = mapper.readValue(json, MyClass.class);
    assertEquals(Integer.class, deserialized.getValue().getClass());
    assertEquals(123, deserialized.getValue().intValue());
}