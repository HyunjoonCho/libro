public void testGenericsSelfReferenceStackOverflow() {
    interface GenericsSelfReference<T extends GenericsSelfReference<T>> {
        T self();
    }
    assertThrows(StackOverflowError.class, () -> {
        GenericMetadataSupport genericMetadata = inferFrom(GenericsSelfReference.class).resolveGenericReturnType(firstNamedMethod("self", GenericsSelfReference.class));
        assertThat(genericMetadata.rawType()).isEqualTo(GenericsSelfReference.class);
    });
}