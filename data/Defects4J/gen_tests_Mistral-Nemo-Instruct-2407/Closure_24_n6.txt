public void testGoogScopeFunctionDeclaration() {
    assertThrows(CompileErrorException.class, () -> {
        String code = "goog.scope(function() { var x = function(){}; });";
        compile(code);
    });

    assertDoesNotThrow(() -> {
        String code = "goog.scope(function() { function x() {} });";
        compile(code);
    });
}