public void testTemplateInferenceFailure() {
    class Class {
        /**
         * @constructor
         * @template CLASS
         */
        constructor() {}

        /**
         * @param {function(CLASS):CLASS} a
         * @template T
         */
        foo(a) {
            return'string';
        }
    }

    const a = function(a) { return '' };

    new Class().foo(a); // This should fail to compile
}