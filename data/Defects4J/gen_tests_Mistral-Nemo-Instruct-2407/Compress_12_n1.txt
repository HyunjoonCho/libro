public void testCorruptTarFile() {
    byte[] corruptFile = new byte[] { /* some corrupt tar file bytes */ };
    try (TarArchiveInputStream is = new TarArchiveInputStream(new ByteArrayInputStream(corruptFile))) {
        is.getNextEntry();
        fail("Expected IOException was not thrown");
    } catch (IOException ex) {
        // expected
    }
}