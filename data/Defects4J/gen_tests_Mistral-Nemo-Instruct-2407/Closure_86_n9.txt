public void testSideEffectRemoval() {
    Foo foo = new Foo();
    foo.setLocation("http://www.google.com/");
    assertTrue("setLocation call should not be removed", foo.wasSetLocationCalled());
}