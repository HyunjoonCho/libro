public void testArgumentCaptorVarargs() {
    final ArgumentCaptor<int[]> captor = ArgumentCaptor.forClass(int[].class);
    methodThatTakesVarargs(1, 2, 3);
    verify(mock, times(1)).methodThatTakesVarargs(captor.capture());
    assertEquals(new int[]{1, 2, 3}, captor.getValue());
}