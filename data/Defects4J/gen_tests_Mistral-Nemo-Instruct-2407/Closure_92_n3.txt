public void testImplicitNamespacesAcrossModules() {
  // Arrange
  var moduleA = "goog.provide('apps');";
  var moduleB = "goog.provide('apps.foo.bar.B');";
  var moduleC = "goog.provide('apps.foo.bar.C');";

  // Act (simulate compilation in SIMPLE_OPTIMIZATIONS mode)
  var codeA = "var apps={};apps.foo.bar={};apps.foo={};";
  var codeB = "apps.foo.bar.B={};";
  var codeC = "apps.foo.bar.C={};";

  // Assert (check for runtime error in Module A)
  assertThrows(RuntimeException.class, () -> {
    eval(codeA);
    eval(codeB);
    eval(codeC);
  });
}