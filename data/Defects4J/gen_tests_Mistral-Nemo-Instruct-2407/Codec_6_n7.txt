public void testBase64InputStreamRead() throws Exception {
    byte[] data = new byte[3];
    try (InputStream in = new ByteArrayInputStream(data);
         Base64InputStream bis = new Base64InputStream(in, true);
         InputStreamReader isr = new InputStreamReader(bis)) {
        assertEquals('a', isr.read());
        assertEquals('b', isr.read());
        assertEquals('c', isr.read());
    }
    assertEquals(-1, isr.read());
}