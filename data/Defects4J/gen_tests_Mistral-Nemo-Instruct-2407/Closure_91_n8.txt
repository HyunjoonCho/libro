public void testLendsAnnotation() {
    String jsSource = "/** @name MyClass @class @extends superClass1 @extends superClass2 */\n" +
                      "dojo.declare(\"MyClass\", [superClass1, superClass2], /** @lends MyClass.prototype */ {\n" +
                      "  foo: function(){ return this.x; },\n" +
                      "  bar: function(){ return this.y; }\n" +
                      "});";
    try {
        Compiler compiler = new Compiler();
        compiler.compile(jsSource);
        fail("Expected compilation to fail due to dangerous use of 'this'.");
    } catch (CompilationException e) {
        // Expected
    }
}