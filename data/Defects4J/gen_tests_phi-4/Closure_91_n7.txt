import org.junit.Test;
import static org.junit.Assert.*;
import org.mozilla.javascript.*;

public class JSDocLendsAnnotationTest {

    @Test
    public void testLendsAnnotation() throws Exception {
        Context context = Context.enter();
        try {
            ScriptableObject scope = context.initStandardObjects();

            // Define the dojo.declare function and MyClass
            String dojoDeclare = 
                "function declare(className, superClasses, members) {" +
                "    var clazz = function() {};" +
                "    clazz.prototype = members;" +
                "    return clazz;" +
                "}";

            String myClassCode = 
                "var MyClass = declare('MyClass', [], {" +
                "    foo: function() { this.fooCalled = true; }," +
                "    bar: function() { this.barCalled = true;