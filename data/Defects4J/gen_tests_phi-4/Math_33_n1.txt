public void testSimplexSolverBug() {
    RealMatrix tableau = MatrixUtils.createRealMatrix(new double[][]{
        {1, 1, 1, 1, 0, 0, 20},
        {2, 1, 0, 0, 1, 0, 30},
        {3, 0, 1, 0, 0, 1, 40},
        {-5, -4, -3, 0, 0, 0, 0}
    });

    SimplexSolver solver = new SimplexSolver();
    SimplexResult result = solver.optimize(tableau, 0, 0, tableau.getRowDimension() - 1, tableau.getColumnDimension() - 1);
    
    assertEquals(SimplexTableau.Status.SOLUTION, result.getStatus());
    assertEquals(new double[] {10.0, 10.0, 0.0, 0.0, 0.0, 0.0}, result.getPrimalSolution(), 1e-10);
    assertEquals(-200.0, result.getObjectiveValue(), 1e-10);
}