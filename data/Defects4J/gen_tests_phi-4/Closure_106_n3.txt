public void testIssueWithCollapseProperties() {
    String jsCode = "function foo() { var bar = {baz: 1}; bar.qux = 2; }";
    Compiler compiler = new Compiler();
    
    try {
        compiler.compile(ImmutableList.of(
            CompilerOptions.languageIn(CompilerOptions.LanguageMode.ECMASCRIPT3),
            CompilerOptions.optimizationLevel(CompilerOptions.OptimizationLevel.ADVANCED_OPTIMIZATIONS)
        ));
        
        compiler.reportAst(jsCode);
        compiler.reportCode(jsCode);
        compiler.reportWarnings();
        compiler.reportErrors();
        
        boolean exceptionThrown = false;
        try {
            compiler.compile(ImmutableList.of(jsCode));
        } catch (RuntimeException e) {
            exceptionThrown = true;
        }
        
        assertTrue("Expected Java exception to be thrown", exceptionThrown);
    } finally {
        compiler.dispose();
    }
}

This test method attempts to reproduce the failure behavior by compiling a JavaScript code snippet that could trigger the issue described. It checks if a `RuntimeException` is thrown during compilation with advanced optimizations.