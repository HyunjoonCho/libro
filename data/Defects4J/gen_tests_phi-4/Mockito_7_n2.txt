public void testDeepStubbingGenericsFailure() {
    MyClass1<MockitoGenericsDeepStubTest.MyClass2<MyClass3Impl>> myMock1 = mock(MyClass1.class, RETURNS_DEEP_STUBS);
    
    try {
        when(myMock1.getNested().getNested().returnSomething()).thenReturn("Hello World.");
    } catch (Exception e) {
        assertEquals("Raw extraction not supported for : 'null'", e.getMessage());
    }
}

public static interface MyClass1<MC2 extends MyClass2> {
    public MC2 getNested();
}

public static interface MyClass2<MC3 extends MyClass3> {
    public MC3 getNested();
}

public static interface MyClass3 {
    public String returnSomething();
}

private static class MyClass3Impl implements MyClass3 {
    @Override
    public String returnSomething() {
        return "";
    }
}