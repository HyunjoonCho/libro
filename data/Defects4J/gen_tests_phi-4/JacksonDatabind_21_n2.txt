public void testEnumSerializationDeserialization() {
    ObjectMapper mapper = new ObjectMapper();
    mapper.configure(DeserializationFeature.READ_ENUMS_USING_TO_STRING, true);

    String jsonInput = "{\"enumValue\":\"value1\"}";
    TestEnumEnum deserializedEnum = mapper.readValue(jsonInput, TestEnumEnum.class);
    assertEquals(TestEnumEnum.VALUE_ONE, deserializedEnum);

    String jsonOutput = mapper.writeValueAsString(deserializedEnum);
    assertEquals("{\"enumValue\":\"value1\"}", jsonOutput);
}

public enum TestEnumEnum {
    VALUE_ONE("value1");

    private final String valueInJson;

    TestEnumEnum(String valueInJson) {
        this.valueInJson = valueInJson;
    }

    @Override
    public String toString() {
        return valueInJson;
    }
}