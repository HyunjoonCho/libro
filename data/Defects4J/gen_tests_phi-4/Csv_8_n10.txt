public void testCSVFormatDuplicateHeaders() {
    String[] headers = {"Name", "Age", "Name"};
    IllegalArgumentException exception = assertThrows(IllegalArgumentException.class, () -> {
        CSVFormat format = CSVFormat.DEFAULT.withHeader(headers);
    });
    String expectedMessage = "Duplicate headers are not allowed";
    String actualMessage = exception.getMessage();
    assertTrue(actualMessage.contains(expectedMessage));
}