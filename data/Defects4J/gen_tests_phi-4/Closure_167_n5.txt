public void testInvalidPropertyInPrototypeFunction() {
    // Mock of the ns.MyClass and ns.Thing classes
    class Thing {
        Object subthing;

        Thing() {
            this.subthing = new Object() {
                // Simulate a property that doesn't exist
            };
        }
    }

    class MyClass {
        Thing thing_;

        MyClass(Thing thing) {
            this.thing_ = thing;
        }

        void doIt() {
            Object subthing = thing_.subthing;
            // Direct access should throw an error
            try {
                Object noprop = subthing.getClass().getField("noprop").get(subthing);
            } catch (NoSuchFieldException e) {
                // Expected exception
            }

            // Loop should not throw an error
            try {
                for (int i = 0; i < 10; i++) { // Arbitrary loop to check absence of error
                    System.out.println(i);
                }
            } catch (Exception e) {
                fail("Expected no error in for loop, but got: " + e.getMessage());
            }
        }
    }

    // Test
    Thing thing = new Thing();
    MyClass c = new MyClass(thing);
    c.doIt();