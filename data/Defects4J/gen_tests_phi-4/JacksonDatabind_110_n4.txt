public void testUnmodifiableNonRandomAccessList() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    mapper.enableDefaultTyping(DefaultTyping.NON_FINAL, JsonTypeInfo.As.PROPERTY);

    // Create an unmodifiable list from a LinkedList
    List<String> originalList = new LinkedList<>(Arrays.asList("first", "second"));
    Collection<?> exp = Collections.unmodifiableList(originalList);

    // Serialize the unmodifiable list to JSON
    String json = mapper.writeValueAsString(exp);

    // Deserialize the JSON back to a Collection
    Collection<?> act = mapper.readValue(json, Collection.class);

    // Assert that the original and deserialized collections are equal
    assertEquals(exp, act);

    // Assert that the classes of the original and deserialized collections are equal
    assertEquals(exp.getClass(), act.getClass());
}