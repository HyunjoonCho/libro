import org.apache.logging.log4j.core.LogEvent;
import org.apache.logging.log4j.core.parser.LogEventParser;
import org.apache.logging.log4j.core.parser.JsonLogEventParser;
import org.junit.Assert;
import org.junit.Test;

import java.nio.charset.StandardCharsets;

public class LogEventDeserializationTest {

    @Test
    public void testDeserializationRegression() {
        String inputString = "{\n" +
                "  \"timeMillis\" : 1493121664118,\n" +
                "  \"thread\" : \"main\",\n" +
                "  \"threadId\" : 1,\n" +
                "  \"threadPriority\" : 5,\n" +
                "  \"level\" : \"INFO\",\n" +
                "  \"loggerName\" : \"HelloWorld\",\n" +
                "  \"marker\" : {\n" +
                "    \"name\" : \"child\",\n" +
                "    \"parents\" : [ {\n" +
                "      \"name\" : \"parent\",\n" +
                "      \"parents\" : [ {\n" +
                "        \"name\" : \"grandparent\"\n" +
                "      } ]