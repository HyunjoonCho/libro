public void testClosureCompilerCrash() {
    String jsCode = 
        "var g=function(m){return m*Math.random()|0},d=document," +
        "h=d.getElementById('h'),c=d.getElementById('c'),l;" +
        "(l=function(){requestAnimationFrame(l);" +
        "h.style.textShadow=\"0 0 1px #000,\"+(g(10)-5)+\"px \"+" +
        "(g(10)-5)+\"px 0 #888,0 0 180px rgb(\"+g(255)+\",\"+g(255)+\",\"+g(255)+")\"})();" +
        "d.addEventListener('mousemove',function(v){c.style.marginTop=(v.pageY/10+15|0)+'px'})";

    String outputFormat = "json";
    String compilationLevel = "ADVANCED_OPTIMIZATIONS";
    String warningLevel = "verbose";
    String outputFileName = "default.js";
    
    // Simulate sending the request to the Closure Compiler
    ClosureCompilerResponse response = compileJavaScript(outputFormat, compilationLevel, warningLevel, outputFileName, jsCode);

    // Check for the expected error in the response
    assertTrue("Expected a runtime exception