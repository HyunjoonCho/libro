public void testZipVersionNeededToExtractMismatch() throws IOException {
    ByteArrayOutputStream baos = new ByteArrayOutputStream();
    ZipArchiveOutputStream zos = new ZipArchiveOutputStream(baos);
    ZipArchiveEntry entry = new ZipArchiveEntry("test.txt");
    zos.putArchiveEntry(entry);
    zos.write("Sample content".getBytes());
    zos.closeArchiveEntry();
    zos.finish();

    ByteArrayInputStream bais = new ByteArrayInputStream(baos.toByteArray());
    ZipFile zipFile = new ZipFile(bais);
    ZipArchiveEntry localEntry = zipFile.getEntry("test.txt");
    ZipArchiveEntry centralEntry = zipFile.getCentralDirectoryEntry("test.txt");

    assertEquals(localEntry.getVersion(), centralEntry.getVersion());
}