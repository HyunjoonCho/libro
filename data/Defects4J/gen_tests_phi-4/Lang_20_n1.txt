public void testStringUtilsJoinThrowsNPE() {
    try {
        StringUtils.join(new Object[]{
            new Object() {
                @Override
                public String toString() {
                    return null;
                }
            }
        }, ",");
        fail("Expected NullPointerException");
    } catch (NullPointerException e) {
        // Expected exception
    }
}