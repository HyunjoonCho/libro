public void testWriting7zEmptyEntries() {
    File folder = createTemporaryFolderWithFiles(8, true); // Create folder with 8 empty files
    File archive = createTemporaryFile("archive.7z");

    try {
        SevenZipArchiver archiver = new SevenZipArchiver();
        archiver.setSource(folder);
        archiver.createArchive(archive);

        SevenZipExtractor extractor = new SevenZipExtractor(archive);
        assertTrue(extractor.isValid());
    } catch (Exception e) {
        assertEquals("Cannot open file 'archive.7z' as archive", e.getMessage());
    } finally {
        deleteTemporaryFiles(folder, archive);
    }
}

// Helper methods for creating temporary files and folders, and cleaning up
private File createTemporaryFolderWithFiles(int numberOfFiles, boolean empty) {
    // Implementation to create a temporary folder and populate it with files
    // 'empty' indicates whether the files should be empty or contain content
    // Returns the created folder
}

private File createTemporaryFile(String fileName) {
    // Implementation to create a temporary file with the given name
    // Returns the created file
}

private void deleteTemporaryFiles(File... files) {
    // Implementation to delete the given files