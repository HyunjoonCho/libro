public void testDeserializeNullWithTypeRefOfTypeRef() throws IOException {
    ObjectMapper objectMapper = new ObjectMapper();
    ObjectReader objectReader = objectMapper.readerFor(MyBean.class);

    MyBean intRef = objectReader.readValue("{\"refRef\": 2 }");
    Assertions.assertNotNull(intRef.getRefRef()); // succeeds
    Assertions.assertNotNull(intRef.getRefRef().get()); // succeeds
    Assertions.assertEquals(intRef.getRefRef().get().get(), 2); // succeeds

    MyBean nullRef = objectReader.readValue("{\"refRef\": null }");
    Assertions.assertNotNull(nullRef.getRefRef()); // succeeds
    Assertions.assertNotNull(nullRef.getRefRef().get()); // fails
    Assertions.assertNull(nullRef.getRefRef().get().get()); // fails
}