import static org.mockito.Mockito.*;
import static org.junit.Assert.*;
import org.junit.Test;
import org.mockito.ArgumentCaptor;
import java.util.List;

public class MockitoVarargsTest {

    public interface SomeInterface {
        void someMethod(List<String>... stringLists);
    }

    @Test
    public void testArgumentCaptorVarargs() {
        SomeInterface mock = mock(SomeInterface.class);

        List<String> list1 = List.of("one", "two");
        List<String> list2 = List.of("three", "four");

        mock.someMethod(list1, list2);

        ArgumentCaptor<List<String>[]> captor = ArgumentCaptor.forClass(List[].class);
        verify(mock).someMethod(captor.capture());

        List<String>[] capturedArgs = captor.getValue();
        assertEquals(2, capturedArgs.length);
        assertEquals(list1, capturedArgs[0]);
        assertEquals(list2, capturedArgs[1]);
    }
}