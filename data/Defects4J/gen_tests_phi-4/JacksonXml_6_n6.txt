public void testWriteBinaryWithInputStream() throws IOException {
    // Create a byte array and convert it to an InputStream
    byte[] binaryData = "Sample binary data".getBytes(StandardCharsets.UTF_8);
    InputStream inputStream = new ByteArrayInputStream(binaryData);
    
    // Initialize the ToXmlGenerator (assuming it has a constructor like this)
    ToXmlGenerator xmlGenerator = new ToXmlGenerator(out);

    // Attempt to write binary data using InputStream
    xmlGenerator.writeBinary(Base64Variants.UTF_8, inputStream, binaryData.length);

    // Capture the output from the generator
    String output = out.toString();
    
    // Check if the output contains the expected Base64 encoded string
    String expectedBase64 = Base64.getEncoder().encodeToString(binaryData);
    assertTrue(output.contains(expectedBase64));
}

Note: This test assumes that the `ToXmlGenerator` has been modified to include the `writeBinary` method that accepts an `InputStream`. The `out` variable is assumed to be a `java.io.StringWriter` or similar object that captures the XML output. Adjust the setup according to your actual implementation details.