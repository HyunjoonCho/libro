public void testCommandLineOptionValue() {
    Options options = new Options();
    Option debug = Option.builder("d")
                        .withLongOpt("debug")
                        .desc("turn on debugging")
                        .create();
    options.addOption(debug);

    CommandLineParser parser = new DefaultParser();
    String[] args = {"--debug"};
    CommandLine cmd = parser.parse(options, args);

    assertNull(cmd.getOptionValue("debug"));
    assertEquals("true", cmd.getOptionValue('d'));
}