public void testBZip2TruncatedRead() throws IOException {
    // Create a BZip2CompressorInputStream from a truncated file
    try (InputStream is = new FileInputStream("truncated.test.bz2");
         BufferedInputStream bis = new BufferedInputStream(is);
         BZip2CompressorInputStream bzis = new BZip2CompressorInputStream(bis)) {
        
        byte[] buffer = new byte[1024];
        int bytesRead = bzis.read(buffer);
        assertEquals(770, bytesRead);
    }
}