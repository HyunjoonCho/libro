public void testStrBuilderLengthUsage() {
    StrBuilder sb = new StrBuilder(10);
    sb.append("12345");
    sb.append('6');

    // This should use size instead of length to avoid incorrect behavior
    boolean replaced = sb.replaceAll('1', 'a');
    assertEquals("a2345a6", sb.toString());
    // Ensures that the replaceAll doesn't throw an ArrayIndexOutOfBoundsException
    assertFalse(sb.toString().contains("1"));
}