public void testNaNAsBigDecimalThrowsNPE() throws IOException {
    String json = "NaN";
    ObjectMapper mapper = new ObjectMapper();
    mapper.configure(JsonParser.Feature.ALLOW_NON_NUMERIC_NUMBERS, true);

    JsonParser parser = mapper.getFactory().createParser(json);
    parser.nextToken();
    assertThrows(NullPointerException.class, () -> {
        parser.getDecimalValue();
    });
}