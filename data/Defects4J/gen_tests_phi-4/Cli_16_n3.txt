public void testGroupConstraints() {
    CommandLineParser parser = new DefaultParser();
    Options options = new Options();

    OptionGroup groupB = new OptionGroup();
    Option groupA = new Option("a");
    groupB.addOption(groupA);
    groupB.setRequired(true);
    groupB.setArgName("groupBArg");

    options.addOptionGroup(groupB);

    CommandLine cmd = parser.parse(options, new String[] {"--groupBArg"});
    
    // Ensure that the presence of Group B is recognized even if Group A isn't explicitly set
    assertTrue(cmd.hasOption("a"));
    assertEquals(1, cmd.getOptionValues("groupBArg").size());
}