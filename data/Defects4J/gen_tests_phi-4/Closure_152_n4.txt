public void testResolveTypesUnionTypeCast() {
    // Simulate the environment setup for the Closure Compiler
    Compiler compiler = new Compiler();
    compiler.setAdvancedOptions(Arrays.asList(
        "--create_name_map_files=true",
        "--jscomp_warning=missingProperties",
        "--jscomp_warning=undefinedVars",
        "--jscomp_warning=checkTypes",
        "--warning_level=VERBOSE",
        "--summary_detail_level=3",
        "--process_closure_primitives=true",
        "--jscomp_error=strictModuleDepCheck",
        "--jscomp_error=invalidCasts",
        "--logging_level=ALL",
        "--compilation_level=ADVANCED_OPTIMIZATIONS"
    ));

    // Mock JavaScript input that would trigger the bug
    String jsInput = "function example(arg) { return (arg instanceof SomeType); }";

    try {
        compiler.compile(jsInput);
    } catch (RuntimeException e) {
        if (e.getCause() instanceof ClassCastException) {
            Throwable cause = e.getCause();
            assertEquals("com.google.javascript.rhino.jstype.UnionType cannot be cast to com.google.javascript.rhino.jstype.ObjectType", cause.getMessage());
        } else {
            fail("Expected ClassCastException with specific message