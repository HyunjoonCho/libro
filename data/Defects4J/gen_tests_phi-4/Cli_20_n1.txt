public void testPosixParserStopAtNonOption() {
    Options options = new Options();
    options.addOption("a", false, "option a");
    Option bOption = new Option("b", "option b", true, "argument for b");
    options.addOption(bOption);

    PosixParser parser = new PosixParser();
    CommandLine cmd = parser.parse(options, new String[] {"--zop", "-abfoo"});

    String[] expected = {"--zop", "-a", "-b", "foo"};
    String[] actual = cmd.getArgList().toArray(new String[0]);

    assertArrayEquals(expected, actual);
}