public void testJsonIgnorePropertiesAllowSetters() throws JsonProcessingException, IOException {
    ObjectMapper mapper = new ObjectMapper();

    JsonTest json = new JsonTest("user", "password");

    // Serialize
    String serialized = mapper.writeValueAsString(json);
    assertEquals("{\"username\":\"user\",\"password\":\"password\"}", serialized);

    // Deserialize with password in JSON
    String jsonString = "{ \"username\":\"user\",\"password\":\"password\" }";
    JsonTest deserialized = mapper.readValue(jsonString, JsonTest.class);

    // Check if password is set correctly
    assertEquals("password", deserialized.getPassword());

    // Check deserialized object
    System.out.println(deserialized.getPassword());
}