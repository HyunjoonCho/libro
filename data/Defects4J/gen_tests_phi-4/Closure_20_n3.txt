public void testStringConversionOptimization() {
    Object f = new Object() {
        @Override
        public String toString() {
            return "object";
        }

        @Override
        public Object valueOf() {
            return null;
        }
    };
    assertEquals("object", f.toString());
    // Simulating optimization behavior
    String result = (f.valueOf()!= null)? f.valueOf().toString() : f.toString();
    assertEquals("object", result);
}