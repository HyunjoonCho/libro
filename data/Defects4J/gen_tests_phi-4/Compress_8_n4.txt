public void testParseTarHeaderTrailingSpaceNul() {
    byte[] headerWithTrailingSpace = new byte[512];
    Arrays.fill(headerWithTrailingSpace, (byte) '0');
    headerWithTrailingSpace[148] = '1';  // set size to '000000000001'
    headerWithTrailingSpace[156] ='';  // trailing space

    TarArchiveEntry entry = TarArchiveEntry.parseTarHeader(headerWithTrailingSpace, 0);
    assertEquals(1, entry.getSize());

    byte[] headerWithTrailingNul = new byte[512];
    System.arraycopy(headerWithTrailingSpace, 0, headerWithTrailingNul, 0, 512);
    headerWithTrailingNul[156] = 0;  // trailing NUL

    entry = TarArchiveEntry.parseTarHeader(headerWithTrailingNul, 0);
    assertEquals(1, entry.getSize());
}