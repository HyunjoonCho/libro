public void testArgumentsScope() {
    ScriptEngine engine = new ScriptEngineManager().getEngineByName("nashorn");
    try {
        engine.eval("''
            var result;
            function test() {
                return function() {
                    var args = arguments;
                    setTimeout(function() { result = args; }, 0);
                };
            }
            var f = test('a', 'b', 'c');
            f();
            while (result === undefined) {
                Thread.sleep(10);
            }
            assertEquals(['a', 'b', 'c'], result);
        ''");
    } catch (ScriptException | InterruptedException e) {
        fail("Script execution failed: " + e.getMessage());
    }
}