import org.junit.Test;
import org.mockito.ArgumentCaptor;
import org.mockito.Mockito;

import static org.junit.Assert.assertEquals;

public class ArgumentCaptorVarargsTest {

    @Test
    public void testArgumentCaptorForVarargs() {
        // Mocking a hypothetical class with a varargs method
        MyVarargsClass mock = Mockito.mock(MyVarargsClass.class);

        // Sample arguments to capture
        String[] args = {"arg1", "arg2", "arg3"};

        // Invoking the varargs method
        mock.myVarargsMethod(args);

        // Capturing the varargs parameter
        ArgumentCaptor<String[]> captor = ArgumentCaptor.forClass(String[].class);
        Mockito.verify(mock).myVarargsMethod(captor.capture());

        // Comparing captured arguments with expected arguments
        String[] capturedArgs = captor.getValue();
        assertEquals("arg1", capturedArgs[0]);
        assertEquals("arg2", capturedArgs[1]);
        assertEquals("arg3", capturedArgs[2]);
    }
}

interface MyVarargsClass {
    void myVarargsMethod(String... args);
}