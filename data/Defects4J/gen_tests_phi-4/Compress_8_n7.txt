public void testParseTarHeaderTrailingSpaceNul() {
    byte[] header = new byte[512];
    String validSize = "1234567 ";
    String invalidSize = "1234567\0".replace('\0','');

    // Fill header with zero and set the size field
    Arrays.fill(header, (byte) 0);
    System.arraycopy(validSize.getBytes(), 0, header, 124, validSize.length());
    TarArchiveEntry entry = TarArchiveEntry.parseTarHeader(header);
    
    assertEquals(1234567L, entry.getSize());

    // Now test with trailing NUL
    System.arraycopy(invalidSize.getBytes(), 0, header, 124, invalidSize.length());
    entry = TarArchiveEntry.parseTarHeader(header);

    // Expecting the correct size without counting the NUL
    assertEquals(1234567L, entry.getSize());
}