public void testTokenLocationAfterFieldName() throws Exception {
    testTokenLocationAfterFieldName(false);
    testTokenLocationAfterFieldName(true);
}

private void testTokenLocationAfterFieldName(boolean useStream) throws Exception {
    final String DOC = "{\"name\":123}";
    JsonFactory jf = new JsonFactory();
    JsonParser jp = useStream?
            jf.createJsonParser(new ByteArrayInputStream(DOC.getBytes("UTF-8"))) :
            jf.createJsonParser(new StringReader(DOC));

    assertEquals(JsonToken.START_OBJECT, jp.nextToken());
    assertEquals(JsonToken.FIELD_NAME, jp.nextToken());
    assertEquals(JsonToken.VALUE_NUMBER_INT, jp.nextToken());

    int initialLine = jp.getTokenLocation().getLineNr();
    int initialColumn = jp.getTokenLocation().getColumnNr();

    // Expecting the location to remain the same after the nextToken call
    jp.nextToken();
    assertEquals(initialLine, jp.getTokenLocation().getLineNr());
    assertEquals(initialColumn, jp.getTokenLocation().getColumnNr());

    jp.close();
}