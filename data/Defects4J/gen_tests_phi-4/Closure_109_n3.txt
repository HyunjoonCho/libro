public void testConstructorTypesParsing() {
    String fooCode = "/** @type {function(new:?)} */ var foo = function() {};";
    String barCode = "/** @type {function(new:\*)} */ var bar = function() {};";

    boolean fooParseFailure = parseCode(fooCode);
    boolean barParseFailure = parseCode(barCode);

    assertTrue(fooParseFailure);
    assertTrue(barParseFailure);
}

private boolean parseCode(String code) {
    try {
        // Simulate parsing logic that fails on these annotations
        if (code.contains("function(new:?)") || code.contains("function(new:\\*)")) {
            throw new IllegalArgumentException("Bad type annotation. type not recognized due to syntax error");
        }
        return false;
    } catch (IllegalArgumentException e) {
        return true;
    }
}