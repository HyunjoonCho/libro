public void testOptimizationFailsWithVariableInCatchClause() {
    Throwable thrown = null;
    try {
        throw new Error("");
    } catch (Throwable err) {
        thrown = err;
    }
    // Simulate the incorrect optimization by trying to access the catch variable outside its scope
    assertNotEquals("Expected'stack' to be null due to incorrect variable scoping", null, thrown == null? null : thrown.getStackTrace());
}