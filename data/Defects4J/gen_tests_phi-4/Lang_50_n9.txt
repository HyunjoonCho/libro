public void testFastDateFormatLocaleChange() throws Exception {
    Locale originalLocale = Locale.getDefault();
    Locale newLocale = Locale.FRENCH;

    try {
        // Set initial locale
        Locale.setDefault(newLocale);

        // Create format with initial locale
        FastDateFormat dateFormat = FastDateFormat.getDateInstance();
        String date = dateFormat.format(new Date());

        // Change locale
        Locale.setDefault(originalLocale);

        // Format date again with changed locale
        String newDate = dateFormat.format(new Date());

        // Assert that the locale change affects the output
        assertNotEquals(date, newDate);
    } finally {
        // Restore original locale
        Locale.setDefault(originalLocale);
    }
}