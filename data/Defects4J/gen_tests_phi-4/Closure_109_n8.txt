public void testConstructorTypeParsingFailure() {
    String fooAnnotation = "/** @type {function(new:?)} */ var foo = function() {};";
    String barAnnotation = "/** @type {function(new:*)} */ var foo = function() {};";

    try {
        parseAnnotation(fooAnnotation);
        fail("Expected parsing exception for fooAnnotation");
    } catch (ParseException e) {
        assertEquals("Bad type annotation. type not recognized due to syntax error", e.getMessage());
    }

    try {
        parseAnnotation(barAnnotation);
        fail("Expected parsing exception for barAnnotation");
    } catch (ParseException e) {
        assertEquals("Bad type annotation. type not recognized due to syntax error", e.getMessage());
    }
}

private void parseAnnotation(String annotation) throws ParseException {
    // Simulate parsing logic that throws ParseException for invalid types
    if (annotation.contains("function(new:?)") || annotation.contains("function(new:*)")) {
        throw new ParseException("Bad type annotation. type not recognized due to syntax error");
    }
}