public void testCPIOUnexpectedEOF() {
    final File input = getFile("cmdcreated.cpio");
    final InputStream in = new FileInputStream(input);
    CpioArchiveInputStream cin = new CpioArchiveInputStream(in);
    CpioArchiveEntry entry = null;
    
    try {
        while ((entry = (CpioArchiveEntry) cin.getNextCPIOEntry())!= null) {
            File target = new File(dir, entry.getName());
            final OutputStream out = new FileOutputStream(target);
            IOUtils.copy(cin, out); // Fix: Use cin instead of in
            out.close();
        }
    } catch (EOFException e) {
        assertException(e); // Ensure EOFException is thrown
    } finally {
        cin.close();
    }
}

private void assertException(Exception e) {
    assertTrue(e instanceof EOFException);
}

Note: Make sure `getFile("cmdcreated.cpio")` and `dir` are correctly defined in your test class context. Also, ensure `assertException` is a method to handle the assertion logic for exceptions.