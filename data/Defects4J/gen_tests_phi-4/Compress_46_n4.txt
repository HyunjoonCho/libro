import java.util.zip.ZipEntry;
import java.util.zip.ZipOutputStream;
import java.io.ByteArrayOutputStream;
import java.nio.file.Files;
import java.nio.file.Paths;
import java.io.IOException;

public void testExtendedTimestampBug() throws IOException {
    try (ZipOutputStream zos = new ZipOutputStream(new ByteArrayOutputStream());
         ByteArrayOutputStream bos = new ByteArrayOutputStream()) {
        
        // Create a ZipEntry with an extended timestamp
        ZipEntry entry = new ZipEntry("test.txt");
        entry.setMethod(ZipEntry.STORED);
        entry.setSize(0);
        entry.setTime(1000000000L);
        zos.putNextEntry(entry);

        zos.closeEntry();

        // Write the zip content to a file
        byte[] bytes = bos.toByteArray();
        Files.write(Paths.get("test.zip"), bytes);

        // Read the ZipEntry to verify the extended timestamp
        try (ZipOutputStream tempZOS = new ZipOutputStream(new ByteArrayOutputStream())) {
            Files.copy(Paths.get("test.zip"), tempZOS);
            ZipEntry readEntry = tempZOS.getEntry("test.txt");

            long expectedTime = 1000000000L;
            assertEquals(expectedTime, readEntry.getTime());
        }
    }
}