import org.junit.Test;
import java.io.BufferedReader;
import java.io.InputStreamReader;

import static org.junit.Assert.assertTrue;

public class ClosureCompilerTest {

    @Test
    public void testInternalCompilerError() throws Exception {
        String[] command = {
            "java",
            "-jar",
            "path/to/apr5compiler.jar",
            "--compilation_level", "ADVANCED_OPTIMIZATIONS",
            "--variable_map_output_file", "js.vars",
            "--js", "path/to/bullet_1_1_q1.js",
            "--js_output_file", "bullet_1_1_q1.cc.js"
        };

        ProcessBuilder processBuilder = new ProcessBuilder(command);
        Process process = processBuilder.start();

        StringBuilder output = new StringBuilder();