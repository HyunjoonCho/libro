public void testFastDateFormatSerialization() {
    FastDateFormat format = FastDateFormat.getInstance("yyyy-MM-dd");
    FastDateFormat deserializedFormat = deserialize(format);

    // Assuming the format is expected to be reinitialized correctly after deserialization
    assertNotNull(deserializedFormat);
    assertEquals("yyyy-MM-dd", deserializedFormat.toPattern());
}

private FastDateFormat deserialize(FastDateFormat format) {
    try {
        ByteArrayOutputStream byteOut = new ByteArrayOutputStream();
        ObjectOutputStream out = new ObjectOutputStream(byteOut);
        out.writeObject(format);
        out.close();

        ByteArrayInputStream byteIn = new ByteArrayInputStream(byteOut.toByteArray());
        ObjectInputStream in = new ObjectInputStream(byteIn);
        return (FastDateFormat) in.readObject();
    } catch (IOException | ClassNotFoundException e) {
        fail("Serialization failed: " + e.getMessage());
        return null;
    }
}