public void testBase64EncodeCrlfAndChunking() {
    Base64 b64 = new Base64();

    String input = "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa";
    byte[] inputBytes = input.getBytes(StandardCharsets.UTF_8);
    
    byte[] result = b64.encode(inputBytes);
    String encodedString = new String(result, StandardCharsets.UTF_8);

    // Check for CRLF at the end
    assertFalse(encodedString.endsWith("\r\n"));

    // Check for line length greater than 76 characters
    String[] lines = encodedString.split("\r?\n");
    for (String line : lines) {
        assertTrue(line.length() <= 76);
    }
}