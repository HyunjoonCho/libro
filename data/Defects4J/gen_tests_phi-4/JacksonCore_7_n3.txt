public void testJsonGeneratorWriteStringAfterWriteFieldName() {
    StringWriter writer = new StringWriter();
    JsonFactory factory = new JsonFactory();
    JsonGenerator gen = factory.createGenerator(writer);
    
    try {
        gen.writeStartObject();
        gen.writeFieldName("key");
        gen.writeString("value"); // This should fail

        gen.close();
        fail("Expected JsonGenerationException to be thrown when calling writeString() after writeFieldName()");
    } catch (JsonGenerationException e) {
        // Expected exception
    } catch (IOException e) {
        throw new RuntimeException("Unexpected IOException", e);
    } finally {
        gen.close();
    }
}