public void testRequiredOptions() {
    Options options = new Options();
    options.addOption(CliBuilder.newOption("h").required());

    String[] args = {"-c", "<arg>"};
    String expectedError = "[-h]";
    String actualError = "";

    try {
        new BasicParser().parse(options, args);
    } catch (ParseException e) {
        actualError = e.getMessage();
    }

    assertEquals(expectedError, actualError);
}