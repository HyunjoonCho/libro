public void testLastWarningOrErrorTruncation() {
    String[] command = {
        "java", "-jar", "compiler.jar",
        "--warning_level", "VERBOSE",
        "--js", "test.js"
    };
    Process process = null;
    try {
        process = new ProcessBuilder(command).start();
        // Read the output
        StringBuilder output = new StringBuilder();
        try (BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()))) {
            String line;
            while ((line = reader.readLine())!= null) {
                output.append(line).append("\n");
            }
        }

        // Check the last error message
        String[] outputLines = output.toString().split("\n");
        String lastErrorLine = outputLines[outputLines.length - 3]; // Adjust index as needed
        assertFalse("Expected error message to be incomplete", lastErrorLine.contains("^"));
    } catch (IOException e) {
        fail("Exception encountered while running the process: " + e.getMessage());
    } finally {
        if (process!= null) {
            process.destroy();
        }
    }
}