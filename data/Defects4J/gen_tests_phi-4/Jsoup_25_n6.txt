public void testJsoupTextAreaWhitespacePreservation() {
    String html = "<html><body><textarea>Line one\nLine two</textarea></body></html>";
    Document doc = Jsoup.parse(html, "", Parser.xmlParser());
    Element textArea = doc.select("textarea").first();

    assertEquals("Line one\nLine two", textArea.text());
    assertEquals("Line one\nLine two", textArea.html());
}