import static org.junit.Assert.*;

import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.CompilerOptions;
import com.google.javascript.jscomp.JSError;
import com.google.javascript.jscomp.SourceFile;
import org.junit.Before;
import org.junit.Test;

import java.util.List;

public class ClosureTest {

    private Compiler compiler;

    @Before
    public void setUp() {
        compiler = new Compiler();
        CompilerOptions options = new CompilerOptions();
        options.setCompilationLevel(CompilerOptions.CompilationLevel.STANDARD_OPTIMIZATIONS);
        compiler.initOptions(options);
    }

    @Test
    public void testNullPointerWarning() {
        String jsCode = 
            "/*\n" +
            " * @constructor\n" +
            " */\n" +
            "function MyClass() {\n" +
            " this.value = 1;\n" +
            "}\n" +
            "\n" +
            "MyClass.prototype.show = function() {\n" +
            " window.console.log(this.value)\n" +
            "}\n" +
            "\n" +
            "/*\n" +
            " * @type {MyClass}\n" +
            " */\n" +