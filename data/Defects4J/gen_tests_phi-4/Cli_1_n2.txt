public void testCommandLineOptionValue() {
    Options options = new Options();
    Option debug = OptionBuilder.withArgName("debug")
                               .withDescription("turn on debugging")
                               .withLongOpt("debug")
                               .create('d');
    options.addOption(debug);

    CommandLineParser parser = new DefaultParser();
    CommandLine cmd = parser.parse(options, new String[]{"--debug"});

    assertNull(cmd.getOptionValue("debug"));
    assertNotNull(cmd.getOptionValue('d'));
}