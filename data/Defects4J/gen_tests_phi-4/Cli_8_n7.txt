public void testHelpFormatterWrap() {
    HelpFormatter formatter = new HelpFormatter();
    formatter.setWidth(20);
    String option = new Options().addOption("option", true, "This is a very long description that should wrap correctly across multiple lines.");
    StringBuilder sb = new StringBuilder();
    formatter.printHelp(sb, "", option, true);

    String expectedOutput = "option   This is a very long\n"
                           + "        description that\n"
                           + "        should wrap correctly\n"
                           + "        across multiple lines.\n";
    assertEquals(expectedOutput, sb.toString());
}