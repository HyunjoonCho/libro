public void testPearsonsCorrelationPrecision() {
    double[] treatments = new double[10000];
    Arrays.fill(treatments, 6.0);
    treatments[0] = 6.000000000000001;
    
    PearsonsCorrelation correlation = new PearsonsCorrelation();
    double[] pValues = correlation.getCorrelationPValues(treatments);
    
    // Check if p-value is zero due to precision issues
    double expectedPValue = 2.0 * tDistribution.cumulativeProbability(-t);
    assertEquals(expectedPValue, pValues[0], 1e-10);
}