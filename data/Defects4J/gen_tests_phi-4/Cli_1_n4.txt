public void testCommandLineOptionValue() {
    Options options = new Options();
    Option debug = Option.builder("d")
                        .longOpt("debug")
                        .desc("turn on debugging")
                        .hasArg()
                        .build();
    options.addOption(debug);

    CommandLineParser parser = new DefaultParser();
    String[] args = {"-debug"};

    CommandLine cmd = parser.parse(options, args);
    String dbg = cmd.getOptionValue("debug");

    assertNotNull(dbg);
}