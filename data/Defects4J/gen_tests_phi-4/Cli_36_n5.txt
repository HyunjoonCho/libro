public void testHelpFormatterOptionComparator() {
    OptionGroup group = new OptionGroup();
    Option h = Option.builder("h").build();
    Option s = Option.builder("s").build();
    Option b = Option.builder("b").build();
    Option t = Option.builder("t").build();
    group.addOption(h)
        .addOption(s)
        .addOption(b)
        .addOption(t);

    Options options = new Options();
    options.addOptionGroup(group);
    options.addOption(Option.builder("o").build());

    HelpFormatter formatter = new HelpFormatter();
    formatter.setOptionComparator(null);
    String helpOutput = formatter.formatHelp("cmd", "", options, null);

    String expectedOrder = "  -h, --h\n" +
                           "      \n" +
                           "  -s, --s\n" +
                           "      \n" +
                           "  -b, --b\n" +
                           "      \n" +
                           "  -t, --t\n" +
                           "      \n" +
                           "  -o, --o\n" +
                           "      \n";

    assertEquals(expectedOrder, helpOutput);
}