public void testGammaDistributionCloning() throws Exception {
    GammaDistribution original = new GammaDistribution(2.0, 3.0);
    ByteArrayOutputStream byteOut = new ByteArrayOutputStream();
    ObjectOutputStream out = new ObjectOutputStream(byteOut);
    out.writeObject(original);
    out.close();

    ByteArrayInputStream byteIn = new ByteArrayInputStream(byteOut.toByteArray());
    ObjectInputStream in = new ObjectInputStream(byteIn);
    GammaDistribution cloned = (GammaDistribution) in.readObject();
    in.close();

    double sampleOriginal = original.sample();
    double sampleCloned = cloned.sample();

    // We assume that the distributions are not exactly the same, so we use a statistical approach
    double meanDiff = Math.abs(sampleOriginal - sampleCloned);

    // Allow some small margin of error due to randomness
    assertTrue("Cloned GammaDistribution does not produce similar samples", meanDiff < 0.1);
}