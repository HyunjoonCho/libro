public void testArrayJoinMungedIncorrectly() {
    // Simulate jQuery-like structure
    class Element {
        String className;

        Element(String className) {
            this.className = className;
        }
    }

    class jQuery {
        List<Element> elements = new ArrayList<>();

        public void add(Element element) {
            elements.add(element);
        }

        public boolean hasClass(String selector) {
            return (elements.size() > 0)?!(" ".join("", elements.get(0).className, "").indexOf(" ".join("", selector, "")) == -1) : false;
        }
    }

    // Original behavior
    jQuery original = new jQuery();
    original.add(new Element("class1 class2"));
    assertTrue(original.hasClass("class1"));

    // Munged behavior
    jQuery munged = new jQuery();
    munged.add(new Element("class1 class2"));
    assertFalse(munged.hasClass("class1 class3"));
}