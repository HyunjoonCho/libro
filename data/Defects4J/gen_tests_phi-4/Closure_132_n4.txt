public void testIfStatementBug() {
    int[] es = { 2, 1, 1, 0 };
    int esi = 2;

    if (es[--esi][es[esi + 1]] == 1) {
        es[esi] = 0;
    } else {
        es[esi] = 1;
    }

    assertEquals(0, es[1]);
    assertEquals(1, es[0]);
}