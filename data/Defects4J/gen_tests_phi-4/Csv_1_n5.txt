public void testExtendedBufferReaderEOLHandling() throws IOException {
    String input = "Line1\rLine2\nLine3\r\nLine4\r\nLine5";
    ExtendedBufferReader reader = new ExtendedBufferReader(new StringReader(input));
    
    int expectedLines = 5;
    int actualLines = 0;
    
    while (reader.readLine()!= null) {
        actualLines++;
    }
    
    assertEquals(expectedLines, actualLines);
}