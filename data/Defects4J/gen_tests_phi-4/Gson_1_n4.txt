public void testSerializeDeserializeWithTypeParameter() {
    Gson gson = new Gson();
    Bar bar1 = new Bar(1);

    // Attempt to serialize
    String json = gson.toJson(bar1);

    // Attempt to deserialize
    Bar bar2 = gson.fromJson("{\"someField\":1}", Bar.class);

    assertEquals(bar1, bar2);
}

Note: This test will reproduce the failure as described in the bug report. The Gson library at that time did not handle serialization/deserialization of classes with type parameters properly.