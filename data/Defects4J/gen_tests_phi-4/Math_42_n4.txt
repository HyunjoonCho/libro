public void testNegativeValueWithRestrictNonNegative() {
    // Define the function: 1 * x + 1 * y + 0
    LinearObjectiveFunction function = new LinearObjectiveFunction(new double[]{1, 1}, 0);

    // Define the constraint: 1 * x + 0 * y = 1
    LinearConstraint constraint = new LinearConstraint(new double[]{1, 0}, Relationship.EQUAL, 1);

    // Create a SimplexSolver instance
    SimplexSolver solver = new SimplexSolver();

    // Optimize with restrictToNonnegative set to true
    double[] solution = solver.optimize(function, new LinearConstraint[]{constraint}, GoalType.MINIMIZE, true);

    // Assert that x = 1
    assertEquals(1, solution[0], 1e-6);

    // Assert that y = -1, which is incorrect under the restriction
    assertEquals(-1, solution[1], 1e-6);
}