public void testParsingPaxHeadersWithNegativeArraySizeException() throws IOException {
    byte[] paxHeadersWithEmptyLine = 
        "paxformat=1.5\n" +
        "path=example.txt\n" +
        "\n".getBytes(StandardCharsets.UTF_8);

    ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(paxHeadersWithEmptyLine);
    TarArchiveInputStream tarArchiveInputStream = new TarArchiveInputStream(new BufferedInputStream(byteArrayInputStream));

    try {
        tarArchiveInputStream.parsePaxHeaders();
        fail("Expected NegativeArraySizeException");
    } catch (NegativeArraySizeException e) {
        // Expected exception
    }
}