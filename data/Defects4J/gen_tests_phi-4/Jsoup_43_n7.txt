public void testElementSiblingIndex() {
    Element row1 = mock(Element.class);
    Element row2 = mock(Element.class);
    Element row5 = mock(Element.class);
    
    when(row2.parent().children()).thenReturn(Arrays.asList(row1, row2, row5));
    when(row5.parent().children()).thenReturn(Arrays.asList(row1, row2, row5));
    
    when(row1.elementSiblingIndex()).thenReturn(0);
    when(row2.elementSiblingIndex()).thenReturn(1);
    when(row5.elementSiblingIndex()).thenReturn(1);
    
    assertEquals("Element objects with same sibling index should be equal", row2, row5.parent().children().get(1));
    assertNotEquals("Element objects with same sibling index should not be the same reference", row2, row5);
}