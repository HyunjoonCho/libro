public void testJsonParserSequenceSkippingToken() throws IOException {
    JsonFactory factory = new JsonFactory();
    JsonParser parser1 = factory.createParser("{\"key1\": \"value1\"}");
    parser1.nextToken(); // Move to VALUE_STRING
    parser1.nextToken(); // Move to END_OBJECT

    JsonParser parser2 = factory.createParser("{\"key2\": \"value2\"}");
    parser2.nextToken(); // Move to FIELD_NAME

    JsonParserSequence sequence = JsonParserSequence.createFlattened(parser1, parser2);

    sequence.nextToken(); // Move to FIELD_NAME, "key1"
    sequence.nextToken(); // Move to VALUE_STRING, "value1"
    sequence.nextToken(); // Move to END_OBJECT

    assertEquals(JsonToken.FIELD_NAME, sequence.nextToken().id()); // Should not skip FIELD_NAME "key2"
    assertEquals("key2", sequence.getCurrentName());
}