public void testNodeSetHandling() {
    JXPathContext context = JXPathContext.newContext();
    
    // Assuming 'observations' is registered in the context
    NodeSet nodeSet = (NodeSet) context.selectNodes("ems:observations()");
    
    // Verify that the result is a BasicNodeSet
    assertTrue(nodeSet instanceof BasicNodeSet);
    
    // Verify that the BasicNodeSet is not wrapped in a single node
    assertEquals(0, context.selectNodes("ems:observations()/*").size());
    
    // Verify that we can iterate over the nodes in the BasicNodeSet
    int count = 0;
    for (Node node : nodeSet) {
        count++;
        // Additional checks can be added here to verify the contents of each node
    }
    
    // Ensure that the count is greater than zero if expected
    assertTrue(count > 0);
}