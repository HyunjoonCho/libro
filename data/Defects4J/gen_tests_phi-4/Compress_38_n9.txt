public void testPAXHeaderEntryNameEndingWithSlash() throws Exception {
    // Create a TAR file with a PAX header entry name ending with '/'
    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();
    try (TarArchiveOutputStream tarOutput = new TarArchiveOutputStream(byteArrayOutputStream)) {
        PaxHeader paxHeader = new PaxHeader();
        paxHeader.set("path", "a/b/");
        tarOutput.putArchiveEntry(new TarArchiveEntry("a/b/", 0) {
            @Override
            public boolean isPaxHeader() {
                return true;
            }
        });
        tarOutput.closeArchiveEntry();
    }

    // Load the TAR file and check if isDirectory() returns false for the PAX header entry
    ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(byteArrayOutputStream.toByteArray());
    try (TarArchiveInputStream tarInput = new TarArchiveInputStream(byteArrayInputStream)) {
        TarArchiveEntry entry;
        while ((entry = tarInput.getNextTarEntry())!= null) {
            if (entry.getName().equals("a/b/")) {
                assertFalse(entry.isDirectory());
            }
        }
    }
}