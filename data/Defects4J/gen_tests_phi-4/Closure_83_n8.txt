public void testVersionCommand() {
    try {
        Process process = new ProcessBuilder("java", "-jar", "compiler.jar", "--version").start();
        String output = new BufferedReader(new InputStreamReader(process.getInputStream()))
           .lines().collect(Collectors.joining("\n"));
        
        assertFalse(output.contains("Опция \"--version\" требует операнд"));
        assertTrue(output.contains("Closure Compiler (http://code.google.com/closure/compiler)"));
        assertTrue(output.contains("Version: 698"));
        assertTrue(output.contains("Built on: 2011/01/17 12:16"));
    } catch (IOException e) {
        fail("IOException during process execution: " + e.getMessage());
    }
}