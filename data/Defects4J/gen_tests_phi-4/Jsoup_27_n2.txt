public void testInvalidHttpCharsetResponse() throws Exception {
    // Simulate the HTTP response with an invalid charset header
    String invalidCharsetResponse = "HTTP/1.1 200 OK\r\n" +
                                    "Content-Type: text/html; charset=UTF-8\r\n" +
                                    "Content-Length: 12\r\n\r\n" +
                                    "<html><body>Test</body></html>";
    byte[] byteData = invalidCharsetResponse.getBytes("UTF-8");
    String invalidCharset = "UTF-8"; // Incorrectly specified
    
    // Assuming a method `parseResponse` that handles the parsing logic
    // This method should be part of the class where the bug is being tested
    Exception exception = assertThrows(UnsupportedCharsetException.class, () -> {
        parseResponse(invalidCharset, byteData);
    });

    // Optionally, you can assert the exception message if needed
    assertTrue(exception.getMessage().contains("Unsupported charset: UTF-8"));

    // Test the fallback mechanism
    String parsedData = parseResponse(null, byteData);
    assertEquals("<html><body>Test</body></html>", parsedData);
}

Note: The `parseResponse` method is assumed to be the method where