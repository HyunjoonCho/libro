public void testArgumentCaptorVarargsIssue() {
    List<String> list = mock(List.class);
    when(list.add(anyString())).thenReturn(true);

    varargMethod(list, "one", "two");

    ArgumentCaptor<String> captor = ArgumentCaptor.forClass(String.class);
    verify(list, times(2)).add(captor.capture());
    assertEquals(Arrays.asList("one", "two"), captor.getAllValues());
}

private void varargMethod(List<String> list, String... strings) {
    for (String str : strings) {
        list.add(str);
    }
}