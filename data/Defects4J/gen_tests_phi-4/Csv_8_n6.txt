public void testDuplicateHeadersInCSVFormat() {
    String[] headers = {"id", "name", "id"};
    CSVFormat format = CSVFormat.DEFAULT.withHeader(headers);
    Exception exception = assertThrows(IllegalArgumentException.class, () -> {
        format.getHeaderMap();
    });
    String expectedMessage = "Duplicate header entry: id";
    String actualMessage = exception.getMessage();
    assertTrue(actualMessage.contains(expectedMessage));
}