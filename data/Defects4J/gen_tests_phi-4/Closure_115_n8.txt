public void testErroneousOptimization() {
    String inputJs = 
        "window['anchor'] = function (obj, modifiesProp) {\n" +
        "    return (function (saved) {\n" +
        "        return modifiesProp(obj) + saved;\n" +
        "    })(obj['prop']);\n" +
        "};\n";

    String expectedOutputJs = 
        "window.foo=function(a,b){var HOLD=a.prop;return b(a)+HOLD};\n";

    String actualOutputJs = compileJavaScript(inputJs);

    assertEquals(expectedOutputJs, actualOutputJs);
}

private String compileJavaScript(String inputJs) {
    // This method should simulate the compilation process
    // and return the result as if the Java -jar command was run.
    // For the sake of this test, we assume this method exists
    // and performs the described compilation.
    return ""; // Placeholder: Implement the actual compilation logic
}

Note: The `compileJavaScript` method is a placeholder and should be implemented to simulate the actual Java compilation process described in the bug report. This implementation is not possible directly in Java without invoking external processes or using a library that simulates the behavior