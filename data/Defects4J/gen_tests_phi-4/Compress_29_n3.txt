public void testArchiveStreamFactoryEncoding() {
    String encoding = "UTF-8";

    // Test for each stream type
    try (InputStream inputStream = new FileInputStream("test.arj");
         BufferedInputStream bufferedInputStream = new BufferedInputStream(inputStream)) {
        ArjArchiveInputStream arjInputStream = new ArjArchiveInputStream(bufferedInputStream);
        assertEncoding(arjInputStream, encoding);
    }

    try (InputStream inputStream = new FileInputStream("test.cpio");
         BufferedInputStream bufferedInputStream = new BufferedInputStream(inputStream)) {
        CpioArchiveInputStream cpioInputStream = new CpioArchiveInputStream(bufferedInputStream);
        assertEncoding(cpioInputStream, encoding);
    }

    try (InputStream inputStream = new FileInputStream("test.dump");
         BufferedInputStream bufferedInputStream = new BufferedInputStream(inputStream)) {
        DumpArchiveInputStream dumpInputStream = new DumpArchiveInputStream(bufferedInputStream);
        assertEncoding(dumpInputStream, encoding);
    }

    try (InputStream inputStream = new FileInputStream("test.jar");
         BufferedInputStream bufferedInputStream = new BufferedInputStream(inputStream)) {
        JarArchiveInputStream jarInputStream = new JarArchiveInputStream(bufferedInputStream);
        assertEncoding(jarInputStream, encoding);
    }

    try (FileOutputStream fileOutputStream = new FileOutputStream("test.jar");
         BufferedOutputStream bufferedOutputStream