public void testResettingDefaultNamespaceEndlessLoop() throws Exception {
    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
    DocumentBuilder builder = factory.newDocumentBuilder();
    Document doc = builder.newDocument();

    Element foo = doc.createElementNS("bla", "b:foo");
    foo.setAttributeNS("bla", "b:foo", "xmlns:b", "bla");
    foo.setAttributeNS("test111", "b:foo", "xmlns", "test111");

    Element bar = doc.createElementNS("bla", "b:bar");
    bar.setTextContent("a");
    foo.appendChild(bar);

    Element test = doc.createElementNS("", "test");
    foo.appendChild(test);

    doc.appendChild(foo);

    // Assuming DOMNodePointer and NamespaceResolver are part of the API being tested
    DOMNodePointer nodePointer = new DOMNodePointer(test);
    String path = nodePointer.asPath();
    assertNotNull(path);
    assertFalse(path.contains("//b:fo/null:test"));
}