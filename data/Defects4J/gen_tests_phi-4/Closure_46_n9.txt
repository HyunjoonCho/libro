public void testClassCastExceptionDuringTypeCheck() {
    NamedType namedType = new NamedType("myType", new RecordType("myRecord"));
    ProxyObjectType proxyObjectType = new ProxyObjectType("myProxy", namedType);
    try {
        TypeCheckUtils.checkType(proxyObjectType);
    } catch (ClassCastException e) {
        fail("Expected ClassCastException was not thrown");
    }
}