public void testAllowMultipleMatches() {
    ObjectMapper mapper = new ObjectMapper();
    FilteringParserDelegate parser = new FilteringParserDelegate(mapper.getFactory().createParser(new StringReader("{\"key1\":\"value1\",\"key2\":\"value2\",\"key1\":\"value3\"}")));
    parser.setAllowMultipleMatches(true);
    ObjectNode result = (ObjectNode) parser.readValueAsTree();

    assertEquals(2, result.get("key1").size());
    assertEquals("value1", result.get("key1").get(0).asText());
    assertEquals("value3", result.get("key1").get(1).asText());
}