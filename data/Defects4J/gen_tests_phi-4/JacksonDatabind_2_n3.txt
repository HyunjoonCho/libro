public void testUnwantedPOJOSerializationToTree() throws IOException {
    ObjectMapper mapper = new ObjectMapper();
    mapper.registerModule(new SimpleModule().addSerializer(new ListAttributeSerializer()));

    X<String> instance = new X<>();
    instance.s = "test";
    instance.items = Arrays.asList("item1", "item2");

    // Attempt to serialize directly to JsonNode
    JsonNode tree = mapper.valueToTree(instance);
    assertEquals(tree.get("items").getNodeType(), JsonNodeType.ARRAY);

    // Workaround: Serialize to bytes and then read as tree
    byte[] json = mapper.writeValueAsBytes(instance);
    JsonNode correctedTree = mapper.readTree(json);
    assertEquals(correctedTree.get("items").getNodeType(), JsonNodeType.ARRAY);
}

This test confirms the described issue when using `valueToTree()` and verifies the workaround by serializing to bytes and then reading as a tree.