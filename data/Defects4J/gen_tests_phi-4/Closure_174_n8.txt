public void testCompilerCrashOnGoogScopeLocals() {
    String problematicCode = 
        "goog.provide(\"main\");\n" +
        "goog.scope (function (){\n" +
        " var a = foo, b, c = 1;\n" +
        "});";

    try {
        // Simulate parsing the problematic code
        parseGoogScopeCode(problematicCode);
        fail("Expected an exception due to compiler crash on goog.scope locals");
    } catch (Exception e) {
        // Check if the exception is related to parsing or scope issues
        assertTrue(e.getMessage().contains("goog.scope") || e.getMessage().contains("locals"));
    }
}

private void parse