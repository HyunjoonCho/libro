public void testMissingEndObject() throws Exception {
    JsonFactory factory = new JsonFactory();
    InputStream is = new ByteArrayInputStream("{\"a\":123,\"array\":[1,2],\"ob\":{\"value0\":2,\"value\":3,\"value2\":4},\"b\":true}".getBytes());
    JsonParser p0 = factory.createParser(is);
    JsonParser p = new FilteringParserDelegate(p0, new NameMatchFilter("value"), true, false);

    StringBuilder output = new StringBuilder();
    JsonToken token;
    while ((token = p.nextToken())!= null) {
        output.append(p.getCurrentName()).append(":").append(p.getValueAsString());
        if (token.isStructEnd()) {
            output.append("}");
        }
    }

    String expectedOutput = "{\"ob\":{\"value\":3}";
    assertEquals(expectedOutput, output.toString());
}