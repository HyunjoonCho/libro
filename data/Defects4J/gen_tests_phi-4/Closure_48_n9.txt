public void testTypeCheckingError() {
    MyClass myClass = new MyClass();
    myClass.test();
    assertThrows(IllegalStateException.class, () -> myClass.fn(true));
}

class MyClass {
    public void fn(boolean success) {
        // Original function implementation
    }

    public void test() {
        fn(true);
        fn = () -> {}; // Replacing function with a stub
    }
}

(Note: This is a Java adaptation of the JavaScript problem. The test checks for an exception when invoking `fn(true)` after it's been replaced.)