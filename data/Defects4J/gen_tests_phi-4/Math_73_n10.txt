public void testBrentSolverIllegalArgumentException() {
    UnivariateRealFunction f = x -> x * x - 4; // f(x) = x^2 - 4, roots at x = -2, 2
    double min = -1;
    double max = 1;
    double initial = 0.5; // f(initial) = 0.5^2 - 4 = -3.75, same sign as f(min) and f(max)

    Exception exception = assertThrows(IllegalArgumentException.class, () -> {
        new BrentSolver().solve(f, min, max, initial);
    });

    String expectedMessage = "The values of the function at the three points must have different signs";
    String actualMessage = exception.getMessage();

    assertTrue(actualMessage.contains(expectedMessage));
}