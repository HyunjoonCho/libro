public void testSelfClosingTagsHandling() {
    String inputHtml = "<html>\n" +
                       "  <head>\n" +
                       "    <style />\n" +
                       "  </head>\n" +
                       "  <body>\n" +
                       "    <p>Whatever</p>\n" +
                       "  </body>\n" +
                       "</html>";

    Document document = Jsoup.parse(inputHtml, "", Parser.xmlParser());
    String expectedOutput = "<html>\n" +
                            " <head> \n" +
                            "  <style></style>\n" +
                            " </head>\n" +
                            " <body>\n" +
                            "  <p>Whatever</p>\n" +
                            " </body>\n" +
                            "</html>";

    assertEquals(expectedOutput, document.html());
}

Note: In the test, I'm using `Parser.xmlParser()` to ensure the self-closing tags are handled correctly, which should result in the expected output without HTML escaping the remainder of the document.