public void testNegativeValueWithRestrictNonNegative() {
    // Define the objective function: 1 * x + 1 * y + 0
    LinearObjectiveFunction f = new LinearObjectiveFunction(new double[]{1, 1, 0}, 0);

    // Define the constraint: 1 * x + 0 * y = 1
    LinearConstraint constraint = new LinearConstraint(new double[]{1, 0, 0}, Relationship.EQUAL, 1);

    // Create the SimplexSolver instance
    SimplexSolver solver = new SimplexSolver();

    // Optimize with restrictToNonnegative flag set to true
    NelderMeadOptimizer optimizer = new NelderMeadOptimizer();
    SimplexSolverResult result = solver.optimize(f, new LinearConstraint[]{constraint}, GoalType.MINIMIZE, true);

    // Retrieve the solution
    double[] solution = result.getPoint();

    // Assert that x = 1 and y = -1, indicating a failure with the restrictToNonnegative flag
    assertEquals(1.0, solution[0], 1e-6); // x = 1
    assertEquals(-1.0, solution[1], 1e-6