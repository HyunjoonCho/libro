public void testCPIOReportsUnexpectedEOF() {
    final File input = getFile("cmdcreated.cpio");
    final InputStream in = new FileInputStream(input);
    CpioArchiveInputStream cin = new CpioArchiveInputStream(in);

    CpioArchiveEntry entry = null;
    try {
        while ((entry = (CpioArchiveEntry) cin.getNextCPIOEntry())!= null) {
            File target = new File(dir, entry.getName());
            final OutputStream out = new FileOutputStream(target);
            IOUtils.copy(cin, out);
            out.close();
        }
        cin.close();
        fail("Expected EOFException to be thrown");
    } catch (EOFException e) {
        // Expected exception
    } catch (IOException e) {
        fail("Unexpected exception: " + e.getMessage());
    }
}

Note: Ensure that `dir` and `getFile` are correctly defined in your test class context.