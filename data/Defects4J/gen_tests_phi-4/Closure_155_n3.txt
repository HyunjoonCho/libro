public void testOverzealousArgumentsOptimization() {
    Object context = new Object();
    Object expectedFirstArg = "firstArg";

    D3CallCallback callback = (args) -> {
        assertEquals(expectedFirstArg, args[0]);
    };

    D3Call d3Call = new D3Call(callback);
    d3Call.call(context, expectedFirstArg);

    assertSame(context, d3Call);
}

// Helper classes to simulate the behavior described in the bug report

interface D3CallCallback {
    void call(Object[] args);
}

class D3Call {
    private final D3CallCallback callback;

    public D3Call(D3CallCallback callback) {
        this.callback = callback;
    }

    public Object call(Object context, Object arg) {
        Object[] args = new Object[]{arg};
        callback.call(args);
        args[0] = context;
        callback.call(args);
        return context;
    }
}