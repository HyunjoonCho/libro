import com.google.javascript.jscomp.ClosureCompiler;
import com.google.javascript.jscomp.CompilerOptions;
import com.google.javascript.jscomp.JSError;
import com.google.javascript.jscomp.SourceFile;
import org.junit.Test;

import java.util.List;

import static org.junit.Assert.assertFalse;

public class ClosureCompilerTest {

    @Test
    public void testVariableTypeWarning() {
        CompilerOptions options = new CompilerOptions();
        options.setLanguageIn("ECMASCRIPT6");

        ClosureCompiler compiler = new ClosureCompiler();
        compiler.setCompilerOptions(options);

        SourceFile sourceFile = SourceFile.fromCode("input.js", 
            "/**\n" +
            " *\n" +
            " */\n" +
            "function MyClass() {\n" +
            " this.value = 1;\n" +
            "}\n\n" +
            "MyClass.prototype.show = function() {\n" +
            " window.console.log(this.value)\n" +
            "}\n\n" +
            "/**\n" +
            " *\n" +
            " * @type {MyClass}\n" +
            " */\n" +
            "var x = null;\n" +
            "x.show();"