public void testDuplicateTupleInHeaders() {
    Map<String, List<String>> resHeaders = new HashMap<>();
    resHeaders.put("X-Powered-By", Arrays.asList("PHP/5.2.8", "ASP.NET"));

    String result = processResponseHeaders(resHeaders, "X-Powered-By");
    assertEquals("PHP/5.2.8 ASP.NET", result);
}

private String processResponseHeaders(Map<String, List<String>> resHeaders, String name) {
    if (!resHeaders.containsKey(name)) {
        return null;
    }

    List<String> values = resHeaders.get(name);
    if (!values.isEmpty()) {
        StringBuilder val = new StringBuilder();
        for (String str : values) {
            if (val.length() > 0) {
                val.append(" ");
            }
            val.append(str);
        }
        return val.toString();
    }
    return null;
}