public void testInjectMocksForFinalFields() {
    class FinalFieldClass {
        private final Dependency dependency = new Dependency();

        void someMethod() {
            dependency.performAction();
        }
    }

    class Dependency {
        void performAction() {
            // Mocked method
        }
    }

    Dependency mockDependency = mock(Dependency.class);
    FinalFieldClass finalFieldClass = Mockito.spy(new FinalFieldClass());
    Mockito.doNothing().when(mockDependency).performAction();
    MockitoAnnotations.openMocks(finalFieldClass);

    finalFieldClass.someMethod();

    verify(mockDependency).performAction();
}