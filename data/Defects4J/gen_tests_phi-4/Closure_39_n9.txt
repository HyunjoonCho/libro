public void testExternExportTypedef() {
    // Assuming we have a mock or setup for Closure Compiler
    String sourceCode = 
        "function useTypeAbove() {\n" +
        "    var obj = { customType: 'value' };\n" +
        "    console.log(obj.customType);\n" +
        "}\n" +
        "\n" +
        "@typedef {Object} CustomType = {\n" +
        "  key1: string,\n" +
        "  key2: string\n" +
        "};\n" +
        "\n" +
        "function useTypeBelow(optCustomType?: CustomType) {\n" +
        "    if (optCustomType) {\n" +
        "        console.log(optCustomType.key1);\n" +
        "    }\n" +
        "}\n";

    String expectedExtern = 
        "function useTypeAbove() {\n" +
        "    var obj = { customType: 'value' };\n" +
        "    console.log(obj.customType);\n" +
        "}\n" +
        "\n" +
        "function useTypeBelow(optCustomType?: { key1: string,