public void testDuplicateXValues() {
    XYSeries series = new XYSeries("Test Series");
    series.setAllowDuplicateXValues(true);
    series.addOrUpdate(1.0, 10.0);
    series.addOrUpdate(1.0, 20.0);

    XYDataItem firstItem = series.getDataItem(0);
    XYDataItem secondItem = series.getDataItem(1);

    assertEquals(1.0, firstItem.getX().doubleValue(), 0.0);
    assertEquals(10.0, firstItem.getY().doubleValue(), 0.0);
    assertEquals(1.0, secondItem.getX().doubleValue(), 0.0);
    assertEquals(20.0, secondItem.getY().doubleValue(), 0.0);
    assertEquals(2, series.getItemCount());
}