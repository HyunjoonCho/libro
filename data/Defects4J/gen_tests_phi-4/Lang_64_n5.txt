public void testValuedEnumCompareTo() {
    EnumWithValue enum1 = new EnumWithValue(1);
    EnumWithValueDifferentClass enum2 = new EnumWithValueDifferentClass(1);

    assertEquals(0, enum1.compareTo(enum2));
}

private static class EnumWithValue extends ValuedEnum<Integer> {
    private final int value;

    EnumWithValue(int value) {
        this.value = value;
    }

    @Override
    protected Integer doGetEnumValue() {
        return value;
    }
}

private static class EnumWithValueDifferentClass extends ValuedEnum<Integer> {
    private final int value;

    EnumWithValueDifferentClass(int value) {
        this.value = value;
    }

    @Override
    protected Integer doGetEnumValue() {
        return value;
    }
}