public void testArgumentCaptorWithVarargs() {
    List<String> list = mock(List.class);
    doNothing().when(list).add(any());

    // The method under test with varargs
    methodUnderTest(list, "arg1", "arg2", "arg3");

    ArgumentCaptor<String> captor = ArgumentCaptor.forClass(String.class);
    verify(list).add(captor.capture());
    List<String> capturedArgs = captor.getAllValues();

    assertEquals(Arrays.asList("arg1", "arg2", "arg3"), capturedArgs);
}

private void methodUnderTest(List<String> list, String... args) {
    for (String arg : args) {
        list.add(arg);
    }
}