public void testSerializationOfObjectReader() {
    ObjectMapper objectMapper = new ObjectMapper();
    ObjectReader objectReader = objectMapper.readerFor(Object.class);

    try {
        ObjectOutputStream oos = new ObjectOutputStream(new ByteArrayOutputStream());
        oos.writeObject(objectReader);
        oos.close();
        fail("Expected a NotSerializableException due to CompactStringObjectMap in ObjectReader");
    } catch (NotSerializableException e) {
        // Expected exception
    } catch (IOException e) {
        fail("Expected NotSerializableException, but got IOException: " + e.getMessage());
    }
}