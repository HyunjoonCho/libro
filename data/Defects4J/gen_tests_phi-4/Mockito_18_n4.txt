public void testEmptyIterableMock() {
    Iterable<String> mockIterable = Mockito.mock(Iterable.class);
    Mockito.when(mockIterable.iterator()).thenReturn(Collections.emptyIterator());

    assertTrue(mockIterable.iterator().hasNext() == false);
    assertEquals(0, Iterables.size(mockIterable));
}