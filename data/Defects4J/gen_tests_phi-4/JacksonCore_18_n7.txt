public void testOutOfMemoryErrorWritingBigDecimal() {
    ObjectMapper mapper = new ObjectMapper().enable(JsonGenerator.Feature.WRITE_BIGDECIMAL_AS_PLAIN);
    Exception exception = assertThrows(OutOfMemoryError.class, () -> {
        mapper.writeValueAsString(new java.math.BigDecimal("9.223372E+1010671858"));
    });
    assertTrue(exception.getMessage().contains("Java heap space"));
}