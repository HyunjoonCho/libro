public void testGoogScopeCompilerError() {
    try {
        eval("goog.scope(function() { var x = function(){}; });");
        fail("Expected compiler error for var x = function(){}; inside goog.scope");
    } catch (Exception e) {
        assertTrue(e.getMessage().contains("compiler error"));
    }

    try {
        eval("goog.scope(function() { function x() {} });");
        fail("Expected compiler error for function x() {} inside goog.scope");
    } catch (Exception e) {
        assertTrue(e.getMessage().contains("compiler error"));
    }
}