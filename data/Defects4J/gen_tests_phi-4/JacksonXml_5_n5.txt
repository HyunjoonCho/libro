public void testJacksonXmlRootElementWithMultipleMappers() throws Exception {
    final ObjectMapper xmlMapper = new XmlMapper();
    final ObjectMapper noAnnotationsXmlMapper = xmlMapper.copy()
           .configure(MapperFeature.USE_ANNOTATIONS, false)
           .configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);

    String resultWithNoAnnotations = noAnnotationsXmlMapper.writeValueAsString(new XMLTest());
    assertTrue(resultWithNoAnnotations.contains("<myname/>"));

    String resultWithAnnotations = xmlMapper.writeValueAsString(new XMLTest());
    assertTrue(resultWithAnnotations.contains("<myname/>"));
}

To test this, you'll also need to ensure that `XMLTest` is defined as follows:

@JacksonXmlRootElement(localName = "myname")
public class XMLTest {
    // Class implementation
}