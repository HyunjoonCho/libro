public void testDroppingSingleQuoteInJavaScript() {
    String input = "<HTML>\n" +
                   "<body>\n" +
                   " <div>\n" +
                   "  <script language=\"JavaScript1.1\"> \n" +
                   "    document.write('</scr' + 'ipt>');\n" +
                   "  </script>\n" +
                   " </div>\n" +
                   "</body>\n" +
                   "</HTML>";

    String expectedOutput = "<html>\n" +
                            " <body> \n" +
                            "  <div> \n" +
                            "   <script language=\"JavaScript1.1\"> \n" +
                            "    document.write('</scr + 'ipt>');\n" +
                            "   </script> \n" +
                            "  </div>  \n" +
                            "</body>\n" +
                            "</html>";

    String actualOutput = processHTML(input);

    assertEquals(expectedOutput, actualOutput);
}

// Dummy method to simulate processing
private String processHTML(String input) {
    // Simulate the unexpected behavior of dropping the single quote
    return input.replace("'</scr' + 'ipt>\"", "' + 'ipt>