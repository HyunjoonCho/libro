public void testInvalidHttpCharsetHandling() {
    String invalidCharset = "UTF-8"; // Note the uppercase 'UTF-8'
    byte[] byteData = "<html><head><meta charset=\"utf-8\"></head><body>Hello</body></html>".getBytes();
    try {
        Validate.notEmpty(invalidCharset, "Must set charset arg to character set of file to parse. Set to null to attempt to detect from HTML");
        String docData = Charset.forName(invalidCharset).decode(ByteBuffer.wrap(byteData)).toString();
        // If no exception, the test should fail as it should have caught an exception
        fail("UnsupportedCharsetException was expected but not thrown");
    } catch (UnsupportedCharsetException e) {
        // Expected exception, test passes
    }
}