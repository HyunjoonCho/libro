public void testUpdateReaderAndWriterForRFC7159() {
    String jsonInput = "42"; // Top-level value type (number)
    JsonFactory factory = new JsonFactory();
    try (JsonParser parser = factory.createJsonParser(jsonInput)) {
        assertEquals(JsonToken.VALUE_NUMBER_INT, parser.nextToken());
        assertEquals(42, parser.getIntValue());
    }
    
    NumberOutput numberOutput = new NumberOutput();
    JsonGenerator generator = factory.createGenerator(numberOutput);
    generator.writeStartObject();
    generator.writeNumberField("value", 42);
    generator.writeEndObject();
    generator.flush();
    
    String expectedJsonOutput = "{\"value\":42}";
    String actualJsonOutput = new String(numberOutput.toByteArray());
    assertEquals(expectedJsonOutput, actualJsonOutput);
}