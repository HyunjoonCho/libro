public void testMatchCountUsage() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    String json = "{\"name\":\"John\",\"age\":30,\"city\":\"New York\"}";

    // Create a filter that matches the "name" field
    SimpleFilterProvider filters = new SimpleFilterProvider().addFilter("nameFilter",
            SimpleBeanPropertyFilter.filterOutAllExcept("name"));

    // Set up the filtering generator delegate
    FilteringGeneratorDelegate generatorDelegate = new FilteringGeneratorDelegate(mapper.getFactory().getCodec());
    generatorDelegate.setFilters(filters);

    // Wrap the generator delegate with a custom delegate that checks matchCount
    FilteringParserDelegate parserDelegate = new FilteringParserDelegate(mapper.getFactory().getCodec());
    parserDelegate.setFilters(filters);

    // Create a custom generator that uses the delegate
    JsonGenerator generator = mapper.getFactory().createGenerator(new StringBuilder(), generatorDelegate);
    generator.writeStartObject();
    generator.writeStringField("name", "John");
    generator.writeNumberField("age", 30);
    generator.writeStringField("city", "New York");
    generator.writeEndObject();
    generator.close();

    // Parse the JSON back to check if the filter was applied
    JsonParser parser = mapper.getFactory().