public void testGsonNullTypeAdapterFactory() {
    GsonBuilder builder = new GsonBuilder();
    builder.registerTypeAdapterFactory(null);
    Gson gson = builder.create();
    try {
        gson.fromJson("{\"key\":\"value\"}", Object.class);
        fail("Expected NullPointerException");
    } catch (NullPointerException e) {
        // Expected exception
    }
}