public void testArgumentCaptorVarargs() {
    List<String> list = mock(List.class);
    when(list.toArray(new String[0])).thenReturn(new String[]{"test1", "test2"});

    // Simulate the method call
    list.toArray(new String[0]);

    // ArgumentCaptor to capture varargs
    ArgumentCaptor<String[]> captor = ArgumentCaptor.forClass(String[].class);
    verify(list).toArray(captor.capture());

    // Check if the captured value is the expected array
    String[] capturedArray = captor.getValue();
    assertEquals("test1", capturedArray[0]);
    assertEquals("test2", capturedArray[1]);
}