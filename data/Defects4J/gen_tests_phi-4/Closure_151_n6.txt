public void testCompilerVersionOption() {
    ByteArrayOutputStream out = new ByteArrayOutputStream();
    ByteArrayOutputStream err = new ByteArrayOutputStream();
    try {
        Process process = new ProcessBuilder("java", "-jar", "compiler.jar", "--version")
           .redirectOutput(out)
           .redirectError(err)
           .start();
        process.waitFor();
        assertNotEquals(0, process.exitValue());
        assertFalse(out.toString().trim().matches(".*\\d+.*"));
        assertTrue(err.toString().contains("--version is not supported"));
    } catch (Exception e) {
        fail("Exception should not be thrown: " + e.getMessage());
    }
}