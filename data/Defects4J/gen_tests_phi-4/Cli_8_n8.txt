public void testHelpFormatterWrap() {
    HelpFormatter formatter = new HelpFormatter();
    formatter.setColumnWidth(30);

    String option = "  --long-option  This is a very long description that should wrap correctly over multiple lines.";
    String expected = "  --long-option  This is a very long\n" +
                      "     description that should\n" +
                      "     wrap correctly over\n" +
                      "     multiple lines.";

    ByteArrayOutputStream outContent = new ByteArrayOutputStream();
    System.setOut(new PrintStream(outContent));
    
    formatter.printHelp("Test", new Options(), true);
    
    String actual = outContent.toString();
    
    assertEquals(expected, actual);
}