public void testAssignmentToObjectInConditional() {
    class Result {
        Object prop1;
        String prop2;
        String prop3;
    }

    Result func(boolean a, boolean b) {
        Result results = null;
        if (a) {
            results = new Result();
            results.prop1 = new Object() {{ put("a", 3); }};
        }
        if (b) {
            if (results == null) {
                results = new Result();
            }
            results.prop2 = "prop2";
        } else {
            if (results == null) {
                results = new Result();
            }
            results.prop3 = "prop3";
        }
        return results;
    }

    // Test case that triggers the error
    Result result = func(true, false);
    assertNotNull(result);
    assertNotNull(result.prop1);
    assertNull(result.prop2);
    assertEquals("prop3", result.prop3);
}