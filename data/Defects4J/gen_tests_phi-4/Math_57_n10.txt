public void testKMeansPlusPlusTruncationIssue() {
    int k = 3;
    int numPoints = 10;
    double[][] points = generateRandomPoints(numPoints, 0.5); // Small distances

    KMeansPlusPlusClusterer<DoublePoint> clusterer = new KMeansPlusPlusClusterer<>(k, null);
    Cluster<DoublePoint> cluster = clusterer.cluster(new Dataset<>(points));

    for (Point clusterCenter : cluster.getPoints()) {
        assertTrue(clusterCenter.getPoint().length() < 1.0);
    }
}

private double[][] generateRandomPoints(int numPoints, double maxDistance) {
    double[][] points = new double[numPoints][2];
    Random random = new Random();

    for (int i = 0; i < numPoints; i++) {
        points[i][0] = random.nextDouble() * maxDistance;
        points[i][1] = random.nextDouble() * maxDistance;
    }

    return points;
}

private static class DoublePoint extends Point {
    public DoublePoint(double[] coordinates) {
        super(coordinates);
    }
}