public void testValuedEnumCompareToIssue() {
    ValuedEnum firstEnum = new FirstValuedEnum(1);
    ValuedEnum secondEnum = new SecondValuedEnum(1);

    assertEquals(0, firstEnum.compareTo(secondEnum));
}

private static class FirstValuedEnum extends ValuedEnum<Integer> {
    private final Integer value;

    public FirstValuedEnum(Integer value) {
        this.value = value;
    }

    @Override
    public Integer getEnumValue() {
        return value;
    }
}

private static class SecondValuedEnum extends ValuedEnum<Integer> {
    private final Integer value;

    public SecondValuedEnum(Integer value) {
        this.value = value;
    }

    @Override
    public Integer getEnumValue() {
        return value;
    }
}