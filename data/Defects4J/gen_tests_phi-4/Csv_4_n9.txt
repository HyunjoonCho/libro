public void testCsvParserGetHeaderMap() {
    CSVParser parser = CSVParser.parse("value1,value2,value3", CSVFormat.DEFAULT.withHeader());
    parser.getHeaderMap(); // This should not throw NPE
    
    parser = CSVParser.parse("value1,value2,value3", CSVFormat.DEFAULT);
    assertThrows(NullPointerException.class, () -> parser.getHeaderMap());
}