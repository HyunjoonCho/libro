public void testRequiredOptions() {
    Options options = new Options();
    options.addOption("h", "help", false, "display help");
    options.addOption("c", true, "config file");

    CommandLineParser parser = new GnuParser();
    try {
        CommandLine cmd = parser.parse(options, new String[]{"-c", "arg"});
        assertEquals(new String[]{"-h"}, cmd.getOptionNames());
    } catch (ParseException e) {
        fail("Unexpected ParseException: " + e.getMessage());
    }
}