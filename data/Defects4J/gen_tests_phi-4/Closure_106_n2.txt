public void testCollapsePropertiesException() {
    String jsCode = 
        "goog.provide('MusicTheory');\n" +
        "MusicTheory.someFunction = function() {};\n" +
        "goog.exportSymbol('MusicTheory.someFunction', MusicTheory.someFunction);\n";

    Compiler compiler = new Compiler();
    compiler.compileString(jsCode, "Test.js", CompilerOptions.LanguageMode.ECMASCRIPT3, null, null, null);
    Throwable thrown = assertThrows(RuntimeException.class, () -> {
        compiler.compile();
    });

    assertTrue(thrown.getMessage().contains("java.lang.IllegalArgumentException"));
}

### Explanation:

- **JavaScript Code**: The `jsCode` string simulates the JavaScript code that might be causing the issue. It includes a `goog.pro