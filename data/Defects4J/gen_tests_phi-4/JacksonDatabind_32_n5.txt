public void testDeserializationError() throws IOException {
    ObjectMapper mapper = new ObjectMapper();
    // This line should not throw an exception
    mapper.readValue("[]", SomeObjectThatCanBeAggregated.class);
    mapper.readValue("[{}]", SomeObjectThatCanBeAggregated.class);
    mapper.readValue("{\"key\":null}", SomeObjectThatCanBeAggregated.class);

    // This line reproduces the error
    assertThrows(JsonMappingException.class, () -> {
        mapper.readValue("{}", SomeObjectThatCanBeAggregated.class);
    });
}