public void testDuplicateHeaderNames() throws IOException {
    String csvContent = "Col1,Col2,Col2,Col3,Col4\n1,2,3,4,5\n4,5,6,7,8";
    try (Reader reader = new StringReader(csvContent)) {
        CSVFormat myFormat = CSVFormat.RFC4180.withDelimiter(",").withQuoteChar('"')
               .withQuotePolicy(Quote.MINIMAL).withIgnoreSurroundingSpaces(true)
               .withHeader().withSkipHeaderRecord(true);

        Iterable<CSVRecord> records = myFormat.parse(reader);
        // Skip the header record
        Iterator<CSVRecord> iterator = records.iterator();
        if (iterator.hasNext()) {
            iterator.next(); // Skip header
        }

        CSVRecord record = iterator.next();
        assertEquals("1", record.get("Col1"));
        assertEquals("2", record.get("Col2")); // Should get the second "Col2"
        assertEquals("4", record.get("Col3"));
        assertEquals("5", record.get("Col4"));
    }
}