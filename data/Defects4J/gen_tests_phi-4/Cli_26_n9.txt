public void testOptionBuilderResetFailure() {
    OptionBuilder.withArgName("test");
    try {
        OptionBuilder.create();
        fail("Expected IllegalArgumentException");
    } catch (IllegalArgumentException expected) {}

    Option option = OptionBuilder.hasArg()
           .withArgName("arg")
           .withDescription("Description")
           .create("option");

    assertEquals("arg", option.getArgName());
}