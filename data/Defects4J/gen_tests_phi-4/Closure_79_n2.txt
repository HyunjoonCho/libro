public void testRuntimeWithExternsPrototype() {
    try {
        // Simulate the command that causes the failure
        ProcessBuilder pb = new ProcessBuilder(
            "java", "-jar", "compiler.jar", "--compilation_level", "ADVANCED_OPTIMIZATIONS",
            "--externs", "prototype.js", "--js", "bootloader.js"
        );
        pb.redirectErrorStream(true);
        Process process = pb.start();
        assertEquals(0, process.waitFor());
    } catch (Exception e) {
        // Expecting a RuntimeException due to the compiler error
        assertTrue(e instanceof RuntimeException);
        assertTrue(e.getMessage().contains("INTERNAL COMPILER ERROR"));
    }
}