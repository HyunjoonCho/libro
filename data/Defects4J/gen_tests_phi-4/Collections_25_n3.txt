public void testCollatedIteratorWithNullComparator() {
    List<List<Integer>> lists = Arrays.asList(
        Arrays.asList(3, 1, 2),
        Arrays.asList(6, 4, 5)
    );

    Iterator<Integer> iterator = IteratorUtils.collatedIterator(lists, null);
    boolean exceptionThrown = false;
    try {
        while (iterator.hasNext()) {
            iterator.next();
        }
    } catch (Exception e) {
        exceptionThrown = true;
    }
    assertTrue(exceptionThrown);
}