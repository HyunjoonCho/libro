public void testInconsistentTextBufferBehavior() {
    TextBuffer buffer = new TextBuffer(new BufferRecycler());
    buffer.resetWithEmpty();
    
    Object firstCall = buffer.getTextBuffer();
    assertEquals(null, firstCall, "First call to getTextBuffer should return null.");
    
    String contents = buffer.contentsAsString();
    assertEquals("", contents, "contentsAsString should return an empty string.");
    
    Object secondCall = buffer.getTextBuffer();
    assertEquals(new int[0], secondCall, "Second call to getTextBuffer should return an empty array.");
}