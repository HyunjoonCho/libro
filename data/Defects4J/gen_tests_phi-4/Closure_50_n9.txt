public void testArrayJoinOptimization() {
    String[] array = { "constant", confirmUserInput() };
    assertEquals("constant," + confirmUserInput(), array.join(","));
    assertEquals("constant" + confirmUserInput(), array.join());
}

private String confirmUserInput() {
    // Mocking user input for the test
    return "userInput";
}

Note: The `confirmUserInput()` method is a mock to simulate user input, as actual user input isn't feasible in a JUnit test.