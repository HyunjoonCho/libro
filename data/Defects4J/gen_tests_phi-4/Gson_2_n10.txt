public void testTypeHierarchyAdapterFailure() {
    ObjectMapper mapper = new ObjectMapper();
    mapper.enable(SerializationFeature.ENABLE_DEFAULT_TYPING);

    String carJson = "{\"type\":\"Car\",\"model\":\"Sedan\"}";
    try {
        Car car = mapper.readValue(carJson, Car.class);
        fail("Expected JsonMappingException");
    } catch (JsonMappingException e) {
        // Expected exception
    }

    String truckJson = "{\"type\":\"Truck\",\"model\":\"Pickup\"}";
    try {
        Car car = mapper.readValue(truckJson, Car.class);
        fail("Expected JsonMappingException");
    } catch (JsonMappingException e) {
        // Expected exception
    }
}