public void testZipVersionNeededMismatch() throws IOException {
    ByteArrayOutputStream baos = new ByteArrayOutputStream();
    try (ZipOutputStream zos = new ZipOutputStream(new BufferedOutputStream(baos))) {
        ZipEntry entry = new ZipEntry("test.txt");
        zos.putNextEntry(entry);
        zos.write("Test content".getBytes());
        zos.closeEntry();
    }

    byte[] zipBytes = baos.toByteArray();
    try (ZipFile zipFile = new ZipFile(new ByteArrayInputStream(zipBytes))) {
        ZipEntry entry = zipFile.getEntry("test.txt");
        ZipInputStream zis = new ZipInputStream(new ByteArrayInputStream(zipBytes));
        ZipEntry localEntry = zis.getNextEntry();

        assertEquals(ZIP\_64\_MIN\_VERSION, entry.getVersionNeededToExtract());
        assertEquals(INITIAL\_VERSION, localEntry.getVersionNeededToExtract());
    }
}