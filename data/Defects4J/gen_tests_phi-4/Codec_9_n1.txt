public void testBase64EncodeWithInvalidMaxResultSize() {
    byte[] binaryData = "test data".getBytes();
    int maxResultSize = binaryData.length * 2 / 3 + 2; // Valid size for non-chunked encoding

    try {
        Base64.encodeBase64(binaryData, false, false, maxResultSize);
        fail("Expected IllegalArgumentException for valid maxResultSize with isChunked=false");
    } catch (IllegalArgumentException e) {
        // Expected exception
    }
}