public void testArArchiveDeletion() throws IOException {
    File archiveFile = new File("/tmp/bla.ar");
    ArchiveReader reader = new ArchiveReader(archiveFile);

    // Assuming ArchiveReader has methods to delete and list entries
    reader.deleteEntry("test2.xml");
    
    // Check if getNextEntry does not return test2.xml
    ArchiveEntry entry;
    while ((entry = reader.getNextEntry())!= null) {
        assertEquals("test1.xml", entry.getName());
    }

    // Verify the archive content using command line
    Process process = Runtime.getRuntime().exec("ar -t " + archiveFile.getAbsolutePath());
    BufferedReader readerStream = new BufferedReader(new InputStreamReader(process.getInputStream()));
    List<String> entries = new ArrayList<>();
    String line;
    while ((line = readerStream.readLine())!= null) {
        entries.add(line);
    }
    assertTrue(entries.contains("test1.xml"));
    assertFalse(entries.contains("test2.xml"));

    // Add a new file and check for format error
    reader.addEntry("test.txt", "This is a test file.");
    process = Runtime.getRuntime().exec("ar -t " + archiveFile.getAbsolutePath());
    readerStream = new BufferedReader(new InputStreamReader(process.getInputStream()));
    entries.clear();