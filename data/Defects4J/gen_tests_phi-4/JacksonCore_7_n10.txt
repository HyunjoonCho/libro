public void testJsonGeneratorWriteStringAfterWriteFieldName() {
    JsonFactory factory = new JsonFactory();
    StringWriter writer = new StringWriter();
    JsonGenerator generator = factory.createGenerator(writer);
    
    try {
        generator.writeStartObject();
        generator.writeFieldName("expectedFieldName");
        generator.writeString("unexpectedStringValue");
        fail("Expected an exception to be thrown when writeString is called after writeFieldName.");
    } catch (IOException e) {
        assertTrue(e.getMessage().contains("writeFieldName"));
    } finally {
        generator.close();
    }
}