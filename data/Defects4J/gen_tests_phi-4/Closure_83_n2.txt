public void testVersionOption() {
    ProcessBuilder processBuilder = new ProcessBuilder("java", "-jar", "compiler.jar", "--version");
    processBuilder.redirectErrorStream(true);
    try {
        Process process = processBuilder.start();
        String output = new String(process.getInputStream().readAllBytes());
        
        assertTrue(output.contains("Closure Compiler (http://code.google.com/closure/compiler)"));
        assertTrue(output.contains("Version: 698"));
        assertTrue(output.contains("Built on: 2011/01/17 12:16"));
        assertTrue(output.contains("Опция \"--version\" требует операнд (Option \"--version\" requires operand)"));
    } catch (IOException e) {
        fail("Process execution failed: " + e.getMessage());
    }
}