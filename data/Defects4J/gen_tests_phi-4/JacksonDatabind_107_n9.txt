public void testDeserializationWithDeserializationProblemHandler() throws Exception {
    ObjectMapper mapper = new ObjectMapper()
       .enableDefaultTyping(DefaultTyping.NON_FINAL, JsonTypeInfo.As.PROPERTY)
       .registerModule(new SimpleModule()
           .addHandler(new DeserializationProblemHandler() {
                @Override
                public Object handleUnknownTypeId(DeserializationContext ctxt, JavaType type, String className, TypeIdResolver idResolver, String id) {
                    return Void.class;
                }
            }));

    String json = "{\"type\":\"unknown\"}";
    mapper.readValue(json, Object.class);
}