public void testPosixParserStopAtNonOption() {
    PosixParser parser = new PosixParser();
    parser.addOption(new Option('a', false, "option-a"));
    parser.addOption(new Option('b', false, "option-b"));
    parser.setStopAtNonOption(true);

    List<CommandLine> parsedCommands = new ArrayList<>();
    try {
        parser.parse("azb".split(" "), parsedCommands::add);
    } catch (ParseException e) {
        // Handle exception
    }

    assertEquals(1, parsedCommands.size());
    CommandLine command = parsedCommands.get(0);
    assertEquals(1, command.getOptionValues('a').size());
    assertEquals("zb", command.getOptionValues('a').get(0));
    assertFalse(command.hasOption('b'));
}