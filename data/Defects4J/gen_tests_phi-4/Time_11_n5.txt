public void testNpeInDateTimeZoneBuilder() throws Exception {
    DateTimeZoneBuilder builder = getTestDataTimeZoneBuilder();
    
    // First thread
    DateTimeZone dtz1 = builder.toDateTimeZone("TestDTZ1", true);
    
    // Second thread
    Thread t = new Thread(() -> {
        try {
            DateTimeZone dtz2 = builder.toDateTimeZone("TestDTZ2", true);
        } catch (NullPointerException e) {
            // Expected exception due to NPE in concurrent access
            System.out.println("Caught expected NPE in second thread.");
        }
    });
    t.start();
    t.join();
}

private DateTimeZoneBuilder getTestDataTimeZoneBuilder() {
    return new DateTimeZoneBuilder()
       .addCutover(1601, 'w', 1, 1, 1, false, 7200000)
       .setStandardOffset(3600000)
       .addRecurringSavings("", 3600000, 1601, Integer.MAX_VALUE, 'w', 3, -1, 1, false, 7200000)
       .addRecurringSavings("", 0, 1601, Integer.MAX_VALUE, 'w', 10,