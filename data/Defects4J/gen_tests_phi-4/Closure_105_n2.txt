public void testArrayJoinMungedIncorrectly() {
    // Mocking the jQuery-like structure
    class MockElement {
        String className = "test class another";
    }

    class MockJQuery { 
        MockElement[] elements = new MockElement[]{ new MockElement() };
        
        boolean hasClass(String selector) {
            return (elements.length > 0)?
               !("[" + " " + elements[0].className + " " + "]").indexOf("[" + " " + selector + " " + "]") == -1 :
                false;
        }
    }

    MockJQuery jq = new MockJQuery();

    // Correct behavior
    assertTrue(jq.hasClass("test"));

    // Munged behavior
    MockJQuery mungedJq = new MockJQuery() {
        @Override
        boolean hasClass(String selector) {
            return (elements.length > 0)?
                ("" + elements[0].className).indexOf("" + selector)!= -1 :
                false;
        }
    };

    // Incorrect behavior
    assertFalse(mungedJq.hasClass("test"));
}