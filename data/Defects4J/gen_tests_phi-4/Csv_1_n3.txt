public void testExtendedBufferReaderEOLHandling() {
    String input = "Line1\rLine2\nLine3\r\nLine4";
    ExtendedBufferReader reader = new ExtendedBufferReader(new StringReader(input));

    int lineCount = 0;
    String line;
    while ((line = reader.readLine())!= null) {
        lineCount++;
    }

    assertEquals(4, lineCount); // Expecting 4 lines
}