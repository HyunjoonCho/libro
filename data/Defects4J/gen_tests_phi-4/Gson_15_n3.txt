public void testJsonWriterValueDouble() {
    JsonFactory factory = new JsonFactory();
    JsonGenerator generator = factory.createGenerator(new ByteArrayOutputStream());
    
    generator.useDefaultPrettyPrinter();
    generator.configure(JsonGenerator.Feature.USE_WRITE_STATE_FOR_LENGTH, false);
    generator.configure(JsonGenerator.Feature.AUTO_CLOSE_TARGET, false);
    generator.configure(JsonGenerator.Feature.ESCAPE_NON_ASCII, false);
    generator.configure(JsonGenerator.Feature.QUOTE_FIELD_NAMES, false);
    generator.configure(JsonGenerator.Feature.QUOTE_NON_NUMERIC_NUMBERS, false);
    generator.configure(JsonGenerator.Feature.WRITE_NUMBERS_AS_STRINGS, false);
    generator.configure(JsonGenerator.Feature.IGNORE_UNKNOWN, false);
    generator.configure(JsonGenerator.Feature.CANONICALIZE_FIELD_NAMES, false);
    generator.configure(JsonGenerator.Feature.CLOSE_CLOSEABLE, false);
    generator.configure(JsonGenerator.Feature.STRICT_DUPLICATE_DETECTION, false);
    generator.configure(JsonGenerator.Feature.ESCAPE_NON_ASCII, false);
    generator.configure(JsonGenerator.Feature.INDENT_OUTPUT, true);
    generator.configure(JsonGenerator.Feature.WRITE_BIGDECIMAL_AS_PLAIN, false);
    generator.configure(JsonGenerator.Feature.WRITE_BIG_INTEGER_AS_PLAIN, false);

    try {
        generator.useDefaultPrettyPrinter();
        generator.useDefaultPrettyPrinter();
        generator