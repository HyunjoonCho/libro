public void testMissingPropertiesFromBaseClass() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    mapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL, JsonTypeInfo.As.PROPERTY);

    Sub sub = new Sub();
    String expectedJson = "{\"@type\":\"Sub\",\"base\":1,\"sub\":2}";
    String actualJson = mapper.writeValueAsString(sub);

    assertEquals(expectedJson, actualJson);
}