public void testCommandLineGetOptionValue() {
    Options options = new Options();
    Option debug = Option.builder("d")
                        .withLongOpt("debug")
                        .withDescription("turn on debugging")
                        .create();
    options.addOption(debug);

    CommandLineParser parser = new DefaultParser();
    String[] args = {"--debug", "true"};
    try {
        CommandLine cmd = parser.parse(options, args);
        String dbg = cmd.getOptionValue("debug");
        assertEquals("true", dbg);

        dbg = cmd.getOptionValue('d');
        assertEquals("true", dbg);
    } catch (ParseException e) {
        fail("ParseException should not have been thrown");
    }
}