public void testDuplicateHeaderEntries() {
    try {
        CSVFormat format = CSVFormat.DEFAULT.withHeader("column1", "column2", "column1");
        fail("Duplicate header entries should have caused an IllegalArgumentException");
    } catch (IllegalArgumentException e) {
        // Expected exception
        assertTrue(e.getMessage().contains("Duplicate header entries"));
    }
}