public void testVersionNeededToExtractMismatch() throws IOException {
    ByteArrayOutputStream baos = new ByteArrayOutputStream();
    try (ZipArchiveOutputStream zos = new ZipArchiveOutputStream(new BufferedOutputStream(baos))) {
        zos.setMethod(ZipArchiveOutputStream.DEFLATED);
        zos.setLargeFiles(true); // Emulate Zip64 usage
        ZipArchiveEntry entry = new ZipArchiveEntry("test.txt");
        entry.setSize(1024);
        zos.putArchiveEntry(entry);
        zos.write(new byte[1024]); // Write some data
        zos.closeArchiveEntry();
        zos.finish();
    }

    byte[] zipData = baos.toByteArray();
    ZipFile zipFile = new ZipFile(new ByteArrayInputStream(zipData));

    // Read the local file header
    ZipEntry localEntry = zipFile.getEntry("test.txt");
    byte[] localHeader = new byte[30];
    zipFile.getInputStream(localEntry).read(localHeader);
    int localVersion = ((localHeader[6] & 0xFF) << 8) | (localHeader[7] & 0xFF);

    // Read the central directory entry
    ZipEntry centralEntry = zipFile.getEntry("test.txt");
    byte[] centralDirectory