public void testOverlyAggressiveCommaRemoval() {
    String originalCode = "function Test(n) {\n" +
                          " var i = 0;\n" +
                          " return typeof n!== \"undefined\"? (i = n.length) : (n = \"foo\"), i\n" +
                          "}";
    String optimizedCode = "function Test(a) {\n" +
                           " return 0\n" +
                           "}";

    String dummy = "6chars";
    Object originalResult = executeJavaScript(originalCode + "Test('" + dummy + "')");
    Object optimizedResult = executeJavaScript(optimizedCode + "Test('" + dummy + "')");

    assertEquals(6, originalResult);
    assertEquals(0, optimizedResult);
}

private Object executeJavaScript(String script) {
    // This function should execute the JavaScript code and return the result.
    // Implementation would depend on the JavaScript engine used, e.g., Nashorn or Rhino.
    return null; // Placeholder for actual execution logic
}

**Note:** The `executeJavaScript` method is a placeholder for the actual logic to execute JavaScript code, which would typically involve using a JavaScript engine like Nashorn (for Java 8) or an alternative like Gra