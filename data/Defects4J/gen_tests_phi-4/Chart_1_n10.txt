public void testIssue983() {
    AbstractCategoryItemRenderer renderer = new AbstractCategoryItemRenderer() {
        @Override
        public int getIndexOf(Paintable plotItem) {
            return 0; // Mock index
        }

        @Override
        public CategoryPlot getPlot() {
            return new CategoryPlot(null, null, null, null); // Mock plot with no dataset
        }
    };

    try {
        renderer.getLegendItems();
        fail("Expected NullPointerException due to null dataset");
    } catch (NullPointerException e) {
        // Expected exception
    }
}