import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.jsoup.select.Elements;

public void testIssueWithTr() {
    Document doc = Jsoup.parse("<table><tbody></tbody></table>");
    Element tbody = doc.select("tbody").first();
    Element newRow = doc.createElement("tr");
    newRow.append("<td>New Row</td>");
    tbody.append(newRow);

    Elements trs = doc.select("tr");
    assertEquals(1, trs.size());
    Elements tables = doc.select("table");
    assertEquals(1, tables.size());

    String expectedHtml = "<table><tbody><tr><td>New Row</td></tr></tbody></table>";
    assertEquals(expectedHtml, doc.html());
}