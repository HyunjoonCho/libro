public void testStackOverflowErrorOnTypeVariableRecursion() {
    try {
        new Gson().getAdapter(new TypeToken<TestType<X>>(){}.getType());
        fail("Expected a StackOverflowError due to TypeVariable recursion");
    } catch (StackOverflowError e) {
        // Expected exception
    }
}

Note: For this test to run, you need to define a placeholder class `X`. You can define it as an abstract class or interface to avoid compilation errors:

private static abstract class X {}