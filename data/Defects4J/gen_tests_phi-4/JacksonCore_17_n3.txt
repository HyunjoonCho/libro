public void testJsonGenerationException() {
    String problematicJson = "{ \"field\": \"Some text with multi-byte Unicode: \ud83d\ude00x\" }";

    ObjectMapper mapper = new ObjectMapper();
    try {
        mapper.writeValue(new File("output.json"), problematicJson);
        fail("Expected JsonGenerationException to be thrown");
    } catch (JsonGenerationException e) {
        assertEquals("Split surrogate on writeRaw() input (last character)", e.getOriginalMessage());
    } catch (IOException e) {
        fail("Expected JsonGenerationException, but IOException was thrown");
    }
}