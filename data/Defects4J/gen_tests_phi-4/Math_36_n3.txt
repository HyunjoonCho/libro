public void testBigFractionDoubleValue() {
    BigInteger largeNumerator = new BigInteger("1").shiftLeft(308); // 308-digit number
    BigInteger largeDenominator = new BigInteger("2");
    BigFraction fraction = new BigFraction(largeNumerator, largeDenominator);
    assertFalse(Double.isNaN(fraction.doubleValue()));
    assertEquals(0.5, fraction.doubleValue(), 0.0);
}