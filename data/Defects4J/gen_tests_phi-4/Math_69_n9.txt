public void testPearsonsCorrelationPValuesPrecision() {
    double[] x = new double[1000];
    double[] y = new double[1000];
    for (int i = 0; i < x.length; i++) {
        x[i] = i;
        y[i] = 2.0 * i;
    }

    PearsonsCorrelation correlation = new PearsonsCorrelation();
    correlation.addData(x, y);

    double tStatistic = correlation.getCorrelation();
    NormalDistribution normalDistribution = new NormalDistribution();
    double tDistributionPValue = 2.0 * normalDistribution.cumulativeProbability(-tStatistic);

    // Compare with the original method
    double incorrectPValue = 2.0 * (1 - normalDistribution.cumulativeProbability(tStatistic));

    assertNotEquals(0.0, incorrectPValue, "Incorrect p-value calculation due to precision issues");
    assertTrue(tDistributionPValue > 0, "Corrected p-value should be greater than 0");
}