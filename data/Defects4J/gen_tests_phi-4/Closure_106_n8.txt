public void testCollapsePropertiesException() {
    String jsCode = "var a = {b: 1}; window.foo = {a: a};";
    Compiler compiler = new Compiler();
    compiler.compileOptions().setCompilationLevel(CompilationLevel.ADVANCED_OPTIMIZATIONS);
    compiler.addSource("test.js", jsCode);

    try {
        compiler.compile();
        fail("Expected an IllegalArgumentException to be thrown");
    } catch (IllegalArgumentException e) {
        // Expected exception
    }
}

This test case sets up a similar environment and checks for the `IllegalArgumentException` that is described in the bug report. The JavaScript code is designed to trigger the issue by using `goog.exportSymbol()` in a way that would cause the compiler to fail.