public void testJacksonXmlRootElementMalfunction() throws Exception {
    final ObjectMapper xmlMapper = new XmlMapper();
    final ObjectMapper noAnnotationsXmlMapper = xmlMapper.copy()
           .configure(MapperFeature.USE_ANNOTATIONS, false)
           .configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);

    String resultWithoutAnnotations = noAnnotationsXmlMapper.writeValueAsString(new XMLTest());
    String expectedResultWithoutAnnotations = "<myname/>";

    String resultWithAnnotations = xmlMapper.writeValueAsString(new XMLTest());
    String expectedResultWithAnnotations = "<myname/>";

    assertEquals(expectedResultWithoutAnnotations, resultWithoutAnnotations);
    assertEquals(expectedResultWithAnnotations, resultWithAnnotations);
}