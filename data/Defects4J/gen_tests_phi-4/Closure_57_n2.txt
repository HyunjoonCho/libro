public void testCompilerCrashWithGoogProvideNonString() {
    String sourceCode = "goog.provide(some.function);";
    try {
        // Simulate compilation process
        compileSourceCode(sourceCode);
        fail("Expected RuntimeException due to non-string goog.provide");
    } catch (RuntimeException e) {
        assertTrue(e.getMessage().contains("GETPROP 17 [originalname: Spike] [source_file: file.js] is not a string node"));
    }
}

private void compileSourceCode(String code) {
    // Simulate the internal compiler process that would crash
    if (code.contains("goog.provide(")) {
        throw new RuntimeException("INTERNAL COMPILER ERROR. Please email js-compiler@google.com with this stack trace.");
    }
}