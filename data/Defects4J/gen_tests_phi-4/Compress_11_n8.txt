public void testTextFileDetectedAsTarArchive() {
    ByteArrayOutputStream baos = new ByteArrayOutputStream();
    try (OutputStream os = new FileOutputStream("test.txt")) {
        os.write("This is a short text file.".getBytes());
        os.flush();
    }
    InputStream in = new ByteArrayInputStream(baos.toByteArray());
    
    ArchiveStreamFactory factory = new ArchiveStreamFactory();
    ArchiveInputStream ais = factory.createArchiveInputStream(in);
    assertNotNull("Text file less than 100 bytes should not be detected as a tar archive", ais);
    
    ais.close();
}