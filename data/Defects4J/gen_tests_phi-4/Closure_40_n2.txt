public void testSmartNameRemovalCompilerCrash() {
    try {
        // Simulate the code that causes the compiler crash
        var goog = new Object() {
            void inherits(Object x, Object y) {}
        };
        
        var ns = new Object() {
            class PageSelectionModel {
                PageSelectionModel() {}
                
                class FooEvent {
                    FooEvent() {}
                }
                
                class SelectEvent {
                    SelectEvent() {}
                }
                
                class ChangeEvent extends FooEvent {
                    ChangeEvent() {}
                }
            }
        };
        
        goog.inherits(ns.PageSelectionModel.ChangeEvent, ns.PageSelectionModel.FooEvent);
        
        fail("Expected an IllegalStateException due to smartNameRemoval logic.");
    } catch (IllegalStateException e) {
        // Expected exception due to compiler crash simulation
    }
}