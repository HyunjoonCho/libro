public void testNegativeValueWithRestrictNonNegative() {
    // Define the function: 1 * x + 1 * y + 0
    LinearObjectiveFunction function = new LinearObjectiveFunction(new double[]{1, 1, 0}, 0);

    // Define the constraint: 1 * x + 0 * y = 1
    LinearConstraint constraint = new LinearConstraint(new double[]{1, 0, 0}, Relationship.EQ, 1);

    // Create the set of constraints
    LinearConstraintSet constraintSet = new LinearConstraintSet(constraint);

    // Create the SimplexSolver
    SimplexSolver solver = new SimplexSolver();

    // Solve the optimization problem with restrictToNonNegative true
    double[] solution = solver.optimize(function, constraintSet, GoalType.MINIMIZE, true);

    // Check the solution
    assertEquals(1.0, solution[0], 1e-6);
    assertEquals(-1.0, solution[1], 1e-6);
}