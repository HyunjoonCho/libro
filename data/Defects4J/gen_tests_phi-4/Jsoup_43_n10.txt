public void testElementSiblingIndex() {
    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
    DocumentBuilder builder = factory.newDocumentBuilder();
    org.w3c.dom.Document doc = builder.newDocument();

    // Create table with duplicate rows
    Element table = doc.createElement("table");
    doc.appendChild(table);

    String rowContent = "<tr><td>Cell1</td><td>Cell2</td></tr>";
    Document subDoc = builder.parse(new InputSource(new StringReader(rowContent)));

    NodeList rows = subDoc.getElementsByTagName("tr");
    for (int i = 0; i < rows.getLength(); i++) {
        table.appendChild(doc.importNode(rows.item(0), true));
    }

    // Get the first and fifth row elements
    NodeList tableRows = table.getElementsByTagName("tr");
    Element firstRow = (Element) tableRows.item(0);
    Element fifthRow = (Element) tableRows.item(4);

    // Get the elementSiblingIndex for both rows
    int firstRowIndex = firstRow.elementSiblingIndex();
    int fifthRowIndex = fifthRow.elementSiblingIndex();

    // Verify that the indices are the same
    assertEquals(firstRowIndex, fifthRowIndex);

    // Verify that the elements at these indices are