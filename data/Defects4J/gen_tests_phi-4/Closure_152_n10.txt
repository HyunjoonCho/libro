import com.google.javascript.jscomp.Compiler;
import com.google.javascript.jscomp.CompilerOptions;
import com.google.javascript.jscomp.JSError;
import com.google.javascript.jscomp.NodeTraversal;
import com.google.javascript.jscomp.SourceFile;
import com.google.javascript.rhino.jstype.JSType;
import com.google.javascript.rhino.jstype.UnionType;
import com.google.javascript.rhino.jstype.ObjectType;
import org.junit.Test;

import java.util.ArrayList;
import java.util.List;

import static org.junit.Assert.fail;

public class ClosureCompilerTest {

    @Test
    public void testResolveTypesUnionTypeCastError() {
        try {
            Compiler compiler = new Compiler();
            CompilerOptions options = new CompilerOptions();
            options.setProcessClosurePrimitives(true);
            options.setLoggingLevel(options.getLoggingLevel().levelForName("ALL"));
            options.setCompilationLevel(CompilerOptions.OptimizationLevel.ADVANCED_OPTIMIZATIONS);
            options.addWarning("missingProperties");
            options.addWarning