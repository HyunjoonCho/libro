public void testDefaultDateTypeAdapterNullability() {
    Gson gson = new GsonBuilder().setDateFormat("yyyy-MM-dd").create();

    // Test serialization of null Date
    String serializedNull = gson.toJson((Date) null);
    assertEquals("null", serializedNull);

    // Test deserialization of null JSON to Date
    Date deserializedNull = gson.fromJson("null", Date.class);
    assertNull(deserializedNull);

    // Test serialization of non-null Date
    Date date = new Date();
    String serializedDate = gson.toJson(date);
    assertNotNull(serializedDate);
    assertNotEquals("null", serializedDate);

    // Test deserialization of non-null JSON to Date
    Date deserializedDate = gson.fromJson("\"" + serializedDate + "\"", Date.class);
    assertNotNull(deserializedDate);
    assertEquals(date, deserializedDate);
}