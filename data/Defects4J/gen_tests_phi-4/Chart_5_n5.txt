import org.jfree.data.xy.XYSeries;
import org.jfree.data.xy.XYDataItem;
import static org.junit.Assert.assertEquals;

public void testAddOrUpdateWithDuplicateXValuesAllowed() {
    XYSeries series = new XYSeries("Test Series");
    series.setMaximumItemCount(10);
    series.setAllowDuplicateXValues(true);

    // Add initial data point
    series.addOrUpdate(1.0, 2.0);

    // Attempt to add a duplicate X value
    series.addOrUpdate(1.0, 3.0);

    // Verify that both points are present
    XYDataItem item1 = (XYDataItem) series.getDataItem(0);
    XYDataItem item2 = (XYDataItem) series.getDataItem(1);

    assertEquals(1.0, item1.getX().doubleValue(), 0.0001);
    assertEquals(2.0, item1.getY().doubleValue(), 0.0001);

    assertEquals(1.0, item2.getX().doubleValue(), 0.0001);
    assertEquals(3.0, item2.getY().doubleValue(), 0.0001);
}