import org.junit.jupiter.api.Test;
import javax.script.ScriptEngine;
import javax.script.ScriptEngineManager;
import javax.script.ScriptException;
import static org.junit.jupiter.api.Assertions.assertEquals;

public class JavaScriptOptimizationTest {

    @Test
    public void testOptimizationWithPublicTag() throws ScriptException {
        ScriptEngineManager manager = new ScriptEngineManager();
        ScriptEngine engine = manager.getEngineByName("nashorn");

        String script = 
            "var Glow = {};\n" +
            "/** @public */ Glow.versions = [1,2,3];\n" +
            "Glow.showVersions = function() { return Glow.versions; }\n" +
            "window['Glow'] = Glow;\n" +
            "Glow['versions'] = Glow.versions;\n" +
            "Glow['showVersions