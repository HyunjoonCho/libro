public void testLargeNumberOfWeights() {
    int numWeights = 41200;
    double[] weights = new double[numWeights];
    Arrays.fill(weights, 1.0);

    Weights w = new Weights(weights);
    MultivariateVectorOptimizer optimizer = new MultivariateVectorOptimizer();

    try {
        optimizer.optimize(w);
        fail("Expected OutOfMemoryError due to large matrix creation");
    } catch (OutOfMemoryError e) {
        // Expected exception
    }
}