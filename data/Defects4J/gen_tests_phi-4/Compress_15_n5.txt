public void testZipArchiveInputStreamVsZipFileEquality() throws IOException {
    File zipFile = new File("test.zip");

    try (ZipFile zipFileReader = new ZipFile(zipFile)) {
        ZipArchiveEntry zipFileEntry = zipFileReader.getEntry("file.txt");

        try (ZipArchiveInputStream zipArchiveInputStream = new ZipArchiveInputStream(new FileInputStream(zipFile))) {
            ZipArchiveEntry zipArchiveInputStreamEntry = (ZipArchiveInputStream) zipArchiveInputStream.getNextEntry();

            assertEquals(zipFileEntry.getName(), zipArchiveInputStreamEntry.getName());
            assertEquals(zipFileEntry.getSize(), zipArchiveInputStreamEntry.getSize());
            assertEquals(zipFileEntry.getCompressedSize(), zipArchiveInputStreamEntry.getCompressedSize());
            // Ensure that entries are not equal due to the comment field difference
            assertNotEquals(zipFileEntry, zipArchiveInputStreamEntry);
        }
    }
}