public void testOptimizationFailsWithVariableInCatchClause() {
    assertThrows(NullPointerException.class, () -> {
        getStackTrace();
    });

    String getStackTrace() {
        try {
            throw new Error("");
        } catch (Error err) {
            return err.getStackTrace().toString();
        }
    }
}