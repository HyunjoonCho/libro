public void testLocaleDeserializationWithHyphen() {
    String localeString = "en-US";
    Locale expectedLocale = new Locale("en", "US");
    
    // Simulate deserialization logic
    Locale deserializedLocale = deserializeLocaleFromString(localeString);
    
    assertEquals(expectedLocale, deserializedLocale);
}

private Locale deserializeLocaleFromString(String value) {
    int ix = value.indexOf('_');
    if (ix == -1) {
        ix = value.indexOf('-');
    }
    if (ix!= -1) {
        String language = value.substring(0, ix);
        String country = value.substring(ix + 1);
        return new Locale(language, country);
    }
    return new Locale(value); // Fallback for single-part locales
}