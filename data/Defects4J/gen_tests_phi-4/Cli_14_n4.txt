public void testFileValidatorClassCastException() {
    try {
        DefaultOptionBuilder obuilder = new DefaultOptionBuilder();
        ArgumentBuilder abuilder = new ArgumentBuilder();
        GroupBuilder gbuilder = new GroupBuilder();
        
        DefaultOption fileNameOption = obuilder
           .withShortName("f")
           .withLongName("file-name")
           .withRequired(true)
           .withDescription("name of an existing file")
           .withArgument(abuilder
               .withName("file-name")
               .withValidator(FileValidator.getExistingFileInstance())
               .create())
           .create();
        
        Group options = gbuilder
           .withName("options")
           .withOption(fileNameOption)
           .create();
        
        Parser parser = new Parser();
        parser.setHelpTrigger("--help");
        parser.setGroup(options);
        
        // Simulate command line arguments
        String[] args = {"--file-name", "path-to-an-existing-file"};
        parser.parseAndHelp(args);
        
        fail("Expected ClassCastException to be thrown");
    } catch (ClassCastException e) {
        // This is the expected behavior
    }
}