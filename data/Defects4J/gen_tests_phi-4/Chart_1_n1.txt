public void testIssue983() {
    AbstractCategoryItemRender render = new AbstractCategoryItemRender() {
        @Override
        public Plot getPlot() {
            // Return a plot where the dataset is null
            return new CategoryPlot(null, null, null, null);
        }
    };

    assertThrows(NullPointerException.class, () -> {
        render.getLegendItems();
    });
}