public void testLocaleChangeIssue() {
    Locale originalLocale = Locale.getDefault();
    try {
        Locale.setDefault(Locale.FRANCE);
        DateFormat dateFormat = FastDateFormat.getDateInstance(DateFormat.SHORT, Locale.getDefault());
        Locale.setDefault(Locale.US);
        String result = dateFormat.format(new Date());
        assertEquals("1/1/21", result);  // Expected US format
    } finally {
        Locale.setDefault(originalLocale);
    }
}