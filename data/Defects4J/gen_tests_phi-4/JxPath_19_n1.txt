public void testJXPathContextIteratePointers() {
    String xml = "<a:doc xmlns:a=\"ns\">" +
                 "  <a:elem />" +
                 "  <b:elem xmlns:b=\"ns\" />" +
                 "</a:doc>";

    JXPathContext context = JXPathContext.newContext(new StreamSource(new StringReader(xml)));

    List<?> results = new ArrayList<>();
    context.iteratePointers("doc/*", new JXPathPointerHandler() {
        public void handlePointer(JXPathPointer pointer) {
            results.add(pointer.getNode().getNodeName());
        }
    });

    assertEquals(2, results.size());
    assertTrue(results.contains("a:elem"));
    assertTrue(results.contains("b:elem"));
}