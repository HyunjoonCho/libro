public void testBase64InstanceEncodeAppendsCRLF() {
    Base64 b64 = new Base64();

    String input = "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa";
    byte[] bytes = input.getBytes("UTF-8");

    byte[] result = b64.encode(bytes);
    String encodedString = new String(result, "UTF-8");

    // Assert that the encoded string contains a newline character
    assertTrue(encodedString.contains("\n"));

    // Assert that the encoded string is split into lines of 76 characters
    String[] lines = encodedString.split("\n");
    for (String line : lines) {
        assertEquals(76, line.length());
    }
}