public void testWithRootNameConfigForNull() throws Exception {
    XmlMapper mapper = new XmlMapper();
    mapper.setSerializerProvider(new XmlSerializerProvider() {
        @Override
        public void _initWithRootName(ToXmlGenerator jgen, String rootName) {
            super._initWithRootName(jgen, rootName);
        }
    });
    mapper.configure(ToXmlGenerator.Feature.WRITE_XML_DECLARATION, false);

    String xml = mapper.writeValueAsString(null);
    assertEquals("<root></root>", xml);
}