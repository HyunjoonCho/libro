public void testTruncatedLastError() {
    // Assuming we have a method `compileJavaScript` that simulates running the compiler command
    String output = compileJavaScript("test.js", "--warning_level VERBOSE");
    
    String[] lines = output.split("\n");
    String lastError = lines[lines.length - 3]; // Assuming the last error is three lines before the summary
    
    assertFalse(lastError.contains("ERROR - variable bar is undefined"));
    assertTrue(lastError.contains("line number and caret indicator"));
}

Note: This assumes the existence of a method `compileJavaScript` which simulates the compiler's output when given a file and options. Adjust the method name and logic according to your actual setup.