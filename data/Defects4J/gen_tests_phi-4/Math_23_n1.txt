public void testBrentOptimizerFailure() {
    UnivariateFunction f = new UnivariateFunction() {
        @Override
        public double value(double x) {
            return -Math.pow(x - 2, 2) + 4; // Parabola with max at x = 2
        }
    };

    BrentOptimizer optimizer = new BrentOptimizer();
    optimizer.setMaxEvaluations(5);
    double result = optimizer.optimize(0, 5, f).getMinimum();

    // Assuming the optimizer should find the maximum at x = 2, the result should be close to 4
    assertTrue("The optimizer did not return the best point.", result >= 3.99);
}