public void testArgumentCaptorVarargs() {
    MyService myService = mock(MyService.class);
    when(myService.processItems(anyVararg())).thenReturn("Success");

    myService.processItems("item1", "item2");

    ArgumentCaptor<String[]> captor = ArgumentCaptor.forClass(String[].class);
    verify(myService).processItems(captor.capture());
    String[] capturedArgs = captor.getValue();
    assertEquals("item1", capturedArgs[0]);
    assertEquals("item2", capturedArgs[1]);
}