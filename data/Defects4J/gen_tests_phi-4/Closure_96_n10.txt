public void testVarArgsTypeCheck() {
    assertEquals(1, foo("hello"));
    try {
        foo(123);
        fail("Expected IllegalArgumentException for non-string argument");
    } catch (IllegalArgumentException e) {
        // Expected exception
    }
    try {
        foo("hello", 123);
        fail("Expected IllegalArgumentException for second non-string argument");
    } catch (IllegalArgumentException e) {
        // Expected exception
    }
}

private int foo(String... var_args) {
    if (var_args.length == 1 &&!var_args[0].isInstance(String.class)) {
        throw new IllegalArgumentException("Argument must be a string");
    }
    for (Object arg : var_args) {
        if (!(arg instanceof String)) {
            throw new IllegalArgumentException("All arguments must be strings");
        }
    }
    return var_args.length;
}