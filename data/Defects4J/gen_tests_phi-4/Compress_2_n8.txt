public void testArDeletionFailure() {
    // Simulate the creation of an archive containing test1.xml and test2.xml
    Archive ar = new Archive("bla.ar");
    ar.add("test1.xml");
    ar.add("test2.xml");

    // Attempt to delete test2.xml from the archive
    boolean deletionResult = ar.delete("test2.xml");

    // Verify that getNextEntry does not return test2.xml
    ArchiveEntry nextEntry = ar.getNextEntry();
    assertNotNull(nextEntry);
    assertEquals("test1.xml", nextEntry.getName());

    // Check that deletionResult is true indicating successful deletion
    assertTrue(deletionResult);

    // Verify that listing the archive still shows test2.xml
    List<String> archiveContents = ar.listContents();
    assertTrue(archiveContents.contains("test2.xml"));

    // Attempt to add test.txt after deletion of test2.xml
    boolean addResult = ar.add("test.txt");

    // Verify that adding test.txt fails
    assertFalse(addResult);

    // Verify that listing the archive shows an error or is empty
    try {
        archiveContents = ar.listContents();
        assertFalse(archiveContents.isEmpty());
    } catch (Exception e) {
        assertTrue(e.getMessage().