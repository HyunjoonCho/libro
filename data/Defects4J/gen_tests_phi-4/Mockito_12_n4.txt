import static org.mockito.ArgumentMatchers.any;
import static org.mockito.Mockito.verify;

public void testArgumentCaptorWithVarargs() {
    MyService myService = mock(MyService.class);
    
    myService.doSomethingWithVarargs("arg1", "arg2", "arg3");
    
    ArgumentCaptor<String[]> captor = ArgumentCaptor.forClass(String[].class);
    verify(myService).doSomethingWithVarargs(captor.capture());
    
    String[] capturedArgs = captor.getValue();
    assertEquals("arg1", capturedArgs[0]);
    assertEquals("arg2", capturedArgs[1]);
    assertEquals("arg3", capturedArgs[2]);
}