public void testRemoveIgnoreCaseConcurrentModificationException() {
    LinkedHashMap<String, Attribute> attributes = new LinkedHashMap<>();
    attributes.put("attr1", new Attribute());
    attributes.put("attr2", new Attribute());

    Element element = new Element();
    element.setAttribute("attr1", attributes.get("attr1"));
    element.setAttribute("attr2", attributes.get("attr2"));

    try {
        element.select("abc").first().removeAttr("attr1").removeAttr("attr2");
        fail("Expected ConcurrentModificationException");
    } catch (ConcurrentModificationException e) {
        // Expected exception
    }
}