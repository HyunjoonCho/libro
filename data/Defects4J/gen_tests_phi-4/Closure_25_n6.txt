public void testAnonymousObjectTypeInference() {
    // Define a class with the necessary properties and constructor
    class Callz {
        final String prop1;
        final Number prop2;

        Callz(Object obj) {
            this.prop1 = (String) ((Map<?,?>) obj).get("prop1");
            this.prop2 = ((Map<?,?>) obj).containsKey("prop2")? (Number) ((Map<?,?>) obj).get("prop2") : null;
        }
    }

    // Test case that should fail due to missing 'prop2'
    try {
        new Callz(Map.of("prop1", "hi"));
        fail("Expected an exception due to missing 'prop2'");
    } catch (Exception e) {
        // Expected exception
    }
}