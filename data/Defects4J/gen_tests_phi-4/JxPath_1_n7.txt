import static org.junit.Assert.assertEquals;

import javax.xml.parsers.DocumentBuilder;
import javax.xml.parsers.DocumentBuilderFactory;

import org.w3c.dom.Document;
import org.junit.Before;
import org.junit.Test;

public class JXPathTest {

    private Document doc;

    @Before
    public void setUp() throws Exception {
        DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();
        DocumentBuilder db = dbf.newDocumentBuilder();
        doc = db.newDocument();
        doc.appendChild(doc.createElement("root"));
        doc.getDocumentElement().setAttribute("id", "1234");
    }

    @Test
    public void testDescendantOrSelfAxisAtRootNode() throws Exception {
        JXPathContext context = JXPathContext.newContext(doc);
        Object value = context.selectSingleNode("//root/@id/text()");
        assertEquals("1234", value);
    }
}