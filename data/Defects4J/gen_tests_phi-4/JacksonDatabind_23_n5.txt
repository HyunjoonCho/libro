public void testIssueNonEmptyExclusion() {
    ObjectMapper mapper = new ObjectMapper();
    mapper.enable(SerializationFeature.INDENT_OUTPUT);
    mapper.disable(SerializationFeature.FAIL_ON_EMPTY_BEANS);
    mapper.registerModule(new AfterburnerModule());

    SimpleBean bean = new SimpleBean();
    String json = mapper.writeValueAsString(bean);

    assertNotEquals("{\"emptyProperty\":null,\"nonEmptyProperty\":\"value\"}", json);
    assertEquals("{\"nonEmptyProperty\":\"value\"}", json.trim());
}

class SimpleBean {
    public String emptyProperty = null;
    public String nonEmptyProperty = "value";
}