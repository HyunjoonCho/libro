import static org.junit.jupiter.api.Assertions.assertEquals;
import org.junit.jupiter.api.Test;

public class TypeInferenceTest {

    public void func(Object record) {
        if (record instanceof String) {
            System.out.println((String) record);
        } else if (record instanceof Map) {
            Map<?,?> map = (Map<?,?>) record;
            System.out.println(map.get("prop"));
        }
    }

    public void func2(Object record) {
        if (record instanceof String) {
            System.out.println((String) record);
        } else if (record instanceof Map) {
            Map<?,?> map = (Map<?,?>) record;
            System.out.println(map.get("prop"));
        }
    }

    @Test
    public void testInconsistency() {
        func(Map.of("prop", "a"));
        func2(Map.of("prop", "a"));

        // Capture console output or use assertions