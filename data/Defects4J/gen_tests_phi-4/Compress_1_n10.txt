public void testCPIOUnexpectedEOF() {
    final File input = getFile("cmdcreated.cpio");
    try (InputStream in = new FileInputStream(input)) {
        CpioArchiveInputStream cin = new CpioArchiveInputStream(in);
        CpioArchiveEntry entry = null;
        while ((entry = (CpioArchiveEntry) cin.getNextCPIOEntry())!= null) {
            File target = new File(dir, entry.getName());
            try (OutputStream out = new FileOutputStream(target)) {
                IOUtils.copy(cin, out);
            }
        }
        cin.close();
    } catch (EOFException e) {
        fail("Unexpected EOFException encountered when reading CPIO archive.");
    }
}