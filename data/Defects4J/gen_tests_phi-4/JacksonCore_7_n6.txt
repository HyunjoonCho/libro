public void testJsonGeneratorWriteStringAfterWriteFieldName() throws IOException {
    JsonFactory factory = new JsonFactory();
    StringWriter writer = new StringWriter();
    JsonGenerator generator = factory.createGenerator(writer);

    generator.writeStartObject();
    generator.writeFieldName("field");

    // This should fail with an exception, not produce invalid output
    generator.writeString("value");

    generator.writeEndObject();
    generator.close();

    // Assert that the output is invalid, indicating the test failed as expected
    String output = writer.toString();
    assertTrue(output.contains("\"field\": \"value\""));
}