public void testDeepStubGenericMethod() {
    I i = mock(I.class, RETURNS_DEEP_STUBS);
    when(i.m(Boolean.class)).thenAnswer(invocation -> {
        Supplier<Boolean> supplier = mock(Supplier.class);
        when(supplier.get()).thenReturn(true);
        return supplier;
    });

    try {
        i.m(Boolean.class).get();
    } catch (ClassCastException e) {
        // Expected exception
        assertEquals("org.mockito.internal.creation.cglib.ClassImposterizer$ClassWithSuperclassToWorkAroundCglibBug$$EnhancerByMockitoWithCGLIB$$cdb13154 cannot be cast to java.lang.String", e.getMessage());
    }
}