public void testJsonGenerationException() {
    ObjectMapper mapper = new ObjectMapper();
    try {
        String json = "{ \"key\": \"x\uD83D\uDE00x\" }"; // Intentionally problematic Unicode character
        JsonNode node = mapper.readTree(json);
        StringWriter writer = new StringWriter();
        mapper.writeValue(writer, node);
        fail("Expected JsonGenerationException");
    } catch (JsonGenerationException e) {
        assertEquals("Split surrogate on writeRaw() input (last character)", e.getMessage());
    }
}