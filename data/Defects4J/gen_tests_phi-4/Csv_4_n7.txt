public void testCSVParserGetHeaderMapNullPointer() {
    try {
        CSVParser parser = CSVFormat.DEFAULT.withHeader().parse(CSVParser.DEFAULT, new StringReader("col1,col2\nval1,val2"));
        parser = CSVFormat.DEFAULT.parse(CSVParser.DEFAULT, new StringReader("val1,val2")); // No header
        Map<String, Integer> header = parser.getHeaderMap();
        // This line should throw a NullPointerException if the fix is not applied
    } catch (java.io.IOException e) {
        fail("IOException should not be thrown");
    } catch (NullPointerException e) {
        // Expected behavior before the fix
        assertTrue(true);
    }
}