public void testIteratePointersWithMultiplePrefixes() {
    String xml = "<a:doc xmlns:a=\"ns\">" +
                 "  <a:elem />" +
                 "  <b:elem xmlns:b=\"ns\" />" +
                 "</a:doc>";

    JXPathContext context = JXPathContext.newContext(new StringReader(xml));
    context.getVariableMapper().declareVariable("doc", context.getValue("", XPathConstants.NODE));
    
    int elemCount = 0;
    for (Object obj : context.iteratePointers("doc/*")) {
        if (obj instanceof JXPathPointer) {
            JXPathPointer pointer = (JXPathPointer) obj;
            String nodeName = ((DOMElement) pointer.getNode()).getNodeName();
            if ("ns:elem".equals(nodeName)) {
                elemCount++;
            }
        }
    }

    assertEquals(2, elemCount);
}