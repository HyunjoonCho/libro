public void testWhitespaceDiscardingInElementHtml() {
    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
    DocumentBuilder builder = factory.newDocumentBuilder();
    Document doc = builder.parse(new ByteArrayInputStream("<root>\n    <child>    \n  text  \n    </child>\n</root>".getBytes(StandardCharsets.UTF_8)));
    Element root = doc.getDocumentElement();
    String htmlOutput = root.html();
    assertEquals("<root><child>text</child></root>", htmlOutput);
}