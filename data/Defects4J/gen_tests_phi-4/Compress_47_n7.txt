public void testZipArchiveInputStreamUnknownCompressedSize() {
    ZipArchiveInputStream zipArchiveInputStream = new ZipArchiveInputStream(new ByteArrayInputStream(new byte[0]));
    try {
        zipArchiveInputStream.getNextZipEntry();
        zipArchiveInputStream.read();
        fail("Expected ZipException to be thrown due to unknown compressed size.");
    } catch (ZipException e) {
        assertEquals("Compressed size is unknown for entry named 'unknown'.", e.getMessage());
    } catch (Exception e) {
        fail("Expected ZipException, but got: " + e.getClass().getSimpleName());
    } finally {
        try {
            zipArchiveInputStream.close();
        } catch (IOException ignored) {
        }
    }
}