public void testResolveTypesUnionTypeCastError() {
    // Simulate the setup of the Closure Compiler with the specified options
    Compiler compiler = new Compiler();
    List<String> options = Arrays.asList(
        "--create_name_map_files=true",
        "--jscomp_warning=missingProperties",
        "--jscomp_warning=undefinedVars",
        "--jscomp_warning=checkTypes",
        "--warning_level=VERBOSE",
        "--summary_detail_level=3",
        "--process_closure_primitives=true",
        "--jscomp_error=strictModuleDepCheck",
        "--jscomp_error=invalidCasts",
        "--logging_level=ALL",
        "--compilation_level=ADVANCED_OPTIMIZATIONS"
    );

    // Add JavaScript input that would trigger the bug
    String jsInput = "function test() { var x = { a: 1 } | null;