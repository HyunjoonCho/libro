public void testBadTypeInference() {
    Object x = null; // Simulating undefined
    if (x!= null) { // Equivalent to x!= undefined
        g(x); // g expects a string, but x is null
    }
}

private void g(Object x) {
    if (x instanceof String) {
        // Do something with x as a string
    } else {
        throw new IllegalArgumentException("Expected a string, received: " + x.getClass().getSimpleName());
    }
}