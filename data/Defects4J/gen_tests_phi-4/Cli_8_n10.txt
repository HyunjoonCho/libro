public void testHelpFormatterWrapIssue() {
    HelpFormatter formatter = new HelpFormatter();
    StringBuilder sb = new StringBuilder();
    sb.append("option1 ").append("This is a very long description that should wrap correctly across multiple lines, ")
     .append("but due to the bug, it doesn't. The first line is fine, but subsequent lines are too long.");
    formatter.printHelp("command", new Options(), sb.toString(), true);
    String expectedOutput = "option1  This is a very long description that should wrap correctly across\n" +
                            "multiple lines, but due to the bug, it doesn't. The first line is fine,\n" +
                            "but subsequent lines are too long.";
    assertEquals(expectedOutput, captureOutput(formatter));
}

// Utility method to capture standard output
private String captureOutput(HelpFormatter formatter) {
    ByteArrayOutputStream outContent = new ByteArrayOutputStream();
    PrintStream originalOut = System.out;
    System.setOut(new PrintStream(outContent));
    try {
        formatter.printHelp("command", new Options(), "description", true);
    } finally {
        System.setOut(originalOut);
    }
    return outContent.toString().trim();
}