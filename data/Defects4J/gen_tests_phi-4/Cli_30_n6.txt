public void testOptionGroupsStateNotUpdatedByDefaultOptions() {
    Options options = new Options();
    OptionGroup group = new OptionGroup();
    Option a = new Option("a");
    Option b = new Option("b");
    a.setRequired(false);
    b.setRequired(false);
    group.addOption(a).addOption(b);
    options.addOptionGroup(group);

    CommandLineParser parser = new DefaultParser();
    Properties defaultProperties = new Properties();
    defaultProperties.setProperty("b", "true");

    try {
        CommandLine cmd = parser.parse(options, new String[]{ "--a" }, defaultProperties);
        assertTrue(cmd.hasOption("a"));
        assertTrue(cmd.hasOption("b"));
    } catch (ParseException e) {
        fail("Exception should not be thrown: " + e.getMessage());
    }
}