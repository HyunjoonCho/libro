public void testConcurrentModificationException() {
    LinkedHashMap<String, Attribute> attributes = new LinkedHashMap<>();
    attributes.put("attr1", new Attribute("attr1"));
    attributes.put("attr2", new Attribute("attr2"));

    attributes.forEach((key, value) -> {
        if (key.equalsIgnoreCase("attr1")) {
            attributes.remove("attr1");
        }
    });

    assertEquals(1, attributes.size());
}