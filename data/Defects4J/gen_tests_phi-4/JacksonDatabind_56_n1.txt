public void testLocaleDeserializationWithHyphen() {
    Locale locale = new Locale("en-US");
    String serializedLocale = "en-US";
    try {
        // Simulate deserialization logic
        int separatorIndex = serializedLocale.indexOf('_');
        if (separatorIndex == -1) {
            separatorIndex = serializedLocale.indexOf('-');
        }
        String language = serializedLocale.substring(0, separatorIndex);
        String country = serializedLocale.substring(separatorIndex + 1);
        assertEquals("en", language);
        assertEquals("US", country);
    } catch (Exception e) {
        fail("Deserialization should handle hyphen as separator but failed: " + e.getMessage());
    }
}