public void testValueInstantiatorArrayDelegate() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    try {
        MyType thing = mapper.readValue("[]", MyType.class);
        // The test should fail here due to the exception thrown
        assertEquals(new MyTypeImpl(new ArrayList<>()), thing);
    } catch (Exception e) {
        assertTrue(e.getCause() instanceof InvalidDefinitionException);
        assertTrue(e.getMessage().contains("Cannot construct instance of `ArrayDelegateDeserializationTest$MyType`"));
    }
}