public void testArgumentCaptorVarargsIssue() {
    List<String> list = mock(List.class);
    doNothing().when(list).add(anyString());

    final String[] args = new String[] {"arg1", "arg2"};
    list.add(args);

    ArgumentCaptor<String[]> captor = ArgumentCaptor.forClass(String[].class);
    verify(list).add(captor.capture());

    assertArrayEquals(new String[]{"arg1", "arg2"}, captor.getValue());
}