public void testBracketingNthOrderBrentSolver() {
    BracketingNthOrderBrentSolver solver = new BracketingNthOrderBrentSolver();
    solver.setMaxIterations(10);  // Set a low max iteration count to trigger failure

    DoubleUnaryOperator f = x -> Math.pow(x - 12500.0, 2) - 1e-30;
    
    double xA = 12500.0;
    double yA = f.applyAsDouble(xA);
    double agingA = 0;

    double xB = 12500.03;
    double yB = f.applyAsDouble(xB);
    double agingB = 97;

    solver.solve(f, xA, xB, 1e-10);

    // Expect the iteration count to exceed maxIterationCount without balancing
    // and updating only the same boundary point.
    assertTrue(solver.getIterationCount() > solver.getMaxIterations());
    assertEquals(12500.0, solver.getPreferredX(), 1e-9);
    // Ensure the other bracket point xB has not been updated
    assertEquals(xB, solver.getPreferredX(), 1e-9);
}