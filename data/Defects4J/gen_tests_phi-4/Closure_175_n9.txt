public void testAdvancedOptimizationsIssue() {
    // Assuming a hypothetical JavaScript execution environment
    JavaScriptContext context = new JavaScriptContext();

    // Mock input.js script
    String inputScript = 
        "window['anchor'] = function (obj, modifiesProp) {" +
        " return (function (saved) {" +
        " return modifiesProp(obj) + saved;" +
        " })(obj['prop']);" +
        "}";

    // Mock externs.js script
    String externsScript = "var window = {\"anchor\": null};";

    // Execute the scripts in the context
    context.executeScript(externsScript);
    context.executeScript(inputScript);

    // Mock modifiesProp function with side effect
    String modifiesPropScript = 
        "function modifiesProp(obj) {" +
        " obj.prop = 10;" +
        " return 20;" +
        "}";

    context.executeScript(modifiesPropScript);

    // Mock object to pass to the anchor function
    String objectScript = 
        "var obj = {\"prop\": 5};";

    context.executeScript(objectScript);

    // Call the anchor function
    context.executeScript("window.anchor(obj, modifiesProp)");

    // Check