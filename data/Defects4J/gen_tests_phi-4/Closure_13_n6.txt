public void testTrueFalseReplacement() {
    boolean anyExpression = true; // Simulate any expression that evaluates to true
    Object externalRef = new Object() {
        @Override
        public String toString() {
            return "external reference";
        }
    };

    Object fn1 = null;
    Object fn2 = null;

    if (anyExpression) {
        fn2 = externalRef;
        fn1 = () -> fn2.toString();
    }

    Object result = new Object() {
        public boolean method1() {
            if (fn1!= null) ((Runnable) fn1).run();
            return true;
        }

        public boolean method2() {
            return false;
        }
    };

    // Check if method1 returns true and method2 returns false
    assertTrue(((Runnable) result).method1());
    assertFalse(((Runnable) result).method2());
}