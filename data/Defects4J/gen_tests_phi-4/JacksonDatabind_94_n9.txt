public void testC3p0GadgetExploit() throws Exception {
    // Configure c3p0 connection pool with vulnerable settings
    ComboPooledDataSource cpds = new ComboPooledDataSource();
    cpds.setDriverClass("com.mchange.v2.c3p0.WrapperDriver"); // Use the c3p0 wrapper driver
    cpds.setJdbcUrl("jdbc:h2:mem:test;DB_CLOSE_DELAY=-1");
    cpds.setUser("sa");
    cpds.setPassword("");

    // Register the JDBC driver (H2 in this case)
    Class.forName("org.h2.Driver");

    // Create a connection to trigger the default typing issue
    Connection conn = cpds.getConnection();
    Statement stmt = conn.createStatement();

    // Attempt to exploit the default typing issue
    ResultSet rs = stmt.executeQuery("SELECT * FROM INFORMATION_SCHEMA.SYSTEM_USERS");

    // Verify that the exploit is triggered by