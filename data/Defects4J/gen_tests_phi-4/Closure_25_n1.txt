public void testAnonymousObjectTypeInference() {
    // Simulating JavaScript behavior in a Java-like manner
    // Since JavaScript behavior can't be directly reproduced in Java, we simulate the scenario.

    // Define a method to mimic JavaScript function call
    void callz(Object parry) {
        if (parry instanceof Map) {
            Map<?,?> map = (Map<?,?>) parry;
            if (map.containsKey("prop1") && map.containsKey("prop2")) {
                Object prop2 = map.get("prop2");
                if (prop2!= null && ((Number) prop2).intValue() < 5) {
                    assert "alright!".equals("alright!");
                }
            }
            assert "hi".equals(map.get("prop1"));
        }
    }

    // Test case that should pass
    callz(Map.of("prop1", "hi", "prop2", 3));

    // Test case that should fail due to missing prop2
    try {
        callz(Map.of("prop1", "hi"));
        assert false : "Expected exception due to missing prop2";
    } catch (AssertionError e) {
        // Expected exception
    }
}