public void testJsonParserSequenceSkipsToken() throws IOException {
    JsonFactory factory = new JsonFactory();
    String json1 = "{\"key1\":\"value1\"}";
    String json2 = "{\"key2\":\"value2\"}";

    JsonParser parser1 = factory.createParser(json1);
    JsonParser parser2 = factory.createParser(json2);

    JsonParserSequence sequence = JsonParserSequence.createFlattened(parser1, parser2);

    JsonToken token = sequence.nextToken();
    assertEquals(JsonToken.FIELD_NAME, token);
    assertEquals("key1", sequence.getText());

    token = sequence.nextToken();
    assertEquals(JsonToken.VALUE_STRING, token);
    assertEquals("value1", sequence.getText());

    token = sequence.nextToken();
    assertEquals(JsonToken.END_OBJECT, token);

    token = sequence.nextToken();
    assertEquals(JsonToken.FIELD_NAME, token);
    assertEquals("key2", sequence.getText());

    token = sequence.nextToken();
    assertEquals(JsonToken.VALUE_STRING, token);
    assertEquals("value2", sequence.getText());

    token = sequence.nextToken();
    assertEquals(JsonToken.END_OBJECT, token);

    sequence.close();
}