public void testDateTimeSerializerBaseFormatIgnored() {
    ObjectMapper mapper = new ObjectMapper();
    JsonFactory factory = mapper.getFactory();
    StdDateFormat dateFormat = new StdDateFormat("yyyy-MM-dd'T'HH:mm:ss");
    factory.setDateFormat(dateFormat);

    final class TestClass {
        @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = "yyyy-MM-dd'T'HH:mm:ss")
        private DateTime dateTime = new DateTime();

        public DateTime getDateTime() {
            return dateTime;
        }

        public void setDateTime(DateTime dateTime) {
            this.dateTime = dateTime;
        }
    }

    TestClass testObject = new TestClass();
    testObject.setDateTime(new DateTime());

    String json = mapper.writeValueAsString(testObject);
    // The expected format should be "yyyy-MM-dd'T'HH:mm:ss" based on the annotation.
    assertEquals("{\"dateTime\":\"" + new DateTime().toString(dateFormat) + "\"}", json);
}