public void testNegativeValueWithRestrictNonNegative() {
    RealVector initialGuess = new ArrayRealVector(new double[]{0, 0});
    LinearConstraint constraint = new LinearConstraint(new double[]{1, 0}, Relationship.EQUAL, 1);
    LinearConstraintSet constraintSet = new LinearConstraintSet(constraint);
    LinearObjectiveFunction function = new LinearObjectiveFunction(new double[]{1, 1, 0}, 0);
    SimplexSolver solver = new SimplexSolver();

    RealPointValuePair solution = solver.optimize(function, constraintSet, GoalType.MINIMIZE, true);
    
    RealVector solutionVector = solution.getPoint();
    assertEquals(1.0, solutionVector.getEntry(0), 1e-10);
    assertTrue(solutionVector.getEntry(1) < 0);
}