public void testInconsistentTextBufferBehavior() {
    TextBuffer buffer = new TextBuffer(new BufferRecycler());
    buffer.resetWithEmpty();
    
    Object firstCall = buffer.getTextBuffer();
    String contents = buffer.contentsAsString();
    Object secondCall = buffer.getTextBuffer();
    
    assertNotEquals(firstCall, secondCall, "The first and second calls to getTextBuffer should not return the same result.");
    assertEquals("", contents, "The contentsAsString should return an empty string after resetWithEmpty.");
}