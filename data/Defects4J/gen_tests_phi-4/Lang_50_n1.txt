public void testLocaleChangeInFastDateFormat() {
    Locale originalLocale = Locale.getDefault();
    Locale testLocale = new Locale("fr", "FR");

    try {
        // Set the locale to French
        Locale.setDefault(testLocale);

        // Create a FastDateFormat instance
        FastDateFormat dateFormat = FastDateFormat.getDateInstance();
        String formattedDate = dateFormat.format(new Date());
        
        // Verify that the date is formatted with the French locale
        assertTrue(formattedDate.contains("janv"));  // "janv" is part of the French month name for January

        // Change the locale after creating the DateFormat instance
        Locale.setDefault(new Locale("en", "US"));

        // Format the date again
        String formattedDateAfterLocaleChange = dateFormat.format(new Date());
        
        // Verify that the date is still formatted with the French locale despite the change
        assertTrue(formattedDateAfterLocaleChange.contains("janv"));

    } finally {
        // Restore the original locale
        Locale.setDefault(originalLocale);
    }
}