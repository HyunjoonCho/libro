public void testGsonNPEWithNullTypeAdapter() {
    Gson gson = new GsonBuilder()
       .registerTypeAdapterFactory(new JsonNullTypeAdapterFactory())
       .create();

    String json = "{}";
    Object obj = gson.fromJson(json, Object.class);

    assertNotNull(obj);
}

class JsonNullTypeAdapterFactory implements TypeAdapterFactory {
    @Override
    public <T> TypeAdapter<T> create(Gson gson, TypeToken<T> type) {
        return null; // Simulating the condition where create() returns null
    }
}