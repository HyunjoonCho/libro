public void testBase64InputStreamReads() {
    Base64InputStream b64stream = new Base64InputStream(new ByteArrayInputStream(new byte[10920]), true, 0, null);
    int n = 0;
    try {
        while (b64stream.read()!= -1) {
            n++;
        }
    } catch (Exception e) {
        assertEquals(10920, n);
        assertTrue(e instanceof ArrayIndexOutOfBoundsException);
    }
}