public void testZipVersionNeededToExtractMismatch() {
    try {
        ByteArrayOutputStream baos = new ByteArrayOutputStream();
        ZipArchiveOutputStream zos = new ZipArchiveOutputStream(new BufferedOutputStream(baos));
        ZipArchiveEntry entry = new ZipArchiveEntry("test.txt");
        entry.setSize(1234);
        entry.setCompressedSize(1234);
        zos.putArchiveEntry(entry);
        zos.write(new byte[1234]);
        zos.closeArchiveEntry();
        zos.finish();

        byte[] zipBytes = baos.toByteArray();
        ZipFile zipFile = new ZipFile(new ByteArrayInputStream(zipBytes));

        ZipArchiveEntry zosEntry = zipFile.getEntry("test.txt");
        ZipArchiveEntry zipEntry = zipFile.getEntry("test.txt");

        int zosVersionNeededToExtract = zosEntry.getExtraField(ZipEntry.EXTENDED_TIME).getVersionNeededToExtract();
        int zipVersionNeededToExtract = zipEntry.getExtraField(ZipEntry.EXTENDED_TIME).getVersionNeededToExtract();

        assertNotEquals("Version Needed To Extract should not match between local and central directory",
                        zosVersionNeededToExtract, zipVersionNeededToExtract);

    } catch (IOException e) {
        fail