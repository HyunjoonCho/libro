public void testDependencySortingWithClosurePassFalse() {
    Compiler compiler = new Compiler();
    compiler.setOptions(new CompilerOptions().setClosurePass(false));
    DependencyOptions dependencyOptions = new DependencyOptions().setDependencySorting(true);
    compiler.setDependencyOptions(dependencyOptions);

    // Mock JS files with dependencies
    List<SourceFile> jsFiles = new ArrayList<>();
    jsFiles.add(new SourceFile("fileA.js", "goog.provide('A'); A.dep = 'B';"));
    jsFiles.add(new SourceFile("fileB.js", "goog.provide('B'); B.dep = 'C';"));
    jsFiles.add(new SourceFile("fileC.js", "goog.provide('C');"));
    
    // Compile the files
    compiler.compile(jsFiles);

    // Check if files are sorted in dependent order
    List<SourceFile> outputFiles = compiler.getOutputFiles();
    assertEquals(3, outputFiles.size());
    assertEquals("fileC.js", outputFiles.get(0).getName());
    assertEquals("fileB.js", outputFiles.get(1).getName());
    assertEquals("fileA.js", outputFiles.get(2).getName());
}