public void testCreateArchiveInputStreamTextFileDetection() {
    byte[] smallTextFile = "This is a small text file.".getBytes();
    ByteArrayInputStream inputStream = new ByteArrayInputStream(smallTextFile);

    try {
        ArchiveStreamFactory factory = new ArchiveStreamFactory();
        ArchiveInputStream archiveInputStream = factory.createArchiveInputStream(inputStream);

        // The test should fail if the input stream is incorrectly detected as a tar archive
        assertNotNull("The stream should not be detected as a tar archive", archiveInputStream);
    } catch (IOException e) {
        fail("IOException should not be thrown for a small text file: " + e.getMessage());
    }
}