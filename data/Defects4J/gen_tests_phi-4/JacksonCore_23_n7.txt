public void testDefaultPrettyPrinterSubclassFailure() {
    class CustomPrettyPrinter extends DefaultPrettyPrinter {
        @Override
        public PrettyPrinter createInstance() {
            return this;
        }
    }

    try {
        CustomPrettyPrinter printer = new CustomPrettyPrinter();
        printer.createInstance();
        fail("Expected an exception due to incorrect instance type");
    } catch (Exception e) {
        // Expected exception, test passes if this block is executed
    }
}