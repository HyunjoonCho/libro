public void testSimplexSolverBadResults() {
    double[][] tableau = {
        {1, -3, -1, 0, 0, 0},
        {-2, 1, 0, 1, 0, 4},
        {-1, 2, 0, 0, 1, 6}
    };
    int[] basicVariables = {2, 3, 4};
    double[] objective = {1, -3, -1};
    
    RealMatrix matrix = MatrixUtils.createRealMatrix(tableau);
    RealVector costs = new ArrayRealVector(objective);
    
    LinearConstraintSet constraints = new LinearConstraintSet(
        new LinearConstraint(new ArrayRealVector(new double[]{1, 1, 0}), Relationship.GEQ, 0),
        new LinearConstraint(new ArrayRealVector(new double[]{-1, 0, 1}), Relationship.GEQ, 0)
    );
    
    SimplexSolver simplexSolver = new SimplexSolver();
    OptimizationResult result = simplexSolver.optimize(matrix, costs, constraints, basicVariables, true);
    
    assertEquals(-15.0, result.getOptimalValue(), 1e-6);
}