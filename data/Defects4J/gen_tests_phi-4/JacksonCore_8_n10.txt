public void testInconsistentTextBuffer() {
    TextBuffer buffer = new TextBuffer(new BufferRecycler());
    buffer.resetWithEmpty();

    // First call should return null
    assertNull(buffer.getTextBuffer());

    // Subsequent call should return an empty array
    assertArrayEquals(new char[0], buffer.getTextBuffer());
}