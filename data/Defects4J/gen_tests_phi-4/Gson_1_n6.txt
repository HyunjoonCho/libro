public void testSerializationWithInheritanceAndTypeParameters() {
    Gson gson = new Gson();
    Bar bar1 = new Bar(1);
    String json = gson.toJson(bar1); // This should fail
    Bar bar2 = gson.fromJson("{\"someField\":1}", Bar.class); // This should fail
    assertEquals(bar1, bar2);
}