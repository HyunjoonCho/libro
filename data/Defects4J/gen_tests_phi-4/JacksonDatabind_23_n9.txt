public void testNonEmptyExclusionIssue() {
    ObjectMapper mapper = new ObjectMapper();
    mapper.enable(SerializationFeature.INDENT_OUTPUT);
    mapper.setSerializationInclusion(JsonInclude.Include.NON_EMPTY);

    // Create a class with an integer and a string field
    class TestClass {
        public int number = 0;
        public String text = "";
    }

    TestClass testObject = new TestClass();
    String result = mapper.writeValueAsString(testObject);

    // Expecting only fields with non-empty values to be serialized
    // Since both fields are "empty" (0 and ""), the result should be "{}"
    assertEquals("{\"}", result);
}