import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.annotation.JsonInclude;
import org.junit.jupiter.api.Test;

import static org.junit.jupiter.api.Assertions.assertEquals;

public class JsonIncludeTest {

    @Test
    public void testJsonIncludeNonDefaultWithNullString() {
        ObjectMapper mapper = new ObjectMapper();
        
        @JsonInclude(JsonInclude.Include.NON_DEFAULT)
        class TestClass {
            public String nonDefaultField = "non-default";
            public String defaultField = null;
        }

        TestClass testObject = new TestClass();
        String jsonResult = mapper.writeValueAsString(testObject);

        assertEquals("{\"nonDefaultField\":\"non-default\"}", jsonResult);
    }
}