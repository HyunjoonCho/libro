public void testInconsistentTextBufferBehavior() {
    TextBuffer buffer = new TextBuffer(new BufferRecycler());
    buffer.resetWithEmpty();

    assertNull("Expected null for getTextBuffer when buffer is reset with empty", buffer.getTextBuffer());
    assertEquals("", "Expected empty string for contentsAsString when buffer is reset with empty", buffer.contentsAsString());
    assertArrayEquals(new char[0], "Expected empty array for getTextBuffer after contentsAsString", buffer.getTextBuffer());
}