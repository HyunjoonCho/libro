public void testNaNAsBigDecimalThrowsNPE() throws IOException {
    String json = "NaN";
    JsonFactory factory = new JsonFactory();
    factory.configure(JsonParser.Feature.ALLOW_NON_NUMERIC_NUMBERS, true);
    try (JsonParser parser = factory.createParser(json)) {
        assertTrue(parser.nextToken() == JsonToken.VALUE_NUMBER_FLOAT);
        parser.getDecimalValue(); // This should throw NullPointerException
    } catch (NullPointerException e) {
        // Expected behavior
    } catch (Exception e) {
        fail("Expected NullPointerException, but got " + e.getClass().getName());
    }
}