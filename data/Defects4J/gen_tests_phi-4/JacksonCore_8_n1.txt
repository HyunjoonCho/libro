public void testInconsistentTextBufferBehavior() {
    TextBuffer buffer = new TextBuffer(new BufferRecycler());
    buffer.resetWithEmpty();
    
    Object firstCall = buffer.getTextBuffer();
    String contentsAsString = buffer.contentsAsString();
    Object secondCall = buffer.getTextBuffer();

    // Assert that the first call returns null and the second call returns an empty array
    assertNull(firstCall, "Expected getTextBuffer() to return null on first call");
    assertEquals(contentsAsString, "", "Expected contentsAsString() to return an empty string");
    assertTrue(secondCall instanceof Object[], "Expected getTextBuffer() to return an empty array on second call");
    
    // Optionally, check the contents of the array to ensure it's empty
    if (secondCall instanceof Object[]) {
        Object[] array = (Object[]) secondCall;
        assertEquals(array.length, 0, "Expected empty array to have length 0");
    }
}