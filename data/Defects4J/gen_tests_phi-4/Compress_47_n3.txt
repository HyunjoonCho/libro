public void testZipArchiveInputStreamCompressedSizeUnknown() {
    // Mock a ZipArchiveEntry with SIZE_UNKNOWN compressed size
    ZipArchiveEntry entry = mock(ZipArchiveEntry.class);
    when(entry.getCompressedSize()).thenReturn(ZipArchiveEntry.SIZE_UNKNOWN);
    when(entry.getMethod()).thenReturn(ZipMethod.BZIP2.getCode());

    // Mock the input stream
    InputStream in = mock(InputStream.class);

    // Create ZipArchiveInputStream with the mocked entry
    ZipArchiveInputStream zipArchiveInputStream = new ZipArchiveInputStream(in, entry);

    // Attempt to get the next entry, expecting an exception
    Exception exception = assertThrows(IllegalStateException.class, () -> {
        zipArchiveInputStream.getNextZipEntry();
    });

    // Verify the exception message
    assertTrue(exception.getMessage().contains("Compressed size is unknown for entry"));
}