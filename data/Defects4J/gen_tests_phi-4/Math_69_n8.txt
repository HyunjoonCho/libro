public void testCorrelationPValuesPrecision() {
    // Simulate a large t-statistic scenario
    double[] x = new double[1000000];
    double[] y = new double[1000000];
    for (int i = 0; i < x.length; i++) {
        x[i] = i + 1;
        y[i] = i + 1;
    }

    PearsonsCorrelation correlation = new PearsonsCorrelation();
    double[][] pValues = correlation.getCorrelationPValues(x, y);

    // Check if p-values are incorrectly dropping to zero
    for (double pValue : pValues[0]) {
        assertTrue("P-value should not be zero", pValue > 0);
    }

    // Apply the suggested fix
    double[] correctedPValues = new double[1];
    correctedPValues[0] = 2 * tDistribution.cumulativeProbability(-t);