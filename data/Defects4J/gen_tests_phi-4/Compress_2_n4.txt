public void testArDeletion() {
    // Setup a test AR archive file with test1.xml and test2.xml
    File arFile = new File("/tmp/dir26673/bla.ar");
    createArFile(arFile, "test1.xml", "test2.xml");

    // Delete test2.xml from the archive
    ArArchive archive = new ArArchive(arFile);
    archive.delete("test2.xml");

    // Verify that getNextEntry returns only test1.xml
    ArEntry entry = archive.getNextEntry();
    assertNotNull(entry);
    assertEquals("test1.xml", entry.getName());
    entry = archive.getNextEntry();
    assertNull(entry);

    // Check the content of the AR file using command line
    String[] result = executeCommand("ar -t " + arFile.getAbsolutePath());
    assertTrue(Arrays.asList(result).contains("test1.xml"));
    assertFalse(Arrays.asList(result).contains("test2.xml"));

    // Add test.txt to the archive
    archive.add("test.txt", "Test content");

    // Check the AR file again
    result = executeCommand("ar -t " + arFile.getAbsolutePath());
    assertTrue(Arrays.asList(result).contains("test.txt"));
    assertFalse(Arrays.asList(result).contains("test2.xml"));