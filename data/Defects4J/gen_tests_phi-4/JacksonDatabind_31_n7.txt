public void testJsonStreamContextsDifferences() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    String json = "{\"name\":\"John\", \"age\":30, \"city\":\"New York\"}";

    // Simulate the use of convert feature
    JsonNode node = mapper.readTree(json);
    Object converted = mapper.convertValue(node, Object.class);

    // Simulate the use of write method
    StringWriter writer = new StringWriter();
    mapper.writeValue(writer, node);

    // Check that contexts differ
    assertFalse(writer.toString().equals(mapper.writeValueAsString(converted)));
}