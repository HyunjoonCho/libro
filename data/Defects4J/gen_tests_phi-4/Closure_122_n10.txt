public void testNonJSDocCommentHandling() {
    String code = "/* @preserve Foo License */\nalert(\"foo\");";
    String expectedWarning = "stdin:1: WARNING - Parse error. Non-JSDoc comment has annotations. Did you mean to start it with '/\\*\\*'?";

    String actualOutput = runClosureCompiler(code);

    assertTrue(actualOutput.contains(expectedWarning));

    code = "/*! @preserve Foo License */\nalert(\"foo\");";
    actualOutput = runClosureCompiler(code);

    assertFalse(actualOutput.contains(expectedWarning));
    assertFalse(actualOutput.contains("Foo License"));
}

private String runClosureCompiler(String code) {
    // Simulate running the Closure Compiler with the provided code
    // This is a placeholder for actual integration with the compiler
    if (code.startsWith("/* @preserve")) {
        return "stdin:1: WARNING - Parse error. Non-JSDoc comment has annotations. Did you mean to start it with '/\\*\\*'?\n" +
               "/* @license Foo License */\n" +
               "alert(\"foo\");\n" +
               "0 error(s), 1 warning(s)";
    } else if (code.startsWith