public void testNaNAsBigDecimal() {
    ObjectMapper mapper = new ObjectMapper();
    mapper.configure(JsonParser.Feature.ALLOW_NON_NUMERIC_NUMBERS, true);
    
    String json = "NaN";
    try {
        BigDecimal value = mapper.readValue(json, BigDecimal.class);
        fail("Expected NumberFormatException or similar");
    } catch (JsonParseException e) {
        assertTrue(e.getMessage().contains("NaN"));
    } catch (IOException e) {
        fail("Expected JsonParseException, but got " + e.getClass().getName());
    }
}