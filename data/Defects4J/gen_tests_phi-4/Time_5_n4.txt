import org.joda.time.DateTime;
import org.joda.time.Period;
import org.joda.time.PeriodType;
import org.joda.time.field.UnsupportedDurationField;

import static org.junit.Assert.assertThrows;

public void testNonStandardPeriodType() {
    DateTime startDate = new DateTime(2023, 1, 1, 0, 0);
    DateTime endDate = new DateTime(2023, 2, 1, 0, 0);

    UnsupportedDurationField monthField = new UnsupportedDurationField(DurationFieldType.months(), "month");
    UnsupportedDurationField weekField = new UnsupportedDurationField(DurationFieldType.weeks(), "week");

    PeriodType customPeriodType = PeriodType.forFields(monthField, weekField);

    assertThrows(UnsupportedOperationException.class, () -> {
        Period p = new Period(startDate, endDate, customPeriodType)
               .normalizedStandard(customPeriodType);
        p.getMonths();
    });
}