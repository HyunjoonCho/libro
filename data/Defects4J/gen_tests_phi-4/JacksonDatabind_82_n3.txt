public void testJsonIgnorePropertiesAllowSetters() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);

    JsonTest json = new JsonTest("user", "password");
    String jsonString = mapper.writeValueAsString(json);
    assertEquals("{\"username\":\"user\",\"password\":\"password\"}", jsonString);

    jsonString = "{ \"username\":\"username\",\"password\":\"password\" }";
    json = mapper.readValue(jsonString, JsonTest.class);
    assertEquals("password", json.getPassword());
}