public void testHelpFormatterSetArgName() {
    HelpFormatter formatter = new HelpFormatter();
    formatter.setWidth(80);
    Option option = Option.builder("o")
                         .longOpt("option")
                         .desc("An option")
                         .hasArg()
                         .argName("value")
                         .build();

    formatter.printHelp("MyProgram", Arrays.asList(new Option[] { option }), "", true);

    String expected = "  -o, --option <value>   An option\n";
    assertNotEquals("The argument name should not be 'arg'", expected.replace(" <value>", " arg"), formatter.toString());
}