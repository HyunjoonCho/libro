public void testComplexAddHandlesNaN() {
    Complex complexNaN1 = new Complex(Double.NaN, 1.0);
    Complex complexNaN2 = new Complex(2.0, Double.NaN);
    Complex resultNaN1NaN2 = Complex.add(complexNaN1, complexNaN2);
    assertTrue(resultNaN1NaN2.isNaN());

    Complex complexNaN3 = new Complex(Double.NaN, Double.NaN);
    Complex resultNaN3 = Complex.add(complexNaN3, new Complex(1.0, 1.0));
    assertTrue(resultNaN3.isNaN());

    Complex complexNaN4 = new Complex(1.0, Double.NaN);
    Complex resultNaN4 = Complex.add(complexNaN4, new Complex(Double.NaN, 1.0));
    assertTrue(resultNaN4.isNaN());
}