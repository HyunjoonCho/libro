public void testInconsistentTextBufferBehavior() {
    TextBuffer buffer = new TextBuffer(new BufferRecycler());
    buffer.resetWithEmpty();
    
    Object firstCallResult = buffer.getTextBuffer();
    assertEquals("Expected null on first call to getTextBuffer", null, firstCallResult);
    
    String contentsAsStringResult = buffer.contentsAsString();
    assertEquals("Expected empty string from contentsAsString", "", contentsAsStringResult);
    
    Object secondCallResult = buffer.getTextBuffer();
    assertEquals("Expected empty array on second call to getTextBuffer", new char[0], secondCallResult);
}