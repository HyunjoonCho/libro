public void testIncompleteReinitialization() {
    EventTracker tracker = new EventTracker();

    tracker.registerEvent("event1", () -> {
        tracker.resetState();
        // Simulate incomplete reinitialization
        tracker.setState("incomplete");
    });

    tracker.registerEvent("event2", () -> {
        if (!tracker.canHandleEvent("event2")) {
            throw new IllegalStateException("Event2 cannot be handled after Event1");
        }
        // Event2 handling logic
    });

    tracker.handleEvent("event1");
    tracker.handleEvent("event2");
}