public void testJsonGeneratorWriteStringAfterWriteFieldName() throws Exception {
    StringWriter writer = new StringWriter();
    JsonFactory factory = new JsonFactory();
    JsonGenerator generator = factory.createGenerator(writer);
    generator.writeStartObject();
    generator.writeFieldName("field");
    
    try {
        generator.writeString("value");
        fail("Expected JsonException to be thrown");
    } catch (IOException e) {
        assertTrue(e.getCause() instanceof JsonException);
    } finally {
        generator.close();
    }
}