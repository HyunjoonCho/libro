public void testUnwantedPOJOSerialization() throws IOException {
    ObjectMapper mapper = new ObjectMapper();
    mapper.registerModule(new SimpleModule().addSerializer(ListAttribute.class, new ListAttributeSerializer()));

    ListAttribute listAttribute = new ListAttribute();
    listAttribute.sets("test");
    listAttribute.setItems(Arrays.asList("item1", "item2"));

    // Serialize directly to JSON string
    String jsonString = mapper.writeValueAsString(listAttribute);

    // Read the JSON string back into a JsonNode
    JsonNode tree = mapper.readTree(jsonString);

    // Check that the 'items' field is not a VALUE_EMBEDDED_OBJECT
    JsonNode itemsNode = tree.get("items");
    assertNotNull(itemsNode);
    assertEquals(JsonNodeType.ARRAY, itemsNode.getNodeType());
    assertEquals(2, itemsNode.size());
    assertEquals("item1", itemsNode.get(0).asText());
    assertEquals("item2", itemsNode.get(1).asText());
}