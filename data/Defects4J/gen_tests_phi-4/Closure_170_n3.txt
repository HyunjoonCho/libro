public void testOverlyAggressiveCommaRemoval() {
    // Simulate the behavior of the described JavaScript code in Java
    int test(String n) {
        int i = 0;
        if (n!= null) {
            i = n.length();
        } else {
            n = "foo";
        }
        return i;
    }

    String dummy = "6chars";
    assertEquals(6, test(dummy));  // Expected result from the original code

    // Simulate the behavior after aggressive comma removal
    int testAfterRemoval(String n) {
        return 0;  // This is the behavior after the described bug
    }

    assertEquals(0, testAfterRemoval(dummy));  // Result after the bug
}