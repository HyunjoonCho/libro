public void testLastWarningOrErrorTruncated() {
    String expectedOutput = "test.js:2: ERROR - variable bar is undefined\n" +
                            "2 error(s), 0 warning(s)\n";
    
    // Assuming executeCompiler returns the output from the compiler as a String
    String actualOutput = executeCompiler("--warning_level VERBOSE --js test.js");
    
    assertEquals(expectedOutput, actualOutput.substring(actualOutput.lastIndexOf("ERROR")));
}