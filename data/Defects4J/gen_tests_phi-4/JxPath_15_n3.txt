public void testCoreUnionOperationDocumentOrder() {
    Document document = DocumentBuilderFactory.newInstance().newDocumentBuilder().newDocument();
    Element main = document.createElement("MAIN");
    document.appendChild(main);

    Element a = document.createElement("A");
    a.setTextContent("avalue");
    main.appendChild(a);

    Element b = document.createElement("B");
    b.setTextContent("bvalue");
    main.appendChild(b);

    XPathFactory factory = XPathFactory.newInstance();
    XPath xpath = factory.newXPath();

    try {
        String result = (String) xpath.evaluate("string(/MAIN/B | /MAIN/A)", document, XPathConstants.STRING);
        assertEquals("avalue", result);
    } catch (Exception e) {
        fail("XPath evaluation failed: " + e.getMessage());
    }
}