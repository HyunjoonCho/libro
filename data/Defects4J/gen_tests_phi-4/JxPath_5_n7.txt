public void testCannotComparePointersDifferentTree() {
    try {
        XPathFactory xpathFactory = XPathFactory.newInstance();
        XPath xpath = xpathFactory.newXPath();
        xpath.evaluate("$var | /MAIN/A", new XPathFunctionContext() {
            @Override
            public Object resolveVariable(String variableName) throws XPathFunctionException {
                return new NodePointerImpl(new DefaultNodePointer());
            }
        });
        fail("Expected exception was not thrown");
    } catch (XPathExpressionException e) {
        assertTrue(e.getCause() instanceof JXPathException);
        assertEquals("Cannot compare pointers that do not belong to the same tree: '$var' and ''",
                     e.getCause().getMessage());
    }
}

**Note**: The above test assumes the existence of a suitable context for evaluation and the necessary setup for an `XPathFunctionContext`. Adjust the context resolution and exception handling as per your actual environment and framework.