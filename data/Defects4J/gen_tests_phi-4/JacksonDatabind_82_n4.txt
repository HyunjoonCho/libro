public void testJsonIgnorePropertiesAllowSetters() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    mapper.disable(SerializationFeature.FAIL_ON_EMPTY_BEANS);

    JsonTest json = new JsonTest("user", "password");

    String jsonString = mapper.writeValueAsString(json);
    assertEquals("{\"username\":\"user\"}", jsonString); // Serialization test

    jsonString = "{\"username\":\"username\",\"password\":\"password\"}";
    json = mapper.readValue(jsonString, JsonTest.class);

    assertEquals("password", json.getPassword()); // Deserialization test
}