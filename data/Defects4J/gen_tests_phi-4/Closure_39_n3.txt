public void testExternExportTypedefTruncation() {
    @typedef({
        "name": "MyLongTypedef",
        "type": "function",
        "params": [
            {
                "name": "param1",
                "type": "string"
            },
            {
                "name": "param2",
                "type": "object",
                "optional": true,
                "properties": {
                    "prop1": "string",
                    "prop2": "number",
                    "prop3": "boolean",
                    "prop4": "function",
                    "prop5": "object"
                }
            }
        ]
    });

    // Code referencing the typedef above
    var exampleAbove = new MyLongTypedef("example", {prop1: "value", prop2: 1, prop3: true, prop4: function() {}, prop5: {}});

    // Code referencing the typedef below
    var exampleBelow = new MyLongTypedef("example", {prop1: "value"});

    // Expected failure due to truncation in externs
    assertThrows(RuntimeException.class, () -> {
        var result = compileWithClosureCompiler("externs.js");
        assertTrue(result.contains("