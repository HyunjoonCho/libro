public void testIllegalArgumentExceptionWhenExtractingTgz() {
    File tempFile = createCorruptedTgzFile();
    try (TarArchiveInputStream tarIn = new TarArchiveInputStream(
            new GZIPInputStream(
                    new BufferedInputStream(
                            new FileInputStream(tempFile.getAbsolutePath()))))) {
        
        TarArchiveEntry entry = tarIn.getNextTarEntry();
        fail("Expected IllegalArgumentException to be thrown");
    } catch (IllegalArgumentException e) {
        assertTrue(e.getMessage().contains("Invalid byte 0 at offset 5"));
    }
}

private File createCorruptedTgzFile() throws IOException {
    File tempFile = File.createTempFile("corrupted", ".tgz");
    tempFile.deleteOnExit();
    
    try (FileOutputStream fos = new FileOutputStream(tempFile);
         BufferedOutputStream bos = new BufferedOutputStream(fos);
         GZIPOutputStream gzos = new GZIPOutputStream(bos)) {
        
        byte[] corruptedHeader = new byte[]{0x05, 0x41, 0x32, 0, 0x11}; // '05412{NUL}11'
        gzos.write(corruptedHeader);
    }
    return tempFile;
}