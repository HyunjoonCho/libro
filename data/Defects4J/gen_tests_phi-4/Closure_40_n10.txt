public void testSmartNameRemovalCrash() {
    // Simulating the setup in a Java context as closely as possible
    class Goog {
        public static void inherits(Object x, Object y) {}
    }

    class PageSelectionModel {
        public PageSelectionModel() {}

        public static class FooEvent {
            public FooEvent() {}
        }

        public static class SelectEvent {
            public SelectEvent() {}
        }

        public static class ChangeEvent extends FooEvent {
            public ChangeEvent() {}
        }
    }

    try {
        Goog.inherits(PageSelectionModel.ChangeEvent.class, PageSelectionModel.FooEvent.class);
        // Expecting an exception due to the logic in smartNameRemoval
        fail("Expected IllegalStateException");
    } catch (IllegalStateException e) {
        // Expected exception
    }
}