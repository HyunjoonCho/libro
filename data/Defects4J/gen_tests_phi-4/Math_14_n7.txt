public void testLargeNumberOfWeights() {
    int numberOfWeights = 41200;
    double[] weights = new double[numberOfWeights];
    for (int i = 0; i < numberOfWeights; i++) {
        weights[i] = 1.0; // Assign some default weight
    }

    // Assuming there is a curve fitting method that takes weights and points
    // Replace `CurveFitter` and `fit` with actual class/method names
    CurveFitter fitter = new CurveFitter();
    double[][] points = generateLargeDataset(numberOfWeights); // Assume this generates a dataset with the same number of points
    try {
        fitter.fit(points, weights);
        fail("Expected an OutOfMemoryError due to large matrix creation.");
    } catch (OutOfMemoryError e) {
        // Expected behavior
    }
}

private double[][] generateLargeDataset(int numberOfPoints) {
    double[][] dataset = new double[numberOfPoints][2]; // Assuming 2D points
    for (int i = 0; i < numberOfPoints; i++) {
        dataset[i][0] = i;
        dataset[i][1] = Math.sin(i); // Example data
    }
    return