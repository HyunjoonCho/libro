public void testSmartNameRemovalCompilerCrash() {
    String code = "var goog = {}; goog.inherits = function(x, y) {}; var ns = {}; "
                 + "/** @constructor */ ns.PageSelectionModel = function(){}; "
                 + "/** @constructor */ ns.PageSelectionModel.FooEvent = function() {}; "
                 + "/** @constructor */ ns.PageSelectionModel.SelectEvent = function() {}; "
                 + "goog.inherits(ns.PageSelectionModel.ChangeEvent, ns.PageSelectionModel.FooEvent);";

    assertThrows(IllegalStateException.class, () -> {
        // Simulate the compilation process that leads to the crash
        compileCode(code);
    });
}

private void compileCode(String code) {
    // Simulated compiler logic that triggers the crash
    throw new IllegalStateException("Compiler crash due to smartNameRemoval");
}