import org.junit.Assert;
import org.junit.Test;
import org.mozilla.javascript.Context;
import org.mozilla.javascript.Function;
import org.mozilla.javascript.Scriptable;
import org.mozilla.javascript.ScriptableObject;

public class JSCWarningTest {

    @Test
    public void testJSCUsedGlobalThisWarning() {
        Context cx = Context.enter();
        Scriptable scope = cx.initStandardObjects();

        try {
            String script = 
                "var NS = {" +
                "  read: function() { return this.foo; }, " +
                "  write: function() { this.foo = 123; }" +
                "};" +
                "NS.write2 = function() { this.foo = 123; };";

            cx.evaluateString(scope, script, "JSCWarningTest", 1, null