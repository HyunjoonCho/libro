import org.junit.Before;
import org.junit.Test;
import org.junit.After;
import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertNotEquals;
import java.text.DateFormat;
import java.util.Locale;

public void testFastDateFormatLocaleChange() {
    Locale defaultLocale = Locale.getDefault();
    Locale newLocale = Locale.FRENCH;

    // Create a date format with null locale
    DateFormat dateFormat = org.apache.commons.lang3.time.FastDateFormat.getDateInstance(DateFormat.SHORT, null);
    String formattedDate1 = dateFormat.format(java.util.Calendar.getInstance().getTime());

    // Change the default locale
    Locale.setDefault(newLocale);

    // Format the date again
    String formattedDate2 = dateFormat.format(java.util.Calendar.getInstance().getTime());

    // Assert that the formatted dates are different due to the locale change
    assertNotEquals(formattedDate1, formattedDate2);

    // Revert to the original default locale
    Locale.setDefault(defaultLocale);

    // Format the date again
    String formattedDate3 = dateFormat.format(java.util.Calendar.getInstance().getTime());

    // Assert that the new formatted date is different from the initial one, but the same as the second one
    assertNotEquals(formattedDate1, formattedDate3);
    assertEquals