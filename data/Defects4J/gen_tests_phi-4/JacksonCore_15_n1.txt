public void testAllowMultipleMatches() {
    FilteringGeneratorDelegate delegate = new FilteringGeneratorDelegate(new DefaultGeneratorDelegate());
    delegate.setConfig(new SimpleBeanPropertyFilter() {
        @Override
        public void serializeAsField(Object pojo, JsonGenerator jgen, SerializerProvider provider, PropertyFilter propertyFilter) throws Exception {
            jgen.writeStartObject();
            jgen.writeStringField("name", "value");
            jgen.writeStringField("name", "anotherValue");
            jgen.writeEndObject();
        }
    });
    delegate.setFilterId("testFilter");
    delegate._allowMultipleMatches = true;

    ObjectMapper mapper = new ObjectMapper();
    mapper.setDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);
    
    String json = mapper.writeValueAsString(delegate);
    assertTrue(json.contains("name"));
    assertTrue(json.contains("anotherValue"));
}