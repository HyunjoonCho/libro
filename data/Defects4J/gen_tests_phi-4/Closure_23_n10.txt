public void testTryFoldArrayAccess() {
    // Mock a logging system
    class MockConsole {
        boolean helloLogged = false;

        void log(String message) {
            if (message.equals("hello, ")) {
                helloLogged = true;
            }
        }
    }

    MockConsole console = new MockConsole();

    // Simulate the problematic transformation
    String[] array = {()-> console.log("hello, "), "world!"};
    String result = (String) array[1];

    // Assert that the side effect has occurred
    assert console.helloLogged : "Expected 'hello,'to be logged as a side effect.";
    assertEquals("world!", result);
}