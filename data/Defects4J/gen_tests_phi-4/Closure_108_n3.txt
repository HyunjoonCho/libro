public void testPreconditionCrashWithAliasedTypeDeclaration() {
    var goog = new Object();
    goog.scope = (Function) (Runnable) () -> {
        var sub = new Object();
        sub.C = new Object() {
            public sub.C() {}
        };

        var x = null; // @type {sub.C}

        throw new IllegalStateException("Expected precondition crash");
    };

    try {
        goog.scope.run();
        fail("Expected IllegalStateException");
    } catch (IllegalStateException e) {
        // Expected exception
    }
}