public void testArgumentCaptorVarargs() {
    // Mock a method that accepts varargs
    List<String> mockList = mock(List.class);
    when(mockList.addAll((String...) anyVararg())).thenReturn(true);

    // Call the method with varargs
    mockList.addAll("one", "two", "three");

    // Capture the varargs
    ArgumentCaptor<String[]> captor = ArgumentCaptor.forClass(String[].class);
    verify(mockList).addAll(captor.capture());
    
    // Check the captured varargs
    String[] capturedValues = captor.getValue();
    assertEquals(3, capturedValues.length);
    assertArrayEquals(new String[]{"one", "two", "three"}, capturedValues);
}