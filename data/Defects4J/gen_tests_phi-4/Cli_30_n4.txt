public void testDefaultOptionsOptionGroups() {
    Options options = new Options();
    OptionGroup group = new OptionGroup();
    Option optA = Option.builder("a").desc("Option A").build();
    Option optB = Option.builder("b").desc("Option B").build();
    group.addOption(optA).addOption(optB).setRequired(true).setMutuallyExclusive(true);
    options.addOptionGroup(group);

    CommandLineParser parser = new DefaultParser();
    Properties defaults = new Properties();
    defaults.setProperty("b", "true");

    try {
        CommandLine cmd = parser.parse(options, new String[] {"--a"}, defaults);
        assertTrue(cmd.hasOption("a"));
        assertTrue(cmd.hasOption("b"));
    } catch (ParseException e) {
        fail("Expected no ParseException: " + e.getMessage());
    }
}