public void testBase64InputStreamReadBug() {
    String base64String = "SGVsbG8gV29ybGQ=";
    byte[] bytes = base64String.getBytes(StandardCharsets.UTF_8);
    ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(bytes);
    Base64InputStream base64InputStream = new Base64InputStream(byteArrayInputStream, true);

    byte[] buffer = new byte[3];
    int result = base64InputStream.read(buffer);

    assertEquals(3, result); // Expecting to read 3 bytes, not 0
    assertArrayEquals(new byte[]{'H', 'e', 'l'}, buffer);
}