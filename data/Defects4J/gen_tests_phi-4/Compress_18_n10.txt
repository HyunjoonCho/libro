public void testLongDirectoryNameInTarArchive() {
    String longDirectoryName = "./PaxHeaders.X/layers/openstreetmap__osm.disy.net/.tiles/1.0.0/openstreetmap__osm.disy.net/default/";
    TarArchiveOutputStream output = new TarArchiveOutputStream(new ByteArrayOutputStream());

    try {
        output.putArchiveEntry(new TarArchiveEntry(longDirectoryName));
        output.closeArchiveEntry();
        output.close();
    } catch (IOException e) {
        assertEquals("request to write '114' bytes exceeds size in header of '0' bytes for entry '" + longDirectoryName + "'",
                     e.getMessage());
    }
}