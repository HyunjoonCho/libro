public void testClassCastExceptionDuringTypeCheck() {
    // Setup the environment to simulate the scenario
    RecordType recordType = new RecordType("ExampleRecord");
    NamedType namedType = new NamedType();
    namedType.setType(recordType);

    // Simulate a ProxyObjectType referencing the RecordType through a NamedType
    ProxyObjectType proxyType = new ProxyObjectType();
    proxyType.setReference(namedType);

    // Attempt to perform the type check
    try {
        proxyType.performTypeCheck();
        fail("Expected ClassCastException to be thrown");
    } catch (ClassCastException e) {
        // Verify that the exception is due to the expected cause
        assertTrue(e.getMessage().contains("Cannot cast"));
    }
}