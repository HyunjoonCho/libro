public void testHelpFormatterOptionComparator() {
    OptionGroup group = new OptionGroup();
    Option h = Option.builder("h").build();
    Option s = Option.builder("s").build();
    Option b = Option.builder("b").build();
    Option t = Option.builder("t").build();
    group.addOption(h)
        .addOption(s)
        .addOption(b)
        .addOption(t);
    Options options = new Options();
    options.addOptionGroup(group);
    options.addOption(Option.builder("o").build());
    
    StringBuilder output = new StringBuilder();
    PrintStream originalOut = System.out;
    System.setOut(new PrintStream(new ByteArrayOutputStream()));
    
    HelpFormatter formatter = new HelpFormatter();
    formatter.setOptionComparator(null);
    formatter.printHelp("cmd", "", options, null);
    
    String result = ((ByteArrayOutputStream) System.out.toString()).toString();
    System.setOut(originalOut);
    
    assertTrue(result.contains("  -h"));
    assertTrue(result.contains("  -s"));
    assertTrue(result.contains("  -b"));
    assertTrue(result.contains("  -t"));
    // Check that the order is not guaranteed by asserting that "h" comes before "s", "s" before "b