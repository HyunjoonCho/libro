public void testCustomDeserializerFailure() throws IOException {
    ObjectMapper mapper = new ObjectMapper();
    SimpleModule module = new SimpleModule();
    module.addDeserializer(DataA.class, new DataADeserializer());
    mapper.registerModule(module);

    DataB db = new DataB();
    String jsonBString = mapper.writeValueAsString(db);

    // create parent
    DataB dbNewViaString = mapper.readValue(jsonBString, DataB.class);

    // update parent
    DataB dbUpdViaNode = new DataB();
    mapper.readerForUpdating(dbUpdViaNode).readValue(mapper.valueToTree(db));
}