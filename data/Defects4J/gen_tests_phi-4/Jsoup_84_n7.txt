public void testW3CDomHelperNamespaceIssue() {
    // Setup Jsoup document with missing namespace declaration
    String html = "<html><head></head><body><fb:like href='http://example.com'></fb:like></body></html>";
    Document jsoupDocument = Jsoup.parse(html);

    // Convert to W3C DOM Document using W3CDom helper
    Document w3cDocument;
    try {
        w3cDocument = Jsoup.parseBodyFragment(html).outputSettings().syntax(Document.OutputSettings.Syntax.xml);
        w3cDocument = Jsoup.parse(w3cDocument.outerHtml(), "", org.jsoup.parser.Parser.xmlParser());
        w3cDocument.outputSettings().syntax(Document.OutputSettings.Syntax.xml);
        w3cDocument = Jsoup.parse(w3cDocument.outerHtml(), "", org.jsoup.parser.Parser.xmlParser());
        w3cDocument = (Document) org.jsoup.nodes.DocumentHelper.convertJsoupDocumentToW3cDom(jsoupDocument);
    } catch (DOMException e) {
        assertEquals("NAMESPACE_ERR: An attempt is made to create or change an object in a way which is incorrect with regard to namespaces.", e.getMessage());
        return;
    }

    // If no exception