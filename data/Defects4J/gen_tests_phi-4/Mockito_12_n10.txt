public void testArgumentCaptorVarargs() {
    List<String> list = mock(List.class);
    when(list.add("one", "two", "three")).thenReturn(true);

    list.add("one", "two", "three");

    ArgumentCaptor<String[]> captor = ArgumentCaptor.forClass(String[].class);
    verify(list).add(captor.capture());
    assertArrayEquals(new String[]{"one", "two", "three"}, captor.getValue());
}