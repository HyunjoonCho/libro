import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.annotation.JsonDeserialize;
import com.fasterxml.jackson.databind.annotation.JsonPOJOBuilder;
import com.fasterxml.jackson.databind.annotation.JsonCreator;
import com.fasterxml.jackson.databind.annotation.JsonUnwrapped;
import com.fasterxml.jackson.annotation.JsonProperty;
import org.junit.jupiter.api.Test;

import static org.junit.jupiter.api.Assertions.assertEquals;

public class EmployeeDeserializationTest {

    @Test
    public void testConstructorPropertyAtEnd() throws Exception {
        String json = "{\n" +
                "    \"emp_age\": 30,\n" +
                "    \"emp_first_name\": \"John\",\n" +
                "    \"emp_last_name\": \"Doe\",\n" +
                "    \"emp_id\": 1234\n" +
                "}";

        ObjectMapper objectMapper = new ObjectMapper();
        Employee emp = objectMapper.readValue(json, Employee.class);

        assertEquals(30, emp.getAge());
        assertEquals(1234, emp.getId());
        assertEquals("John", emp.getName().getFirst());
        assertEquals("Doe", emp.getName().getLast());
    }

    @Test
    public void testConstructorPropertyAtStart() throws Exception {
        String json = "{\n" +
                "    \"emp_id\": 123