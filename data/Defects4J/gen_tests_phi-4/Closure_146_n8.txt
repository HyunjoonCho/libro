public void testBadTypeInference() {
    // Simulating the behavior of the functions g and f in Java
    // as described in the bug report.

    // Define a function g that expects a String
    java.util.function.Consumer<String> g = (String x) -> {
        // Function body can be empty as we are just testing type inference
    };

    // Define a function f that takes an object and checks if it's not null
    java.util.function.Consumer<Object> f = (Object x) -> {
        if (x!= null) {
            g.accept((String) x); // Explicit cast to String
        }
    };

    // Test with null, which simulates 'undefined' in JavaScript
    // We expect this to not call g, and not throw an exception
    f.accept(null);
}