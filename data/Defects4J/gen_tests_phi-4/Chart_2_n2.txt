public void testIssue959() {
    CategoryDataset dataset = createSampleDataset();
    ValueAxis domainAxis = new NumberAxis("Domain Axis");
    ValueAxis rangeAxis = new NumberAxis("Range Axis");

    CategoryPlot plot = new CategoryPlot(dataset, domainAxis, rangeAxis, null);
    XYPlot xyPlot = new XYPlot(new DefaultXYDataset(), new NumberAxis("X"), new NumberAxis("Y"), null);

    List<Range> expectedRanges = new ArrayList<>();
    expectedRanges.add(new Range(0.0, 10.0));
    expectedRanges.add(new Range(10.0, 20.0));

    List<Range> actualRanges = new ArrayList<>();
    DatasetUtilities.iterateRangeBounds(new DatasetUtilities.RangeIterator(dataset, rangeAxis), 
                                        new DatasetUtilities.RangeBoundsConsumer() {
        @Override
        public void accept(Range range) {
            actualRanges.add(range);
        }
    });

    assertEquals(expectedRanges, actualRanges);
}

private CategoryDataset createSampleDataset