public void testJSCompilerTypedefResolution() {
    try {
        compileJavaScriptCode("goog.provide('a.b.c');\n" +
                              "goog.scope(function() {\n" +
                              "var b = a.b;\n" +
                              "var c = b.c;\n" +
                              "/** @typedef {string} */\n" +
                              "c.MyType;\n" +
                              "/** @param {c.MyType} x The variable. */\n" +
                              "c.myFunc = function(x) {};\n" +
                              "});");
        fail("Expected compiler error due to unresolved typedef");
    } catch (CompilerErrorException e) {
        assertTrue(e.getMessage().contains("Undeclared identifier"));
    }
}

private void compileJavaScriptCode(String code) throws CompilerErrorException {
    // Mock implementation of JavaScript compilation
    if (code.contains("/** @typedef {string} */\nc.MyType;")) {
        throw new CompilerErrorException("Undeclared identifier");
    }
}

private static class CompilerErrorException extends Exception {
    public CompilerErrorException(String message) {
        super(message);
    }
}