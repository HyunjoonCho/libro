public void testParsingPaxHeadersWithNegativeArraySizeException() throws IOException {
    // Simulate a TAR input stream with Pax headers ending with an empty line
    String paxHeaders = "paxformat=1.0\n"
                       + "path=example.txt\n"
                       + "\n"; // Empty line at the end
    ByteArrayInputStream bais = new ByteArrayInputStream(paxHeaders.getBytes(StandardCharsets.UTF_8));
    TarArchiveInputStream tarInputStream = new TarArchiveInputStream(new GzipCompressingInputStream(bais));

    try {
        tarInputStream.parsePaxHeaders();
        fail("Expected NegativeArraySizeException to be thrown");
    } catch (NegativeArraySizeException e) {
        // Expected exception
    }
}