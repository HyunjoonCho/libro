public void testUnadornedTextFollowingDataOnlyTags() {
    String html = "<html>\n" +
                  "  <body>\n" +
                  "    <script type=\"text/javascript\">\n" +
                  "      var inside = true;\n" +
                  "    </script>\n" +
                  "    this should be outside.\n" +
                  "  </body>\n" +
                  "</html>";

    String expected = "<html>\n" +
                      "  <head>\n" +
                      "  </head>\n" +
                      "  <body>\n" +
                      "    <script type=\"text/javascript\">\n" +
                      "      var inside = true;\n" +
                      "    </script>\n" +
                      "    this should be outside.\n" +
                      "  </body>\n" +
                      "</html>";

    String result = parseAndPrint(html);

    assertEquals(expected, result);
}

private String parseAndPrint(String html) {
    // Simulate the parsing logic that causes the bug
    // This is a placeholder for the actual parsing logic
    String[] lines = html.split("\n");
    StringBuilder sb = new StringBuilder();
    boolean inside