public void testNegativeValueWithRestrictNonNegative() {
    RealVector variable1 = new ArrayRealVector(new double[]{1.0, 1.0, 0.0}, false);
    RealVector variable2 = new ArrayRealVector(new double[]{1.0, 0.0}, false);
    RealMatrix coefficients = new Array2DRowRealMatrix(new double[][]{
        {1.0, 1.0, 0.0},
        {1.0, 0.0, 0.0}
    }, false);
    RealVector constantTerms = new ArrayRealVector(new double[]{1.0, 1.0}, false);

    RealVectorSolution solution = new SimplexSolver().optimize(
        new ObjectiveFunction(variable1),
        new LinearConstraint(coefficients, Relationship.EQ, constantTerms),
        GoalType.MINIMIZE,
        true
    );

    assertEquals(1.0, solution.getPrimalSolution()[0], 1e-10);
    assertEquals(-1.0, solution.getPrimalSolution()[1], 1e-10);
}