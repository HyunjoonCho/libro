public void testNegativeArraySizeExceptionInPaxHeaders() throws IOException {
    byte[] tarballWithEmptyLineAtEnd = {/* byte array representing tarball with empty line at end of headers */};
    ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(tarballWithEmptyLineAtEnd);
    TarArchiveInputStream tarArchiveInputStream = new TarArchiveInputStream(new GzipCompressorInputStream(byteArrayInputStream));
    
    try {
        tarArchiveInputStream.parsePaxHeaders();
        fail("Expected a NegativeArraySizeException due to empty line at end of headers.");
    } catch (NegativeArraySizeException e) {
        // Expected exception
    }
}