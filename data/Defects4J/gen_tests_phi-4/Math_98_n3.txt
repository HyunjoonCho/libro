public void testRealMatrixImplOperate() {
    RealMatrix matrix = new RealMatrix(new double[][] {
        {1, 2, 3},
        {4, 5, 6}
    });
    RealVector vector = new ArrayRealVector(new double[]{7, 8, 9});

    // This should result in a vector of length 2, not 3
    RealVector result = matrix.operate(vector);

    assertEquals(2, result.getDimension());
    assertEquals(50.0, result.getEntry(0), 1e-10); // 1*7 + 2*8 + 3*9
    assertEquals(122.0, result.getEntry(1), 1e-10); // 4*7 + 5*8 + 6*9
}