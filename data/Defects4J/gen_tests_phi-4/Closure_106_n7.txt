public void testCollapsePropertiesException() {
    String jsContent = "var obj = {a: 1}; window['obj'] = obj; goog.exportSymbol('obj', obj);";
    
    Compiler compiler = new Compiler();
    CompilerOptions options = new CompilerOptions();
    options.setCompilationLevel(CompilerOptions.OptimizationLevel.ADVANCED_OPTIMIZATIONS);
    
    try {
        compiler.compile(jsContent, options);
        fail("Expected IllegalArgumentException to be thrown");
    } catch (IllegalArgumentException e) {
        // Expected exception
    } catch (Exception e) {
        fail("Unexpected exception: " + e.getMessage());
    }
}