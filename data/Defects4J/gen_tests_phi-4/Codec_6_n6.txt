public void testBase64InputStreamReadBug() throws IOException {
    String input = "any"; // 3 bytes, valid Base64
    byte[] inputBytes = input.getBytes(StandardCharsets.UTF_8);
    ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(inputBytes);
    Base64InputStream base64InputStream = new Base64InputStream(byteArrayInputStream, true);
    byte[] buffer = new byte[4]; // Buffer larger than needed for 3-byte input
    int bytesRead = base64InputStream.read(buffer);
    assertEquals(3, bytesRead); // Should read 3 bytes and not return 0
    base64InputStream.close();
}