public void testGroupConstraints() {
    Options options = new Options();
    Option optionA = new Option("A", "alpha", false, "Alpha option");
    Option optionB = new Option("B", "beta", false, "Beta option");

    OptionGroup groupA = new OptionGroup();
    groupA.addOption(optionA);

    OptionGroup groupB = new OptionGroup();
    groupB.addOption(optionB);
    groupB.setRequired(true);
    groupB.setMinimumNumberOfArgs(1);

    options.addOptionGroup(groupA);
    options.addOptionGroup(groupB);

    CommandLineParser parser = new DefaultParser();
    String[] args = {"-B"};
    CommandLine cmd = parser.parse(options, args);

    assertTrue(cmd.hasOption("B"));
    assertFalse(cmd.hasOption("A"));

    try {
        parser.parse(options, new String[]{});
        fail("Expected MissingOptionException for missing option in group B");
    } catch (ParseException e) {
        assertTrue(e.getMessage().contains("Missing option for group: beta"));
    }
}