public void testBase64InputStreamEndOfStream() throws IOException {
    byte[] input = "Man".getBytes("ISO-8859-1"); // "Man" is 3 bytes in Base64
    ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(input);
    Base64InputStream base64InputStream = new Base64InputStream(byteArrayInputStream, true);
    
    byte[] buffer = new byte[10];
    int read = base64InputStream.read(buffer);
    
    assertEquals(3, read); // Should read 3 bytes, not 0
    assertTrue(base64InputStream.read(buffer) == -1); // Should indicate end of stream
}