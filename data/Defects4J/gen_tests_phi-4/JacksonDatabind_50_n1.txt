public void testJsonIdentityInfoDeserialization() throws Exception {
    ObjectMapper mapper = new ObjectMapper();
    String json = """
    {
      "name": "object1",
      "related": {
        "$id": "1",
        "name": "relatedObject",
        "details": {
          "id": "1",
          "info": "This is object1"
        }
      }
    }
    """;

    ClassWithIdentityInfo result = mapper.readValue(json, ClassWithIdentityInfo.class);

    assertEquals("object1", result.getName());
    assertNotNull(result.getRelated());
    assertEquals("relatedObject", result.getRelated().getName());
    assertNotNull(result.getRelated().getDetails());
    assertEquals("This is object1", result.getRelated().getDetails().getInfo());
}

// Supporting classes
class ClassWithIdentityInfo {
    private String name;
    private RelatedObject related;

    @JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = "id")
    public static class RelatedObject {
        @JsonProperty("id")
        private String id;
        private String name;
        private Details details;

        @JsonCreator
        public RelatedObject(@JsonProperty("id") String id, @JsonProperty("name") String name, @JsonProperty("