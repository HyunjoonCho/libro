public void testDuplicateHeaderEntries() {
    try {
        CSVFormat format = CSVFormat.DEFAULT.withHeader("A", "B", "A");
        fail("Expected IllegalArgumentException due to duplicate header entry 'A'");
    } catch (IllegalArgumentException e) {
        assertEquals("Header contains duplicate entries: 'A'", e.getMessage());
    }
}