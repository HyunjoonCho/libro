import org.junit.Test;
import org.mozilla.javascript.Context;
import org.mozilla.javascript.Scriptable;
import org.mozilla.javascript.tools.shell.Global;

import static org.junit.Assert.fail;

public class JavaScriptTypeCheckerTest {

    @Test
    public void testInvalidPropertyInForLoop() {
        Context context = Context.enter();
        try {
            Scriptable scope = context.initStandardObjects();

            // Define the externs and the problematic JavaScript code
            String externs = 
                "var ns = {};" +
                "ns.Thing = function() {};" +
                "ns.Thing.prototype.subthing = function() {};" +
                "ns.MyClass = function(thing) {};" +
                "ns.MyClass.prototype.doIt = function() {};";

            String script = 
                externs +
                "ns.Thing = function() {};" +
                "ns.Thing.prototype.sub