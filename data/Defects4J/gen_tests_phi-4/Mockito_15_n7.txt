public void testArgumentCaptorVarargs() {
    MyService myService = mock(MyService.class);
    List<String> list = Arrays.asList("a", "b", "c");
    
    myService.myVarargsMethod(list.toArray(new String[0]));
    
    ArgumentCaptor<String[]> captor = ArgumentCaptor.forClass(String[].class);
    verify(myService).myVarargsMethod(captor.capture());
    
    String[] captured = captor.getValue();
    assertArrayEquals(new String[]{"a", "b", "c"}, captured);
}