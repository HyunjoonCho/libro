public void testVarArgsTypeCheck() {
    assertEquals(1, foo('hello'));
    try {
        foo(123);
        fail("Expected warning for non-string argument");
    } catch (IllegalArgumentException e) {
        // Expected exception for type mismatch
    }
    try {
        foo('hello', 123);
        fail("Expected warning for trailing non-string argument");
    } catch (IllegalArgumentException e) {
        // Expected exception for type mismatch in trailing argument
    }
}

private int foo(Object... var_args) {
    for (Object arg : var_args) {
        if (!(arg instanceof String)) {
            throw new IllegalArgumentException("Expected string argument");
        }
    }
    return var_args.length;
}