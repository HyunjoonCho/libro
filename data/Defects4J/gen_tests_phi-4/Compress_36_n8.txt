public void testReadOnEmptySevenZArchiveEntry() throws IOException {
    SevenZFile sevenZFile = new SevenZFile(new FileInputStream("empty.7z"));
    SevenZArchiveEntry entry = sevenZFile.getNextEntry();
    assertTrue(entry.getSize() == 0);
    try {
        sevenZFile.read(new byte[1], 0, 1);
        fail("Expected IllegalStateException");
    } catch (IllegalStateException e) {
        assertEquals("No current 7z entry (call getNextEntry() first).", e.getMessage());
    }
}