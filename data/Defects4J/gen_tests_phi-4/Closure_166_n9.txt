public void testAnonymousObjectTypeInference() {
    // Simulating the JavaScript behavior in Java
    Object record = new Object() {{
        public String prop = "a";
    }};

    // Simulating func2 behavior
    if (record instanceof String) {
        System.out.println(record);
    } else {
        try {
            Object prop = record.getClass().getField("prop").get(record);
            System.out.println(prop);
        } catch (Exception e) {
            throw new AssertionError("Failed to access 'prop' field", e);
        }
    }
}