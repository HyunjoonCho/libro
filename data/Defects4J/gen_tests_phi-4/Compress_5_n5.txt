public void testTruncatedZipArchiveInputStream() throws IOException {
    // Mock a truncated zip archive input stream
    InputStream inputStream = new ByteArrayInputStream(new byte[1024]); // Simulate truncated file
    ZipArchiveInputStream zipInputStream = new ZipArchiveInputStream(inputStream);

    byte[] buffer = new byte[1024];
    int bytesRead = 0;
    while ((bytesRead = zipInputStream.read(buffer))!= -1) {
        // We expect this loop to not terminate normally
    }

    // Check that an IOException is thrown for a truncated file
    try {
        zipInputStream.read(buffer);
        fail("Expected IOException for truncated file");
    } catch (IOException e) {
        assertEquals("Truncated ZIP file", e.getMessage());
    }
}