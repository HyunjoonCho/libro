public void testNullHandlingInconsistency() {
    Map<String, Integer> m = new HashMap<String, Integer>();
    m.put("a", 1);
    m.put("b", null);
    m.put("c", 1);
    JXPathContext c = JXPathContext.newContext(m);

    assertFalse((Boolean) c.getValue("a!= b")); // should be true
    assertFalse((Boolean) c.getValue("a!= c")); // should be false
    assertFalse((Boolean) c.getValue("a = b"));  // should be false
    assertTrue((Boolean) c.getValue("a = c"));   // should be true
    assertTrue((Boolean) c.getValue("not(a = b)")); // should be true
    assertFalse((Boolean) c.getValue("not(a = c)")); // should be false
}