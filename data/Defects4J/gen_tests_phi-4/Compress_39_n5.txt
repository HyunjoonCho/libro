public void testDefectiveZipArchive() throws IOException {
    File defectiveZip = createDefectiveZipFile();
    try (ZipInputStream zipInputStream = new ZipInputStream(new FileInputStream(defectiveZip))) {
        zipInputStream.getNextEntry();
        fail("Expected EOFException was not thrown");
    } catch (EOFException e) {
        // Test passes if EOFException is caught
        // Optionally verify that the exception contains the unexpected byte[] data
        assertTrue(e.getMessage().contains("has more data than expected"));
    }
}

private File createDefectiveZipFile() throws IOException {
    File tempFile = File.createTempFile("defective", ".zip");
    tempFile.deleteOnExit();
    try (FileOutputStream fos = new FileOutputStream(tempFile);
         ZipOutputStream zos = new ZipOutputStream(fos)) {
        ZipEntry entry = new ZipEntry("test.txt");
        zos.putNextEntry(entry);
        zos.write("Hello".getBytes());
        // Do not close the entry to simulate a truncated.zip file
    }
    return tempFile;
}