public void testMockitoRuleCompatibility() {
    ExternalResource externalResource = new ExternalResource() {
        @Override
        protected void before() throws Throwable {
            MockitoAnnotations.initMocks(this);
        }
    };

    @Rule
    public TestRule rule = RuleChain.outerRule(externalResource);

    MyService myService = mock(MyService.class);
    when(myService.performAction()).thenReturn("expected result");

    assertEquals("expected result", myService.performAction());
}