public void testLongDirectoryNameInTarArchive() {
    // Assuming TarUtilities is the class where the tar logic is implemented.
    // The test will attempt to add a long directory name to a TAR archive
    // and expect an IOException to be thrown as per the bug report.

    // Create a directory with a name longer than 100 bytes
    File longDirectoryName = new File("this_directory_has_a_name_longer_than_100_bytes_to_cause_the_issue_in_the_tar_implementation");

    // Create the TAR archive object
    TarArchiveOutputStream tarOutputStream = new TarArchiveOutputStream(new FileOutputStream("test.tar"));

    try {
        // Attempt to add the directory to the TAR archive
        TarUtilities.addDirectory(tarOutputStream, longDirectoryName);
        fail("Expected IOException to be thrown due to long directory name.");
    } catch (IOException e) {
        // Verify the exception message matches the expected one
        assertTrue(e.getMessage().contains("request to write '"));
    } finally {
        // Close the TAR output stream
        try {
            tarOutputStream.close();
        } catch (IOException ignored) {
        }
    }
}

This test method sets up a scenario that should trigger the described bug by attempting to add a directory with