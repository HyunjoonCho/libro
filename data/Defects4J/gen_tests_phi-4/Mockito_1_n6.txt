public void testArgumentCaptorVarargs() {
    List<String> mockedList = mock(List.class);
    when(mockedList.size()).thenReturn(2);

    String[] elements = {"one", "two"};

    // Add one element
    mockedList.add("one");

    // Pass varargs to method
    mockedList.addAll(elements);

    // Verify one element is added
    verify(mockedList).add("one");

    // Capture the argument of addAll method using ArgumentCaptor
    ArgumentCaptor<String[]> varargsCaptor = ArgumentCaptor.forClass(String[].class);
    verify(mockedList).addAll(varargsCaptor.capture());

    // Assert the captured argument matches the expected varargs
    String[] capturedArgs = varargsCaptor.getValue();
    assertArrayEquals(new String[]{"one", "two"}, capturedArgs);
}