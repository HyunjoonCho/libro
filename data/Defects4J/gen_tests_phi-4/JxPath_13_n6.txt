public void testUndefinedNamespaceHandling() {
    try {
        // Assuming there's a method to parse the XML and register namespaces
        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
        factory.setNamespaceAware(true);
        DocumentBuilder builder = factory.newDocumentBuilder();
        Document doc = builder.parse(new InputSource(new StringReader(
            "<ElementA xmlns:A=\"http://example.com/A\" A:myAttr=\"Mytype\">" +
            " <ElementB xmlns:B=\"http://example.com/B\">MY VALUE</ElementB>" +
            "</ElementA>"
        )));

        // Simulate the registration of namespaces
        // Assuming there's a method to register namespaces
        registerNamespace("A", "http://example.com/A");
        registerNamespace("B", "http://example.com/B");

        // Access an attribute to trigger the exception
        Node elementA = doc.getElementsByTagName("ElementA").item(0);
        NamedNodeMap attributes = elementA.getAttributes();
        attributes.getNamedItemNS("http://example.com/A", "myAttr");

        fail("Expected exception not thrown");
    } catch (Exception e) {
        assertTrue(e.getMessage().contains("unknown namespace prefix: A"));
    }
}