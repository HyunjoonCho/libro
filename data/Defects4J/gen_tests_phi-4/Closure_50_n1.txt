public void testArrayJoinOptimization() {
    String[] array = {"constant", "userInput"};
    String result = String.join(",", array);
    assertEquals("constant,userInput", result);

    // Simulate the optimization scenario
    String optimizedResult = String.join("", array);
    assertEquals("constantuserInput", optimizedResult);

    // To reproduce the issue, ensure the join method used is the default one
    // that includes the separator, as intended by the user.
    String expectedOutput = "constant,userInput";
    assertEquals(expectedOutput, result);
}