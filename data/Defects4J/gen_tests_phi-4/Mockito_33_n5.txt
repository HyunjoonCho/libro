public void testArgumentCaptorWithTypeChecking() {
    ArgumentCaptor<Consumer<String>> captor = ArgumentCaptor.forClass(Consumer.class);
    // The following line should compile without errors if the type checking is correct
    Consumer<String> consumer = captor.getValue();
}